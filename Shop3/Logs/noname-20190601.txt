2019-06-01T00:03:56.1236571+07:00 0HLN5T2E33NB4:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T00:03:56.1275586+07:00 0HLN5T2E33NB4:00000015 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T00:03:56.1583414+07:00 0HLN5T2E33NB4:00000015 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T00:03:56.1703123+07:00 0HLN5T2E33NB4:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T00:03:56.1750950+07:00 0HLN5T2E33NB4:00000015 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T00:03:56.1813908+07:00 0HLN5T2E33NB4:00000015 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0192ms. (50a9e262)
2019-06-01T00:03:56.1849961+07:00 0HLN5T2E33NB4:00000015 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T00:03:56.1896414+07:00 0HLN5T2E33NB4:00000015 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T00:04:01.9149453+07:00 0HLN5T2E33NB4:00000015 [INF] Executed DbCommand ("13"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T00:04:01.9190540+07:00 0HLN5T2E33NB4:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T00:04:01.9319266+07:00 0HLN5T2E33NB4:00000015 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T00:04:01.9409346+07:00 0HLN5T2E33NB4:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T00:04:02.0598156+07:00 0HLN5T2E33NB4:00000015 [INF] Executed DbCommand ("80"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T00:04:02.0671428+07:00 0HLN5T2E33NB4:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T00:04:02.0962804+07:00 0HLN5T2E33NB4:00000015 [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T00:04:02.1259500+07:00 0HLN5T2E33NB4:00000015 [INF] Executed ViewResult - view "Index" executed in 5924.6959ms. (f66409e9)
2019-06-01T00:04:02.1665945+07:00 0HLN5T2E33NBE:00000001 [INF] Request finished in 285317.6318ms 101  (791a596a)
2019-06-01T00:04:02.1729776+07:00 0HLN5T2E33NB4:00000015 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 5967.5799ms (afa2e885)
2019-06-01T00:04:02.2068561+07:00 0HLN5T2E33NB4:00000015 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T00:04:02.2966308+07:00 0HLN5T2E33NB4:00000015 [INF] Request finished in 6089.535ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T00:04:02.2985586+07:00 0HLN5T2E33NB6:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=k97wo9pGvAJmf2N-gcNyYVC7hzOFigeyThMCWvPUQuE   (ca22a1cb)
2019-06-01T00:04:02.3072658+07:00 0HLN5T2E33NB5:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/common.js?v=y7DqmVon23ErVGJwRwyGN-e1OscQoN09ThbEz09BtJA   (ca22a1cb)
2019-06-01T00:04:02.3250705+07:00 0HLN5T2E33NB6:00000007 [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T00:04:02.3259817+07:00 0HLN5T2E33NB5:00000006 [INF] The file "/app/shared/common.js" was not modified (f1f8d725)
2019-06-01T00:04:02.3476366+07:00 0HLN5T2E33NB6:00000007 [INF] Request finished in 36.6534ms 200 application/javascript (791a596a)
2019-06-01T00:04:02.3536092+07:00 0HLN5T2E33NB5:00000006 [INF] Request finished in 41.2044ms 304 application/javascript (791a596a)
2019-06-01T00:04:02.7848002+07:00 0HLN5T2E33NB5:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T00:04:02.7895330+07:00 0HLN5T2E33NB5:00000007 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T00:04:02.8004749+07:00 0HLN5T2E33NB5:00000007 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T00:04:02.8300322+07:00 0HLN5T2E33NB5:00000007 [INF] Request finished in 44.5829ms 200 application/json (791a596a)
2019-06-01T00:04:02.8862803+07:00 0HLN5T2E33NB5:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T00:04:02.8902528+07:00 0HLN5T2E33NB6:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T00:04:02.9001231+07:00 0HLN5T2E33NB5:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T00:04:02.9167885+07:00 0HLN5T2E33NB6:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T00:04:02.9255889+07:00 0HLN5T2E33NB5:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T00:04:02.9284903+07:00 0HLN5T2E33NB6:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T00:04:02.9398749+07:00 0HLN5T2E33NB5:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T00:04:02.9424000+07:00 0HLN5T2E33NB6:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T00:04:02.9545735+07:00 0HLN5T2E33NB5:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T00:04:02.9668467+07:00 0HLN5T2E33NB6:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T00:04:02.9882367+07:00 0HLN5T2E33NB5:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T00:04:02.9912344+07:00 0HLN5T2E33NB6:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T00:04:02.9977451+07:00 0HLN5T2E33NB5:00000008 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T00:04:03.0521979+07:00 0HLN5T2E33NB5:00000008 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T00:04:03.0547399+07:00 0HLN5T2E33NB6:00000008 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T00:04:03.0718631+07:00 0HLN5T2E33NB5:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 97.6991ms. (50a9e262)
2019-06-01T00:04:03.0847740+07:00 0HLN5T2E33NBF:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=Vi1UJ75puG5ZVXRpeWs_6A   (ca22a1cb)
2019-06-01T00:04:03.1272805+07:00 0HLN5T2E33NB5:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T00:04:03.1604644+07:00 0HLN5T2E33NBF:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T00:04:03.2038137+07:00 0HLN5T2E33NBF:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T00:04:03.2103048+07:00 0HLN5T2E33NB4:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T00:04:03.2249251+07:00 0HLN5T2E33NB5:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 201.1684ms (afa2e885)
2019-06-01T00:04:03.2354301+07:00 0HLN5T2E33NB6:00000008 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T00:04:03.2576906+07:00 0HLN5T2E33NB4:00000016 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T00:04:03.2596938+07:00 0HLN5T2E33NB5:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T00:04:03.2741907+07:00 0HLN5T2E33NB4:00000016 [INF] Request finished in 130.5117ms 200 image/x-icon (791a596a)
2019-06-01T00:04:03.2891346+07:00 0HLN5T2E33NB5:00000008 [INF] Request finished in 395.3093ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T00:04:03.2926009+07:00 0HLN5T2E33NB6:00000008 [INF] Executed DbCommand ("16"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T00:04:03.3333705+07:00 0HLN5T2E33NB6:00000008 [INF] Executed DbCommand ("15"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T00:04:03.3382689+07:00 0HLN5T2E33NBF:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T00:04:04.9274314+07:00 0HLN5T2E33NB6:00000008 [INF] Executed DbCommand ("12"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T00:04:04.9709443+07:00 0HLN5T2E33NB6:00000008 [INF] Executed DbCommand ("12"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T00:04:05.0562136+07:00 0HLN5T2E33NB6:00000008 [INF] Executed DbCommand ("22"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T00:04:05.0752113+07:00 0HLN5T2E33NB6:00000008 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T00:04:05.0928206+07:00 0HLN5T2E33NB6:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2109.29ms. (50a9e262)
2019-06-01T00:04:05.0987747+07:00 0HLN5T2E33NB6:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T00:04:05.1145018+07:00 0HLN5T2E33NB6:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 2170.531ms (afa2e885)
2019-06-01T00:04:05.1228038+07:00 0HLN5T2E33NB6:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T00:04:05.1350381+07:00 0HLN5T2E33NB6:00000008 [INF] Request finished in 2257.4383ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T00:04:05.1635237+07:00 0HLN5T2E33NB6:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T00:04:05.1702076+07:00 0HLN5T2E33NB6:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T00:04:05.1780373+07:00 0HLN5T2E33NB6:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T00:04:05.1857616+07:00 0HLN5T2E33NB6:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T00:04:05.1898958+07:00 0HLN5T2E33NB6:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T00:04:05.1949317+07:00 0HLN5T2E33NB6:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T00:04:05.2002650+07:00 0HLN5T2E33NB6:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T00:04:05.2108324+07:00 0HLN5T2E33NB6:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T00:04:05.2171823+07:00 0HLN5T2E33NB6:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 21.1531ms. (50a9e262)
2019-06-01T00:04:05.2225008+07:00 0HLN5T2E33NB6:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T00:04:05.2327220+07:00 0HLN5T2E33NB6:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 44.6132ms (afa2e885)
2019-06-01T00:04:05.2433878+07:00 0HLN5T2E33NB6:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T00:04:05.2540680+07:00 0HLN5T2E33NB6:00000009 [INF] Request finished in 88.4552ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T00:04:17.0834858+07:00 0HLN5T2E33NB6:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/MarkAsReadAll  0 (ca22a1cb)
2019-06-01T00:04:17.0915653+07:00 0HLN5T2E33NB6:0000000A [INF] CORS policy execution failed. (09b6f179)
2019-06-01T00:04:17.0985228+07:00 0HLN5T2E33NB6:0000000A [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T00:04:17.1024370+07:00 0HLN5T2E33NB6:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsReadAll (Shop3)"' (500cc934)
2019-06-01T00:04:17.1079939+07:00 0HLN5T2E33NB6:0000000A [INF] Route matched with "{area = \"Admin\", action = \"MarkAsReadAll\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsReadAll (Shop3)" (a44c0341)
2019-06-01T00:04:17.1127287+07:00 0HLN5T2E33NB6:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T00:04:17.1217499+07:00 0HLN5T2E33NB6:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsReadAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T00:04:22.5354673+07:00 0HLN5T2E33NB6:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T00:04:22.5470066+07:00 0HLN5T2E33NB6:0000000A [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
WHERE ([x].[UserId] = @__userId_0) AND ([x].[Status] = 0)" (0723d8ff)
2019-06-01T00:04:22.5644868+07:00 0HLN5T2E33NB6:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[UserId] = @__userId_0) AND ([x].[HasRead] = 0)" (0723d8ff)
2019-06-01T00:04:22.5778328+07:00 0HLN5T2E33NB6:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
WHERE ([x].[UserId] = @__userId_0) AND ([x].[Status] = 0)" (0723d8ff)
2019-06-01T00:04:22.6171456+07:00 0HLN5T2E33NB6:0000000A [INF] Executed DbCommand ("24"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p3='?' (DbType = Int32), @p2='?' (DbType = Boolean), @p6='?' (Size = 450), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p9='?' (Size = 450), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AnnouncementUsers] SET [HasRead] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

UPDATE [AnnouncementUsers] SET [HasRead] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;

UPDATE [Announcements] SET [DateModified] = @p4, [Status] = @p5
WHERE [Id] = @p6;
SELECT @@ROWCOUNT;

UPDATE [Announcements] SET [DateModified] = @p7, [Status] = @p8
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T00:04:22.6292460+07:00 0HLN5T2E33NB6:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsReadAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5496.4447ms. (50a9e262)
2019-06-01T00:04:22.6352645+07:00 0HLN5T2E33NB6:0000000A [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-06-01T00:04:22.6499098+07:00 0HLN5T2E33NB6:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsReadAll (Shop3)" in 5527.4071ms (afa2e885)
2019-06-01T00:04:22.6683463+07:00 0HLN5T2E33NB6:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsReadAll (Shop3)"' (99874f2b)
2019-06-01T00:04:22.7338432+07:00 0HLN5T2E33NB6:0000000A [INF] Request finished in 5590.8137ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T00:04:22.7380323+07:00 0HLN5T2E33NB5:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T00:04:22.7504524+07:00 0HLN5T2E33NB5:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T00:04:22.7649828+07:00 0HLN5T2E33NB6:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T00:04:22.8068208+07:00 0HLN5T2E33NB5:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T00:04:22.8092917+07:00 0HLN5T2E33NB6:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T00:04:22.8171169+07:00 0HLN5T2E33NB5:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T00:04:22.8195748+07:00 0HLN5T2E33NB6:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T00:04:22.8320355+07:00 0HLN5T2E33NB5:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T00:04:22.8352248+07:00 0HLN5T2E33NB6:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T00:04:22.8463550+07:00 0HLN5T2E33NB5:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T00:04:22.8486012+07:00 0HLN5T2E33NB6:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T00:04:22.8665798+07:00 0HLN5T2E33NB5:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T00:04:22.8691607+07:00 0HLN5T2E33NB6:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T00:04:22.8803664+07:00 0HLN5T2E33NB5:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T00:04:22.8836428+07:00 0HLN5T2E33NB6:0000000B [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T00:04:22.9001703+07:00 0HLN5T2E33NB5:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T00:04:22.9046126+07:00 0HLN5T2E33NB6:0000000B [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T00:04:22.9157818+07:00 0HLN5T2E33NB5:00000009 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T00:04:22.9199307+07:00 0HLN5T2E33NB6:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 55.9982ms. (50a9e262)
2019-06-01T00:04:22.9346223+07:00 0HLN5T2E33NB5:00000009 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T00:04:22.9382581+07:00 0HLN5T2E33NB6:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T00:04:22.9484640+07:00 0HLN5T2E33NB5:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T00:04:22.9495996+07:00 0HLN5T2E33NB6:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 119.7991ms (afa2e885)
2019-06-01T00:04:22.9590043+07:00 0HLN5T2E33NB6:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T00:04:22.9670039+07:00 0HLN5T2E33NB5:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T00:04:22.9736541+07:00 0HLN5T2E33NB6:0000000B [INF] Request finished in 218.3122ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T00:04:22.9817505+07:00 0HLN5T2E33NB5:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T00:04:22.9866276+07:00 0HLN5T2E33NB5:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 150.1798ms. (50a9e262)
2019-06-01T00:04:22.9954862+07:00 0HLN5T2E33NB5:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T00:04:23.0085890+07:00 0HLN5T2E33NB5:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 188.8936ms (afa2e885)
2019-06-01T00:04:23.0157665+07:00 0HLN5T2E33NB5:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T00:04:23.0359301+07:00 0HLN5T2E33NB5:00000009 [INF] Request finished in 335.3545ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T00:04:23.0668022+07:00 0HLN5T2E33NB5:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T00:04:23.0763383+07:00 0HLN5T2E33NB5:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T00:04:23.0825545+07:00 0HLN5T2E33NB5:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T00:04:23.0945048+07:00 0HLN5T2E33NB5:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T00:04:23.1047292+07:00 0HLN5T2E33NB5:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T00:04:23.1478601+07:00 0HLN5T2E33NB5:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T00:04:23.1609568+07:00 0HLN5T2E33NB5:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T00:04:23.1713883+07:00 0HLN5T2E33NB5:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T00:04:23.1787590+07:00 0HLN5T2E33NB5:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 66.7137ms. (50a9e262)
2019-06-01T00:04:23.2016935+07:00 0HLN5T2E33NB5:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T00:04:23.2183257+07:00 0HLN5T2E33NB5:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 119.5497ms (afa2e885)
2019-06-01T00:04:23.2361427+07:00 0HLN5T2E33NB5:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T00:04:23.2476491+07:00 0HLN5T2E33NB5:0000000A [INF] Request finished in 185.5471ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:19:18.6027678+07:00 0HLN5UHV37FVB:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T01:19:18.7778493+07:00 0HLN5UHV37FVB:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:19:18.9025531+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("14"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[Balance], [e].[BirthDay], [e].[ConcurrencyStamp], [e].[DateCreated], [e].[DateModified], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[Status], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2019-06-01T01:19:19.1540312+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T01:19:19.3017860+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("51"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:19:19.3457618+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T01:19:19.4110692+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T01:19:19.4322565+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T01:19:19.4750055+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("15"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T01:19:19.4879216+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T01:19:19.4981033+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T01:19:19.5097517+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:19:19.6132055+07:00 0HLN5UHV37FVB:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T01:19:19.6678650+07:00 0HLN5UHV37FVB:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T01:19:19.7084603+07:00 0HLN5UHV37FVB:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T01:19:19.7933643+07:00 0HLN5UHV37FVB:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T01:19:19.8620842+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T01:19:19.8789318+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T01:19:19.9577242+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T01:19:19.9889915+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T01:19:20.0580572+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T01:19:20.0952420+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("11"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T01:19:20.1391824+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T01:19:20.1634376+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T01:19:20.1780128+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T01:19:20.1979869+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T01:19:20.2284225+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T01:19:20.2443819+07:00 0HLN5UHV37FVB:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 523.2188ms. (50a9e262)
2019-06-01T01:19:20.2796064+07:00 0HLN5UHV37FVB:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T01:19:20.5251941+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T01:19:20.5458874+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T01:19:20.7319580+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T01:19:20.7397743+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T01:19:20.7803917+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T01:19:20.8006640+07:00 0HLN5UHV37FVB:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T01:19:21.0438879+07:00 0HLN5UHV37FVB:00000001 [INF] Executed ViewResult - view "Index" executed in 775.8563ms. (f66409e9)
2019-06-01T01:19:21.0638271+07:00 0HLN5UHV37FVB:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 1388.2812ms (afa2e885)
2019-06-01T01:19:21.0712153+07:00 0HLN5UHV37FVB:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T01:19:21.2689040+07:00 0HLN5UHV37FVB:00000001 [INF] Request finished in 2615.7368ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T01:19:21.3050792+07:00 0HLN5UHV37FVC:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T01:19:21.3698955+07:00 0HLN5UHV37FVC:00000001 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T01:19:21.3760546+07:00 0HLN5UHV37FVE:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T01:19:21.3783365+07:00 0HLN5UHV37FVD:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T01:19:21.4018314+07:00 0HLN5UHV37FVE:00000001 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T01:19:21.4184173+07:00 0HLN5UHV37FVG:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T01:19:21.4365830+07:00 0HLN5UHV37FVD:00000001 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T01:19:21.5189348+07:00 0HLN5UHV37FVG:00000001 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T01:19:21.6781854+07:00 0HLN5UHV37FVG:00000001 [INF] Request finished in 180.5691ms 200 image/jpeg (791a596a)
2019-06-01T01:19:21.7301041+07:00 0HLN5UHV37FVE:00000001 [INF] Request finished in 414.2163ms 200 image/jpeg (791a596a)
2019-06-01T01:19:21.7623826+07:00 0HLN5UHV37FVC:00000001 [INF] Request finished in 366.4547ms 200 image/jpeg (791a596a)
2019-06-01T01:19:21.7634805+07:00 0HLN5UHV37FVF:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T01:19:21.9434737+07:00 0HLN5UHV37FVG:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T01:19:21.9766576+07:00 0HLN5UHV37FVB:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T01:19:22.0317282+07:00 0HLN5UHV37FVF:00000001 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T01:19:22.0356938+07:00 0HLN5UHV37FVG:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T01:19:22.0650439+07:00 0HLN5UHV37FVB:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T01:19:22.0873282+07:00 0HLN5UHV37FVD:00000001 [INF] Request finished in 424.7459ms 200 image/jpeg (791a596a)
2019-06-01T01:19:22.1310963+07:00 0HLN5UHV37FVG:00000002 [INF] Request finished in 316.5496ms 200 image/jpeg (791a596a)
2019-06-01T01:19:22.1360194+07:00 0HLN5UHV37FVB:00000002 [INF] Request finished in 315.0398ms 200 image/jpeg (791a596a)
2019-06-01T01:19:22.2831793+07:00 0HLN5UHV37FVB:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T01:19:22.2926726+07:00 0HLN5UHV37FVE:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T01:19:22.3046098+07:00 0HLN5UHV37FVD:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T01:19:22.3075243+07:00 0HLN5UHV37FVG:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T01:19:22.3371616+07:00 0HLN5UHV37FVB:00000003 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T01:19:22.3398996+07:00 0HLN5UHV37FVG:00000003 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:19:22.3469023+07:00 0HLN5UHV37FVE:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T01:19:22.3599329+07:00 0HLN5UHV37FVG:00000003 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:19:22.3711299+07:00 0HLN5UHV37FVB:00000003 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T01:19:22.3756149+07:00 0HLN5UHV37FVE:00000002 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T01:19:22.3897211+07:00 0HLN5UHV37FVB:00000003 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T01:19:22.3977273+07:00 0HLN5UHV37FVE:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T01:19:22.4241132+07:00 0HLN5UHV37FVB:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:19:22.4410149+07:00 0HLN5UHV37FVE:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:19:22.4544282+07:00 0HLN5UHV37FVD:00000002 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T01:19:22.4979355+07:00 0HLN5UHV37FVB:00000003 [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T01:19:22.5570308+07:00 0HLN5UHV37FVB:00000003 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 114.1269ms. (50a9e262)
2019-06-01T01:19:22.5643900+07:00 0HLN5UHV37FVE:00000002 [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T01:19:22.5894147+07:00 0HLN5UHV37FVD:00000002 [INF] Request finished in 279.4206ms 200 image/jpeg (791a596a)
2019-06-01T01:19:22.6010516+07:00 0HLN5UHV37FVE:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 169.5513ms. (50a9e262)
2019-06-01T01:19:22.6396563+07:00 0HLN5UHV37FVB:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:19:22.6481453+07:00 0HLN5UHV37FVE:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:19:22.7644183+07:00 0HLN5UHV37FVG:00000003 [INF] Request finished in 433.4364ms 200 application/json (791a596a)
2019-06-01T01:19:22.8611476+07:00 0HLN5UHV37FVB:00000003 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 344.8388ms (afa2e885)
2019-06-01T01:19:22.9109900+07:00 0HLN5UHV37FVE:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 340.2349ms (afa2e885)
2019-06-01T01:19:22.9431598+07:00 0HLN5UHV37FVB:00000003 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T01:19:22.9722920+07:00 0HLN5UHV37FVE:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T01:19:22.9816139+07:00 0HLN5UHV37FVB:00000003 [INF] Request finished in 682.0243ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:19:23.0370575+07:00 0HLN5UHV37FVE:00000002 [INF] Request finished in 708.3569ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:19:23.0431876+07:00 0HLN5UHV37FVH:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=_tnAGyHfl5mCFPXwyiCubQ   (ca22a1cb)
2019-06-01T01:19:23.0592175+07:00 0HLN5UHV37FVH:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:19:23.0714439+07:00 0HLN5UHV37FVH:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:19:23.2318403+07:00 0HLN5UHV37FVH:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T01:19:23.2422005+07:00 0HLN5UHV37FVF:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T01:19:23.3039940+07:00 0HLN5UHV37FVF:00000001 [INF] Request finished in 1598.8753ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T01:19:32.4549472+07:00 0HLN5UHV37FVE:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T01:19:32.4699281+07:00 0HLN5UHV37FVE:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T01:19:32.4798264+07:00 0HLN5UHV37FVE:00000003 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T01:19:32.4888561+07:00 0HLN5UHV37FVE:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T01:19:32.5020335+07:00 0HLN5UHV37FVE:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.7794ms. (50a9e262)
2019-06-01T01:19:32.5130239+07:00 0HLN5UHV37FVE:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T01:19:32.5583354+07:00 0HLN5UHV37FVE:00000003 [INF] Executed ViewResult - view "Index" executed in 45.6134ms. (f66409e9)
2019-06-01T01:19:35.4545247+07:00 0HLN5UHV37FVE:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 78.4724ms (afa2e885)
2019-06-01T01:19:35.4595217+07:00 0HLN5UHV37FVH:00000001 [INF] Request finished in 11548.0524ms 101  (791a596a)
2019-06-01T01:19:35.4761575+07:00 0HLN5UHV37FVE:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T01:19:35.4777329+07:00 0HLN5UHV37FVB:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T01:19:35.5193480+07:00 0HLN5UHV37FVE:00000003 [INF] Request finished in 3030.1792ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T01:19:35.5194132+07:00 0HLN5UHV37FVB:00000004 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:19:35.5246538+07:00 0HLN5UHV37FVB:00000004 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:19:35.5284158+07:00 0HLN5UHV37FVB:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T01:19:35.5617565+07:00 0HLN5UHV37FVB:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T01:19:35.6491804+07:00 0HLN5UHV37FVB:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:19:43.0118706+07:00 0HLN5UHV37FVB:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:19:43.1007632+07:00 0HLN5UHV37FVB:00000004 [INF] Executed DbCommand ("61"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T01:19:44.0897700+07:00 0HLN5UHV37FVB:00000004 [INF] Executed DbCommand ("41"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T01:19:44.0982529+07:00 0HLN5UHV37FVB:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:19:44.1113195+07:00 0HLN5UHV37FVB:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T01:19:44.1225725+07:00 0HLN5UHV37FVB:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T01:19:44.1303374+07:00 0HLN5UHV37FVB:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T01:19:44.1510815+07:00 0HLN5UHV37FVB:00000004 [INF] Executed DbCommand ("11"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T01:19:44.1583110+07:00 0HLN5UHV37FVB:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T01:19:44.1703767+07:00 0HLN5UHV37FVB:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T01:19:44.1802753+07:00 0HLN5UHV37FVB:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:19:44.1927922+07:00 0HLN5UHV37FVB:00000004 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T01:19:44.2065173+07:00 0HLN5UHV37FVB:00000004 [INF] User logged in. (fdce0db4)
2019-06-01T01:19:44.2200225+07:00 0HLN5UHV37FVB:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8566.1623ms. (50a9e262)
2019-06-01T01:19:44.2297115+07:00 0HLN5UHV37FVB:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T01:19:44.2483355+07:00 0HLN5UHV37FVB:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 8671.3617ms (afa2e885)
2019-06-01T01:19:44.2534653+07:00 0HLN5UHV37FVB:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T01:19:44.2804138+07:00 0HLN5UHV37FVB:00000004 [INF] Request finished in 8797.5154ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:19:44.2917655+07:00 0HLN5UHV37FVB:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T01:19:44.2987445+07:00 0HLN5UHV37FVB:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T01:19:44.3080950+07:00 0HLN5UHV37FVB:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T01:19:44.3261713+07:00 0HLN5UHV37FVB:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:44.3307292+07:00 0HLN5UHV37FVB:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T01:19:44.3366907+07:00 0HLN5UHV37FVB:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3306ms. (50a9e262)
2019-06-01T01:19:44.3476383+07:00 0HLN5UHV37FVB:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T01:19:44.3639209+07:00 0HLN5UHV37FVB:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:19:45.3962901+07:00 0HLN5UHV37FVB:00000005 [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T01:19:45.4205186+07:00 0HLN5UHV37FVB:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:45.4626526+07:00 0HLN5UHV37FVB:00000005 [INF] Executed DbCommand ("16"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T01:19:45.4700693+07:00 0HLN5UHV37FVB:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:45.5052352+07:00 0HLN5UHV37FVB:00000005 [INF] Executed DbCommand ("14"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T01:19:45.5195203+07:00 0HLN5UHV37FVB:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:45.5575477+07:00 0HLN5UHV37FVB:00000005 [INF] Executed DbCommand ("19"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T01:19:45.5615830+07:00 0HLN5UHV37FVB:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:45.6295513+07:00 0HLN5UHV37FVB:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T01:19:45.7747978+07:00 0HLN5UHV37FVB:00000005 [INF] Executed ViewResult - view "Index" executed in 1380.4937ms. (f66409e9)
2019-06-01T01:19:45.8306574+07:00 0HLN5UHV37FVB:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 1466.3011ms (afa2e885)
2019-06-01T01:19:45.8414089+07:00 0HLN5UHV37FVB:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T01:19:46.3017561+07:00 0HLN5UHV37FVB:00000005 [INF] Request finished in 1558.932ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T01:19:46.4037104+07:00 0HLN5UHV37FVE:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/common.js?v=y7DqmVon23ErVGJwRwyGN-e1OscQoN09ThbEz09BtJA   (ca22a1cb)
2019-06-01T01:19:46.4123368+07:00 0HLN5UHV37FVD:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=8UZbClHW8woDPArzg2TB2bDEMlP6HYS9pV4omdth_qk   (ca22a1cb)
2019-06-01T01:19:46.4887097+07:00 0HLN5UHV37FVE:00000004 [INF] The file "/app/shared/common.js" was not modified (f1f8d725)
2019-06-01T01:19:46.5386021+07:00 0HLN5UHV37FVE:00000004 [INF] Request finished in 494.6199ms 304 application/javascript (791a596a)
2019-06-01T01:19:46.5479366+07:00 0HLN5UHV37FVD:00000003 [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T01:19:46.5609110+07:00 0HLN5UHV37FVB:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:19:46.5765790+07:00 0HLN5UHV37FVD:00000003 [INF] Request finished in 552.3962ms 200 application/javascript (791a596a)
2019-06-01T01:19:46.5868104+07:00 0HLN5UHV37FVE:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:19:46.5919304+07:00 0HLN5UHV37FVB:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T01:19:46.5976638+07:00 0HLN5UHV37FVD:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T01:19:46.6035099+07:00 0HLN5UHV37FVE:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:19:46.6085688+07:00 0HLN5UHV37FVG:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T01:19:46.6140034+07:00 0HLN5UHV37FVD:00000004 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:19:46.6244788+07:00 0HLN5UHV37FVE:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:19:46.6283459+07:00 0HLN5UHV37FVD:00000004 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:19:46.6391751+07:00 0HLN5UHV37FVE:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:46.6512563+07:00 0HLN5UHV37FVD:00000004 [INF] Request finished in 39.9375ms 200 application/json (791a596a)
2019-06-01T01:19:46.6643754+07:00 0HLN5UHV37FVE:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:19:46.7295368+07:00 0HLN5UHV37FVG:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T01:19:46.7406871+07:00 0HLN5UHV37FVE:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:19:46.7870439+07:00 0HLN5UHV37FVI:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=l6UzKCNJZl_uS7z4cvpwgA   (ca22a1cb)
2019-06-01T01:19:46.7970702+07:00 0HLN5UHV37FVG:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T01:19:46.8167186+07:00 0HLN5UHV37FVI:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:19:46.8274353+07:00 0HLN5UHV37FVG:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:46.8396925+07:00 0HLN5UHV37FVI:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:19:46.8488150+07:00 0HLN5UHV37FVE:00000005 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:19:46.8669765+07:00 0HLN5UHV37FVG:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T01:19:46.8816669+07:00 0HLN5UHV37FVB:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T01:19:48.6295521+07:00 0HLN5UHV37FVB:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:48.7464836+07:00 0HLN5UHV37FVE:00000005 [INF] Executed DbCommand ("33"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:19:48.7880823+07:00 0HLN5UHV37FVI:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T01:19:48.8068974+07:00 0HLN5UHV37FVE:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2085.2097ms. (50a9e262)
2019-06-01T01:19:48.8413979+07:00 0HLN5UHV37FVB:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:19:48.8438369+07:00 0HLN5UHV37FVE:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:19:48.9263709+07:00 0HLN5UHV37FVE:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 2241.7444ms (afa2e885)
2019-06-01T01:19:48.9300559+07:00 0HLN5UHV37FVG:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2033.4145ms. (50a9e262)
2019-06-01T01:19:48.9408102+07:00 0HLN5UHV37FVE:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:19:48.9482330+07:00 0HLN5UHV37FVG:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:19:48.9584029+07:00 0HLN5UHV37FVE:00000005 [INF] Request finished in 2374.2603ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:19:48.9603655+07:00 0HLN5UHV37FVG:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 2153.8262ms (afa2e885)
2019-06-01T01:19:48.9692352+07:00 0HLN5UHV37FVB:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:19:48.9696085+07:00 0HLN5UHV37FVG:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T01:19:49.0208975+07:00 0HLN5UHV37FVG:00000004 [INF] Request finished in 2380.8383ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:19:49.0389012+07:00 0HLN5UHV37FVB:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:19:49.1416715+07:00 0HLN5UHV37FVB:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:19:49.1571385+07:00 0HLN5UHV37FVB:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T01:19:49.1927606+07:00 0HLN5UHV37FVB:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T01:19:49.2068398+07:00 0HLN5UHV37FVB:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T01:19:49.2217149+07:00 0HLN5UHV37FVB:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T01:19:49.2372536+07:00 0HLN5UHV37FVB:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T01:19:49.2544450+07:00 0HLN5UHV37FVB:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T01:19:49.2600684+07:00 0HLN5UHV37FVB:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 414.5125ms. (50a9e262)
2019-06-01T01:19:49.2677320+07:00 0HLN5UHV37FVB:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:19:49.2856606+07:00 0HLN5UHV37FVB:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 2390.1741ms (afa2e885)
2019-06-01T01:19:49.2900302+07:00 0HLN5UHV37FVB:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T01:19:49.2959879+07:00 0HLN5UHV37FVB:00000006 [INF] Request finished in 2766.8282ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:19:54.9295935+07:00 0HLN5UHV37FVB:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T01:19:54.9387861+07:00 0HLN5UHV37FVB:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T01:19:54.9461054+07:00 0HLN5UHV37FVB:00000007 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T01:19:54.9561124+07:00 0HLN5UHV37FVB:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:54.9618014+07:00 0HLN5UHV37FVB:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T01:19:54.9712196+07:00 0HLN5UHV37FVB:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.5444ms. (50a9e262)
2019-06-01T01:19:54.9778391+07:00 0HLN5UHV37FVB:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T01:19:54.9962362+07:00 0HLN5UHV37FVB:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:19:55.0084500+07:00 0HLN5UHV37FVB:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T01:19:55.0125176+07:00 0HLN5UHV37FVB:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:55.0277611+07:00 0HLN5UHV37FVB:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T01:19:55.0336409+07:00 0HLN5UHV37FVB:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:55.0418074+07:00 0HLN5UHV37FVB:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T01:19:55.0470628+07:00 0HLN5UHV37FVB:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:55.0596396+07:00 0HLN5UHV37FVB:00000007 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T01:19:55.2089353+07:00 0HLN5UHV37FVB:00000007 [INF] Executed ViewResult - view "Index" executed in 91.3188ms. (f66409e9)
2019-06-01T01:19:55.2361094+07:00 0HLN5UHV37FVB:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 263.1318ms (afa2e885)
2019-06-01T01:19:55.2389218+07:00 0HLN5UHV37FVI:00000001 [INF] Request finished in 8471.017ms 101  (791a596a)
2019-06-01T01:19:55.2471502+07:00 0HLN5UHV37FVB:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T01:19:55.2612298+07:00 0HLN5UHV37FVG:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=8UZbClHW8woDPArzg2TB2bDEMlP6HYS9pV4omdth_qk   (ca22a1cb)
2019-06-01T01:19:55.2774621+07:00 0HLN5UHV37FVB:00000007 [INF] Request finished in 321.7996ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T01:19:55.2796261+07:00 0HLN5UHV37FVG:00000005 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T01:19:55.2979826+07:00 0HLN5UHV37FVG:00000005 [INF] Request finished in 84.4166ms 304 application/javascript (791a596a)
2019-06-01T01:19:55.3347961+07:00 0HLN5UHV37FVG:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T01:19:55.3580568+07:00 0HLN5UHV37FVG:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:19:55.3712272+07:00 0HLN5UHV37FVG:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:19:55.4308545+07:00 0HLN5UHV37FVG:00000006 [INF] Request finished in 58.7256ms 200 application/json (791a596a)
2019-06-01T01:19:55.4453805+07:00 0HLN5UHV37FVB:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:19:55.4773661+07:00 0HLN5UHV37FVG:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:19:55.5318431+07:00 0HLN5UHV37FVJ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=2ZWEofB8tH9i29z-T3Z3OQ   (ca22a1cb)
2019-06-01T01:19:55.5393479+07:00 0HLN5UHV37FVG:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:19:55.5443957+07:00 0HLN5UHV37FVB:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T01:19:55.5805815+07:00 0HLN5UHV37FVG:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:19:55.5819436+07:00 0HLN5UHV37FVJ:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:19:55.6102204+07:00 0HLN5UHV37FVG:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:55.6125482+07:00 0HLN5UHV37FVJ:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:19:55.6391972+07:00 0HLN5UHV37FVB:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T01:19:55.6432115+07:00 0HLN5UHV37FVG:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:19:55.6597752+07:00 0HLN5UHV37FVB:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:55.6635241+07:00 0HLN5UHV37FVG:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:19:55.6657584+07:00 0HLN5UHV37FVJ:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T01:19:55.6817449+07:00 0HLN5UHV37FVB:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:19:55.7062121+07:00 0HLN5UHV37FVG:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:19:55.7297891+07:00 0HLN5UHV37FVB:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:19:55.7411306+07:00 0HLN5UHV37FVG:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:19:55.7584708+07:00 0HLN5UHV37FVB:00000008 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:19:55.7636036+07:00 0HLN5UHV37FVG:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 98.0269ms. (50a9e262)
2019-06-01T01:19:55.7780926+07:00 0HLN5UHV37FVB:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:19:55.7791809+07:00 0HLN5UHV37FVG:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:19:55.8051879+07:00 0HLN5UHV37FVB:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T01:19:55.8085368+07:00 0HLN5UHV37FVG:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 199.639ms (afa2e885)
2019-06-01T01:19:55.8414151+07:00 0HLN5UHV37FVB:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T01:19:55.8436761+07:00 0HLN5UHV37FVG:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:19:55.8625360+07:00 0HLN5UHV37FVB:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T01:19:55.8689109+07:00 0HLN5UHV37FVG:00000007 [INF] Request finished in 403.6625ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:19:55.8799180+07:00 0HLN5UHV37FVB:00000008 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T01:19:55.8981494+07:00 0HLN5UHV37FVB:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T01:19:55.9095796+07:00 0HLN5UHV37FVB:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T01:19:55.9162129+07:00 0HLN5UHV37FVB:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 229.1581ms. (50a9e262)
2019-06-01T01:19:55.9290511+07:00 0HLN5UHV37FVB:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:19:55.9395922+07:00 0HLN5UHV37FVB:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 290.2555ms (afa2e885)
2019-06-01T01:19:55.9451701+07:00 0HLN5UHV37FVB:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T01:19:55.9566055+07:00 0HLN5UHV37FVB:00000008 [INF] Request finished in 519.9441ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:19:55.9689091+07:00 0HLN5UHV37FVB:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:19:55.9777230+07:00 0HLN5UHV37FVB:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:19:55.9826891+07:00 0HLN5UHV37FVB:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:19:55.9947991+07:00 0HLN5UHV37FVB:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:55.9991171+07:00 0HLN5UHV37FVB:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:19:56.0054793+07:00 0HLN5UHV37FVB:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:19:56.0111831+07:00 0HLN5UHV37FVB:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:19:56.0280704+07:00 0HLN5UHV37FVB:00000009 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:19:56.0364442+07:00 0HLN5UHV37FVB:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 29.0957ms. (50a9e262)
2019-06-01T01:19:56.0417126+07:00 0HLN5UHV37FVB:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:19:56.0479542+07:00 0HLN5UHV37FVB:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 59.2511ms (afa2e885)
2019-06-01T01:19:56.0581339+07:00 0HLN5UHV37FVB:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:19:56.0644942+07:00 0HLN5UHV37FVB:00000009 [INF] Request finished in 97.352ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:19:59.0450997+07:00 0HLN5UHV37FVB:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/Delete application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T01:19:59.0491326+07:00 0HLN5UHV37FVB:0000000A [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:19:59.0570382+07:00 0HLN5UHV37FVB:0000000A [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:19:59.0625598+07:00 0HLN5UHV37FVB:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (500cc934)
2019-06-01T01:19:59.0697672+07:00 0HLN5UHV37FVB:0000000A [INF] Route matched with "{area = \"Admin\", action = \"Delete\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" (a44c0341)
2019-06-01T01:19:59.0746484+07:00 0HLN5UHV37FVB:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:59.0792072+07:00 0HLN5UHV37FVB:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" with arguments (["7c19658c-a91c-40fa-b8f6-050a4cfb2375"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:19:59.0938320+07:00 0HLN5UHV37FVB:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:19:59.1120301+07:00 0HLN5UHV37FVB:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [y].[Id], [y].[Content], [y].[DateCreated], [y].[DateModified], [y].[Status], [y].[Title], [y].[UserId]
FROM [Announcements] AS [y]
WHERE ([y].[Id] = @__id_0) AND ([y].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:19:59.1456583+07:00 0HLN5UHV37FVB:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[AnnouncementId] = @__id_0) AND ([x].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:19:59.1645441+07:00 0HLN5UHV37FVB:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T01:19:59.1792279+07:00 0HLN5UHV37FVB:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 95.6757ms. (50a9e262)
2019-06-01T01:19:59.1841498+07:00 0HLN5UHV37FVB:0000000A [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-06-01T01:19:59.1930482+07:00 0HLN5UHV37FVB:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" in 114.5438ms (afa2e885)
2019-06-01T01:19:59.1968808+07:00 0HLN5UHV37FVB:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (99874f2b)
2019-06-01T01:19:59.2072615+07:00 0HLN5UHV37FVB:0000000A [INF] Request finished in 156.6918ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:19:59.2082978+07:00 0HLN5UHV37FVG:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:19:59.2190306+07:00 0HLN5UHV37FVB:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:19:59.2201001+07:00 0HLN5UHV37FVG:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:19:59.2284349+07:00 0HLN5UHV37FVG:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:19:59.2302416+07:00 0HLN5UHV37FVB:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T01:19:59.2383889+07:00 0HLN5UHV37FVG:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:59.2400770+07:00 0HLN5UHV37FVB:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T01:19:59.2461853+07:00 0HLN5UHV37FVG:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:19:59.2472451+07:00 0HLN5UHV37FVB:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:59.2543244+07:00 0HLN5UHV37FVG:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:19:59.2580036+07:00 0HLN5UHV37FVB:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:19:59.2653147+07:00 0HLN5UHV37FVG:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:19:59.2670157+07:00 0HLN5UHV37FVB:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:19:59.2787330+07:00 0HLN5UHV37FVG:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:19:59.2810653+07:00 0HLN5UHV37FVB:0000000B [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:19:59.2864967+07:00 0HLN5UHV37FVG:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 33.2044ms. (50a9e262)
2019-06-01T01:19:59.2957692+07:00 0HLN5UHV37FVB:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:19:59.2984626+07:00 0HLN5UHV37FVG:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:19:59.3079830+07:00 0HLN5UHV37FVB:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T01:19:59.3117602+07:00 0HLN5UHV37FVG:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 75.1321ms (afa2e885)
2019-06-01T01:19:59.3201951+07:00 0HLN5UHV37FVB:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T01:19:59.3243473+07:00 0HLN5UHV37FVG:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:19:59.3306885+07:00 0HLN5UHV37FVB:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T01:19:59.3318865+07:00 0HLN5UHV37FVG:00000008 [INF] Request finished in 121.898ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:19:59.3407263+07:00 0HLN5UHV37FVB:0000000B [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T01:19:59.3470245+07:00 0HLN5UHV37FVB:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T01:19:59.3548178+07:00 0HLN5UHV37FVB:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T01:19:59.3619542+07:00 0HLN5UHV37FVB:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 97.5936ms. (50a9e262)
2019-06-01T01:19:59.3670602+07:00 0HLN5UHV37FVB:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:19:59.3737683+07:00 0HLN5UHV37FVB:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 127.2137ms (afa2e885)
2019-06-01T01:19:59.3774454+07:00 0HLN5UHV37FVB:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T01:19:59.3887673+07:00 0HLN5UHV37FVB:0000000B [INF] Request finished in 167.2444ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:19:59.3983635+07:00 0HLN5UHV37FVB:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:19:59.4083582+07:00 0HLN5UHV37FVB:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:19:59.4129645+07:00 0HLN5UHV37FVB:0000000C [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:19:59.4178868+07:00 0HLN5UHV37FVB:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T01:19:59.4273584+07:00 0HLN5UHV37FVB:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:19:59.4328279+07:00 0HLN5UHV37FVB:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:19:59.4396074+07:00 0HLN5UHV37FVB:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:19:59.4483589+07:00 0HLN5UHV37FVB:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:19:59.4566432+07:00 0HLN5UHV37FVB:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 21.0215ms. (50a9e262)
2019-06-01T01:19:59.4619520+07:00 0HLN5UHV37FVB:0000000C [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:19:59.4688003+07:00 0HLN5UHV37FVB:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 49.2524ms (afa2e885)
2019-06-01T01:19:59.4728602+07:00 0HLN5UHV37FVB:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:19:59.4778215+07:00 0HLN5UHV37FVB:0000000C [INF] Request finished in 79.158ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:20:05.4389953+07:00 0HLN5UHV37FVB:0000000D [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/Delete application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T01:20:05.4435040+07:00 0HLN5UHV37FVB:0000000D [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:20:05.4533543+07:00 0HLN5UHV37FVB:0000000D [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:20:05.4573042+07:00 0HLN5UHV37FVB:0000000D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (500cc934)
2019-06-01T01:20:05.4638519+07:00 0HLN5UHV37FVB:0000000D [INF] Route matched with "{area = \"Admin\", action = \"Delete\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" (a44c0341)
2019-06-01T01:20:05.4699118+07:00 0HLN5UHV37FVB:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T01:20:05.4753829+07:00 0HLN5UHV37FVB:0000000D [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" with arguments (["7c19658c-a91c-40fa-b8f6-050a4cfb2375"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:20:05.4803843+07:00 0HLN5UHV37FVB:0000000D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:20:05.4869091+07:00 0HLN5UHV37FVB:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [y].[Id], [y].[Content], [y].[DateCreated], [y].[DateModified], [y].[Status], [y].[Title], [y].[UserId]
FROM [Announcements] AS [y]
WHERE ([y].[Id] = @__id_0) AND ([y].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:20:05.4920257+07:00 0HLN5UHV37FVB:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[AnnouncementId] = @__id_0) AND ([x].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:20:05.5056434+07:00 0HLN5UHV37FVB:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T01:20:05.5096963+07:00 0HLN5UHV37FVB:0000000D [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 30.443ms. (50a9e262)
2019-06-01T01:20:05.5140344+07:00 0HLN5UHV37FVB:0000000D [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-06-01T01:20:05.5212885+07:00 0HLN5UHV37FVB:0000000D [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" in 50.582ms (afa2e885)
2019-06-01T01:20:05.5256745+07:00 0HLN5UHV37FVB:0000000D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (99874f2b)
2019-06-01T01:20:05.5395707+07:00 0HLN5UHV37FVB:0000000D [INF] Request finished in 90.5959ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:20:05.5462004+07:00 0HLN5UHV37FVG:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:20:05.5515387+07:00 0HLN5UHV37FVB:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:20:05.5578049+07:00 0HLN5UHV37FVG:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:20:05.5598476+07:00 0HLN5UHV37FVB:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T01:20:05.5696884+07:00 0HLN5UHV37FVG:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:20:05.5714837+07:00 0HLN5UHV37FVB:0000000E [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T01:20:05.5779571+07:00 0HLN5UHV37FVG:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:20:05.5789536+07:00 0HLN5UHV37FVB:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T01:20:05.5876929+07:00 0HLN5UHV37FVG:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:20:05.5888453+07:00 0HLN5UHV37FVB:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:20:05.5971169+07:00 0HLN5UHV37FVG:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:20:05.5991353+07:00 0HLN5UHV37FVB:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:20:05.6194126+07:00 0HLN5UHV37FVG:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:20:05.6210742+07:00 0HLN5UHV37FVB:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:20:05.6312608+07:00 0HLN5UHV37FVG:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:20:05.6376481+07:00 0HLN5UHV37FVB:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:20:05.6451024+07:00 0HLN5UHV37FVG:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 43.6471ms. (50a9e262)
2019-06-01T01:20:05.6474872+07:00 0HLN5UHV37FVB:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T01:20:05.6540485+07:00 0HLN5UHV37FVG:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:20:05.6677686+07:00 0HLN5UHV37FVB:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T01:20:05.6697169+07:00 0HLN5UHV37FVG:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 85.0661ms (afa2e885)
2019-06-01T01:20:05.6772928+07:00 0HLN5UHV37FVB:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T01:20:05.6828295+07:00 0HLN5UHV37FVG:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:20:05.6925317+07:00 0HLN5UHV37FVB:0000000E [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T01:20:05.7027569+07:00 0HLN5UHV37FVG:00000009 [INF] Request finished in 144.3611ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:20:05.7078064+07:00 0HLN5UHV37FVB:0000000E [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T01:20:05.7150839+07:00 0HLN5UHV37FVB:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T01:20:05.7215495+07:00 0HLN5UHV37FVB:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 126.9257ms. (50a9e262)
2019-06-01T01:20:05.7262358+07:00 0HLN5UHV37FVB:0000000E [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:20:05.7378280+07:00 0HLN5UHV37FVB:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 154.4083ms (afa2e885)
2019-06-01T01:20:05.7417792+07:00 0HLN5UHV37FVB:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T01:20:05.7501135+07:00 0HLN5UHV37FVB:0000000E [INF] Request finished in 197.7449ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:20:05.7595679+07:00 0HLN5UHV37FVB:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:20:05.7672500+07:00 0HLN5UHV37FVB:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:20:05.7762173+07:00 0HLN5UHV37FVB:0000000F [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:20:05.7810309+07:00 0HLN5UHV37FVB:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T01:20:05.7891354+07:00 0HLN5UHV37FVB:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:20:05.7962037+07:00 0HLN5UHV37FVB:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:20:05.8058849+07:00 0HLN5UHV37FVB:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:20:05.8109898+07:00 0HLN5UHV37FVB:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:20:05.8166640+07:00 0HLN5UHV37FVB:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 22.0032ms. (50a9e262)
2019-06-01T01:20:05.8216819+07:00 0HLN5UHV37FVB:0000000F [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:20:05.8373245+07:00 0HLN5UHV37FVB:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 45.6602ms (afa2e885)
2019-06-01T01:20:05.8415866+07:00 0HLN5UHV37FVB:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:20:05.8469179+07:00 0HLN5UHV37FVB:0000000F [INF] Request finished in 86.5163ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:20:23.3677893+07:00 0HLN5UHV37FVB:00000010 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/Delete application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T01:20:23.3721031+07:00 0HLN5UHV37FVB:00000010 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:20:23.3797798+07:00 0HLN5UHV37FVB:00000010 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:20:23.4072411+07:00 0HLN5UHV37FVB:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (500cc934)
2019-06-01T01:20:23.4291544+07:00 0HLN5UHV37FVB:00000010 [INF] Route matched with "{area = \"Admin\", action = \"Delete\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" (a44c0341)
2019-06-01T01:20:23.4349161+07:00 0HLN5UHV37FVB:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:20:23.4394380+07:00 0HLN5UHV37FVB:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" with arguments (["7c19658c-a91c-40fa-b8f6-050a4cfb2375"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:20:23.4549989+07:00 0HLN5UHV37FVB:00000010 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:20:23.4620111+07:00 0HLN5UHV37FVB:00000010 [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [y].[Id], [y].[Content], [y].[DateCreated], [y].[DateModified], [y].[Status], [y].[Title], [y].[UserId]
FROM [Announcements] AS [y]
WHERE ([y].[Id] = @__id_0) AND ([y].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:20:23.4737012+07:00 0HLN5UHV37FVB:00000010 [INF] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[AnnouncementId] = @__id_0) AND ([x].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:20:23.4817152+07:00 0HLN5UHV37FVB:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T01:20:23.4897078+07:00 0HLN5UHV37FVB:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 42.3732ms. (50a9e262)
2019-06-01T01:20:23.4983966+07:00 0HLN5UHV37FVB:00000010 [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-06-01T01:20:23.5172761+07:00 0HLN5UHV37FVB:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" in 69.3689ms (afa2e885)
2019-06-01T01:20:23.5243339+07:00 0HLN5UHV37FVB:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (99874f2b)
2019-06-01T01:20:23.5404893+07:00 0HLN5UHV37FVB:00000010 [INF] Request finished in 164.3599ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:20:23.5575666+07:00 0HLN5UHV37FVB:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:20:23.5587485+07:00 0HLN5UHV37FVG:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:20:23.5676359+07:00 0HLN5UHV37FVB:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T01:20:23.5703460+07:00 0HLN5UHV37FVG:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:20:23.5795571+07:00 0HLN5UHV37FVB:00000011 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T01:20:23.5868904+07:00 0HLN5UHV37FVG:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:20:23.5983435+07:00 0HLN5UHV37FVB:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:20:23.6035673+07:00 0HLN5UHV37FVG:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T01:20:23.6215726+07:00 0HLN5UHV37FVB:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:20:23.6226012+07:00 0HLN5UHV37FVG:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:20:23.6361334+07:00 0HLN5UHV37FVB:00000011 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:20:23.6393313+07:00 0HLN5UHV37FVG:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:20:23.6575008+07:00 0HLN5UHV37FVB:00000011 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:20:23.6601694+07:00 0HLN5UHV37FVG:0000000A [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:20:23.6810334+07:00 0HLN5UHV37FVB:00000011 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:20:23.6921584+07:00 0HLN5UHV37FVG:0000000A [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:20:23.7090617+07:00 0HLN5UHV37FVB:00000011 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T01:20:23.7170522+07:00 0HLN5UHV37FVG:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 67.935ms. (50a9e262)
2019-06-01T01:20:23.7295610+07:00 0HLN5UHV37FVG:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:20:23.7318560+07:00 0HLN5UHV37FVB:00000011 [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T01:20:23.7378084+07:00 0HLN5UHV37FVG:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 143.4442ms (afa2e885)
2019-06-01T01:20:23.7537292+07:00 0HLN5UHV37FVG:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:20:23.7585127+07:00 0HLN5UHV37FVB:00000011 [INF] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T01:20:23.7666534+07:00 0HLN5UHV37FVG:0000000A [INF] Request finished in 210.8058ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:20:23.7774341+07:00 0HLN5UHV37FVB:00000011 [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T01:20:23.7925233+07:00 0HLN5UHV37FVB:00000011 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T01:20:23.8022755+07:00 0HLN5UHV37FVB:00000011 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T01:20:23.8096921+07:00 0HLN5UHV37FVB:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 182.007ms. (50a9e262)
2019-06-01T01:20:23.8218176+07:00 0HLN5UHV37FVB:00000011 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:20:23.8327489+07:00 0HLN5UHV37FVB:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 242.5288ms (afa2e885)
2019-06-01T01:20:23.8399177+07:00 0HLN5UHV37FVB:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T01:20:23.8806081+07:00 0HLN5UHV37FVB:00000011 [INF] Request finished in 295.5182ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:20:23.8936879+07:00 0HLN5UHV37FVB:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:20:23.9017490+07:00 0HLN5UHV37FVB:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:20:23.9075385+07:00 0HLN5UHV37FVB:00000012 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:20:23.9137391+07:00 0HLN5UHV37FVB:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:20:23.9251237+07:00 0HLN5UHV37FVB:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:20:23.9309629+07:00 0HLN5UHV37FVB:00000012 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:20:23.9395803+07:00 0HLN5UHV37FVB:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:20:23.9466138+07:00 0HLN5UHV37FVB:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:20:23.9551039+07:00 0HLN5UHV37FVB:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 21.5084ms. (50a9e262)
2019-06-01T01:20:23.9589210+07:00 0HLN5UHV37FVB:00000012 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:20:23.9689267+07:00 0HLN5UHV37FVB:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 51.5314ms (afa2e885)
2019-06-01T01:20:23.9737439+07:00 0HLN5UHV37FVB:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:20:23.9885497+07:00 0HLN5UHV37FVB:00000012 [INF] Request finished in 86.9303ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:21:09.3378044+07:00 0HLN5UHV37FVB:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T01:21:09.3423694+07:00 0HLN5UHV37FVB:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T01:21:09.3535209+07:00 0HLN5UHV37FVB:00000013 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T01:21:09.3698283+07:00 0HLN5UHV37FVB:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:09.3773728+07:00 0HLN5UHV37FVB:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T01:21:09.3816694+07:00 0HLN5UHV37FVB:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0172ms. (50a9e262)
2019-06-01T01:21:09.4018782+07:00 0HLN5UHV37FVB:00000013 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T01:21:09.4089756+07:00 0HLN5UHV37FVB:00000013 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:21:09.4406260+07:00 0HLN5UHV37FVB:00000013 [INF] Executed DbCommand ("23"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T01:21:09.4575864+07:00 0HLN5UHV37FVB:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:09.5091375+07:00 0HLN5UHV37FVB:00000013 [INF] Executed DbCommand ("17"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T01:21:09.5333361+07:00 0HLN5UHV37FVB:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:09.5777019+07:00 0HLN5UHV37FVB:00000013 [INF] Executed DbCommand ("18"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T01:21:09.6225786+07:00 0HLN5UHV37FVB:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:09.6904448+07:00 0HLN5UHV37FVB:00000013 [INF] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T01:21:10.0895764+07:00 0HLN5UHV37FVB:00000013 [INF] Executed ViewResult - view "Index" executed in 312.8364ms. (f66409e9)
2019-06-01T01:21:11.3963459+07:00 0HLN5UHV37FVB:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 736.1284ms (afa2e885)
2019-06-01T01:21:11.4081322+07:00 0HLN5UHV37FVJ:00000001 [INF] Request finished in 75912.4079ms 101  (791a596a)
2019-06-01T01:21:11.4300389+07:00 0HLN5UHV37FVB:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T01:21:11.4373366+07:00 0HLN5UHV37FVE:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/font-awesome/css/font-awesome.css   (ca22a1cb)
2019-06-01T01:21:12.8260113+07:00 0HLN5UHV37FVB:00000013 [INF] Request finished in 2109.8262ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T01:21:12.8402861+07:00 0HLN5UHV37FVE:00000006 [INF] Sending file. Request path: '"/lib/font-awesome/css/font-awesome.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\font-awesome\css\font-awesome.css"' (27b0a520)
2019-06-01T01:21:12.8471071+07:00 0HLN5UHV37FVB:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/iCheck/skins/flat/green.css   (ca22a1cb)
2019-06-01T01:21:12.8565601+07:00 0HLN5UHV37FVE:00000006 [INF] Request finished in 1486.0504ms 200 text/css (791a596a)
2019-06-01T01:21:12.8809198+07:00 0HLN5UHV37FVG:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css   (ca22a1cb)
2019-06-01T01:21:12.9072681+07:00 0HLN5UHV37FVC:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap-daterangepicker/daterangepicker.css   (ca22a1cb)
2019-06-01T01:21:12.9095008+07:00 0HLN5UHV37FVE:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/skins/moono/editor.css   (ca22a1cb)
2019-06-01T01:21:12.9246765+07:00 0HLN5UHV37FVK:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/styles/metro/notify-metro.css   (ca22a1cb)
2019-06-01T01:21:12.9262962+07:00 0HLN5UHV37FVD:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/nprogress/nprogress.css   (ca22a1cb)
2019-06-01T01:21:12.9643779+07:00 0HLN5UHV37FVB:00000014 [INF] Sending file. Request path: '"/lib/iCheck/skins/flat/green.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\iCheck\skins\flat\green.css"' (27b0a520)
2019-06-01T01:21:12.9771347+07:00 0HLN5UHV37FVC:00000002 [INF] Sending file. Request path: '"/lib/bootstrap-daterangepicker/daterangepicker.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap-daterangepicker\daterangepicker.css"' (27b0a520)
2019-06-01T01:21:12.9792270+07:00 0HLN5UHV37FVB:00000014 [INF] Request finished in 126.0391ms 200 text/css (791a596a)
2019-06-01T01:21:12.9989226+07:00 0HLN5UHV37FVK:00000001 [INF] Sending file. Request path: '"/lib/notifyjs/dist/styles/metro/notify-metro.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\styles\metro\notify-metro.css"' (27b0a520)
2019-06-01T01:21:13.0249327+07:00 0HLN5UHV37FVB:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/css/custom.css   (ca22a1cb)
2019-06-01T01:21:13.0301069+07:00 0HLN5UHV37FVK:00000001 [INF] Request finished in 1604.6788ms 200 text/css (791a596a)
2019-06-01T01:21:13.0472273+07:00 0HLN5UHV37FVC:00000002 [INF] Request finished in 1599.3372ms 200 text/css (791a596a)
2019-06-01T01:21:13.1145733+07:00 0HLN5UHV37FVC:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js   (ca22a1cb)
2019-06-01T01:21:13.1216604+07:00 0HLN5UHV37FVB:00000015 [INF] Sending file. Request path: '"/admin-side/css/custom.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\css\custom.css"' (27b0a520)
2019-06-01T01:21:13.1247234+07:00 0HLN5UHV37FVE:00000007 [INF] Sending file. Request path: '"/lib/ckeditor/skins/moono/editor.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\skins\moono\editor.css"' (27b0a520)
2019-06-01T01:21:13.1440468+07:00 0HLN5UHV37FVB:00000015 [INF] Request finished in 130.9876ms 200 text/css (791a596a)
2019-06-01T01:21:13.1460907+07:00 0HLN5UHV37FVE:00000007 [INF] Request finished in 234.0184ms 200 text/css (791a596a)
2019-06-01T01:21:13.1765645+07:00 0HLN5UHV37FVD:00000005 [INF] Sending file. Request path: '"/lib/nprogress/nprogress.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\nprogress\nprogress.css"' (27b0a520)
2019-06-01T01:21:13.1880468+07:00 0HLN5UHV37FVG:0000000B [INF] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\css\bootstrap.css"' (27b0a520)
2019-06-01T01:21:13.2859399+07:00 0HLN5UHV37FVE:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/fastclick/lib/fastclick.js   (ca22a1cb)
2019-06-01T01:21:13.2894213+07:00 0HLN5UHV37FVG:0000000B [INF] Request finished in 1809.9806ms 200 text/css (791a596a)
2019-06-01T01:21:13.2911937+07:00 0HLN5UHV37FVK:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.js   (ca22a1cb)
2019-06-01T01:21:13.3171981+07:00 0HLN5UHV37FVD:00000005 [INF] Request finished in 1799.0743ms 200 text/css (791a596a)
2019-06-01T01:21:13.3300232+07:00 0HLN5UHV37FVB:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/nprogress/nprogress.js   (ca22a1cb)
2019-06-01T01:21:13.3366270+07:00 0HLN5UHV37FVG:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/mustache/mustache.js   (ca22a1cb)
2019-06-01T01:21:13.3445643+07:00 0HLN5UHV37FVE:00000008 [INF] Sending file. Request path: '"/lib/fastclick/lib/fastclick.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\fastclick\lib\fastclick.js"' (27b0a520)
2019-06-01T01:21:13.4120559+07:00 0HLN5UHV37FVD:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/signalr/signalr.js   (ca22a1cb)
2019-06-01T01:21:14.4109879+07:00 0HLN5UHV37FVB:00000016 [INF] Sending file. Request path: '"/lib/nprogress/nprogress.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\nprogress\nprogress.js"' (27b0a520)
2019-06-01T01:21:14.4187960+07:00 0HLN5UHV37FVC:00000003 [INF] Sending file. Request path: '"/lib/jquery/dist/jquery.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery\dist\jquery.js"' (27b0a520)
2019-06-01T01:21:14.4207898+07:00 0HLN5UHV37FVB:00000016 [INF] Request finished in 1106.0945ms 200 application/javascript (791a596a)
2019-06-01T01:21:14.4283823+07:00 0HLN5UHV37FVC:00000003 [INF] Request finished in 1357.2986ms 200 application/javascript (791a596a)
2019-06-01T01:21:14.4373903+07:00 0HLN5UHV37FVK:00000002 [INF] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\js\bootstrap.js"' (27b0a520)
2019-06-01T01:21:14.4578165+07:00 0HLN5UHV37FVB:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2   (ca22a1cb)
2019-06-01T01:21:14.4595561+07:00 0HLN5UHV37FVC:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/Chart.js/dist/Chart.js   (ca22a1cb)
2019-06-01T01:21:14.4702654+07:00 0HLN5UHV37FVK:00000002 [INF] Request finished in 1260.5427ms 200 application/javascript (791a596a)
2019-06-01T01:21:14.5583600+07:00 0HLN5UHV37FVG:0000000C [INF] Sending file. Request path: '"/lib/mustache/mustache.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\mustache\mustache.js"' (27b0a520)
2019-06-01T01:21:14.5729749+07:00 0HLN5UHV37FVK:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/images/img.jpg   (ca22a1cb)
2019-06-01T01:21:14.5767813+07:00 0HLN5UHV37FVG:0000000C [INF] Request finished in 1248.6317ms 200 application/javascript (791a596a)
2019-06-01T01:21:14.5907210+07:00 0HLN5UHV37FVE:00000008 [INF] Request finished in 157.4434ms 200 application/javascript (791a596a)
2019-06-01T01:21:14.6107607+07:00 0HLN5UHV37FVK:00000003 [INF] Sending file. Request path: '"/admin-side/images/img.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\images\img.jpg"' (27b0a520)
2019-06-01T01:21:14.6127058+07:00 0HLN5UHV37FVG:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css.map   (ca22a1cb)
2019-06-01T01:21:14.6254864+07:00 0HLN5UHV37FVK:00000003 [INF] Request finished in 54.7248ms 200 image/jpeg (791a596a)
2019-06-01T01:21:14.6426779+07:00 0HLN5UHV37FVE:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0   (ca22a1cb)
2019-06-01T01:21:14.6613653+07:00 0HLN5UHV37FVK:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/jquery.validate.js   (ca22a1cb)
2019-06-01T01:21:14.7697858+07:00 0HLN5UHV37FVD:00000006 [INF] Sending file. Request path: '"/lib/signalr/signalr.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\signalr\signalr.js"' (27b0a520)
2019-06-01T01:21:14.9240517+07:00 0HLN5UHV37FVE:00000009 [INF] Sending file. Request path: '"/lib/font-awesome/fonts/fontawesome-webfont.woff2"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\font-awesome\fonts\fontawesome-webfont.woff2"' (27b0a520)
2019-06-01T01:21:14.9267438+07:00 0HLN5UHV37FVK:00000004 [INF] Sending file. Request path: '"/lib/jquery-validation/dist/jquery.validate.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\jquery.validate.js"' (27b0a520)
2019-06-01T01:21:14.9442892+07:00 0HLN5UHV37FVE:00000009 [INF] Request finished in 301.3742ms 200 font/woff2 (791a596a)
2019-06-01T01:21:14.9469785+07:00 0HLN5UHV37FVK:00000004 [INF] Request finished in 285.9654ms 200 application/javascript (791a596a)
2019-06-01T01:21:14.9769530+07:00 0HLN5UHV37FVE:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation-unobtrusive/src/jquery.validate.unobtrusive.js   (ca22a1cb)
2019-06-01T01:21:14.9785821+07:00 0HLN5UHV37FVK:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/additional-methods.js   (ca22a1cb)
2019-06-01T01:21:15.0176069+07:00 0HLN5UHV37FVC:00000004 [INF] Sending file. Request path: '"/lib/Chart.js/dist/Chart.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\Chart.js\dist\Chart.js"' (27b0a520)
2019-06-01T01:21:15.0895324+07:00 0HLN5UHV37FVD:00000006 [INF] Request finished in 1427.8975ms 200 application/javascript (791a596a)
2019-06-01T01:21:15.1099833+07:00 0HLN5UHV37FVK:00000005 [INF] Sending file. Request path: '"/lib/jquery-validation/dist/additional-methods.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\additional-methods.js"' (27b0a520)
2019-06-01T01:21:15.1137416+07:00 0HLN5UHV37FVE:0000000A [INF] Sending file. Request path: '"/lib/jquery-validation-unobtrusive/src/jquery.validate.unobtrusive.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation-unobtrusive\src\jquery.validate.unobtrusive.js"' (27b0a520)
2019-06-01T01:21:15.1240029+07:00 0HLN5UHV37FVK:00000005 [INF] Request finished in 154.9708ms 200 application/javascript (791a596a)
2019-06-01T01:21:15.1262979+07:00 0HLN5UHV37FVE:0000000A [INF] Request finished in 163.0733ms 200 application/javascript (791a596a)
2019-06-01T01:21:15.1603459+07:00 0HLN5UHV37FVG:0000000D [INF] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.css.map"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\css\bootstrap.css.map"' (27b0a520)
2019-06-01T01:21:15.1877264+07:00 0HLN5UHV37FVK:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/localization/messages_vi.js   (ca22a1cb)
2019-06-01T01:21:15.2292927+07:00 0HLN5UHV37FVE:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/signalr/signalr.js.map   (ca22a1cb)
2019-06-01T01:21:15.3245975+07:00 0HLN5UHV37FVG:0000000D [INF] Request finished in 565.8411ms 200 text/plain (791a596a)
2019-06-01T01:21:15.3407123+07:00 0HLN5UHV37FVD:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/twbs-pagination/jquery.twbsPagination.js   (ca22a1cb)
2019-06-01T01:21:15.3514648+07:00 0HLN5UHV37FVG:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/ckeditor.js   (ca22a1cb)
2019-06-01T01:21:15.3556124+07:00 0HLN5UHV37FVC:00000004 [INF] Request finished in 577.2257ms 200 application/javascript (791a596a)
2019-06-01T01:21:15.3733794+07:00 0HLN5UHV37FVK:00000006 [INF] Sending file. Request path: '"/lib/jquery-validation/dist/localization/messages_vi.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\localization\messages_vi.js"' (27b0a520)
2019-06-01T01:21:15.4058700+07:00 0HLN5UHV37FVC:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/iCheck/icheck.min.js   (ca22a1cb)
2019-06-01T01:21:15.4580353+07:00 0HLN5UHV37FVK:00000006 [INF] Request finished in 239.0002ms 200 application/javascript (791a596a)
2019-06-01T01:21:15.5972445+07:00 0HLN5UHV37FVB:00000017 [INF] Sending file. Request path: '"/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\fonts\glyphicons-halflings-regular.woff2"' (27b0a520)
2019-06-01T01:21:15.6274077+07:00 0HLN5UHV37FVD:00000007 [INF] Sending file. Request path: '"/lib/twbs-pagination/jquery.twbsPagination.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\twbs-pagination\jquery.twbsPagination.js"' (27b0a520)
2019-06-01T01:21:15.6296509+07:00 0HLN5UHV37FVK:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/moment/moment.js   (ca22a1cb)
2019-06-01T01:21:15.6583307+07:00 0HLN5UHV37FVD:00000007 [INF] Request finished in 306.861ms 200 application/javascript (791a596a)
2019-06-01T01:21:15.6599381+07:00 0HLN5UHV37FVC:00000005 [INF] Sending file. Request path: '"/lib/iCheck/icheck.min.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\iCheck\icheck.min.js"' (27b0a520)
2019-06-01T01:21:15.7467232+07:00 0HLN5UHV37FVC:00000005 [INF] Request finished in 298.8487ms 200 application/javascript (791a596a)
2019-06-01T01:21:15.7974136+07:00 0HLN5UHV37FVB:00000017 [INF] Request finished in 1169.7256ms 200 font/woff2 (791a596a)
2019-06-01T01:21:16.0456195+07:00 0HLN5UHV37FVD:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/notify.js   (ca22a1cb)
2019-06-01T01:21:16.0505430+07:00 0HLN5UHV37FVC:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap-daterangepicker/daterangepicker.js   (ca22a1cb)
2019-06-01T01:21:16.0551075+07:00 0HLN5UHV37FVE:0000000B [INF] Sending file. Request path: '"/lib/signalr/signalr.js.map"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\signalr\signalr.js.map"' (27b0a520)
2019-06-01T01:21:16.0618033+07:00 0HLN5UHV37FVB:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-sparkline/dist/jquery.sparkline.js   (ca22a1cb)
2019-06-01T01:21:16.0893097+07:00 0HLN5UHV37FVE:0000000B [INF] Request finished in 910.4153ms 200 text/plain (791a596a)
2019-06-01T01:21:16.4181506+07:00 0HLN5UHV37FVD:00000008 [INF] Sending file. Request path: '"/lib/notifyjs/dist/notify.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\notify.js"' (27b0a520)
2019-06-01T01:21:16.4685029+07:00 0HLN5UHV37FVD:00000008 [INF] Request finished in 498.9632ms 200 application/javascript (791a596a)
2019-06-01T01:21:16.4864934+07:00 0HLN5UHV37FVB:00000018 [INF] Sending file. Request path: '"/lib/jquery-sparkline/dist/jquery.sparkline.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-sparkline\dist\jquery.sparkline.js"' (27b0a520)
2019-06-01T01:21:16.5596138+07:00 0HLN5UHV37FVB:00000018 [INF] Request finished in 525.4493ms 200 application/javascript (791a596a)
2019-06-01T01:21:16.5814685+07:00 0HLN5UHV37FVD:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/common.js?v=y7DqmVon23ErVGJwRwyGN-e1OscQoN09ThbEz09BtJA   (ca22a1cb)
2019-06-01T01:21:16.6180747+07:00 0HLN5UHV37FVC:00000006 [INF] Sending file. Request path: '"/lib/bootstrap-daterangepicker/daterangepicker.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap-daterangepicker\daterangepicker.js"' (27b0a520)
2019-06-01T01:21:16.7146313+07:00 0HLN5UHV37FVB:00000019 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/signalR/signalR.js?v=Nfk6vVike0aJRdJYX_p4XmzuQFtluTkuSqYJJ4Uiqm4   (ca22a1cb)
2019-06-01T01:21:16.7247277+07:00 0HLN5UHV37FVD:00000009 [INF] Sending file. Request path: '"/app/shared/common.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\shared\common.js"' (27b0a520)
2019-06-01T01:21:16.7489628+07:00 0HLN5UHV37FVE:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/styles/metro/notify-metro.js   (ca22a1cb)
2019-06-01T01:21:16.7534223+07:00 0HLN5UHV37FVD:00000009 [INF] Request finished in 228.1428ms 200 application/javascript (791a596a)
2019-06-01T01:21:16.8902996+07:00 0HLN5UHV37FVB:00000019 [INF] Sending file. Request path: '"/app/shared/signalR/signalR.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\shared\signalR\signalR.js"' (27b0a520)
2019-06-01T01:21:16.8950593+07:00 0HLN5UHV37FVE:0000000C [INF] Sending file. Request path: '"/lib/notifyjs/dist/styles/metro/notify-metro.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\styles\metro\notify-metro.js"' (27b0a520)
2019-06-01T01:21:16.9080752+07:00 0HLN5UHV37FVB:00000019 [INF] Request finished in 249.3743ms 200 application/javascript (791a596a)
2019-06-01T01:21:16.9118421+07:00 0HLN5UHV37FVE:0000000C [INF] Request finished in 273.0473ms 200 application/javascript (791a596a)
2019-06-01T01:21:16.9275672+07:00 0HLN5UHV37FVG:0000000E [INF] Sending file. Request path: '"/lib/ckeditor/ckeditor.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\ckeditor.js"' (27b0a520)
2019-06-01T01:21:16.9366597+07:00 0HLN5UHV37FVD:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=rDc09-9ksCsbdkuYsYfm8Yofs_0tQMRp8AEa7IhuJlM   (ca22a1cb)
2019-06-01T01:21:16.9477661+07:00 0HLN5UHV37FVC:00000006 [INF] Request finished in 795.6827ms 200 application/javascript (791a596a)
2019-06-01T01:21:16.9499516+07:00 0HLN5UHV37FVG:0000000E [INF] Request finished in 1594.991ms 200 application/javascript (791a596a)
2019-06-01T01:21:16.9593296+07:00 0HLN5UHV37FVD:0000000A [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T01:21:17.0569988+07:00 0HLN5UHV37FVD:0000000A [INF] Request finished in 38.7691ms 200 application/javascript (791a596a)
2019-06-01T01:21:17.0607502+07:00 0HLN5UHV37FVC:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootbox/src/bootbox.js   (ca22a1cb)
2019-06-01T01:21:17.1313651+07:00 0HLN5UHV37FVK:00000007 [INF] Sending file. Request path: '"/lib/moment/moment.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\moment\moment.js"' (27b0a520)
2019-06-01T01:21:17.2996868+07:00 0HLN5UHV37FVK:00000007 [INF] Request finished in 1519.611ms 200 application/javascript (791a596a)
2019-06-01T01:21:17.3090755+07:00 0HLN5UHV37FVC:00000007 [INF] Sending file. Request path: '"/lib/bootbox/src/bootbox.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootbox\src\bootbox.js"' (27b0a520)
2019-06-01T01:21:17.3217483+07:00 0HLN5UHV37FVC:00000007 [INF] Request finished in 340.1151ms 200 application/javascript (791a596a)
2019-06-01T01:21:17.3248039+07:00 0HLN5UHV37FVK:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/js/custom.js?v=hK7rQw3KRGvTBoFU9qYrRZAOVWKo8ugfIfdqn7el8ko   (ca22a1cb)
2019-06-01T01:21:17.4573829+07:00 0HLN5UHV37FVK:00000008 [INF] Sending file. Request path: '"/admin-side/js/custom.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\js\custom.js"' (27b0a520)
2019-06-01T01:21:17.4620726+07:00 0HLN5UHV37FVC:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:21:17.4912443+07:00 0HLN5UHV37FVK:00000008 [INF] Request finished in 146.3538ms 200 application/javascript (791a596a)
2019-06-01T01:21:17.4967302+07:00 0HLN5UHV37FVC:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:21:17.5310599+07:00 0HLN5UHV37FVC:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:21:17.5537016+07:00 0HLN5UHV37FVK:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T01:21:17.5923587+07:00 0HLN5UHV37FVC:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:17.6188403+07:00 0HLN5UHV37FVK:00000009 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:21:17.6307230+07:00 0HLN5UHV37FVC:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:21:17.6474377+07:00 0HLN5UHV37FVK:00000009 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:21:17.7285825+07:00 0HLN5UHV37FVC:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:21:17.7448225+07:00 0HLN5UHV37FVK:00000009 [INF] Request finished in 154.988ms 200 application/json (791a596a)
2019-06-01T01:21:17.7470682+07:00 0HLN5UHV37FVD:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:21:17.7616935+07:00 0HLN5UHV37FVL:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=CGG0Ege0hVGE4AzB4mQIRA   (ca22a1cb)
2019-06-01T01:21:17.7802932+07:00 0HLN5UHV37FVC:00000008 [INF] Executed DbCommand ("15"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:21:17.7812315+07:00 0HLN5UHV37FVL:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:21:17.7983354+07:00 0HLN5UHV37FVL:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:21:17.8158164+07:00 0HLN5UHV37FVC:00000008 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:21:17.8286447+07:00 0HLN5UHV37FVD:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T01:21:17.8482623+07:00 0HLN5UHV37FVC:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 185.1681ms. (50a9e262)
2019-06-01T01:21:17.8516522+07:00 0HLN5UHV37FVL:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T01:21:17.8606852+07:00 0HLN5UHV37FVC:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:21:17.8642208+07:00 0HLN5UHV37FVD:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T01:21:17.8889469+07:00 0HLN5UHV37FVC:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 330.7498ms (afa2e885)
2019-06-01T01:21:17.8933638+07:00 0HLN5UHV37FVD:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:17.9149084+07:00 0HLN5UHV37FVC:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:21:17.9256193+07:00 0HLN5UHV37FVD:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:21:17.9442412+07:00 0HLN5UHV37FVC:00000008 [INF] Request finished in 485.2143ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:21:17.9473670+07:00 0HLN5UHV37FVD:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:21:17.9603233+07:00 0HLN5UHV37FVE:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/iCheck/skins/flat/green.png   (ca22a1cb)
2019-06-01T01:21:17.9966308+07:00 0HLN5UHV37FVD:0000000B [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:21:18.0549897+07:00 0HLN5UHV37FVE:0000000D [INF] Sending file. Request path: '"/lib/iCheck/skins/flat/green.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\iCheck\skins\flat\green.png"' (27b0a520)
2019-06-01T01:21:18.0574070+07:00 0HLN5UHV37FVD:0000000B [INF] Executed DbCommand ("30"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:21:18.0610398+07:00 0HLN5UHV37FVE:0000000D [INF] Request finished in 577.976ms 200 image/png (791a596a)
2019-06-01T01:21:18.0787005+07:00 0HLN5UHV37FVD:0000000B [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T01:21:18.0796868+07:00 0HLN5UHV37FVE:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T01:21:18.0957445+07:00 0HLN5UHV37FVE:0000000E [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T01:21:18.1041027+07:00 0HLN5UHV37FVD:0000000B [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T01:21:18.1106040+07:00 0HLN5UHV37FVE:0000000E [INF] Request finished in 32.8089ms 200 image/x-icon (791a596a)
2019-06-01T01:21:18.1213396+07:00 0HLN5UHV37FVD:0000000B [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T01:21:18.1368657+07:00 0HLN5UHV37FVD:0000000B [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T01:21:18.1811537+07:00 0HLN5UHV37FVD:0000000B [INF] Executed DbCommand ("22"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T01:21:18.2316935+07:00 0HLN5UHV37FVD:0000000B [INF] Executed DbCommand ("31"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T01:21:18.2614465+07:00 0HLN5UHV37FVD:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 306.4663ms. (50a9e262)
2019-06-01T01:21:18.2905041+07:00 0HLN5UHV37FVD:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:21:18.3136863+07:00 0HLN5UHV37FVD:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 426.4723ms (afa2e885)
2019-06-01T01:21:18.3215411+07:00 0HLN5UHV37FVD:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T01:21:18.3279186+07:00 0HLN5UHV37FVD:0000000B [INF] Request finished in 891.8225ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:21:18.4403023+07:00 0HLN5UHV37FVD:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:21:18.4586810+07:00 0HLN5UHV37FVD:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:21:18.4679244+07:00 0HLN5UHV37FVD:0000000C [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:21:18.4814543+07:00 0HLN5UHV37FVD:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:18.4901021+07:00 0HLN5UHV37FVD:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:21:18.5014370+07:00 0HLN5UHV37FVD:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:21:18.5183272+07:00 0HLN5UHV37FVD:0000000C [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:21:18.5597860+07:00 0HLN5UHV37FVD:0000000C [INF] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:21:18.5749922+07:00 0HLN5UHV37FVD:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 69.7549ms. (50a9e262)
2019-06-01T01:21:18.5806385+07:00 0HLN5UHV37FVD:0000000C [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:21:18.5912789+07:00 0HLN5UHV37FVD:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 112.9737ms (afa2e885)
2019-06-01T01:21:18.5982922+07:00 0HLN5UHV37FVD:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:21:18.6083779+07:00 0HLN5UHV37FVD:0000000C [INF] Request finished in 170.0231ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:21:42.6070504+07:00 0HLN5UHV37FVD:0000000D [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/Delete application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T01:21:42.6111981+07:00 0HLN5UHV37FVD:0000000D [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:21:42.6171812+07:00 0HLN5UHV37FVD:0000000D [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:21:42.6220075+07:00 0HLN5UHV37FVD:0000000D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (500cc934)
2019-06-01T01:21:42.6301580+07:00 0HLN5UHV37FVD:0000000D [INF] Route matched with "{area = \"Admin\", action = \"Delete\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" (a44c0341)
2019-06-01T01:21:42.6364349+07:00 0HLN5UHV37FVD:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:42.6412358+07:00 0HLN5UHV37FVD:0000000D [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" with arguments (["2ad49912-7410-4423-ad35-d7ea480b033a"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:21:42.6456826+07:00 0HLN5UHV37FVD:0000000D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:21:42.6535545+07:00 0HLN5UHV37FVD:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [y].[Id], [y].[Content], [y].[DateCreated], [y].[DateModified], [y].[Status], [y].[Title], [y].[UserId]
FROM [Announcements] AS [y]
WHERE ([y].[Id] = @__id_0) AND ([y].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:21:42.6626060+07:00 0HLN5UHV37FVD:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[AnnouncementId] = @__id_0) AND ([x].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:21:42.6689530+07:00 0HLN5UHV37FVD:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T01:21:42.6745087+07:00 0HLN5UHV37FVD:0000000D [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 27.8399ms. (50a9e262)
2019-06-01T01:21:42.6785547+07:00 0HLN5UHV37FVD:0000000D [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-06-01T01:21:42.6876730+07:00 0HLN5UHV37FVD:0000000D [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" in 48.628ms (afa2e885)
2019-06-01T01:21:42.6944488+07:00 0HLN5UHV37FVD:0000000D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (99874f2b)
2019-06-01T01:21:42.7089702+07:00 0HLN5UHV37FVD:0000000D [INF] Request finished in 92.4609ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:21:42.7570920+07:00 0HLN5UHV37FVE:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:21:42.7614735+07:00 0HLN5UHV37FVD:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:21:42.7661664+07:00 0HLN5UHV37FVE:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:21:42.7717955+07:00 0HLN5UHV37FVD:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T01:21:42.7739350+07:00 0HLN5UHV37FVE:0000000F [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:21:42.7787366+07:00 0HLN5UHV37FVD:0000000E [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T01:21:42.7798600+07:00 0HLN5UHV37FVE:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:42.7863597+07:00 0HLN5UHV37FVD:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:42.7886144+07:00 0HLN5UHV37FVE:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:21:42.7956014+07:00 0HLN5UHV37FVD:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:21:42.7975830+07:00 0HLN5UHV37FVE:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:21:42.8032650+07:00 0HLN5UHV37FVD:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:21:42.8098435+07:00 0HLN5UHV37FVE:0000000F [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:21:42.8138374+07:00 0HLN5UHV37FVD:0000000E [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:21:42.8316666+07:00 0HLN5UHV37FVD:0000000E [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:21:42.8369311+07:00 0HLN5UHV37FVE:0000000F [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:21:42.8443718+07:00 0HLN5UHV37FVE:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 48.4118ms. (50a9e262)
2019-06-01T01:21:42.8463686+07:00 0HLN5UHV37FVD:0000000E [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T01:21:42.8499005+07:00 0HLN5UHV37FVE:0000000F [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:21:42.8616674+07:00 0HLN5UHV37FVE:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 76.1721ms (afa2e885)
2019-06-01T01:21:42.8645667+07:00 0HLN5UHV37FVD:0000000E [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T01:21:42.8690848+07:00 0HLN5UHV37FVE:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:21:42.8763488+07:00 0HLN5UHV37FVE:0000000F [INF] Request finished in 160.1248ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:21:42.8784370+07:00 0HLN5UHV37FVD:0000000E [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T01:21:42.8903041+07:00 0HLN5UHV37FVD:0000000E [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T01:21:42.9025342+07:00 0HLN5UHV37FVD:0000000E [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T01:21:42.9179406+07:00 0HLN5UHV37FVD:0000000E [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T01:21:42.9277846+07:00 0HLN5UHV37FVD:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 122.6599ms. (50a9e262)
2019-06-01T01:21:42.9320899+07:00 0HLN5UHV37FVD:0000000E [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:21:42.9394326+07:00 0HLN5UHV37FVD:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 153.5423ms (afa2e885)
2019-06-01T01:21:42.9429858+07:00 0HLN5UHV37FVD:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T01:21:43.9514732+07:00 0HLN5UHV37FVD:0000000E [INF] Request finished in 191.8872ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:21:45.3142939+07:00 0HLN5UHV37FVC:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/Delete application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T01:21:45.3208289+07:00 0HLN5UHV37FVD:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:21:45.3346069+07:00 0HLN5UHV37FVC:00000009 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:21:45.3409159+07:00 0HLN5UHV37FVD:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:21:45.3524888+07:00 0HLN5UHV37FVC:00000009 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:21:45.3775344+07:00 0HLN5UHV37FVD:0000000F [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:21:45.3895874+07:00 0HLN5UHV37FVC:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (500cc934)
2019-06-01T01:21:45.3945445+07:00 0HLN5UHV37FVD:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:45.4839515+07:00 0HLN5UHV37FVC:00000009 [INF] Route matched with "{area = \"Admin\", action = \"Delete\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" (a44c0341)
2019-06-01T01:21:45.4869107+07:00 0HLN5UHV37FVD:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:21:45.7980314+07:00 0HLN5UHV37FVC:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:45.8141730+07:00 0HLN5UHV37FVD:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:21:45.8393147+07:00 0HLN5UHV37FVC:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" with arguments (["2ad49912-7410-4423-ad35-d7ea480b033a"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:21:45.8418680+07:00 0HLN5UHV37FVD:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:21:45.8547636+07:00 0HLN5UHV37FVC:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:21:45.8588523+07:00 0HLN5UHV37FVD:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:21:45.8749084+07:00 0HLN5UHV37FVC:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [y].[Id], [y].[Content], [y].[DateCreated], [y].[DateModified], [y].[Status], [y].[Title], [y].[UserId]
FROM [Announcements] AS [y]
WHERE ([y].[Id] = @__id_0) AND ([y].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:21:45.8820366+07:00 0HLN5UHV37FVD:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 371.9641ms. (50a9e262)
2019-06-01T01:21:45.8933700+07:00 0HLN5UHV37FVC:00000009 [INF] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[AnnouncementId] = @__id_0) AND ([x].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:21:45.9055065+07:00 0HLN5UHV37FVD:0000000F [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:21:45.9212760+07:00 0HLN5UHV37FVC:00000009 [INF] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T01:21:45.9248501+07:00 0HLN5UHV37FVD:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 527.2225ms (afa2e885)
2019-06-01T01:21:45.9394346+07:00 0HLN5UHV37FVC:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 82.0946ms. (50a9e262)
2019-06-01T01:21:45.9406232+07:00 0HLN5UHV37FVD:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:21:45.9542691+07:00 0HLN5UHV37FVC:00000009 [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-06-01T01:21:45.9642301+07:00 0HLN5UHV37FVD:0000000F [INF] Request finished in 637.4286ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:21:45.9766399+07:00 0HLN5UHV37FVC:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" in 470.4148ms (afa2e885)
2019-06-01T01:21:45.9793526+07:00 0HLN5UHV37FVE:00000010 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/Delete application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T01:21:45.9869579+07:00 0HLN5UHV37FVC:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (99874f2b)
2019-06-01T01:21:45.9962366+07:00 0HLN5UHV37FVE:00000010 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:21:46.0276184+07:00 0HLN5UHV37FVC:00000009 [INF] Request finished in 695.6718ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:21:46.0541278+07:00 0HLN5UHV37FVD:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:21:46.0739986+07:00 0HLN5UHV37FVC:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:21:46.0809557+07:00 0HLN5UHV37FVD:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:21:46.2273054+07:00 0HLN5UHV37FVC:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T01:21:46.2482128+07:00 0HLN5UHV37FVD:00000010 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:21:46.2878542+07:00 0HLN5UHV37FVC:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T01:21:46.2898288+07:00 0HLN5UHV37FVD:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:46.3140794+07:00 0HLN5UHV37FVC:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:46.3207698+07:00 0HLN5UHV37FVD:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:21:46.3388436+07:00 0HLN5UHV37FVC:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:21:46.3408363+07:00 0HLN5UHV37FVD:00000010 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:21:46.3418155+07:00 0HLN5UHV37FVE:00000010 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:21:46.3498086+07:00 0HLN5UHV37FVC:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:21:46.3544780+07:00 0HLN5UHV37FVE:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (500cc934)
2019-06-01T01:21:46.3579365+07:00 0HLN5UHV37FVD:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:21:46.3718188+07:00 0HLN5UHV37FVE:00000010 [INF] Route matched with "{area = \"Admin\", action = \"Delete\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" (a44c0341)
2019-06-01T01:21:46.3746192+07:00 0HLN5UHV37FVC:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:21:46.3823246+07:00 0HLN5UHV37FVD:00000010 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:21:46.3867213+07:00 0HLN5UHV37FVE:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:46.3942921+07:00 0HLN5UHV37FVC:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:21:46.3982823+07:00 0HLN5UHV37FVD:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 61.6027ms. (50a9e262)
2019-06-01T01:21:46.4091677+07:00 0HLN5UHV37FVC:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T01:21:46.4102626+07:00 0HLN5UHV37FVD:00000010 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:21:46.4192329+07:00 0HLN5UHV37FVE:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" with arguments (["2ad49912-7410-4423-ad35-d7ea480b033a"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:21:46.4301009+07:00 0HLN5UHV37FVC:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T01:21:46.4386720+07:00 0HLN5UHV37FVD:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 163.1541ms (afa2e885)
2019-06-01T01:21:46.4585612+07:00 0HLN5UHV37FVC:0000000A [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T01:21:46.4705259+07:00 0HLN5UHV37FVD:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:21:46.4856680+07:00 0HLN5UHV37FVC:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T01:21:46.4894198+07:00 0HLN5UHV37FVD:00000010 [INF] Request finished in 450.7553ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:21:46.5094653+07:00 0HLN5UHV37FVC:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T01:21:46.5238275+07:00 0HLN5UHV37FVE:00000010 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:21:46.5300183+07:00 0HLN5UHV37FVC:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T01:21:46.5459510+07:00 0HLN5UHV37FVE:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [y].[Id], [y].[Content], [y].[DateCreated], [y].[DateModified], [y].[Status], [y].[Title], [y].[UserId]
FROM [Announcements] AS [y]
WHERE ([y].[Id] = @__id_0) AND ([y].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:21:46.5495096+07:00 0HLN5UHV37FVC:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 192.0325ms. (50a9e262)
2019-06-01T01:21:46.5635621+07:00 0HLN5UHV37FVE:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[AnnouncementId] = @__id_0) AND ([x].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:21:46.5714283+07:00 0HLN5UHV37FVC:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:21:46.5857598+07:00 0HLN5UHV37FVE:00000010 [INF] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T01:21:46.5891329+07:00 0HLN5UHV37FVC:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 283.8145ms (afa2e885)
2019-06-01T01:21:46.6231365+07:00 0HLN5UHV37FVE:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 166.6663ms. (50a9e262)
2019-06-01T01:21:46.6457995+07:00 0HLN5UHV37FVC:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T01:21:47.2920289+07:00 0HLN5UHV37FVE:00000010 [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-06-01T01:21:47.3884513+07:00 0HLN5UHV37FVC:0000000A [INF] Request finished in 597.9153ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:21:47.4066413+07:00 0HLN5UHV37FVE:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" in 920.4194ms (afa2e885)
2019-06-01T01:21:47.5164348+07:00 0HLN5UHV37FVC:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:21:47.5228257+07:00 0HLN5UHV37FVE:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (99874f2b)
2019-06-01T01:21:47.5450333+07:00 0HLN5UHV37FVC:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:21:47.5473622+07:00 0HLN5UHV37FVE:00000010 [INF] Request finished in 3569.1797ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:21:47.5564121+07:00 0HLN5UHV37FVC:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:21:47.5752006+07:00 0HLN5UHV37FVE:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:21:47.5764117+07:00 0HLN5UHV37FVC:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:47.5856777+07:00 0HLN5UHV37FVE:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T01:21:47.5883764+07:00 0HLN5UHV37FVC:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:21:47.5924576+07:00 0HLN5UHV37FVE:00000011 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T01:21:47.6057740+07:00 0HLN5UHV37FVC:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:21:47.6075160+07:00 0HLN5UHV37FVE:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:47.6156460+07:00 0HLN5UHV37FVC:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:21:47.6208059+07:00 0HLN5UHV37FVE:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:21:47.6274766+07:00 0HLN5UHV37FVC:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:21:47.6304235+07:00 0HLN5UHV37FVE:00000011 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:21:47.6396169+07:00 0HLN5UHV37FVC:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 39.1539ms. (50a9e262)
2019-06-01T01:21:47.6425441+07:00 0HLN5UHV37FVE:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:21:47.6476670+07:00 0HLN5UHV37FVC:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:21:47.6583426+07:00 0HLN5UHV37FVE:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:21:47.6594568+07:00 0HLN5UHV37FVC:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 92.1192ms (afa2e885)
2019-06-01T01:21:47.6712300+07:00 0HLN5UHV37FVC:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:21:47.6770864+07:00 0HLN5UHV37FVE:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T01:21:47.6890478+07:00 0HLN5UHV37FVC:0000000B [INF] Request finished in 278.1439ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:21:47.6942039+07:00 0HLN5UHV37FVE:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T01:21:47.7137116+07:00 0HLN5UHV37FVD:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:21:47.7174593+07:00 0HLN5UHV37FVE:00000011 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T01:21:47.7220044+07:00 0HLN5UHV37FVD:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:21:47.7308253+07:00 0HLN5UHV37FVE:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T01:21:47.7372081+07:00 0HLN5UHV37FVD:00000011 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:21:47.7443757+07:00 0HLN5UHV37FVE:00000011 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T01:21:47.7453841+07:00 0HLN5UHV37FVD:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:47.7542427+07:00 0HLN5UHV37FVE:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T01:21:47.7553181+07:00 0HLN5UHV37FVD:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:21:47.7644787+07:00 0HLN5UHV37FVE:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 134.5971ms. (50a9e262)
2019-06-01T01:21:47.7688405+07:00 0HLN5UHV37FVD:00000011 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:21:47.7758849+07:00 0HLN5UHV37FVE:00000011 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:21:47.7832918+07:00 0HLN5UHV37FVD:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:21:47.7908507+07:00 0HLN5UHV37FVE:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 184.7984ms (afa2e885)
2019-06-01T01:21:47.7942956+07:00 0HLN5UHV37FVD:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:21:47.8050193+07:00 0HLN5UHV37FVE:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T01:21:47.8060843+07:00 0HLN5UHV37FVD:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 39.0579ms. (50a9e262)
2019-06-01T01:21:47.8186796+07:00 0HLN5UHV37FVE:00000011 [INF] Request finished in 251.0252ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:21:47.8245495+07:00 0HLN5UHV37FVD:00000011 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:21:47.8409815+07:00 0HLN5UHV37FVD:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 86.5504ms (afa2e885)
2019-06-01T01:21:47.8482524+07:00 0HLN5UHV37FVE:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:21:47.8494094+07:00 0HLN5UHV37FVD:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:21:47.8570619+07:00 0HLN5UHV37FVE:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:21:47.8590233+07:00 0HLN5UHV37FVD:00000011 [INF] Request finished in 195.0606ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:21:47.8716777+07:00 0HLN5UHV37FVE:00000012 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:21:47.8769272+07:00 0HLN5UHV37FVE:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:47.8817937+07:00 0HLN5UHV37FVE:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:21:47.8890080+07:00 0HLN5UHV37FVE:00000012 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:21:47.8979537+07:00 0HLN5UHV37FVE:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:21:47.9081814+07:00 0HLN5UHV37FVE:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:21:47.9125871+07:00 0HLN5UHV37FVE:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 26.4787ms. (50a9e262)
2019-06-01T01:21:47.9195446+07:00 0HLN5UHV37FVE:00000012 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:21:47.9270323+07:00 0HLN5UHV37FVE:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 48.0479ms (afa2e885)
2019-06-01T01:21:47.9366933+07:00 0HLN5UHV37FVE:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:21:47.9415676+07:00 0HLN5UHV37FVE:00000012 [INF] Request finished in 100.0753ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:21:58.4904405+07:00 0HLN5UHV37FVE:00000013 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/Delete application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T01:21:58.4994165+07:00 0HLN5UHV37FVE:00000013 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:21:58.5121779+07:00 0HLN5UHV37FVE:00000013 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:21:58.5184155+07:00 0HLN5UHV37FVE:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (500cc934)
2019-06-01T01:21:58.5273115+07:00 0HLN5UHV37FVE:00000013 [INF] Route matched with "{area = \"Admin\", action = \"Delete\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" (a44c0341)
2019-06-01T01:21:58.5312581+07:00 0HLN5UHV37FVE:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:21:58.5370222+07:00 0HLN5UHV37FVE:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" with arguments (["2ad49912-7410-4423-ad35-d7ea480b033a"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:21:58.5469135+07:00 0HLN5UHV37FVE:00000013 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:21:58.5566107+07:00 0HLN5UHV37FVE:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [y].[Id], [y].[Content], [y].[DateCreated], [y].[DateModified], [y].[Status], [y].[Title], [y].[UserId]
FROM [Announcements] AS [y]
WHERE ([y].[Id] = @__id_0) AND ([y].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:21:58.5635079+07:00 0HLN5UHV37FVE:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[AnnouncementId] = @__id_0) AND ([x].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:21:58.5716071+07:00 0HLN5UHV37FVE:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T01:21:58.5819415+07:00 0HLN5UHV37FVE:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 34.7092ms. (50a9e262)
2019-06-01T01:21:58.5877528+07:00 0HLN5UHV37FVE:00000013 [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-06-01T01:21:58.5948076+07:00 0HLN5UHV37FVE:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" in 60.5082ms (afa2e885)
2019-06-01T01:21:58.5987021+07:00 0HLN5UHV37FVE:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (99874f2b)
2019-06-01T01:21:58.6154700+07:00 0HLN5UHV37FVE:00000013 [INF] Request finished in 126.9257ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:22:00.7186002+07:00 0HLN5UHV37FVE:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:22:00.7205324+07:00 0HLN5UHV37FVD:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:22:00.7301251+07:00 0HLN5UHV37FVE:00000014 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T01:22:00.7318608+07:00 0HLN5UHV37FVD:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:22:00.7455391+07:00 0HLN5UHV37FVE:00000014 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T01:22:00.7486395+07:00 0HLN5UHV37FVD:00000012 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:22:00.7549049+07:00 0HLN5UHV37FVE:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:22:00.7573127+07:00 0HLN5UHV37FVD:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:22:00.7622198+07:00 0HLN5UHV37FVE:00000014 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:22:00.7645029+07:00 0HLN5UHV37FVD:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:22:00.7745127+07:00 0HLN5UHV37FVE:00000014 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:22:00.7773106+07:00 0HLN5UHV37FVD:00000012 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:22:00.7882324+07:00 0HLN5UHV37FVE:00000014 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:22:00.7927453+07:00 0HLN5UHV37FVD:00000012 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:22:00.7963219+07:00 0HLN5UHV37FVE:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:22:00.8053389+07:00 0HLN5UHV37FVD:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:22:00.8072465+07:00 0HLN5UHV37FVE:00000014 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T01:22:00.8150021+07:00 0HLN5UHV37FVD:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 40.9ms. (50a9e262)
2019-06-01T01:22:00.8221081+07:00 0HLN5UHV37FVE:00000014 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T01:22:00.8237134+07:00 0HLN5UHV37FVD:00000012 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:22:00.8372314+07:00 0HLN5UHV37FVE:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T01:22:00.8382586+07:00 0HLN5UHV37FVD:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 75.9941ms (afa2e885)
2019-06-01T01:22:00.8507575+07:00 0HLN5UHV37FVD:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:22:00.8570972+07:00 0HLN5UHV37FVE:00000014 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T01:22:00.8634984+07:00 0HLN5UHV37FVD:00000012 [INF] Request finished in 149.8237ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:22:00.8709428+07:00 0HLN5UHV37FVE:00000014 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T01:22:00.8797215+07:00 0HLN5UHV37FVE:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T01:22:00.8874733+07:00 0HLN5UHV37FVE:00000014 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 118.6094ms. (50a9e262)
2019-06-01T01:22:00.8921038+07:00 0HLN5UHV37FVE:00000014 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:22:00.9045839+07:00 0HLN5UHV37FVE:00000014 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 146.917ms (afa2e885)
2019-06-01T01:22:00.9100571+07:00 0HLN5UHV37FVE:00000014 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T01:22:00.9276308+07:00 0HLN5UHV37FVE:00000014 [INF] Request finished in 211.6936ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:22:00.9400911+07:00 0HLN5UHV37FVE:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:22:00.9519273+07:00 0HLN5UHV37FVE:00000015 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:22:00.9615298+07:00 0HLN5UHV37FVE:00000015 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:22:00.9659048+07:00 0HLN5UHV37FVE:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:22:00.9717128+07:00 0HLN5UHV37FVE:00000015 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:22:00.9777944+07:00 0HLN5UHV37FVE:00000015 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:22:00.9879175+07:00 0HLN5UHV37FVE:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:22:00.9943458+07:00 0HLN5UHV37FVE:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:22:00.9998944+07:00 0HLN5UHV37FVE:00000015 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 22.7072ms. (50a9e262)
2019-06-01T01:22:01.0074514+07:00 0HLN5UHV37FVE:00000015 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:22:01.0199388+07:00 0HLN5UHV37FVE:00000015 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 46.0672ms (afa2e885)
2019-06-01T01:22:01.0262752+07:00 0HLN5UHV37FVE:00000015 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:22:01.0306312+07:00 0HLN5UHV37FVE:00000015 [INF] Request finished in 95.1908ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:22:18.7742337+07:00 0HLN5UHV37FVE:00000016 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/Delete application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T01:22:18.7786940+07:00 0HLN5UHV37FVE:00000016 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:22:18.7840503+07:00 0HLN5UHV37FVE:00000016 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:22:18.7879247+07:00 0HLN5UHV37FVE:00000016 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (500cc934)
2019-06-01T01:22:18.7921931+07:00 0HLN5UHV37FVE:00000016 [INF] Route matched with "{area = \"Admin\", action = \"Delete\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" (a44c0341)
2019-06-01T01:22:18.8000556+07:00 0HLN5UHV37FVE:00000016 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:22:18.8063264+07:00 0HLN5UHV37FVE:00000016 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" with arguments (["7c19658c-a91c-40fa-b8f6-050a4cfb2375"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:22:25.5205348+07:00 0HLN5UHV37FVE:00000016 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:22:25.5273241+07:00 0HLN5UHV37FVE:00000016 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [y].[Id], [y].[Content], [y].[DateCreated], [y].[DateModified], [y].[Status], [y].[Title], [y].[UserId]
FROM [Announcements] AS [y]
WHERE ([y].[Id] = @__id_0) AND ([y].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:22:25.5592794+07:00 0HLN5UHV37FVE:00000016 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[AnnouncementId] = @__id_0) AND ([x].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:22:25.5676294+07:00 0HLN5UHV37FVE:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T01:22:27.0653652+07:00 0HLN5UHV37FVE:00000016 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8243.058ms. (50a9e262)
2019-06-01T01:22:27.0773195+07:00 0HLN5UHV37FVE:00000016 [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-06-01T01:22:27.0856720+07:00 0HLN5UHV37FVE:00000016 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" in 8285.243ms (afa2e885)
2019-06-01T01:22:27.0899058+07:00 0HLN5UHV37FVE:00000016 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (99874f2b)
2019-06-01T01:22:39.1260473+07:00 0HLN5UHV37FVD:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:22:39.1269437+07:00 0HLN5UHV37FVE:00000016 [INF] Request finished in 20354.2824ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:22:39.1348871+07:00 0HLN5UHV37FVD:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:22:39.1367664+07:00 0HLN5UHV37FVE:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:22:39.1429006+07:00 0HLN5UHV37FVD:00000013 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:22:39.1445592+07:00 0HLN5UHV37FVE:00000017 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T01:22:39.1579098+07:00 0HLN5UHV37FVD:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:22:39.1591845+07:00 0HLN5UHV37FVE:00000017 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T01:22:39.1686872+07:00 0HLN5UHV37FVD:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:22:39.1699684+07:00 0HLN5UHV37FVE:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:22:39.1758851+07:00 0HLN5UHV37FVD:00000013 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:22:39.1771606+07:00 0HLN5UHV37FVE:00000017 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:22:39.1912344+07:00 0HLN5UHV37FVE:00000017 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:22:39.1958638+07:00 0HLN5UHV37FVD:00000013 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:22:39.2074293+07:00 0HLN5UHV37FVE:00000017 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:22:39.2091372+07:00 0HLN5UHV37FVD:00000013 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:22:39.2152361+07:00 0HLN5UHV37FVD:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 39.526ms. (50a9e262)
2019-06-01T01:22:39.2274096+07:00 0HLN5UHV37FVD:00000013 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:22:39.2298654+07:00 0HLN5UHV37FVE:00000017 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:22:39.2393755+07:00 0HLN5UHV37FVD:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 85.6175ms (afa2e885)
2019-06-01T01:22:39.2586387+07:00 0HLN5UHV37FVD:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:22:39.2606863+07:00 0HLN5UHV37FVE:00000017 [INF] Executed DbCommand ("16"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T01:22:39.2669361+07:00 0HLN5UHV37FVD:00000013 [INF] Request finished in 1567.2027ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:22:39.2773282+07:00 0HLN5UHV37FVE:00000017 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T01:22:39.2965262+07:00 0HLN5UHV37FVE:00000017 [INF] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T01:22:39.3124248+07:00 0HLN5UHV37FVE:00000017 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T01:22:39.3423435+07:00 0HLN5UHV37FVE:00000017 [INF] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T01:22:39.3591607+07:00 0HLN5UHV37FVE:00000017 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T01:22:39.3671283+07:00 0HLN5UHV37FVE:00000017 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 182.5884ms. (50a9e262)
2019-06-01T01:22:39.3719033+07:00 0HLN5UHV37FVE:00000017 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:22:39.3889289+07:00 0HLN5UHV37FVE:00000017 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 212.3352ms (afa2e885)
2019-06-01T01:22:39.3940722+07:00 0HLN5UHV37FVE:00000017 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T01:22:39.4057769+07:00 0HLN5UHV37FVE:00000017 [INF] Request finished in 264.0533ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:22:39.4202950+07:00 0HLN5UHV37FVE:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:22:39.4268061+07:00 0HLN5UHV37FVE:00000018 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:22:39.4318982+07:00 0HLN5UHV37FVE:00000018 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:22:39.4384553+07:00 0HLN5UHV37FVE:00000018 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:22:39.4426745+07:00 0HLN5UHV37FVE:00000018 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:22:39.4480591+07:00 0HLN5UHV37FVE:00000018 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:22:39.4591491+07:00 0HLN5UHV37FVE:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:22:39.4684041+07:00 0HLN5UHV37FVE:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:22:39.4725792+07:00 0HLN5UHV37FVE:00000018 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 25.787ms. (50a9e262)
2019-06-01T01:22:39.4875482+07:00 0HLN5UHV37FVE:00000018 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:22:39.4978239+07:00 0HLN5UHV37FVE:00000018 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 55.885ms (afa2e885)
2019-06-01T01:22:39.5020430+07:00 0HLN5UHV37FVE:00000018 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:22:39.5075683+07:00 0HLN5UHV37FVE:00000018 [INF] Request finished in 91.9781ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:26:23.3024282+07:00 0HLN5ULTNBKKM:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T01:26:23.6634655+07:00 0HLN5ULTNBKKM:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T01:26:23.7589927+07:00 0HLN5ULTNBKKM:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T01:26:23.7914427+07:00 0HLN5ULTNBKKM:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T01:26:23.8288696+07:00 0HLN5ULTNBKKM:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:26:24.0218074+07:00 0HLN5ULTNBKKM:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T01:26:24.3934093+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed DbCommand ("20"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T01:26:24.6192752+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed DbCommand ("14"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T01:26:24.8494479+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed DbCommand ("12"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T01:26:24.8934499+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed DbCommand ("16"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T01:26:24.9855507+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T01:26:25.0230723+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T01:26:25.0989159+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T01:26:25.1376735+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T01:26:25.1621641+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T01:26:25.1681370+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T01:26:25.2010063+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T01:26:25.2161366+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 1413.7933ms. (50a9e262)
2019-06-01T01:26:25.2876827+07:00 0HLN5ULTNBKKM:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T01:26:25.8961584+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed DbCommand ("42"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T01:26:25.9255881+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T01:26:26.2540815+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T01:26:26.2933930+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T01:26:26.3567550+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T01:26:26.3620777+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T01:26:26.7490814+07:00 0HLN5ULTNBKKN:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jQuery-EasyUI/themes/bootstrap/easyui.css   (ca22a1cb)
2019-06-01T01:26:26.7603256+07:00 0HLN5ULTNBKKR:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jQuery-EasyUI/themes/icon.css   (ca22a1cb)
2019-06-01T01:26:26.8576437+07:00 0HLN5ULTNBKKO:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/style.css   (ca22a1cb)
2019-06-01T01:26:26.8600083+07:00 0HLN5ULTNBKKP:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/logo.png   (ca22a1cb)
2019-06-01T01:26:26.9606153+07:00 0HLN5ULTNBKKQ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg   (ca22a1cb)
2019-06-01T01:26:26.9869452+07:00 0HLN5ULTNBKKO:00000001 [INF] Sending file. Request path: '"/client-side/style.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\style.css"' (27b0a520)
2019-06-01T01:26:27.0482554+07:00 0HLN5ULTNBKKQ:00000001 [INF] Sending file. Request path: '"/client-side/images/products/product-1.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\products\product-1.jpg"' (27b0a520)
2019-06-01T01:26:27.0656105+07:00 0HLN5ULTNBKKO:00000001 [INF] Request finished in 209.872ms 200 text/css (791a596a)
2019-06-01T01:26:27.0726632+07:00 0HLN5ULTNBKKQ:00000001 [INF] Request finished in 185.214ms 200 image/jpeg (791a596a)
2019-06-01T01:26:27.1217707+07:00 0HLN5ULTNBKKR:00000001 [INF] Sending file. Request path: '"/lib/jQuery-EasyUI/themes/icon.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jQuery-EasyUI\themes\icon.css"' (27b0a520)
2019-06-01T01:26:27.1575000+07:00 0HLN5ULTNBKKR:00000001 [INF] Request finished in 390.5433ms 200 text/css (791a596a)
2019-06-01T01:26:27.1612899+07:00 0HLN5ULTNBKKP:00000001 [INF] Sending file. Request path: '"/client-side/images/logo.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\logo.png"' (27b0a520)
2019-06-01T01:26:27.1654388+07:00 0HLN5ULTNBKKQ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/banner-left.jpg   (ca22a1cb)
2019-06-01T01:26:27.1806511+07:00 0HLN5ULTNBKKP:00000001 [INF] Request finished in 329.3057ms 200 image/png (791a596a)
2019-06-01T01:26:27.1860907+07:00 0HLN5ULTNBKKN:00000001 [INF] Sending file. Request path: '"/lib/jQuery-EasyUI/themes/bootstrap/easyui.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jQuery-EasyUI\themes\bootstrap\easyui.css"' (27b0a520)
2019-06-01T01:26:27.2246838+07:00 0HLN5ULTNBKKN:00000001 [INF] Request finished in 494.3265ms 200 text/css (791a596a)
2019-06-01T01:26:27.2328759+07:00 0HLN5ULTNBKKR:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T01:26:27.2381719+07:00 0HLN5ULTNBKKQ:00000002 [INF] Sending file. Request path: '"/client-side/images/banner-left.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\banner-left.jpg"' (27b0a520)
2019-06-01T01:26:27.2434916+07:00 0HLN5ULTNBKKO:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T01:26:27.2644996+07:00 0HLN5ULTNBKKP:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T01:26:27.2657209+07:00 0HLN5ULTNBKKQ:00000002 [INF] Request finished in 98.3169ms 200 image/jpeg (791a596a)
2019-06-01T01:26:27.3063309+07:00 0HLN5ULTNBKKO:00000002 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T01:26:27.3527722+07:00 0HLN5ULTNBKKP:00000002 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T01:26:27.3556457+07:00 0HLN5ULTNBKKR:00000002 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T01:26:27.3624046+07:00 0HLN5ULTNBKKN:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/sub1.jpg   (ca22a1cb)
2019-06-01T01:26:27.3714791+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed ViewResult - view "Index" executed in 2045.2602ms. (f66409e9)
2019-06-01T01:26:27.3791443+07:00 0HLN5ULTNBKKQ:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T01:26:27.3897195+07:00 0HLN5ULTNBKKQ:00000003 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T01:26:30.8763402+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 6141.6658ms (afa2e885)
2019-06-01T01:26:30.8945244+07:00 0HLN5ULTNBKKM:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T01:26:31.9285132+07:00 0HLN5ULTNBKKM:00000001 [INF] Request finished in 7746.5624ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T01:26:31.9310958+07:00 0HLN5ULTNBKKN:00000002 [INF] Sending file. Request path: '"/client-side/images/sub1.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\sub1.jpg"' (27b0a520)
2019-06-01T01:26:31.9323347+07:00 0HLN5ULTNBKKO:00000002 [INF] Request finished in 4692.2839ms 200 image/jpeg (791a596a)
2019-06-01T01:26:31.9484530+07:00 0HLN5ULTNBKKN:00000002 [INF] Request finished in 4635.5082ms 200 image/jpeg (791a596a)
2019-06-01T01:26:31.9642034+07:00 0HLN5ULTNBKKR:00000002 [INF] Request finished in 4736.9546ms 200 image/jpeg (791a596a)
2019-06-01T01:26:31.9656878+07:00 0HLN5ULTNBKKN:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/bootstrap.min.css   (ca22a1cb)
2019-06-01T01:26:31.9773949+07:00 0HLN5ULTNBKKQ:00000003 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T01:26:31.9832090+07:00 0HLN5ULTNBKKO:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/animate.css   (ca22a1cb)
2019-06-01T01:26:31.9885357+07:00 0HLN5ULTNBKKP:00000002 [INF] Request finished in 4732.432ms 200 image/jpeg (791a596a)
2019-06-01T01:26:31.9900077+07:00 0HLN5ULTNBKKR:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/font-awesome.min.css   (ca22a1cb)
2019-06-01T01:26:32.0239789+07:00 0HLN5ULTNBKKO:00000003 [INF] Sending file. Request path: '"/client-side/css/animate.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\animate.css"' (27b0a520)
2019-06-01T01:26:32.0254711+07:00 0HLN5ULTNBKKP:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/simple-line-icons.css   (ca22a1cb)
2019-06-01T01:26:32.0299637+07:00 0HLN5ULTNBKKO:00000003 [INF] Request finished in 48.1787ms 200 text/css (791a596a)
2019-06-01T01:26:32.0774857+07:00 0HLN5ULTNBKKR:00000003 [INF] Sending file. Request path: '"/client-side/css/font-awesome.min.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\font-awesome.min.css"' (27b0a520)
2019-06-01T01:26:32.1124341+07:00 0HLN5ULTNBKKN:00000003 [INF] Sending file. Request path: '"/client-side/css/bootstrap.min.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\bootstrap.min.css"' (27b0a520)
2019-06-01T01:26:32.1160227+07:00 0HLN5ULTNBKKP:00000003 [INF] Sending file. Request path: '"/client-side/css/simple-line-icons.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\simple-line-icons.css"' (27b0a520)
2019-06-01T01:26:32.1248579+07:00 0HLN5ULTNBKKO:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/pe-icon-7-stroke.min.css   (ca22a1cb)
2019-06-01T01:26:32.1297642+07:00 0HLN5ULTNBKKN:00000003 [INF] Request finished in 155.3527ms 200 text/css (791a596a)
2019-06-01T01:26:32.1316284+07:00 0HLN5ULTNBKKP:00000003 [INF] Request finished in 102.3013ms 200 text/css (791a596a)
2019-06-01T01:26:32.1356407+07:00 0HLN5ULTNBKKR:00000003 [INF] Request finished in 97.6535ms 200 text/css (791a596a)
2019-06-01T01:26:32.1643939+07:00 0HLN5ULTNBKKP:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/flexslider.css   (ca22a1cb)
2019-06-01T01:26:32.1660801+07:00 0HLN5ULTNBKKO:00000004 [INF] Sending file. Request path: '"/client-side/css/pe-icon-7-stroke.min.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\pe-icon-7-stroke.min.css"' (27b0a520)
2019-06-01T01:26:32.1757654+07:00 0HLN5ULTNBKKM:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/owl.carousel.css   (ca22a1cb)
2019-06-01T01:26:32.1773715+07:00 0HLN5ULTNBKKQ:00000003 [INF] Request finished in 4794.9771ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T01:26:32.1800874+07:00 0HLN5ULTNBKKO:00000004 [INF] Request finished in 83.6511ms 200 text/css (791a596a)
2019-06-01T01:26:32.1864033+07:00 0HLN5ULTNBKKP:00000004 [INF] Sending file. Request path: '"/client-side/css/flexslider.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\flexslider.css"' (27b0a520)
2019-06-01T01:26:32.1940106+07:00 0HLN5ULTNBKKP:00000004 [INF] Request finished in 29.163ms 200 text/css (791a596a)
2019-06-01T01:26:32.2033317+07:00 0HLN5ULTNBKKR:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/owl.transitions.css   (ca22a1cb)
2019-06-01T01:26:32.2081694+07:00 0HLN5ULTNBKKN:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/jquery-ui.css   (ca22a1cb)
2019-06-01T01:26:32.2137637+07:00 0HLN5ULTNBKKO:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/revolution-slider.css   (ca22a1cb)
2019-06-01T01:26:32.2173530+07:00 0HLN5ULTNBKKR:00000004 [INF] Sending file. Request path: '"/client-side/css/owl.transitions.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\owl.transitions.css"' (27b0a520)
2019-06-01T01:26:32.2264463+07:00 0HLN5ULTNBKKM:00000002 [INF] Sending file. Request path: '"/client-side/css/owl.carousel.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\owl.carousel.css"' (27b0a520)
2019-06-01T01:26:32.2272180+07:00 0HLN5ULTNBKKO:00000005 [INF] Sending file. Request path: '"/client-side/css/revolution-slider.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\revolution-slider.css"' (27b0a520)
2019-06-01T01:26:32.2381312+07:00 0HLN5ULTNBKKM:00000002 [INF] Request finished in 70.4043ms 200 text/css (791a596a)
2019-06-01T01:26:32.2405217+07:00 0HLN5ULTNBKKO:00000005 [INF] Request finished in 19.5347ms 200 text/css (791a596a)
2019-06-01T01:26:32.2491560+07:00 0HLN5ULTNBKKR:00000004 [INF] Request finished in 36.2276ms 200 text/css (791a596a)
2019-06-01T01:26:32.2627556+07:00 0HLN5ULTNBKKQ:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/quick_view_popup.css   (ca22a1cb)
2019-06-01T01:26:32.2637857+07:00 0HLN5ULTNBKKP:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/blog.css   (ca22a1cb)
2019-06-01T01:26:32.2780388+07:00 0HLN5ULTNBKKM:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/shortcode.css   (ca22a1cb)
2019-06-01T01:26:32.2805726+07:00 0HLN5ULTNBKKR:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/shortcodes/shortcodes.css   (ca22a1cb)
2019-06-01T01:26:32.2913926+07:00 0HLN5ULTNBKKP:00000005 [INF] Sending file. Request path: '"/client-side/css/blog.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\blog.css"' (27b0a520)
2019-06-01T01:26:32.2930337+07:00 0HLN5ULTNBKKM:00000003 [INF] Sending file. Request path: '"/client-side/css/shortcode.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\shortcode.css"' (27b0a520)
2019-06-01T01:26:32.2978952+07:00 0HLN5ULTNBKKP:00000005 [INF] Request finished in 33.8575ms 200 text/css (791a596a)
2019-06-01T01:26:32.3073217+07:00 0HLN5ULTNBKKM:00000003 [INF] Request finished in 28.788ms 200 text/css (791a596a)
2019-06-01T01:26:32.3114595+07:00 0HLN5ULTNBKKO:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/shortcodes/featured-box.css   (ca22a1cb)
2019-06-01T01:26:32.3317700+07:00 0HLN5ULTNBKKQ:00000004 [INF] Sending file. Request path: '"/client-side/css/quick_view_popup.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\quick_view_popup.css"' (27b0a520)
2019-06-01T01:26:32.3325011+07:00 0HLN5ULTNBKKR:00000005 [INF] Sending file. Request path: '"/client-side/css/shortcodes/shortcodes.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\shortcodes\shortcodes.css"' (27b0a520)
2019-06-01T01:26:32.3446377+07:00 0HLN5ULTNBKKO:00000006 [INF] Sending file. Request path: '"/client-side/css/shortcodes/featured-box.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\shortcodes\featured-box.css"' (27b0a520)
2019-06-01T01:26:32.3461716+07:00 0HLN5ULTNBKKR:00000005 [INF] Request finished in 71.734ms 200 text/css (791a596a)
2019-06-01T01:26:32.3469429+07:00 0HLN5ULTNBKKN:00000004 [INF] Sending file. Request path: '"/client-side/css/jquery-ui.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\jquery-ui.css"' (27b0a520)
2019-06-01T01:26:32.3538594+07:00 0HLN5ULTNBKKQ:00000004 [INF] Request finished in 76.0318ms 200 text/css (791a596a)
2019-06-01T01:26:32.3690615+07:00 0HLN5ULTNBKKO:00000006 [INF] Request finished in 56.1053ms 200 text/css (791a596a)
2019-06-01T01:26:32.3690779+07:00 0HLN5ULTNBKKN:00000004 [INF] Request finished in 156.3131ms 200 text/css (791a596a)
2019-06-01T01:26:32.3775513+07:00 0HLN5ULTNBKKM:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/shortcodes/pricing-table.css   (ca22a1cb)
2019-06-01T01:26:32.3788001+07:00 0HLN5ULTNBKKR:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/style.css   (ca22a1cb)
2019-06-01T01:26:32.3865039+07:00 0HLN5ULTNBKKQ:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/shortcodes/tooltip.css   (ca22a1cb)
2019-06-01T01:26:32.3865035+07:00 0HLN5ULTNBKKP:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/shortcodes/post.css   (ca22a1cb)
2019-06-01T01:26:32.3930064+07:00 0HLN5ULTNBKKO:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T01:26:32.3945941+07:00 0HLN5ULTNBKKN:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/responsive.css   (ca22a1cb)
2019-06-01T01:26:32.3996374+07:00 0HLN5ULTNBKKO:00000007 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T01:26:32.4028990+07:00 0HLN5ULTNBKKP:00000006 [INF] Sending file. Request path: '"/client-side/css/shortcodes/post.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\shortcodes\post.css"' (27b0a520)
2019-06-01T01:26:32.4144103+07:00 0HLN5ULTNBKKP:00000006 [INF] Request finished in 25.4752ms 200 text/css (791a596a)
2019-06-01T01:26:32.4181035+07:00 0HLN5ULTNBKKN:00000005 [INF] Sending file. Request path: '"/client-side/css/responsive.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\responsive.css"' (27b0a520)
2019-06-01T01:26:32.4428324+07:00 0HLN5ULTNBKKN:00000005 [INF] Request finished in 30.0233ms 200 text/css (791a596a)
2019-06-01T01:26:32.4438047+07:00 0HLN5ULTNBKKM:00000004 [INF] Sending file. Request path: '"/client-side/css/shortcodes/pricing-table.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\shortcodes\pricing-table.css"' (27b0a520)
2019-06-01T01:26:32.4728069+07:00 0HLN5ULTNBKKM:00000004 [INF] Request finished in 79.3307ms 200 text/css (791a596a)
2019-06-01T01:26:32.4735864+07:00 0HLN5ULTNBKKO:00000007 [INF] Request finished in 66.838ms 200 image/jpeg (791a596a)
2019-06-01T01:26:32.4910219+07:00 0HLN5ULTNBKKN:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/js/jquery.min.js   (ca22a1cb)
2019-06-01T01:26:32.4966788+07:00 0HLN5ULTNBKKQ:00000005 [INF] Sending file. Request path: '"/client-side/css/shortcodes/tooltip.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\shortcodes\tooltip.css"' (27b0a520)
2019-06-01T01:26:32.5103392+07:00 0HLN5ULTNBKKP:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/js/owl.carousel.min.js   (ca22a1cb)
2019-06-01T01:26:32.5110612+07:00 0HLN5ULTNBKKQ:00000005 [INF] Request finished in 119.2313ms 200 text/css (791a596a)
2019-06-01T01:26:32.5134674+07:00 0HLN5ULTNBKKM:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/js/bootstrap.min.js   (ca22a1cb)
2019-06-01T01:26:32.5148643+07:00 0HLN5ULTNBKKR:00000006 [INF] Sending file. Request path: '"/client-side/css/style.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\style.css"' (27b0a520)
2019-06-01T01:26:32.5325549+07:00 0HLN5ULTNBKKM:00000005 [INF] Sending file. Request path: '"/client-side/js/bootstrap.min.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\js\bootstrap.min.js"' (27b0a520)
2019-06-01T01:26:32.5393635+07:00 0HLN5ULTNBKKR:00000006 [INF] Request finished in 149.7281ms 200 text/css (791a596a)
2019-06-01T01:26:32.5454481+07:00 0HLN5ULTNBKKM:00000005 [INF] Request finished in 37.2462ms 200 application/javascript (791a596a)
2019-06-01T01:26:32.5581524+07:00 0HLN5ULTNBKKO:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/js/mobile-menu.js   (ca22a1cb)
2019-06-01T01:26:32.5635342+07:00 0HLN5ULTNBKKQ:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/js/jquery-ui.js   (ca22a1cb)
2019-06-01T01:26:32.5734451+07:00 0HLN5ULTNBKKP:00000007 [INF] Sending file. Request path: '"/client-side/js/owl.carousel.min.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\js\owl.carousel.min.js"' (27b0a520)
2019-06-01T01:26:32.5757212+07:00 0HLN5ULTNBKKR:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/js/main.js   (ca22a1cb)
2019-06-01T01:26:32.5881577+07:00 0HLN5ULTNBKKP:00000007 [INF] Request finished in 78.1135ms 200 application/javascript (791a596a)
2019-06-01T01:26:32.6143624+07:00 0HLN5ULTNBKKM:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/js/countdown.js   (ca22a1cb)
2019-06-01T01:26:32.6423177+07:00 0HLN5ULTNBKKR:00000007 [INF] Sending file. Request path: '"/client-side/js/main.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\js\main.js"' (27b0a520)
2019-06-01T01:26:32.6528025+07:00 0HLN5ULTNBKKP:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/js/revolution-slider.js   (ca22a1cb)
2019-06-01T01:26:32.6565945+07:00 0HLN5ULTNBKKM:00000006 [INF] Sending file. Request path: '"/client-side/js/countdown.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\js\countdown.js"' (27b0a520)
2019-06-01T01:26:32.6575188+07:00 0HLN5ULTNBKKR:00000007 [INF] Request finished in 82.8942ms 200 application/javascript (791a596a)
2019-06-01T01:26:32.6640633+07:00 0HLN5ULTNBKKM:00000006 [INF] Request finished in 76.1877ms 200 application/javascript (791a596a)
2019-06-01T01:26:32.6762195+07:00 0HLN5ULTNBKKR:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-app/shared/localize/resources.vi-VN.js   (ca22a1cb)
2019-06-01T01:26:32.6952118+07:00 0HLN5ULTNBKKO:00000008 [INF] Sending file. Request path: '"/client-side/js/mobile-menu.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\js\mobile-menu.js"' (27b0a520)
2019-06-01T01:26:32.6953485+07:00 0HLN5ULTNBKKQ:00000006 [INF] Sending file. Request path: '"/client-side/js/jquery-ui.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\js\jquery-ui.js"' (27b0a520)
2019-06-01T01:26:32.6980808+07:00 0HLN5ULTNBKKM:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-app/shared/common.js   (ca22a1cb)
2019-06-01T01:26:32.7111810+07:00 0HLN5ULTNBKKQ:00000006 [INF] Request finished in 149.8656ms 200 application/javascript (791a596a)
2019-06-01T01:26:32.7157759+07:00 0HLN5ULTNBKKN:00000006 [INF] Sending file. Request path: '"/client-side/js/jquery.min.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\js\jquery.min.js"' (27b0a520)
2019-06-01T01:26:32.7276775+07:00 0HLN5ULTNBKKN:00000006 [INF] Request finished in 240.1091ms 200 application/javascript (791a596a)
2019-06-01T01:26:32.7130900+07:00 0HLN5ULTNBKKO:00000008 [INF] Request finished in 155.9706ms 200 application/javascript (791a596a)
2019-06-01T01:26:32.7285927+07:00 0HLN5ULTNBKKR:00000008 [INF] Sending file. Request path: '"/client-app/shared/localize/resources.vi-VN.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-app\shared\localize\resources.vi-VN.js"' (27b0a520)
2019-06-01T01:26:32.7410912+07:00 0HLN5ULTNBKKM:00000007 [INF] Sending file. Request path: '"/client-app/shared/common.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-app\shared\common.js"' (27b0a520)
2019-06-01T01:26:32.7429046+07:00 0HLN5ULTNBKKR:00000008 [INF] Request finished in 67.2655ms 200 application/javascript (791a596a)
2019-06-01T01:26:33.0410369+07:00 0HLN5ULTNBKKM:00000007 [INF] Request finished in 66.7879ms 200 application/javascript (791a596a)
2019-06-01T01:26:33.0620925+07:00 0HLN5ULTNBKKQ:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-app/controllers/base/index.js   (ca22a1cb)
2019-06-01T01:26:33.0677803+07:00 0HLN5ULTNBKKO:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/signalR/signalR.js   (ca22a1cb)
2019-06-01T01:26:33.0679112+07:00 0HLN5ULTNBKKN:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-app/controllers/product/catalog.js?v=f9C_0JaK81vkAC8oeeiwmvwj5TRDE6Asnpcqd5YxHtM   (ca22a1cb)
2019-06-01T01:26:33.0748072+07:00 0HLN5ULTNBKKN:00000007 [INF] Sending file. Request path: '"/client-app/controllers/product/catalog.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-app\controllers\product\catalog.js"' (27b0a520)
2019-06-01T01:26:33.0767402+07:00 0HLN5ULTNBKKO:00000009 [INF] Sending file. Request path: '"/app/shared/signalR/signalR.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\shared\signalR\signalR.js"' (27b0a520)
2019-06-01T01:26:33.0895242+07:00 0HLN5ULTNBKKR:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T01:26:33.0902889+07:00 0HLN5ULTNBKKN:00000007 [INF] Request finished in 14.2473ms 200 application/javascript (791a596a)
2019-06-01T01:26:33.0964547+07:00 0HLN5ULTNBKKO:00000009 [INF] Request finished in 330.1389ms 200 application/javascript (791a596a)
2019-06-01T01:26:33.0972006+07:00 0HLN5ULTNBKKR:00000009 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T01:26:33.0985868+07:00 0HLN5ULTNBKKQ:00000007 [INF] Sending file. Request path: '"/client-app/controllers/base/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-app\controllers\base\index.js"' (27b0a520)
2019-06-01T01:26:33.1076699+07:00 0HLN5ULTNBKKP:00000008 [INF] Sending file. Request path: '"/client-side/js/revolution-slider.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\js\revolution-slider.js"' (27b0a520)
2019-06-01T01:26:33.1084518+07:00 0HLN5ULTNBKKQ:00000007 [INF] Request finished in 344.3395ms 200 application/javascript (791a596a)
2019-06-01T01:26:33.1161171+07:00 0HLN5ULTNBKKP:00000008 [INF] Request finished in 469.6025ms 200 application/javascript (791a596a)
2019-06-01T01:26:33.1205839+07:00 0HLN5ULTNBKKM:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T01:26:33.1274208+07:00 0HLN5ULTNBKKO:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/sub1a.jpg   (ca22a1cb)
2019-06-01T01:26:33.1297547+07:00 0HLN5ULTNBKKM:00000008 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T01:26:33.1372067+07:00 0HLN5ULTNBKKQ:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T01:26:33.1416854+07:00 0HLN5ULTNBKKP:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T01:26:33.1435533+07:00 0HLN5ULTNBKKQ:00000008 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T01:26:33.1577695+07:00 0HLN5ULTNBKKP:00000009 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T01:26:33.1730495+07:00 0HLN5ULTNBKKP:00000009 [INF] Serving from cache (7e5e9bde)
2019-06-01T01:26:33.1779544+07:00 0HLN5ULTNBKKP:00000009 [INF] Request finished in 43.4309ms 200 image/jpeg (791a596a)
2019-06-01T01:26:33.1818130+07:00 0HLN5ULTNBKKQ:00000008 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T01:26:33.1874720+07:00 0HLN5ULTNBKKR:00000009 [INF] Request finished in 103.0587ms 200 image/jpeg (791a596a)
2019-06-01T01:26:33.1936878+07:00 0HLN5ULTNBKKO:0000000A [INF] Sending file. Request path: '"/client-side/images/sub1a.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\sub1a.jpg"' (27b0a520)
2019-06-01T01:26:33.2096304+07:00 0HLN5ULTNBKKO:0000000A [INF] Request finished in 73.1568ms 200 image/jpeg (791a596a)
2019-06-01T01:26:33.2117583+07:00 0HLN5ULTNBKKM:00000008 [INF] Request finished in 92.1233ms 200 image/jpeg (791a596a)
2019-06-01T01:26:33.2250145+07:00 0HLN5ULTNBKKO:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T01:26:33.2292340+07:00 0HLN5ULTNBKKP:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T01:26:33.2320446+07:00 0HLN5ULTNBKKO:0000000B [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T01:26:33.2328188+07:00 0HLN5ULTNBKKR:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand1.png   (ca22a1cb)
2019-06-01T01:26:33.2381730+07:00 0HLN5ULTNBKKP:0000000A [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T01:26:33.2428635+07:00 0HLN5ULTNBKKP:0000000A [INF] Serving from cache (7e5e9bde)
2019-06-01T01:26:33.2429341+07:00 0HLN5ULTNBKKN:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T01:26:33.2478161+07:00 0HLN5ULTNBKKP:0000000A [INF] Request finished in 27.8141ms 200 image/jpeg (791a596a)
2019-06-01T01:26:33.2485784+07:00 0HLN5ULTNBKKN:00000008 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T01:26:33.2579388+07:00 0HLN5ULTNBKKN:00000008 [INF] Serving from cache (7e5e9bde)
2019-06-01T01:26:33.2630604+07:00 0HLN5ULTNBKKM:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand2.png   (ca22a1cb)
2019-06-01T01:26:33.2655744+07:00 0HLN5ULTNBKKN:00000008 [INF] Request finished in 21.3406ms 200 image/jpeg (791a596a)
2019-06-01T01:26:33.2744290+07:00 0HLN5ULTNBKKQ:00000008 [INF] Request finished in 138.0588ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T01:26:33.2927383+07:00 0HLN5ULTNBKKR:0000000A [INF] Sending file. Request path: '"/client-side/images/brand1.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand1.png"' (27b0a520)
2019-06-01T01:26:33.2947075+07:00 0HLN5ULTNBKKM:00000009 [INF] Sending file. Request path: '"/client-side/images/brand2.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand2.png"' (27b0a520)
2019-06-01T01:26:33.2985553+07:00 0HLN5ULTNBKKR:0000000A [INF] Request finished in 70.5701ms 200 image/png (791a596a)
2019-06-01T01:26:33.9104411+07:00 0HLN5ULTNBKKM:00000009 [INF] Request finished in 39.8895ms 200 image/png (791a596a)
2019-06-01T01:26:33.9393953+07:00 0HLN5ULTNBKKO:0000000B [INF] Request finished in 694.1432ms 200 image/jpeg (791a596a)
2019-06-01T01:26:33.9448984+07:00 0HLN5ULTNBKKN:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand4.png   (ca22a1cb)
2019-06-01T01:26:33.9535233+07:00 0HLN5ULTNBKKP:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand3.png   (ca22a1cb)
2019-06-01T01:26:35.5885823+07:00 0HLN5ULTNBKKO:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand6.png   (ca22a1cb)
2019-06-01T01:26:35.5919620+07:00 0HLN5ULTNBKKM:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand7.png   (ca22a1cb)
2019-06-01T01:26:35.5943969+07:00 0HLN5ULTNBKKS:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand5.png   (ca22a1cb)
2019-06-01T01:26:37.9647704+07:00 0HLN5ULTNBKKR:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand8.png   (ca22a1cb)
2019-06-01T01:26:37.9929029+07:00 0HLN5ULTNBKKN:00000009 [INF] Sending file. Request path: '"/client-side/images/brand4.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand4.png"' (27b0a520)
2019-06-01T01:26:39.6659619+07:00 0HLN5ULTNBKKM:0000000A [INF] Sending file. Request path: '"/client-side/images/brand7.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand7.png"' (27b0a520)
2019-06-01T01:26:39.6709785+07:00 0HLN5ULTNBKKN:00000009 [INF] Request finished in 4056.317ms 200 image/png (791a596a)
2019-06-01T01:26:39.6804710+07:00 0HLN5ULTNBKKM:0000000A [INF] Request finished in 5717.3711ms 200 image/png (791a596a)
2019-06-01T01:26:39.6876127+07:00 0HLN5ULTNBKKN:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T01:26:39.6999167+07:00 0HLN5ULTNBKKM:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand11.png   (ca22a1cb)
2019-06-01T01:26:39.7060939+07:00 0HLN5ULTNBKKS:00000001 [INF] Sending file. Request path: '"/client-side/images/brand5.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand5.png"' (27b0a520)
2019-06-01T01:26:39.7144270+07:00 0HLN5ULTNBKKN:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T01:26:39.7164045+07:00 0HLN5ULTNBKKS:00000001 [INF] Request finished in 5757.5035ms 200 image/png (791a596a)
2019-06-01T01:26:39.7281091+07:00 0HLN5ULTNBKKM:0000000B [INF] Sending file. Request path: '"/client-side/images/brand11.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand11.png"' (27b0a520)
2019-06-01T01:26:39.7298908+07:00 0HLN5ULTNBKKN:0000000A [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T01:26:39.7388816+07:00 0HLN5ULTNBKKM:0000000B [INF] Request finished in 42.4352ms 200 image/png (791a596a)
2019-06-01T01:26:39.7452381+07:00 0HLN5ULTNBKKN:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T01:26:40.4442129+07:00 0HLN5ULTNBKKM:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/banner-women.jpg   (ca22a1cb)
2019-06-01T01:26:40.4452910+07:00 0HLN5ULTNBKKN:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2941ms. (50a9e262)
2019-06-01T01:26:40.4568332+07:00 0HLN5ULTNBKKO:0000000C [INF] Sending file. Request path: '"/client-side/images/brand6.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand6.png"' (27b0a520)
2019-06-01T01:26:40.4588709+07:00 0HLN5ULTNBKKS:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand9.png   (ca22a1cb)
2019-06-01T01:26:40.4659466+07:00 0HLN5ULTNBKKO:0000000C [INF] Request finished in 6508.1066ms 200 image/png (791a596a)
2019-06-01T01:26:40.4693357+07:00 0HLN5ULTNBKKR:0000000B [INF] Sending file. Request path: '"/client-side/images/brand8.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand8.png"' (27b0a520)
2019-06-01T01:26:40.4976643+07:00 0HLN5ULTNBKKR:0000000B [INF] Request finished in 4901.7741ms 200 image/png (791a596a)
2019-06-01T01:26:40.4998781+07:00 0HLN5ULTNBKKO:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/banner-sunglasses.jpg   (ca22a1cb)
2019-06-01T01:26:40.5086641+07:00 0HLN5ULTNBKKP:0000000B [INF] Sending file. Request path: '"/client-side/images/brand3.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand3.png"' (27b0a520)
2019-06-01T01:26:40.5104228+07:00 0HLN5ULTNBKKR:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/banner-kids.jpg   (ca22a1cb)
2019-06-01T01:26:40.5228565+07:00 0HLN5ULTNBKKN:0000000A [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T01:26:40.5249828+07:00 0HLN5ULTNBKKS:00000002 [INF] Sending file. Request path: '"/client-side/images/brand9.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand9.png"' (27b0a520)
2019-06-01T01:26:40.5283445+07:00 0HLN5ULTNBKKP:0000000B [INF] Request finished in 6566.7711ms 200 image/png (791a596a)
2019-06-01T01:26:40.5407518+07:00 0HLN5ULTNBKKS:00000002 [INF] Request finished in 790.7695ms 200 image/png (791a596a)
2019-06-01T01:26:40.5494160+07:00 0HLN5ULTNBKKO:0000000D [INF] Sending file. Request path: '"/client-side/images/banner-sunglasses.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\banner-sunglasses.jpg"' (27b0a520)
2019-06-01T01:26:40.5544018+07:00 0HLN5ULTNBKKM:0000000C [INF] Sending file. Request path: '"/client-side/images/banner-women.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\banner-women.jpg"' (27b0a520)
2019-06-01T01:26:40.5578883+07:00 0HLN5ULTNBKKO:0000000D [INF] Request finished in 78.2739ms 200 image/jpeg (791a596a)
2019-06-01T01:26:40.5648572+07:00 0HLN5ULTNBKKM:0000000C [INF] Request finished in 813.1453ms 200 image/jpeg (791a596a)
2019-06-01T01:26:40.5692158+07:00 0HLN5ULTNBKKS:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/banner-arrival.jpg   (ca22a1cb)
2019-06-01T01:26:40.5708034+07:00 0HLN5ULTNBKKO:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/footer-logo.png   (ca22a1cb)
2019-06-01T01:26:40.5811686+07:00 0HLN5ULTNBKKP:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand10.png   (ca22a1cb)
2019-06-01T01:26:40.5854131+07:00 0HLN5ULTNBKKR:0000000C [INF] Sending file. Request path: '"/client-side/images/banner-kids.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\banner-kids.jpg"' (27b0a520)
2019-06-01T01:26:40.5909011+07:00 0HLN5ULTNBKKM:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/visa.png   (ca22a1cb)
2019-06-01T01:26:40.5971698+07:00 0HLN5ULTNBKKS:00000003 [INF] Sending file. Request path: '"/client-side/images/banner-arrival.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\banner-arrival.jpg"' (27b0a520)
2019-06-01T01:26:40.6045605+07:00 0HLN5ULTNBKKR:0000000C [INF] Request finished in 81.8177ms 200 image/jpeg (791a596a)
2019-06-01T01:26:40.6126627+07:00 0HLN5ULTNBKKO:0000000E [INF] Sending file. Request path: '"/client-side/images/footer-logo.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\footer-logo.png"' (27b0a520)
2019-06-01T01:26:40.6189064+07:00 0HLN5ULTNBKKS:00000003 [INF] Request finished in 40.299ms 200 image/jpeg (791a596a)
2019-06-01T01:26:40.6212658+07:00 0HLN5ULTNBKKO:0000000E [INF] Request finished in 50.7707ms 200 image/png (791a596a)
2019-06-01T01:26:40.6289392+07:00 0HLN5ULTNBKKM:0000000D [INF] Sending file. Request path: '"/client-side/images/visa.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\visa.png"' (27b0a520)
2019-06-01T01:26:40.6309523+07:00 0HLN5ULTNBKKS:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/discover.png   (ca22a1cb)
2019-06-01T01:26:40.6400797+07:00 0HLN5ULTNBKKP:0000000C [INF] Sending file. Request path: '"/client-side/images/brand10.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand10.png"' (27b0a520)
2019-06-01T01:26:40.6447115+07:00 0HLN5ULTNBKKM:0000000D [INF] Request finished in 52.7683ms 200 image/png (791a596a)
2019-06-01T01:26:40.6498142+07:00 0HLN5ULTNBKKS:00000004 [INF] Sending file. Request path: '"/client-side/images/discover.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\discover.png"' (27b0a520)
2019-06-01T01:26:40.6569182+07:00 0HLN5ULTNBKKP:0000000C [INF] Request finished in 64.7371ms 200 image/png (791a596a)
2019-06-01T01:26:40.6578938+07:00 0HLN5ULTNBKKS:00000004 [INF] Request finished in 26.3864ms 200 image/png (791a596a)
2019-06-01T01:26:40.6680411+07:00 0HLN5ULTNBKKP:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/master-card.png   (ca22a1cb)
2019-06-01T01:26:40.6779803+07:00 0HLN5ULTNBKKR:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/paypal.png   (ca22a1cb)
2019-06-01T01:26:40.7644003+07:00 0HLN5ULTNBKKP:0000000D [INF] Sending file. Request path: '"/client-side/images/master-card.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\master-card.png"' (27b0a520)
2019-06-01T01:26:40.7661007+07:00 0HLN5ULTNBKKN:0000000A [INF] Executed ViewResult - view "Index" executed in 232.3446ms. (f66409e9)
2019-06-01T01:26:40.7740200+07:00 0HLN5ULTNBKKS:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/bundled/site-admin.min.js   (ca22a1cb)
2019-06-01T01:26:40.7751039+07:00 0HLN5ULTNBKKN:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 1036.3211ms (afa2e885)
2019-06-01T01:26:40.7818821+07:00 0HLN5ULTNBKKR:0000000D [INF] Connection id ""0HLN5ULTNBKKR"", Request id ""0HLN5ULTNBKKR:0000000D"": the application aborted the connection. (9f49aef1)
2019-06-01T01:26:40.7852417+07:00 0HLN5ULTNBKKN:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T01:26:40.7979670+07:00 0HLN5ULTNBKKS:00000005 [INF] Sending file. Request path: '"/bundled/site-admin.min.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\bundled\site-admin.min.js"' (27b0a520)
2019-06-01T01:26:40.7996736+07:00 0HLN5ULTNBKKN:0000000A [INF] Request finished in 1106.5311ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T01:26:40.8070066+07:00 0HLN5ULTNBKKS:00000005 [INF] Request finished in 38.3909ms 200 application/javascript (791a596a)
2019-06-01T01:26:40.8080142+07:00 0HLN5ULTNBKKR:0000000D [INF] Sending file. Request path: '"/client-side/images/paypal.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\paypal.png"' (27b0a520)
2019-06-01T01:26:40.8155194+07:00 0HLN5ULTNBKKR:0000000D [INF] Request finished in 142.6861ms 0 image/png (791a596a)
2019-06-01T01:26:40.8206471+07:00 0HLN5ULTNBKKP:0000000D [INF] Request finished in 104.191ms 200 image/png (791a596a)
2019-06-01T01:26:40.8285459+07:00 0HLN5ULTNBKKP:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/animate.css/animate.css   (ca22a1cb)
2019-06-01T01:26:40.8380514+07:00 0HLN5ULTNBKKP:0000000E [INF] Sending file. Request path: '"/lib/animate.css/animate.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\animate.css\animate.css"' (27b0a520)
2019-06-01T01:26:40.8429847+07:00 0HLN5ULTNBKKP:0000000E [INF] Request finished in 13.9946ms 200 text/css (791a596a)
2019-06-01T01:26:44.4500955+07:00 0HLN5ULTNBKKP:0000000F [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T01:26:44.4588332+07:00 0HLN5ULTNBKKP:0000000F [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:26:44.4619725+07:00 0HLN5ULTNBKKP:0000000F [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:26:44.4699220+07:00 0HLN5ULTNBKKP:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T01:26:44.4901209+07:00 0HLN5ULTNBKKP:0000000F [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T01:26:44.5458370+07:00 0HLN5ULTNBKKP:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:26:49.7220390+07:00 0HLN5ULTNBKKP:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:26:49.8015284+07:00 0HLN5ULTNBKKP:0000000F [INF] Executed DbCommand ("32"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T01:26:50.5348261+07:00 0HLN5ULTNBKKP:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T01:26:50.5744547+07:00 0HLN5ULTNBKKP:0000000F [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:26:50.5938184+07:00 0HLN5ULTNBKKP:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T01:26:50.6181704+07:00 0HLN5ULTNBKKP:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T01:26:50.6249281+07:00 0HLN5ULTNBKKP:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T01:26:50.6293847+07:00 0HLN5ULTNBKKP:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T01:26:50.6342857+07:00 0HLN5ULTNBKKP:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T01:26:50.6387205+07:00 0HLN5ULTNBKKP:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T01:26:50.6449465+07:00 0HLN5ULTNBKKP:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:26:50.6588078+07:00 0HLN5ULTNBKKP:0000000F [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T01:26:50.6646207+07:00 0HLN5ULTNBKKP:0000000F [INF] User logged in. (fdce0db4)
2019-06-01T01:26:50.6701219+07:00 0HLN5ULTNBKKP:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6120.9573ms. (50a9e262)
2019-06-01T01:26:50.6805223+07:00 0HLN5ULTNBKKP:0000000F [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T01:26:51.2893164+07:00 0HLN5ULTNBKKP:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 6787.3751ms (afa2e885)
2019-06-01T01:26:51.2937467+07:00 0HLN5ULTNBKKP:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T01:26:51.3013311+07:00 0HLN5ULTNBKKP:0000000F [INF] Request finished in 6850.1758ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:26:51.3234755+07:00 0HLN5ULTNBKKP:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T01:26:51.3299370+07:00 0HLN5ULTNBKKP:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T01:26:51.3378089+07:00 0HLN5ULTNBKKP:00000010 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T01:26:51.3543480+07:00 0HLN5ULTNBKKP:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:26:51.3588748+07:00 0HLN5ULTNBKKP:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T01:26:51.3640313+07:00 0HLN5ULTNBKKP:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3524ms. (50a9e262)
2019-06-01T01:26:51.3728862+07:00 0HLN5ULTNBKKP:00000010 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T01:26:51.3859390+07:00 0HLN5ULTNBKKP:00000010 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:26:51.4274163+07:00 0HLN5ULTNBKKP:00000010 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T01:26:51.4424414+07:00 0HLN5ULTNBKKP:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:26:51.4719995+07:00 0HLN5ULTNBKKP:00000010 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T01:26:51.4754805+07:00 0HLN5ULTNBKKP:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:26:51.4914785+07:00 0HLN5ULTNBKKP:00000010 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T01:26:51.4948745+07:00 0HLN5ULTNBKKP:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:26:51.5109143+07:00 0HLN5ULTNBKKP:00000010 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T01:26:51.5143925+07:00 0HLN5ULTNBKKP:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:26:51.5566591+07:00 0HLN5ULTNBKKP:00000010 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T01:26:51.6296407+07:00 0HLN5ULTNBKKP:00000010 [INF] Executed ViewResult - view "Index" executed in 256.0931ms. (f66409e9)
2019-06-01T01:26:51.7033506+07:00 0HLN5ULTNBKKP:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 291.9753ms (afa2e885)
2019-06-01T01:26:51.7085838+07:00 0HLN5ULTNBKKP:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T01:26:51.7214145+07:00 0HLN5ULTNBKKP:00000010 [INF] Request finished in 396.4617ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T01:26:51.8464322+07:00 0HLN5ULTNBKKP:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=rDc09-9ksCsbdkuYsYfm8Yofs_0tQMRp8AEa7IhuJlM   (ca22a1cb)
2019-06-01T01:26:51.8489725+07:00 0HLN5ULTNBKKS:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot/jquery.flot.js   (ca22a1cb)
2019-06-01T01:26:51.8562742+07:00 0HLN5ULTNBKKN:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot/jquery.flot.pie.js   (ca22a1cb)
2019-06-01T01:26:51.8613351+07:00 0HLN5ULTNBKKO:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot/jquery.flot.stack.js   (ca22a1cb)
2019-06-01T01:26:51.8705129+07:00 0HLN5ULTNBKKM:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot/jquery.flot.time.js   (ca22a1cb)
2019-06-01T01:26:51.8743718+07:00 0HLN5ULTNBKKP:00000011 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T01:26:51.8790179+07:00 0HLN5ULTNBKKN:0000000B [INF] Sending file. Request path: '"/lib/flot/jquery.flot.pie.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot\jquery.flot.pie.js"' (27b0a520)
2019-06-01T01:26:51.8859976+07:00 0HLN5ULTNBKKM:0000000E [INF] Sending file. Request path: '"/lib/flot/jquery.flot.time.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot\jquery.flot.time.js"' (27b0a520)
2019-06-01T01:26:51.8914946+07:00 0HLN5ULTNBKKO:0000000F [INF] Sending file. Request path: '"/lib/flot/jquery.flot.stack.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot\jquery.flot.stack.js"' (27b0a520)
2019-06-01T01:26:51.8938327+07:00 0HLN5ULTNBKKM:0000000E [INF] Request finished in 29.0403ms 200 application/javascript (791a596a)
2019-06-01T01:26:51.8956690+07:00 0HLN5ULTNBKKP:00000011 [INF] Request finished in 44.5291ms 304 application/javascript (791a596a)
2019-06-01T01:26:51.9364119+07:00 0HLN5ULTNBKKN:0000000B [INF] Request finished in 39.1141ms 200 application/javascript (791a596a)
2019-06-01T01:26:51.9421321+07:00 0HLN5ULTNBKKM:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot.orderbars/examples/js/flot/flot.js?v=ZWkLRHhD6K51A_MsBsEn6_Fff_35iRylixXwYcivq1E   (ca22a1cb)
2019-06-01T01:26:51.9446141+07:00 0HLN5ULTNBKKT:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot.curvedlines/curvedLines.js?v=9AKXK0iOIqYrz8VFbQaczNFQXQFFo-d-jarmfaYOleI   (ca22a1cb)
2019-06-01T01:26:51.9591938+07:00 0HLN5ULTNBKKN:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot/jquery.flot.resize.js   (ca22a1cb)
2019-06-01T01:26:51.9760463+07:00 0HLN5ULTNBKKT:00000001 [INF] Sending file. Request path: '"/lib/flot.curvedlines/curvedLines.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot.curvedlines\curvedLines.js"' (27b0a520)
2019-06-01T01:26:51.9799954+07:00 0HLN5ULTNBKKP:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/DateJS/build/date.js?v=9-ciUBQZlmXXgLiiI8v2hLUf1BMGgBez1dTPyiOwPjg   (ca22a1cb)
2019-06-01T01:26:51.9906575+07:00 0HLN5ULTNBKKT:00000001 [INF] Request finished in 40.4594ms 200 application/javascript (791a596a)
2019-06-01T01:26:51.9923417+07:00 0HLN5ULTNBKKS:00000006 [INF] Sending file. Request path: '"/lib/flot/jquery.flot.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot\jquery.flot.js"' (27b0a520)
2019-06-01T01:26:52.0296991+07:00 0HLN5ULTNBKKN:0000000C [INF] Sending file. Request path: '"/lib/flot/jquery.flot.resize.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot\jquery.flot.resize.js"' (27b0a520)
2019-06-01T01:26:52.0348076+07:00 0HLN5ULTNBKKS:00000006 [INF] Request finished in 152.4584ms 200 application/javascript (791a596a)
2019-06-01T01:26:52.0467584+07:00 0HLN5ULTNBKKM:0000000F [INF] Sending file. Request path: '"/lib/flot.orderbars/examples/js/flot/flot.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot.orderbars\examples\js\flot\flot.js"' (27b0a520)
2019-06-01T01:26:52.0561664+07:00 0HLN5ULTNBKKN:0000000C [INF] Request finished in 83.8394ms 200 application/javascript (791a596a)
2019-06-01T01:26:52.0600798+07:00 0HLN5ULTNBKKM:0000000F [INF] Request finished in 112.8355ms 200 application/javascript (791a596a)
2019-06-01T01:26:52.0618107+07:00 0HLN5ULTNBKKT:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/home/index.js?v=KwTBcLrSL0xc_e8eO4oOAEhFu3mxsMlNH1RCgJqSWfU   (ca22a1cb)
2019-06-01T01:26:52.0848441+07:00 0HLN5ULTNBKKT:00000002 [INF] Sending file. Request path: '"/app/controllers/home/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\home\index.js"' (27b0a520)
2019-06-01T01:26:52.0966061+07:00 0HLN5ULTNBKKP:00000012 [INF] Sending file. Request path: '"/lib/DateJS/build/date.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\DateJS\build\date.js"' (27b0a520)
2019-06-01T01:26:52.1027124+07:00 0HLN5ULTNBKKT:00000002 [INF] Request finished in 32.9361ms 200 application/javascript (791a596a)
2019-06-01T01:26:52.1057815+07:00 0HLN5ULTNBKKP:00000012 [INF] Request finished in 141.8713ms 200 application/javascript (791a596a)
2019-06-01T01:26:52.1124797+07:00 0HLN5ULTNBKKO:0000000F [INF] Request finished in 257.6369ms 200 application/javascript (791a596a)
2019-06-01T01:26:52.1202655+07:00 0HLN5ULTNBKKO:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot-spline/js/jquery.flot.spline.js?v=m8xKSe9ZpgdwRX9992NbHbp9ADPyVB3DUWM1IkKdJjE   (ca22a1cb)
2019-06-01T01:26:52.1272973+07:00 0HLN5ULTNBKKO:00000010 [INF] Sending file. Request path: '"/lib/flot-spline/js/jquery.flot.spline.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot-spline\js\jquery.flot.spline.js"' (27b0a520)
2019-06-01T01:26:52.1309462+07:00 0HLN5ULTNBKKO:00000010 [INF] Request finished in 12.6235ms 200 application/javascript (791a596a)
2019-06-01T01:26:52.1910417+07:00 0HLN5ULTNBKKO:00000011 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T01:26:52.2069629+07:00 0HLN5ULTNBKKO:00000011 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:26:52.2094522+07:00 0HLN5ULTNBKKP:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:26:52.2168984+07:00 0HLN5ULTNBKKO:00000011 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:26:52.2216730+07:00 0HLN5ULTNBKKT:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:26:52.2246630+07:00 0HLN5ULTNBKKP:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T01:26:52.2334284+07:00 0HLN5ULTNBKKT:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:26:52.2384332+07:00 0HLN5ULTNBKKP:00000013 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T01:26:52.2478018+07:00 0HLN5ULTNBKKT:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:26:52.2508647+07:00 0HLN5ULTNBKKP:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:26:52.2588889+07:00 0HLN5ULTNBKKT:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:26:52.2619990+07:00 0HLN5ULTNBKKP:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:26:52.2817816+07:00 0HLN5ULTNBKKT:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:26:52.2869049+07:00 0HLN5ULTNBKKP:00000013 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:26:52.2892035+07:00 0HLN5ULTNBKKM:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T01:26:52.2978124+07:00 0HLN5ULTNBKKT:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:26:52.3090755+07:00 0HLN5ULTNBKKM:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T01:26:52.4422982+07:00 0HLN5ULTNBKKO:00000011 [INF] Request finished in 120.5864ms 200 application/json (791a596a)
2019-06-01T01:26:52.4483938+07:00 0HLN5ULTNBKKP:00000013 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:26:52.4961944+07:00 0HLN5ULTNBKKM:00000010 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T01:26:52.4993714+07:00 0HLN5ULTNBKKT:00000003 [INF] Executed DbCommand ("14"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:26:52.5411720+07:00 0HLN5ULTNBKKM:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:26:52.5453487+07:00 0HLN5ULTNBKKT:00000003 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:26:52.5744778+07:00 0HLN5ULTNBKKM:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T01:26:52.5819756+07:00 0HLN5ULTNBKKT:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 265.1466ms. (50a9e262)
2019-06-01T01:26:53.3093725+07:00 0HLN5ULTNBKKP:00000013 [INF] Executed DbCommand ("698"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:26:53.3112285+07:00 0HLN5ULTNBKKT:00000003 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:26:53.3150526+07:00 0HLN5ULTNBKKU:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=qF5CTgZguNY73Q-9SF6Zdg   (ca22a1cb)
2019-06-01T01:26:53.3529220+07:00 0HLN5ULTNBKKP:00000013 [INF] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T01:26:53.3628724+07:00 0HLN5ULTNBKKT:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 1074.9106ms (afa2e885)
2019-06-01T01:26:53.3719771+07:00 0HLN5ULTNBKKU:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:26:53.3789790+07:00 0HLN5ULTNBKKT:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:26:53.3861240+07:00 0HLN5ULTNBKKU:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:26:53.4054368+07:00 0HLN5ULTNBKKT:00000003 [INF] Request finished in 1182.9711ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:26:53.4109682+07:00 0HLN5ULTNBKKP:00000013 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T01:26:54.1141064+07:00 0HLN5ULTNBKKP:00000013 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T01:26:54.1355578+07:00 0HLN5ULTNBKKM:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1544.4069ms. (50a9e262)
2019-06-01T01:26:54.1460132+07:00 0HLN5ULTNBKKP:00000013 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T01:26:54.1490076+07:00 0HLN5ULTNBKKM:00000010 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:26:54.1678339+07:00 0HLN5ULTNBKKU:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T01:26:54.1702413+07:00 0HLN5ULTNBKKM:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 1653.5423ms (afa2e885)
2019-06-01T01:26:54.1723450+07:00 0HLN5ULTNBKKP:00000013 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T01:26:54.1892234+07:00 0HLN5ULTNBKKM:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T01:26:54.2009842+07:00 0HLN5ULTNBKKP:00000013 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T01:26:54.2046790+07:00 0HLN5ULTNBKKM:00000010 [INF] Request finished in 1950.2552ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:26:54.2101863+07:00 0HLN5ULTNBKKP:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1939.9278ms. (50a9e262)
2019-06-01T01:26:54.2189382+07:00 0HLN5ULTNBKKP:00000013 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:26:54.2279298+07:00 0HLN5ULTNBKKP:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 1984.8369ms (afa2e885)
2019-06-01T01:26:54.2312767+07:00 0HLN5ULTNBKKP:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T01:26:54.2366694+07:00 0HLN5ULTNBKKP:00000013 [INF] Request finished in 2035.243ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:27:04.2564475+07:00 0HLN5ULTNBKKP:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T01:27:04.2628508+07:00 0HLN5ULTNBKKP:00000014 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T01:27:04.2697767+07:00 0HLN5ULTNBKKP:00000014 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T01:27:04.2744606+07:00 0HLN5ULTNBKKP:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:27:04.2789307+07:00 0HLN5ULTNBKKP:00000014 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T01:27:04.2833410+07:00 0HLN5ULTNBKKP:00000014 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2441ms. (50a9e262)
2019-06-01T01:27:04.2902209+07:00 0HLN5ULTNBKKP:00000014 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T01:27:04.3052942+07:00 0HLN5ULTNBKKP:00000014 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:27:04.3137237+07:00 0HLN5ULTNBKKP:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T01:27:04.3174054+07:00 0HLN5ULTNBKKP:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:27:04.3255472+07:00 0HLN5ULTNBKKP:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T01:27:04.3290245+07:00 0HLN5ULTNBKKP:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:27:04.3369417+07:00 0HLN5ULTNBKKP:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T01:27:04.3403723+07:00 0HLN5ULTNBKKP:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:27:04.3465721+07:00 0HLN5ULTNBKKP:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T01:27:04.3609068+07:00 0HLN5ULTNBKKP:00000014 [INF] Executed ViewResult - view "Index" executed in 65.5235ms. (f66409e9)
2019-06-01T01:27:04.4601489+07:00 0HLN5ULTNBKKP:00000014 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 91.192ms (afa2e885)
2019-06-01T01:27:04.4802646+07:00 0HLN5ULTNBKKP:00000014 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T01:27:04.4821993+07:00 0HLN5ULTNBKKU:00000001 [INF] Request finished in 12044.4134ms 101  (791a596a)
2019-06-01T01:27:04.4891396+07:00 0HLN5ULTNBKKP:00000014 [INF] Request finished in 228.9883ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T01:27:04.5435596+07:00 0HLN5ULTNBKKP:00000015 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T01:27:04.5453524+07:00 0HLN5ULTNBKKM:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:27:04.5555899+07:00 0HLN5ULTNBKKP:00000015 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:27:04.5584187+07:00 0HLN5ULTNBKKM:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:27:04.5647801+07:00 0HLN5ULTNBKKP:00000015 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:27:04.5687247+07:00 0HLN5ULTNBKKM:00000011 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:27:04.5769688+07:00 0HLN5ULTNBKKP:00000015 [INF] Request finished in 30.8623ms 200 application/json (791a596a)
2019-06-01T01:27:04.5783465+07:00 0HLN5ULTNBKKM:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:27:04.5953848+07:00 0HLN5ULTNBKKT:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:27:04.5966554+07:00 0HLN5ULTNBKKM:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:27:04.6111464+07:00 0HLN5ULTNBKKT:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T01:27:04.6146569+07:00 0HLN5ULTNBKKM:00000011 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:27:04.6252342+07:00 0HLN5ULTNBKKT:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T01:27:04.6279398+07:00 0HLN5ULTNBKKM:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:27:04.6311586+07:00 0HLN5ULTNBKKT:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:27:04.6433326+07:00 0HLN5ULTNBKKM:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:27:04.6456435+07:00 0HLN5ULTNBKKT:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:27:04.6568149+07:00 0HLN5ULTNBKKM:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 46.7621ms. (50a9e262)
2019-06-01T01:27:04.6587758+07:00 0HLN5ULTNBKKT:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:27:04.6700267+07:00 0HLN5ULTNBKKM:00000011 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:27:04.6813419+07:00 0HLN5ULTNBKKT:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:27:04.6884817+07:00 0HLN5ULTNBKKM:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 101.5099ms (afa2e885)
2019-06-01T01:27:04.7053903+07:00 0HLN5ULTNBKKT:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:27:04.7067934+07:00 0HLN5ULTNBKKM:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:27:04.7582272+07:00 0HLN5ULTNBKKT:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T01:27:04.7601102+07:00 0HLN5ULTNBKKM:00000011 [INF] Request finished in 170.2565ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:27:04.7739367+07:00 0HLN5ULTNBKKT:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T01:27:04.7762149+07:00 0HLN5ULTNBKKV:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=rY-e84kvFHpqb81AeQgdsg   (ca22a1cb)
2019-06-01T01:27:04.7928056+07:00 0HLN5ULTNBKKT:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T01:27:04.7939760+07:00 0HLN5ULTNBKKV:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:27:04.8045077+07:00 0HLN5ULTNBKKV:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:27:04.8082845+07:00 0HLN5ULTNBKKT:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T01:27:04.8214225+07:00 0HLN5ULTNBKKT:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T01:27:04.8241663+07:00 0HLN5ULTNBKKV:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T01:27:04.8292219+07:00 0HLN5ULTNBKKT:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T01:27:04.8375259+07:00 0HLN5ULTNBKKT:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 183.9841ms. (50a9e262)
2019-06-01T01:27:04.8414250+07:00 0HLN5ULTNBKKT:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:27:04.8470643+07:00 0HLN5ULTNBKKT:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 215.7539ms (afa2e885)
2019-06-01T01:27:04.8560682+07:00 0HLN5ULTNBKKT:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T01:27:04.8632530+07:00 0HLN5ULTNBKKT:00000004 [INF] Request finished in 319.0238ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:27:04.8781453+07:00 0HLN5ULTNBKKT:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:27:04.8965355+07:00 0HLN5ULTNBKKT:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:27:04.9077719+07:00 0HLN5ULTNBKKT:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:27:04.9119139+07:00 0HLN5ULTNBKKT:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:27:04.9223348+07:00 0HLN5ULTNBKKT:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:27:04.9273628+07:00 0HLN5ULTNBKKT:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:27:04.9322117+07:00 0HLN5ULTNBKKT:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:27:04.9412242+07:00 0HLN5ULTNBKKT:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:27:04.9455060+07:00 0HLN5ULTNBKKT:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.9763ms. (50a9e262)
2019-06-01T01:27:04.9492968+07:00 0HLN5ULTNBKKT:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:27:04.9734769+07:00 0HLN5ULTNBKKT:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 41.5708ms (afa2e885)
2019-06-01T01:27:04.9778531+07:00 0HLN5ULTNBKKT:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:27:04.9887880+07:00 0HLN5ULTNBKKT:00000005 [INF] Request finished in 103.7799ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:27:07.0157746+07:00 0HLN5ULTNBKKT:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/Delete application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T01:27:07.0199420+07:00 0HLN5ULTNBKKT:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:27:07.0241480+07:00 0HLN5ULTNBKKT:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:27:07.0280245+07:00 0HLN5ULTNBKKT:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (500cc934)
2019-06-01T01:27:07.0340749+07:00 0HLN5ULTNBKKT:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Delete\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" (a44c0341)
2019-06-01T01:27:07.0380441+07:00 0HLN5ULTNBKKT:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:27:07.0428294+07:00 0HLN5ULTNBKKT:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" with arguments (["7c19658c-a91c-40fa-b8f6-050a4cfb2375"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:27:10.4952643+07:00 0HLN5ULTNBKKT:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:27:10.5143113+07:00 0HLN5ULTNBKKT:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [y].[Id], [y].[Content], [y].[DateCreated], [y].[DateModified], [y].[Status], [y].[Title], [y].[UserId]
FROM [Announcements] AS [y]
WHERE ([y].[Id] = @__id_0) AND ([y].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:27:10.5782066+07:00 0HLN5ULTNBKKT:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[AnnouncementId] = @__id_0) AND ([x].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:27:10.6033462+07:00 0HLN5ULTNBKKT:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T01:27:10.7226461+07:00 0HLN5ULTNBKKT:00000006 [INF] Executed DbCommand ("38"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [AnnouncementUsers]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T01:27:10.8711152+07:00 0HLN5ULTNBKKT:00000006 [INF] Executed DbCommand ("144"ms) [Parameters=["@p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Announcements]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T01:27:10.8797461+07:00 0HLN5ULTNBKKT:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3833.5834ms. (50a9e262)
2019-06-01T01:27:10.8837404+07:00 0HLN5ULTNBKKT:00000006 [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-06-01T01:27:10.8898040+07:00 0HLN5ULTNBKKT:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" in 3850.1914ms (afa2e885)
2019-06-01T01:27:10.8938257+07:00 0HLN5ULTNBKKT:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (99874f2b)
2019-06-01T01:27:10.9043685+07:00 0HLN5ULTNBKKT:00000006 [INF] Request finished in 3882.8243ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:27:10.9092436+07:00 0HLN5ULTNBKKM:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:27:10.9127705+07:00 0HLN5ULTNBKKT:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:27:10.9203007+07:00 0HLN5ULTNBKKM:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:27:10.9221063+07:00 0HLN5ULTNBKKT:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T01:27:10.9272361+07:00 0HLN5ULTNBKKM:00000012 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:27:10.9290691+07:00 0HLN5ULTNBKKT:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T01:27:10.9354314+07:00 0HLN5ULTNBKKM:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:27:10.9370794+07:00 0HLN5ULTNBKKT:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:27:10.9431618+07:00 0HLN5ULTNBKKM:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:27:10.9450170+07:00 0HLN5ULTNBKKT:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:27:10.9494293+07:00 0HLN5ULTNBKKM:00000012 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:27:10.9564250+07:00 0HLN5ULTNBKKT:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:27:10.9575142+07:00 0HLN5ULTNBKKM:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:27:10.9646797+07:00 0HLN5ULTNBKKM:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:27:10.9663598+07:00 0HLN5ULTNBKKT:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:27:10.9694531+07:00 0HLN5ULTNBKKM:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 21.5921ms. (50a9e262)
2019-06-01T01:27:10.9759770+07:00 0HLN5ULTNBKKM:00000012 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:27:10.9777789+07:00 0HLN5ULTNBKKT:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:27:10.9854609+07:00 0HLN5ULTNBKKM:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 49.6306ms (afa2e885)
2019-06-01T01:27:10.9880143+07:00 0HLN5ULTNBKKT:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T01:27:10.9916955+07:00 0HLN5ULTNBKKM:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:27:10.9985968+07:00 0HLN5ULTNBKKM:00000012 [INF] Request finished in 92.0351ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:27:11.0012676+07:00 0HLN5ULTNBKKT:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T01:27:11.0073386+07:00 0HLN5ULTNBKKT:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T01:27:11.0118095+07:00 0HLN5ULTNBKKT:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T01:27:11.0165008+07:00 0HLN5ULTNBKKT:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T01:27:11.0210969+07:00 0HLN5ULTNBKKT:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T01:27:11.0255429+07:00 0HLN5ULTNBKKT:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 76.4027ms. (50a9e262)
2019-06-01T01:27:11.0298066+07:00 0HLN5ULTNBKKT:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:27:11.0372749+07:00 0HLN5ULTNBKKT:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 100.9093ms (afa2e885)
2019-06-01T01:27:11.0415560+07:00 0HLN5ULTNBKKT:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T01:27:11.0463264+07:00 0HLN5ULTNBKKT:00000007 [INF] Request finished in 133.978ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:27:11.0639539+07:00 0HLN5ULTNBKKT:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:27:11.0690611+07:00 0HLN5ULTNBKKT:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:27:11.0739272+07:00 0HLN5ULTNBKKT:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:27:11.0775707+07:00 0HLN5ULTNBKKT:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:27:11.0856695+07:00 0HLN5ULTNBKKT:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:27:11.0897943+07:00 0HLN5ULTNBKKT:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:27:11.0955857+07:00 0HLN5ULTNBKKT:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:27:11.1005396+07:00 0HLN5ULTNBKKT:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:27:11.1050463+07:00 0HLN5ULTNBKKT:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 14.946ms. (50a9e262)
2019-06-01T01:27:11.1089056+07:00 0HLN5ULTNBKKT:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:27:11.1145076+07:00 0HLN5ULTNBKKT:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 35.2692ms (afa2e885)
2019-06-01T01:27:11.1191135+07:00 0HLN5ULTNBKKT:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:27:11.1241121+07:00 0HLN5ULTNBKKT:00000008 [INF] Request finished in 68.9808ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:27:50.0625828+07:00 0HLN5ULTNBKKT:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/Delete application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T01:27:50.0692466+07:00 0HLN5ULTNBKKT:00000009 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T01:27:50.0737836+07:00 0HLN5ULTNBKKT:00000009 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T01:27:50.0771739+07:00 0HLN5ULTNBKKT:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (500cc934)
2019-06-01T01:27:50.0804531+07:00 0HLN5ULTNBKKT:00000009 [INF] Route matched with "{area = \"Admin\", action = \"Delete\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" (a44c0341)
2019-06-01T01:27:50.0869130+07:00 0HLN5ULTNBKKT:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:27:50.0914246+07:00 0HLN5ULTNBKKT:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" with arguments (["2ad49912-7410-4423-ad35-d7ea480b033a"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:27:56.1661895+07:00 0HLN5ULTNBKKT:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:27:56.2258912+07:00 0HLN5ULTNBKKT:00000009 [INF] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [y].[Id], [y].[Content], [y].[DateCreated], [y].[DateModified], [y].[Status], [y].[Title], [y].[UserId]
FROM [Announcements] AS [y]
WHERE ([y].[Id] = @__id_0) AND ([y].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:27:56.2460820+07:00 0HLN5ULTNBKKT:00000009 [INF] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[AnnouncementId] = @__id_0) AND ([x].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T01:27:56.3097783+07:00 0HLN5ULTNBKKT:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T01:27:56.3462537+07:00 0HLN5ULTNBKKT:00000009 [INF] Executed DbCommand ("20"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [AnnouncementUsers]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T01:27:56.3529097+07:00 0HLN5ULTNBKKT:00000009 [INF] Executed DbCommand ("3"ms) [Parameters=["@p1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Announcements]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T01:27:56.3575542+07:00 0HLN5ULTNBKKT:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6262.4504ms. (50a9e262)
2019-06-01T01:27:56.3615295+07:00 0HLN5ULTNBKKT:00000009 [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-06-01T01:27:56.3690364+07:00 0HLN5ULTNBKKT:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" in 6281.3624ms (afa2e885)
2019-06-01T01:27:56.3732046+07:00 0HLN5ULTNBKKT:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (99874f2b)
2019-06-01T01:27:56.9952212+07:00 0HLN5ULTNBKKT:00000009 [INF] Request finished in 6317.4242ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:27:57.0010075+07:00 0HLN5ULTNBKKM:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:27:57.0091511+07:00 0HLN5ULTNBKKM:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:27:57.0154587+07:00 0HLN5ULTNBKKT:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:27:57.0181123+07:00 0HLN5ULTNBKKM:00000013 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:27:57.0250714+07:00 0HLN5ULTNBKKM:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T01:27:57.0268060+07:00 0HLN5ULTNBKKT:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T01:27:57.0353357+07:00 0HLN5ULTNBKKM:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:27:57.0376282+07:00 0HLN5ULTNBKKT:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T01:27:57.0433598+07:00 0HLN5ULTNBKKM:00000013 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:27:57.0451318+07:00 0HLN5ULTNBKKT:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T01:27:57.0527452+07:00 0HLN5ULTNBKKT:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:27:57.0589454+07:00 0HLN5ULTNBKKM:00000013 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:27:57.0599353+07:00 0HLN5ULTNBKKT:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:27:57.0729057+07:00 0HLN5ULTNBKKM:00000013 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:27:57.0755879+07:00 0HLN5ULTNBKKT:0000000A [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T01:27:57.0789811+07:00 0HLN5ULTNBKKM:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 38.3105ms. (50a9e262)
2019-06-01T01:27:57.0868194+07:00 0HLN5ULTNBKKM:00000013 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:27:57.0955554+07:00 0HLN5ULTNBKKT:0000000A [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:27:57.0967287+07:00 0HLN5ULTNBKKM:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 68.9036ms (afa2e885)
2019-06-01T01:27:57.1045035+07:00 0HLN5ULTNBKKM:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:27:57.1109897+07:00 0HLN5ULTNBKKT:0000000A [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T01:27:57.1119263+07:00 0HLN5ULTNBKKM:00000013 [INF] Request finished in 726.6605ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:27:57.1233420+07:00 0HLN5ULTNBKKT:0000000A [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T01:27:57.1308559+07:00 0HLN5ULTNBKKT:0000000A [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T01:27:57.1412620+07:00 0HLN5ULTNBKKT:0000000A [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T01:27:57.1566437+07:00 0HLN5ULTNBKKT:0000000A [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T01:27:57.1693998+07:00 0HLN5ULTNBKKT:0000000A [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T01:27:57.1734433+07:00 0HLN5ULTNBKKT:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 116.8814ms. (50a9e262)
2019-06-01T01:27:57.1768247+07:00 0HLN5ULTNBKKT:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:27:57.1877149+07:00 0HLN5ULTNBKKT:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 139.3753ms (afa2e885)
2019-06-01T01:27:57.1914958+07:00 0HLN5ULTNBKKT:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T01:27:57.2091007+07:00 0HLN5ULTNBKKT:0000000A [INF] Request finished in 182.4915ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T01:27:57.2159536+07:00 0HLN5ULTNBKKT:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T01:27:57.2219803+07:00 0HLN5ULTNBKKT:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T01:27:57.2263174+07:00 0HLN5ULTNBKKT:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T01:27:57.2295417+07:00 0HLN5ULTNBKKT:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T01:27:57.2337169+07:00 0HLN5ULTNBKKT:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T01:27:57.2372024+07:00 0HLN5ULTNBKKT:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T01:27:57.2417578+07:00 0HLN5ULTNBKKT:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T01:27:57.2461952+07:00 0HLN5ULTNBKKT:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T01:27:57.2498809+07:00 0HLN5ULTNBKKT:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 12.5443ms. (50a9e262)
2019-06-01T01:27:57.2535388+07:00 0HLN5ULTNBKKT:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T01:27:57.2584274+07:00 0HLN5ULTNBKKT:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 27.3751ms (afa2e885)
2019-06-01T01:27:57.2615986+07:00 0HLN5ULTNBKKT:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T01:27:57.2656602+07:00 0HLN5ULTNBKKT:0000000B [INF] Request finished in 50.6456ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:03:07.3713971+07:00 0HLN5VAEMD2RH:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T02:03:07.4918284+07:00 0HLN5VAEMD2RH:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:03:07.6595233+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("30"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[Balance], [e].[BirthDay], [e].[ConcurrencyStamp], [e].[DateCreated], [e].[DateModified], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[Status], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2019-06-01T02:03:07.9269530+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("9"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T02:03:08.0500056+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("32"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:03:08.1012527+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("11"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T02:03:08.1414331+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T02:03:08.1494343+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T02:03:08.1611443+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T02:03:08.1722019+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T02:03:08.1825580+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T02:03:08.2004438+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:03:08.2867469+07:00 0HLN5VAEMD2RH:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T02:03:08.3316896+07:00 0HLN5VAEMD2RH:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T02:03:08.3596334+07:00 0HLN5VAEMD2RH:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:03:08.4344870+07:00 0HLN5VAEMD2RH:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T02:03:08.5249082+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T02:03:08.5479727+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T02:03:08.6267468+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T02:03:08.6491816+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:03:08.6943380+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T02:03:08.7101300+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:03:08.7379150+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T02:03:08.7471191+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T02:03:08.7550490+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T02:03:08.7598756+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:03:08.7761106+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T02:03:08.7849492+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 418.7488ms. (50a9e262)
2019-06-01T02:03:08.8147112+07:00 0HLN5VAEMD2RH:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:03:08.9729226+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:03:08.9895330+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:03:09.1404079+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:03:09.1475369+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:03:09.1749846+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:03:09.1831520+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:03:09.3715631+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed ViewResult - view "Index" executed in 485.2069ms. (f66409e9)
2019-06-01T02:03:09.3793244+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 1040.9427ms (afa2e885)
2019-06-01T02:03:09.4082667+07:00 0HLN5VAEMD2RH:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T02:03:09.4480558+07:00 0HLN5VAEMD2RH:00000001 [INF] Request finished in 2126.3029ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:03:09.5983292+07:00 0HLN5VAEMD2RI:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T02:03:09.6087850+07:00 0HLN5VAEMD2RM:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T02:03:09.6158930+07:00 0HLN5VAEMD2RJ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T02:03:09.6315652+07:00 0HLN5VAEMD2RI:00000001 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T02:03:09.6346901+07:00 0HLN5VAEMD2RM:00000001 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T02:03:09.6455525+07:00 0HLN5VAEMD2RJ:00000001 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T02:03:09.6517388+07:00 0HLN5VAEMD2RK:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T02:03:09.6599463+07:00 0HLN5VAEMD2RK:00000001 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T02:03:09.7580085+07:00 0HLN5VAEMD2RH:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T02:03:09.7715252+07:00 0HLN5VAEMD2RH:00000002 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T02:03:09.9576722+07:00 0HLN5VAEMD2RK:00000001 [INF] Request finished in 323.4571ms 200 image/jpeg (791a596a)
2019-06-01T02:03:09.9792648+07:00 0HLN5VAEMD2RH:00000002 [INF] Request finished in 241.3481ms 200 image/jpeg (791a596a)
2019-06-01T02:03:09.9973992+07:00 0HLN5VAEMD2RL:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T02:03:10.0688605+07:00 0HLN5VAEMD2RL:00000001 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T02:03:10.1513170+07:00 0HLN5VAEMD2RM:00000001 [INF] Request finished in 524.2567ms 200 image/jpeg (791a596a)
2019-06-01T02:03:10.1822396+07:00 0HLN5VAEMD2RL:00000001 [INF] Request finished in 213.5405ms 200 image/jpeg (791a596a)
2019-06-01T02:03:10.1988891+07:00 0HLN5VAEMD2RH:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T02:03:10.2114777+07:00 0HLN5VAEMD2RM:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/paypal.png   (ca22a1cb)
2019-06-01T02:03:10.2176353+07:00 0HLN5VAEMD2RH:00000003 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T02:03:10.2251884+07:00 0HLN5VAEMD2RI:00000001 [INF] Request finished in 509.9068ms 200 image/jpeg (791a596a)
2019-06-01T02:03:10.2665779+07:00 0HLN5VAEMD2RJ:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T02:03:10.2915448+07:00 0HLN5VAEMD2RM:00000002 [INF] Sending file. Request path: '"/client-side/images/paypal.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\paypal.png"' (27b0a520)
2019-06-01T02:03:10.2950616+07:00 0HLN5VAEMD2RK:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T02:03:10.3078550+07:00 0HLN5VAEMD2RM:00000002 [INF] Request finished in 98.6558ms 200 image/png (791a596a)
2019-06-01T02:03:10.3131268+07:00 0HLN5VAEMD2RK:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T02:03:10.3405971+07:00 0HLN5VAEMD2RH:00000003 [INF] Request finished in 157.9624ms 200 image/jpeg (791a596a)
2019-06-01T02:03:10.3557310+07:00 0HLN5VAEMD2RK:00000002 [INF] Request finished in 73.7693ms 200 image/jpeg (791a596a)
2019-06-01T02:03:10.4003106+07:00 0HLN5VAEMD2RJ:00000001 [INF] Request finished in 857.6662ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T02:03:20.8673502+07:00 0HLN5VAEMD2RK:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/bg_text_des.png   (ca22a1cb)
2019-06-01T02:03:20.9495069+07:00 0HLN5VAEMD2RK:00000003 [INF] Sending file. Request path: '"/client-side/images/bg_text_des.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\bg_text_des.png"' (27b0a520)
2019-06-01T02:03:20.9597066+07:00 0HLN5VAEMD2RK:00000003 [INF] Request finished in 86.433ms 200 image/png (791a596a)
2019-06-01T02:03:21.1383344+07:00 0HLN5VAEMD2RK:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/fonts/font-awesome/fontawesome-webfont.woff2?v=4.7.0   (ca22a1cb)
2019-06-01T02:03:21.1448394+07:00 0HLN5VAEMD2RH:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/fonts/simple-line-icons/Simple-Line-Icons.woff2?v=2.4.0   (ca22a1cb)
2019-06-01T02:03:21.1832751+07:00 0HLN5VAEMD2RH:00000004 [INF] Sending file. Request path: '"/client-side/fonts/simple-line-icons/Simple-Line-Icons.woff2"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\fonts\simple-line-icons\Simple-Line-Icons.woff2"' (27b0a520)
2019-06-01T02:03:21.2076652+07:00 0HLN5VAEMD2RH:00000004 [INF] Request finished in 125.6026ms 200 font/woff2 (791a596a)
2019-06-01T02:03:21.2095220+07:00 0HLN5VAEMD2RK:00000004 [INF] Sending file. Request path: '"/client-side/fonts/font-awesome/fontawesome-webfont.woff2"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\fonts\font-awesome\fontawesome-webfont.woff2"' (27b0a520)
2019-06-01T02:03:21.2241025+07:00 0HLN5VAEMD2RK:00000004 [INF] Request finished in 152.3919ms 200 font/woff2 (791a596a)
2019-06-01T02:03:21.6995060+07:00 0HLN5VAEMD2RK:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T02:03:21.7912302+07:00 0HLN5VAEMD2RK:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T02:03:21.8220387+07:00 0HLN5VAEMD2RK:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T02:03:21.8441974+07:00 0HLN5VAEMD2RK:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:03:21.8528773+07:00 0HLN5VAEMD2RK:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2859ms. (50a9e262)
2019-06-01T02:03:21.8822339+07:00 0HLN5VAEMD2RK:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:03:21.9463434+07:00 0HLN5VAEMD2RH:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:03:21.9566638+07:00 0HLN5VAEMD2RL:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T02:03:21.9700644+07:00 0HLN5VAEMD2RH:00000005 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:03:21.9894789+07:00 0HLN5VAEMD2RL:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T02:03:21.9936984+07:00 0HLN5VAEMD2RH:00000005 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:03:22.0065907+07:00 0HLN5VAEMD2RK:00000005 [INF] Executed ViewResult - view "Index" executed in 124.09ms. (f66409e9)
2019-06-01T02:03:22.0089583+07:00 0HLN5VAEMD2RL:00000002 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T02:03:22.0333898+07:00 0HLN5VAEMD2RK:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 184.6479ms (afa2e885)
2019-06-01T02:03:22.0380745+07:00 0HLN5VAEMD2RL:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:03:22.0689983+07:00 0HLN5VAEMD2RK:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T02:03:22.0783748+07:00 0HLN5VAEMD2RL:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:03:22.1481252+07:00 0HLN5VAEMD2RK:00000005 [INF] Request finished in 440.6257ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:03:22.1656025+07:00 0HLN5VAEMD2RL:00000002 [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T02:03:22.2493484+07:00 0HLN5VAEMD2RM:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T02:03:22.2726181+07:00 0HLN5VAEMD2RL:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 140.4412ms. (50a9e262)
2019-06-01T02:03:22.3337881+07:00 0HLN5VAEMD2RM:00000003 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T02:03:22.3483891+07:00 0HLN5VAEMD2RL:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:03:22.3923882+07:00 0HLN5VAEMD2RM:00000003 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T02:03:22.4138933+07:00 0HLN5VAEMD2RH:00000005 [INF] Request finished in 464.3442ms 200 application/json (791a596a)
2019-06-01T02:03:22.4424484+07:00 0HLN5VAEMD2RM:00000003 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:03:22.4736664+07:00 0HLN5VAEMD2RL:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 416.3997ms (afa2e885)
2019-06-01T02:03:22.4800533+07:00 0HLN5VAEMD2RM:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:03:22.4864701+07:00 0HLN5VAEMD2RL:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T02:03:22.4975080+07:00 0HLN5VAEMD2RL:00000002 [INF] Request finished in 561.8366ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:03:22.5089829+07:00 0HLN5VAEMD2RM:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T02:03:22.5183946+07:00 0HLN5VAEMD2RM:00000003 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 68.0162ms. (50a9e262)
2019-06-01T02:03:22.5295149+07:00 0HLN5VAEMD2RM:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:03:22.5842484+07:00 0HLN5VAEMD2RM:00000003 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 148.5236ms (afa2e885)
2019-06-01T02:03:22.5943144+07:00 0HLN5VAEMD2RM:00000003 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T02:03:22.6034430+07:00 0HLN5VAEMD2RM:00000003 [INF] Request finished in 669.4376ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:03:24.6128297+07:00 0HLN5VAEMD2RK:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T02:03:24.6171390+07:00 0HLN5VAEMD2RK:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:03:24.6220711+07:00 0HLN5VAEMD2RK:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:03:24.6262376+07:00 0HLN5VAEMD2RK:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T02:03:24.6494191+07:00 0HLN5VAEMD2RK:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T02:03:24.6999586+07:00 0HLN5VAEMD2RK:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:03:27.2747506+07:00 0HLN5VAEMD2RK:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:03:27.2961319+07:00 0HLN5VAEMD2RK:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T02:03:28.2541098+07:00 0HLN5VAEMD2RK:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T02:03:28.2616569+07:00 0HLN5VAEMD2RK:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:03:28.2685989+07:00 0HLN5VAEMD2RK:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T02:03:28.2752220+07:00 0HLN5VAEMD2RK:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T02:03:28.2832265+07:00 0HLN5VAEMD2RK:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T02:03:28.2895018+07:00 0HLN5VAEMD2RK:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T02:03:28.2956757+07:00 0HLN5VAEMD2RK:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T02:03:28.3032753+07:00 0HLN5VAEMD2RK:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T02:03:28.3092864+07:00 0HLN5VAEMD2RK:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:03:28.3179920+07:00 0HLN5VAEMD2RK:00000006 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T02:03:28.3268568+07:00 0HLN5VAEMD2RK:00000006 [INF] User logged in. (fdce0db4)
2019-06-01T02:03:28.3343517+07:00 0HLN5VAEMD2RK:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3629.1657ms. (50a9e262)
2019-06-01T02:03:28.3440461+07:00 0HLN5VAEMD2RK:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T02:03:28.3555246+07:00 0HLN5VAEMD2RK:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 3700.2971ms (afa2e885)
2019-06-01T02:03:28.3598767+07:00 0HLN5VAEMD2RK:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T02:03:28.3698397+07:00 0HLN5VAEMD2RK:00000006 [INF] Request finished in 3755.5839ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:03:28.3892550+07:00 0HLN5VAEMD2RK:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T02:03:28.3968222+07:00 0HLN5VAEMD2RK:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T02:03:28.4038815+07:00 0HLN5VAEMD2RK:00000007 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T02:03:28.4196349+07:00 0HLN5VAEMD2RK:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:03:28.4239832+07:00 0HLN5VAEMD2RK:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:03:28.4281809+07:00 0HLN5VAEMD2RK:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3643ms. (50a9e262)
2019-06-01T02:03:28.4364722+07:00 0HLN5VAEMD2RK:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:03:28.4500919+07:00 0HLN5VAEMD2RK:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:03:28.4944820+07:00 0HLN5VAEMD2RK:00000007 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:03:28.5115359+07:00 0HLN5VAEMD2RK:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:03:28.5449201+07:00 0HLN5VAEMD2RK:00000007 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:03:28.5500892+07:00 0HLN5VAEMD2RK:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:03:28.5664921+07:00 0HLN5VAEMD2RK:00000007 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:03:28.5701520+07:00 0HLN5VAEMD2RK:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:03:28.5875124+07:00 0HLN5VAEMD2RK:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:03:28.5915469+07:00 0HLN5VAEMD2RK:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:03:28.6342729+07:00 0HLN5VAEMD2RK:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:03:28.7670686+07:00 0HLN5VAEMD2RK:00000007 [INF] Executed ViewResult - view "Index" executed in 286.6104ms. (f66409e9)
2019-06-01T02:03:28.7911768+07:00 0HLN5VAEMD2RK:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 373.3331ms (afa2e885)
2019-06-01T02:03:28.8609248+07:00 0HLN5VAEMD2RK:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T02:03:28.9247405+07:00 0HLN5VAEMD2RK:00000007 [INF] Request finished in 484.4652ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:03:28.9271967+07:00 0HLN5VAEMD2RI:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/common.js?v=y7DqmVon23ErVGJwRwyGN-e1OscQoN09ThbEz09BtJA   (ca22a1cb)
2019-06-01T02:03:28.9428386+07:00 0HLN5VAEMD2RK:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=i5iwCNDIQu5Lde-WL2ckDDhawcJelynXBNoXh6Ru17I   (ca22a1cb)
2019-06-01T02:03:28.9457818+07:00 0HLN5VAEMD2RI:00000002 [INF] The file "/app/shared/common.js" was not modified (f1f8d725)
2019-06-01T02:03:28.9625309+07:00 0HLN5VAEMD2RK:00000008 [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T02:03:28.9666490+07:00 0HLN5VAEMD2RI:00000002 [INF] Request finished in 60.774ms 304 application/javascript (791a596a)
2019-06-01T02:03:28.9749644+07:00 0HLN5VAEMD2RK:00000008 [INF] Request finished in 33.8186ms 200 application/javascript (791a596a)
2019-06-01T02:03:29.1656550+07:00 0HLN5VAEMD2RI:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:03:29.1845912+07:00 0HLN5VAEMD2RK:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:03:29.1893703+07:00 0HLN5VAEMD2RI:00000003 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:03:29.1990084+07:00 0HLN5VAEMD2RI:00000003 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:03:29.2006162+07:00 0HLN5VAEMD2RK:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:03:29.2092537+07:00 0HLN5VAEMD2RN:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:03:29.2168098+07:00 0HLN5VAEMD2RI:00000003 [INF] Request finished in 52.4996ms 200 application/json (791a596a)
2019-06-01T02:03:29.2198284+07:00 0HLN5VAEMD2RK:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:03:29.2413017+07:00 0HLN5VAEMD2RK:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:03:29.2438797+07:00 0HLN5VAEMD2RN:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:03:29.2611502+07:00 0HLN5VAEMD2RI:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T02:03:29.2698928+07:00 0HLN5VAEMD2RK:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:03:29.3214148+07:00 0HLN5VAEMD2RI:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T02:03:29.3333225+07:00 0HLN5VAEMD2RK:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:03:29.4076936+07:00 0HLN5VAEMD2RI:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T02:03:29.4188972+07:00 0HLN5VAEMD2RN:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:03:29.4424435+07:00 0HLN5VAEMD2RI:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:03:29.4467790+07:00 0HLN5VAEMD2RK:00000009 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:03:29.4819092+07:00 0HLN5VAEMD2RI:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T02:03:29.4969923+07:00 0HLN5VAEMD2RN:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:03:30.3633774+07:00 0HLN5VAEMD2RK:00000009 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:03:30.4281432+07:00 0HLN5VAEMD2RN:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:03:30.4325612+07:00 0HLN5VAEMD2RK:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1109.4443ms. (50a9e262)
2019-06-01T02:03:30.4453579+07:00 0HLN5VAEMD2RK:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:03:31.2831797+07:00 0HLN5VAEMD2RN:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:03:31.3057163+07:00 0HLN5VAEMD2RK:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 2053.9732ms (afa2e885)
2019-06-01T02:03:31.3083322+07:00 0HLN5VAEMD2RO:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=cFBg_ulu7BX9SB1rH1KgYw   (ca22a1cb)
2019-06-01T02:03:31.3233417+07:00 0HLN5VAEMD2RK:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:03:31.3418090+07:00 0HLN5VAEMD2RO:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:03:31.3566266+07:00 0HLN5VAEMD2RK:00000009 [INF] Request finished in 2169.9189ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:03:31.3642487+07:00 0HLN5VAEMD2RO:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:03:31.3875895+07:00 0HLN5VAEMD2RN:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:03:32.4173974+07:00 0HLN5VAEMD2RI:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2844.2985ms. (50a9e262)
2019-06-01T02:03:32.4309604+07:00 0HLN5VAEMD2RO:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:03:32.4385719+07:00 0HLN5VAEMD2RN:00000001 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:03:32.4531955+07:00 0HLN5VAEMD2RI:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:03:32.4761997+07:00 0HLN5VAEMD2RN:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T02:03:32.4770888+07:00 0HLN5VAEMD2RI:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 3047.6233ms (afa2e885)
2019-06-01T02:03:32.4835577+07:00 0HLN5VAEMD2RI:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T02:03:32.5235313+07:00 0HLN5VAEMD2RI:00000004 [INF] Request finished in 3242.395ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:03:32.5287440+07:00 0HLN5VAEMD2RN:00000001 [INF] Executed DbCommand ("14"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T02:03:32.5447132+07:00 0HLN5VAEMD2RN:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T02:03:32.5589331+07:00 0HLN5VAEMD2RN:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T02:03:32.5721446+07:00 0HLN5VAEMD2RN:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T02:03:32.5848978+07:00 0HLN5VAEMD2RN:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T02:03:32.5914102+07:00 0HLN5VAEMD2RN:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2157.6124ms. (50a9e262)
2019-06-01T02:03:32.5959522+07:00 0HLN5VAEMD2RN:00000001 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:03:32.6101507+07:00 0HLN5VAEMD2RN:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 3180.741ms (afa2e885)
2019-06-01T02:03:32.6160990+07:00 0HLN5VAEMD2RN:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:03:32.6230865+07:00 0HLN5VAEMD2RN:00000001 [INF] Request finished in 3457.7645ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:03:36.4196476+07:00 0HLN5VAEMD2RN:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T02:03:36.4273711+07:00 0HLN5VAEMD2RN:00000002 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T02:03:36.4340583+07:00 0HLN5VAEMD2RN:00000002 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T02:03:36.4437071+07:00 0HLN5VAEMD2RN:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:03:36.4489354+07:00 0HLN5VAEMD2RN:00000002 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:03:36.4558913+07:00 0HLN5VAEMD2RN:00000002 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2084ms. (50a9e262)
2019-06-01T02:03:36.4644319+07:00 0HLN5VAEMD2RN:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:03:36.4872221+07:00 0HLN5VAEMD2RN:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:03:36.4971954+07:00 0HLN5VAEMD2RN:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:03:36.5026235+07:00 0HLN5VAEMD2RN:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:03:36.5100610+07:00 0HLN5VAEMD2RN:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:03:36.5142604+07:00 0HLN5VAEMD2RN:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:03:36.5226304+07:00 0HLN5VAEMD2RN:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:03:36.5262419+07:00 0HLN5VAEMD2RN:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:03:36.5327801+07:00 0HLN5VAEMD2RN:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:03:36.5450284+07:00 0HLN5VAEMD2RN:00000002 [INF] Executed ViewResult - view "Index" executed in 80.1151ms. (f66409e9)
2019-06-01T02:03:36.6158106+07:00 0HLN5VAEMD2RN:00000002 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 111.3052ms (afa2e885)
2019-06-01T02:03:36.6281297+07:00 0HLN5VAEMD2RO:00000001 [INF] Request finished in 5334.2845ms 101  (791a596a)
2019-06-01T02:03:36.6294762+07:00 0HLN5VAEMD2RN:00000002 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T02:03:36.6438282+07:00 0HLN5VAEMD2RN:00000002 [INF] Request finished in 216.4521ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:03:36.6936128+07:00 0HLN5VAEMD2RN:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:03:36.6977054+07:00 0HLN5VAEMD2RI:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:03:36.7105284+07:00 0HLN5VAEMD2RN:00000003 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:03:36.7126741+07:00 0HLN5VAEMD2RK:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:03:36.7149555+07:00 0HLN5VAEMD2RI:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:03:36.7381542+07:00 0HLN5VAEMD2RN:00000003 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:03:36.7470345+07:00 0HLN5VAEMD2RI:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:03:36.7545353+07:00 0HLN5VAEMD2RN:00000003 [INF] Request finished in 59.8903ms 200 application/json (791a596a)
2019-06-01T02:03:36.7559346+07:00 0HLN5VAEMD2RI:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:03:36.7646485+07:00 0HLN5VAEMD2RI:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:03:36.7671478+07:00 0HLN5VAEMD2RK:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:03:36.7994172+07:00 0HLN5VAEMD2RI:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:03:36.8012737+07:00 0HLN5VAEMD2RK:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:03:36.8273241+07:00 0HLN5VAEMD2RK:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T02:03:36.8322140+07:00 0HLN5VAEMD2RI:00000005 [INF] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:03:36.8447103+07:00 0HLN5VAEMD2RP:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=aZ-fD5UISLXcf7-AdKypOw   (ca22a1cb)
2019-06-01T02:03:36.8484769+07:00 0HLN5VAEMD2RI:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:03:36.8595608+07:00 0HLN5VAEMD2RP:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:03:36.8615981+07:00 0HLN5VAEMD2RK:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:03:36.8632485+07:00 0HLN5VAEMD2RI:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 83.8964ms. (50a9e262)
2019-06-01T02:03:36.8765830+07:00 0HLN5VAEMD2RP:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:03:36.8782815+07:00 0HLN5VAEMD2RI:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:03:36.8827361+07:00 0HLN5VAEMD2RK:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:03:36.8988407+07:00 0HLN5VAEMD2RI:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 131.4516ms (afa2e885)
2019-06-01T02:03:36.9081831+07:00 0HLN5VAEMD2RK:0000000A [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:03:36.9163003+07:00 0HLN5VAEMD2RI:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:03:36.9254014+07:00 0HLN5VAEMD2RP:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:03:36.9302589+07:00 0HLN5VAEMD2RK:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:03:36.9318301+07:00 0HLN5VAEMD2RI:00000005 [INF] Request finished in 234.688ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:03:36.9424114+07:00 0HLN5VAEMD2RK:0000000A [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T02:03:36.9495089+07:00 0HLN5VAEMD2RK:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T02:03:36.9592677+07:00 0HLN5VAEMD2RK:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T02:03:36.9655171+07:00 0HLN5VAEMD2RK:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T02:03:36.9756209+07:00 0HLN5VAEMD2RK:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T02:03:36.9913488+07:00 0HLN5VAEMD2RK:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T02:03:36.9965230+07:00 0HLN5VAEMD2RK:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 130.2172ms. (50a9e262)
2019-06-01T02:03:37.0023740+07:00 0HLN5VAEMD2RK:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:03:37.0157312+07:00 0HLN5VAEMD2RK:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 201.2308ms (afa2e885)
2019-06-01T02:03:37.0220445+07:00 0HLN5VAEMD2RK:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:03:37.0289911+07:00 0HLN5VAEMD2RK:0000000A [INF] Request finished in 338.2583ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:03:37.0443043+07:00 0HLN5VAEMD2RK:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:03:37.0498997+07:00 0HLN5VAEMD2RK:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:03:37.0578222+07:00 0HLN5VAEMD2RK:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:03:37.0635600+07:00 0HLN5VAEMD2RK:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:03:37.0695009+07:00 0HLN5VAEMD2RK:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:03:37.0779013+07:00 0HLN5VAEMD2RK:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:03:37.0850776+07:00 0HLN5VAEMD2RK:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:03:37.0985475+07:00 0HLN5VAEMD2RK:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:03:37.1133134+07:00 0HLN5VAEMD2RK:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 29.1995ms. (50a9e262)
2019-06-01T02:03:37.1183866+07:00 0HLN5VAEMD2RK:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:03:37.1296289+07:00 0HLN5VAEMD2RK:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 60.7445ms (afa2e885)
2019-06-01T02:03:37.1343328+07:00 0HLN5VAEMD2RK:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:03:37.1432038+07:00 0HLN5VAEMD2RK:0000000B [INF] Request finished in 99.9793ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:03:48.4639421+07:00 0HLN5VAEMD2RK:0000000C [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/Delete application/x-www-form-urlencoded; charset=UTF-8 10 (ca22a1cb)
2019-06-01T02:03:48.4685493+07:00 0HLN5VAEMD2RK:0000000C [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:03:48.4738617+07:00 0HLN5VAEMD2RK:0000000C [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:03:48.4783794+07:00 0HLN5VAEMD2RK:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)"' (500cc934)
2019-06-01T02:03:48.4844040+07:00 0HLN5VAEMD2RK:0000000C [INF] Route matched with "{area = \"Admin\", action = \"Delete\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" (a44c0341)
2019-06-01T02:03:48.4894030+07:00 0HLN5VAEMD2RK:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T02:03:48.4954420+07:00 0HLN5VAEMD2RK:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Delete (Shop3)" with arguments ([""]) - Validation state: Valid (4e3479ed)
2019-06-01T02:05:20.2180402+07:00 0HLN5VBM7SNSD:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T02:05:20.3912985+07:00 0HLN5VBM7SNSD:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T02:05:20.4934477+07:00 0HLN5VBM7SNSD:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T02:05:20.5227039+07:00 0HLN5VBM7SNSD:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:05:20.6327460+07:00 0HLN5VBM7SNSD:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:05:20.7487182+07:00 0HLN5VBM7SNSD:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T02:05:20.8516227+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T02:05:20.8786906+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T02:05:20.9614716+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T02:05:20.9879121+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:05:21.0395806+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T02:05:21.0710094+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:05:21.1106098+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T02:05:21.1280936+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T02:05:21.1470396+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T02:05:21.1560952+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:05:21.1832677+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T02:05:21.1955573+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 663.596ms. (50a9e262)
2019-06-01T02:05:21.2409021+07:00 0HLN5VBM7SNSD:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:05:21.4584906+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:05:21.5241808+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:05:21.6890831+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:05:21.6983877+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:05:21.7283951+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:05:21.7384397+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:05:21.9266655+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed ViewResult - view "Index" executed in 706.4808ms. (f66409e9)
2019-06-01T02:05:22.2888671+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 1472.423ms (afa2e885)
2019-06-01T02:05:22.3000717+07:00 0HLN5VBM7SNSF:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T02:05:22.3159834+07:00 0HLN5VBM7SNSD:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T02:05:22.3654537+07:00 0HLN5VBM7SNSE:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T02:05:22.3846179+07:00 0HLN5VBM7SNSF:00000001 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T02:05:22.3966823+07:00 0HLN5VBM7SNSD:00000001 [INF] Request finished in 2192.4727ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:05:22.3997346+07:00 0HLN5VBM7SNSE:00000001 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T02:05:22.4161166+07:00 0HLN5VBM7SNSI:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T02:05:22.4978687+07:00 0HLN5VBM7SNSI:00000001 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T02:05:22.7396295+07:00 0HLN5VBM7SNSG:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T02:05:22.7614543+07:00 0HLN5VBM7SNSH:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T02:05:22.8182472+07:00 0HLN5VBM7SNSI:00000001 [INF] Request finished in 448.7836ms 200 image/jpeg (791a596a)
2019-06-01T02:05:22.8254964+07:00 0HLN5VBM7SNSH:00000001 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T02:05:23.0606451+07:00 0HLN5VBM7SNSH:00000001 [INF] Request finished in 216.6195ms 200 image/jpeg (791a596a)
2019-06-01T02:05:23.0813528+07:00 0HLN5VBM7SNSD:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T02:05:23.0829938+07:00 0HLN5VBM7SNSG:00000001 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T02:05:23.2217222+07:00 0HLN5VBM7SNSD:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T02:05:23.2252147+07:00 0HLN5VBM7SNSF:00000001 [INF] Request finished in 805.9551ms 200 image/jpeg (791a596a)
2019-06-01T02:05:23.2279014+07:00 0HLN5VBM7SNSE:00000001 [INF] Request finished in 342.0072ms 200 image/jpeg (791a596a)
2019-06-01T02:05:23.2544992+07:00 0HLN5VBM7SNSE:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T02:05:23.2640791+07:00 0HLN5VBM7SNSD:00000002 [INF] Request finished in 237.1073ms 200 image/jpeg (791a596a)
2019-06-01T02:05:23.2783247+07:00 0HLN5VBM7SNSI:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:05:23.2898017+07:00 0HLN5VBM7SNSE:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T02:05:23.3340109+07:00 0HLN5VBM7SNSF:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T02:05:23.3379054+07:00 0HLN5VBM7SNSI:00000002 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:05:23.3478594+07:00 0HLN5VBM7SNSE:00000002 [INF] Request finished in 68.3145ms 200 image/jpeg (791a596a)
2019-06-01T02:05:23.3605495+07:00 0HLN5VBM7SNSI:00000002 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:05:23.4411463+07:00 0HLN5VBM7SNSH:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T02:05:23.4764241+07:00 0HLN5VBM7SNSF:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T02:05:23.4979650+07:00 0HLN5VBM7SNSH:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T02:05:23.5066600+07:00 0HLN5VBM7SNSF:00000002 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T02:05:23.5250994+07:00 0HLN5VBM7SNSH:00000002 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T02:05:23.5270287+07:00 0HLN5VBM7SNSF:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:05:23.5407441+07:00 0HLN5VBM7SNSH:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:05:23.5463892+07:00 0HLN5VBM7SNSF:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:05:23.5815534+07:00 0HLN5VBM7SNSH:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:05:23.6156605+07:00 0HLN5VBM7SNSI:00000002 [INF] Request finished in 301.7627ms 200 application/json (791a596a)
2019-06-01T02:05:23.6331554+07:00 0HLN5VBM7SNSD:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T02:05:23.6344699+07:00 0HLN5VBM7SNSF:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T02:05:23.6699889+07:00 0HLN5VBM7SNSD:00000003 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T02:05:23.6771611+07:00 0HLN5VBM7SNSF:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 113.4833ms. (50a9e262)
2019-06-01T02:05:23.6986412+07:00 0HLN5VBM7SNSH:00000002 [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T02:05:23.7085308+07:00 0HLN5VBM7SNSF:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:05:23.7290954+07:00 0HLN5VBM7SNSG:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T02:05:23.7659687+07:00 0HLN5VBM7SNSH:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 158.958ms. (50a9e262)
2019-06-01T02:05:23.8007887+07:00 0HLN5VBM7SNSF:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 281.0013ms (afa2e885)
2019-06-01T02:05:23.8099862+07:00 0HLN5VBM7SNSJ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=bGC_RI3GZaNc-9VAE95nfw   (ca22a1cb)
2019-06-01T02:05:23.8197963+07:00 0HLN5VBM7SNSF:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T02:05:23.8252986+07:00 0HLN5VBM7SNSJ:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:05:23.8349031+07:00 0HLN5VBM7SNSF:00000002 [INF] Request finished in 538.9131ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:05:23.8386935+07:00 0HLN5VBM7SNSJ:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:05:23.8568452+07:00 0HLN5VBM7SNSH:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:05:23.8669453+07:00 0HLN5VBM7SNSG:00000001 [INF] Request finished in 1237.314ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T02:05:23.8758101+07:00 0HLN5VBM7SNSH:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 335.0119ms (afa2e885)
2019-06-01T02:05:23.8922573+07:00 0HLN5VBM7SNSH:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T02:05:23.9139073+07:00 0HLN5VBM7SNSH:00000002 [INF] Request finished in 530.1152ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:05:23.9839822+07:00 0HLN5VBM7SNSD:00000003 [INF] Request finished in 375.9337ms 200 image/jpeg (791a596a)
2019-06-01T02:05:24.0039125+07:00 0HLN5VBM7SNSJ:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:05:24.8302710+07:00 0HLN5VBM7SNSD:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T02:05:24.8512596+07:00 0HLN5VBM7SNSD:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T02:05:24.8639184+07:00 0HLN5VBM7SNSD:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T02:05:24.8768953+07:00 0HLN5VBM7SNSD:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:05:24.8884595+07:00 0HLN5VBM7SNSD:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.7794ms. (50a9e262)
2019-06-01T02:05:24.8991857+07:00 0HLN5VBM7SNSD:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:05:24.9465777+07:00 0HLN5VBM7SNSD:00000004 [INF] Executed ViewResult - view "Index" executed in 43.5576ms. (f66409e9)
2019-06-01T02:05:25.0641967+07:00 0HLN5VBM7SNSD:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 82.9274ms (afa2e885)
2019-06-01T02:05:25.1125441+07:00 0HLN5VBM7SNSD:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T02:05:25.1287197+07:00 0HLN5VBM7SNSJ:00000001 [INF] Request finished in 1319.9449ms 101  (791a596a)
2019-06-01T02:05:25.1333351+07:00 0HLN5VBM7SNSD:00000004 [INF] Request finished in 289.7824ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:05:31.0148204+07:00 0HLN5VBM7SNSD:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T02:05:31.0192442+07:00 0HLN5VBM7SNSD:00000005 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:05:31.0239453+07:00 0HLN5VBM7SNSD:00000005 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:05:31.0282378+07:00 0HLN5VBM7SNSD:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T02:05:31.0494723+07:00 0HLN5VBM7SNSD:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T02:05:31.1013810+07:00 0HLN5VBM7SNSD:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:05:37.1244567+07:00 0HLN5VBM7SNSD:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:05:38.0085258+07:00 0HLN5VBM7SNSD:00000005 [INF] Executed DbCommand ("763"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T02:05:39.0154481+07:00 0HLN5VBM7SNSD:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T02:05:39.0565032+07:00 0HLN5VBM7SNSD:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:05:39.0767957+07:00 0HLN5VBM7SNSD:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T02:05:39.1100210+07:00 0HLN5VBM7SNSD:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T02:05:39.1168346+07:00 0HLN5VBM7SNSD:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T02:05:39.8089939+07:00 0HLN5VBM7SNSD:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T02:05:39.8295764+07:00 0HLN5VBM7SNSD:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T02:05:39.8396855+07:00 0HLN5VBM7SNSD:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T02:05:39.8479329+07:00 0HLN5VBM7SNSD:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:05:39.8878676+07:00 0HLN5VBM7SNSD:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T02:05:39.8944477+07:00 0HLN5VBM7SNSD:00000005 [INF] User logged in. (fdce0db4)
2019-06-01T02:05:39.9007164+07:00 0HLN5VBM7SNSD:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8795.2101ms. (50a9e262)
2019-06-01T02:05:39.9092994+07:00 0HLN5VBM7SNSD:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T02:05:39.9194060+07:00 0HLN5VBM7SNSD:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 8863.0369ms (afa2e885)
2019-06-01T02:05:39.9254519+07:00 0HLN5VBM7SNSD:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T02:05:39.9316927+07:00 0HLN5VBM7SNSD:00000005 [INF] Request finished in 8914.3217ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:05:39.9581148+07:00 0HLN5VBM7SNSD:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T02:05:39.9647593+07:00 0HLN5VBM7SNSD:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T02:05:39.9727298+07:00 0HLN5VBM7SNSD:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T02:05:39.9872356+07:00 0HLN5VBM7SNSD:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:05:39.9939219+07:00 0HLN5VBM7SNSD:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:05:39.9983695+07:00 0HLN5VBM7SNSD:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.4598ms. (50a9e262)
2019-06-01T02:05:40.0075466+07:00 0HLN5VBM7SNSD:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:05:40.0229784+07:00 0HLN5VBM7SNSD:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:05:40.0769151+07:00 0HLN5VBM7SNSD:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:05:40.1135439+07:00 0HLN5VBM7SNSD:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:05:40.1417014+07:00 0HLN5VBM7SNSD:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:05:40.1460936+07:00 0HLN5VBM7SNSD:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:05:40.1635910+07:00 0HLN5VBM7SNSD:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:05:40.1674987+07:00 0HLN5VBM7SNSD:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:05:40.1843918+07:00 0HLN5VBM7SNSD:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:05:40.1890138+07:00 0HLN5VBM7SNSD:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:05:40.2381382+07:00 0HLN5VBM7SNSD:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:05:40.3127001+07:00 0HLN5VBM7SNSD:00000006 [INF] Executed ViewResult - view "Index" executed in 304.2854ms. (f66409e9)
2019-06-01T02:05:40.4437998+07:00 0HLN5VBM7SNSD:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 340.3091ms (afa2e885)
2019-06-01T02:05:40.4834756+07:00 0HLN5VBM7SNSD:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T02:05:40.4856102+07:00 0HLN5VBM7SNSH:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=6qU_r2bLKSoz7ycf8zkV96mtXmnFC4v4_dgkf05FeDw   (ca22a1cb)
2019-06-01T02:05:40.4972388+07:00 0HLN5VBM7SNSD:00000006 [INF] Request finished in 537.4124ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:05:40.5125939+07:00 0HLN5VBM7SNSH:00000003 [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T02:05:40.5215318+07:00 0HLN5VBM7SNSH:00000003 [INF] Request finished in 43.1346ms 200 application/javascript (791a596a)
2019-06-01T02:05:40.7231331+07:00 0HLN5VBM7SNSH:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:05:40.7292426+07:00 0HLN5VBM7SNSD:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:05:40.7341685+07:00 0HLN5VBM7SNSF:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:05:40.7425878+07:00 0HLN5VBM7SNSH:00000004 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:05:40.7451204+07:00 0HLN5VBM7SNSD:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:05:40.7572688+07:00 0HLN5VBM7SNSF:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:05:40.7599063+07:00 0HLN5VBM7SNSD:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:05:42.1383718+07:00 0HLN5VBM7SNSD:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:05:42.1405346+07:00 0HLN5VBM7SNSF:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:05:42.1435721+07:00 0HLN5VBM7SNSH:00000004 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:05:42.1754408+07:00 0HLN5VBM7SNSF:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:05:42.1781514+07:00 0HLN5VBM7SNSD:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:05:42.1846769+07:00 0HLN5VBM7SNSF:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:05:42.1863229+07:00 0HLN5VBM7SNSH:00000004 [INF] Request finished in 1434.1305ms 200 application/json (791a596a)
2019-06-01T02:05:42.1947716+07:00 0HLN5VBM7SNSK:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=ztasELTa33vpl4bgmsfOAg   (ca22a1cb)
2019-06-01T02:05:42.1967524+07:00 0HLN5VBM7SNSI:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T02:05:42.2058994+07:00 0HLN5VBM7SNSD:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:05:42.2083056+07:00 0HLN5VBM7SNSF:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:05:42.2102983+07:00 0HLN5VBM7SNSK:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:05:42.2205956+07:00 0HLN5VBM7SNSI:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T02:05:42.2255610+07:00 0HLN5VBM7SNSK:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:05:42.2514756+07:00 0HLN5VBM7SNSI:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T02:05:42.2544204+07:00 0HLN5VBM7SNSK:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:05:42.2562337+07:00 0HLN5VBM7SNSD:00000007 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:05:42.2618193+07:00 0HLN5VBM7SNSI:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:05:42.2673750+07:00 0HLN5VBM7SNSI:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T02:05:43.0090690+07:00 0HLN5VBM7SNSD:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:05:43.0231638+07:00 0HLN5VBM7SNSD:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 833.2351ms. (50a9e262)
2019-06-01T02:05:43.0251671+07:00 0HLN5VBM7SNSF:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:05:43.0337762+07:00 0HLN5VBM7SNSD:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:05:43.0493959+07:00 0HLN5VBM7SNSD:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 2282.4536ms (afa2e885)
2019-06-01T02:05:43.0569057+07:00 0HLN5VBM7SNSD:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:05:43.0676888+07:00 0HLN5VBM7SNSD:00000007 [INF] Request finished in 2337.9957ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:05:43.1234524+07:00 0HLN5VBM7SNSI:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 851.4258ms. (50a9e262)
2019-06-01T02:05:43.1293346+07:00 0HLN5VBM7SNSI:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:05:43.1311107+07:00 0HLN5VBM7SNSF:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:05:43.1404579+07:00 0HLN5VBM7SNSI:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 880.6172ms (afa2e885)
2019-06-01T02:05:43.1482072+07:00 0HLN5VBM7SNSI:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T02:05:43.1639984+07:00 0HLN5VBM7SNSI:00000003 [INF] Request finished in 2390.2069ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:05:43.1671963+07:00 0HLN5VBM7SNSF:00000003 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T02:05:43.2174667+07:00 0HLN5VBM7SNSF:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T02:05:43.2456492+07:00 0HLN5VBM7SNSF:00000003 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T02:05:43.2593209+07:00 0HLN5VBM7SNSF:00000003 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T02:05:43.2990505+07:00 0HLN5VBM7SNSF:00000003 [INF] Executed DbCommand ("32"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T02:05:43.3135153+07:00 0HLN5VBM7SNSF:00000003 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T02:05:43.3185077+07:00 0HLN5VBM7SNSF:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1129.7544ms. (50a9e262)
2019-06-01T02:05:43.3260621+07:00 0HLN5VBM7SNSF:00000003 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:05:43.3383846+07:00 0HLN5VBM7SNSF:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 1190.3192ms (afa2e885)
2019-06-01T02:05:43.3460240+07:00 0HLN5VBM7SNSF:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:05:43.3520892+07:00 0HLN5VBM7SNSF:00000003 [INF] Request finished in 2623.8328ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:05:49.8725265+07:00 0HLN5VBM7SNSF:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T02:05:49.8778524+07:00 0HLN5VBM7SNSF:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T02:05:49.8835095+07:00 0HLN5VBM7SNSF:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T02:05:49.8896182+07:00 0HLN5VBM7SNSF:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:05:49.8937355+07:00 0HLN5VBM7SNSF:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:05:49.8976710+07:00 0HLN5VBM7SNSF:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2121ms. (50a9e262)
2019-06-01T02:05:49.9057789+07:00 0HLN5VBM7SNSF:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:05:49.9193391+07:00 0HLN5VBM7SNSF:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:05:49.9300694+07:00 0HLN5VBM7SNSF:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:05:49.9344792+07:00 0HLN5VBM7SNSF:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:05:49.9432365+07:00 0HLN5VBM7SNSF:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:05:49.9470630+07:00 0HLN5VBM7SNSF:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:05:49.9562416+07:00 0HLN5VBM7SNSF:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:05:49.9594925+07:00 0HLN5VBM7SNSF:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:05:49.9656188+07:00 0HLN5VBM7SNSF:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:05:49.9774941+07:00 0HLN5VBM7SNSF:00000004 [INF] Executed ViewResult - view "Index" executed in 70.975ms. (f66409e9)
2019-06-01T02:05:50.1143004+07:00 0HLN5VBM7SNSF:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 94.0974ms (afa2e885)
2019-06-01T02:05:50.1180005+07:00 0HLN5VBM7SNSK:00000001 [INF] Request finished in 7822.3769ms 101  (791a596a)
2019-06-01T02:05:50.1324932+07:00 0HLN5VBM7SNSI:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=6qU_r2bLKSoz7ycf8zkV96mtXmnFC4v4_dgkf05FeDw   (ca22a1cb)
2019-06-01T02:05:50.1446032+07:00 0HLN5VBM7SNSF:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T02:05:50.1598405+07:00 0HLN5VBM7SNSI:00000004 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T02:05:50.1653190+07:00 0HLN5VBM7SNSF:00000004 [INF] Request finished in 281.6524ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:05:50.1711213+07:00 0HLN5VBM7SNSI:00000004 [INF] Request finished in 120.2607ms 304 application/javascript (791a596a)
2019-06-01T02:05:50.1796201+07:00 0HLN5VBM7SNSI:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:05:50.1883877+07:00 0HLN5VBM7SNSI:00000005 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:05:50.1933715+07:00 0HLN5VBM7SNSI:00000005 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:05:50.2010219+07:00 0HLN5VBM7SNSI:00000005 [INF] Request finished in 17.7328ms 200 application/json (791a596a)
2019-06-01T02:05:50.5495764+07:00 0HLN5VBM7SNSI:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:05:50.5658701+07:00 0HLN5VBM7SNSF:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:05:50.6140337+07:00 0HLN5VBM7SNSI:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:05:50.6167956+07:00 0HLN5VBM7SNSF:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:05:50.6292653+07:00 0HLN5VBM7SNSI:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:05:50.6316739+07:00 0HLN5VBM7SNSF:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:05:50.6393543+07:00 0HLN5VBM7SNSI:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:05:50.6439209+07:00 0HLN5VBM7SNSF:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:05:50.6526512+07:00 0HLN5VBM7SNSI:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:05:50.6555574+07:00 0HLN5VBM7SNSF:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:05:50.6663024+07:00 0HLN5VBM7SNSI:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:05:50.6685038+07:00 0HLN5VBM7SNSF:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:05:50.6802154+07:00 0HLN5VBM7SNSI:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:05:50.6840566+07:00 0HLN5VBM7SNSF:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:05:50.6923278+07:00 0HLN5VBM7SNSL:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=hcawFsCxCM3GlCNwW8pRkg   (ca22a1cb)
2019-06-01T02:05:50.6979446+07:00 0HLN5VBM7SNSI:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:05:50.6999458+07:00 0HLN5VBM7SNSF:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:05:50.7095237+07:00 0HLN5VBM7SNSI:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 45.3545ms. (50a9e262)
2019-06-01T02:05:50.7119791+07:00 0HLN5VBM7SNSF:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T02:05:50.7210851+07:00 0HLN5VBM7SNSI:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:05:50.7236044+07:00 0HLN5VBM7SNSF:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T02:05:50.7379359+07:00 0HLN5VBM7SNSI:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 92.5011ms (afa2e885)
2019-06-01T02:05:50.7400832+07:00 0HLN5VBM7SNSF:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T02:05:50.7445197+07:00 0HLN5VBM7SNSL:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:05:50.7487297+07:00 0HLN5VBM7SNSI:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:05:50.7560746+07:00 0HLN5VBM7SNSF:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T02:05:50.7662489+07:00 0HLN5VBM7SNSI:00000006 [INF] Request finished in 519.4325ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:05:50.7681266+07:00 0HLN5VBM7SNSF:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T02:05:50.7722669+07:00 0HLN5VBM7SNSL:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:05:50.7843966+07:00 0HLN5VBM7SNSF:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T02:05:50.7872827+07:00 0HLN5VBM7SNSL:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:05:50.7932606+07:00 0HLN5VBM7SNSF:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 129.0701ms. (50a9e262)
2019-06-01T02:05:50.7974423+07:00 0HLN5VBM7SNSF:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:05:50.8057455+07:00 0HLN5VBM7SNSF:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 166.0247ms (afa2e885)
2019-06-01T02:05:50.8117328+07:00 0HLN5VBM7SNSF:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:05:50.8196560+07:00 0HLN5VBM7SNSF:00000005 [INF] Request finished in 581.2573ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:05:50.8364843+07:00 0HLN5VBM7SNSF:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:05:50.8424502+07:00 0HLN5VBM7SNSF:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:05:50.8477835+07:00 0HLN5VBM7SNSF:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:05:50.8530414+07:00 0HLN5VBM7SNSF:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:05:50.8620731+07:00 0HLN5VBM7SNSF:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:05:50.8672477+07:00 0HLN5VBM7SNSF:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:05:50.8747730+07:00 0HLN5VBM7SNSF:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:05:50.8877654+07:00 0HLN5VBM7SNSF:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:05:50.8917260+07:00 0HLN5VBM7SNSF:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 25.7743ms. (50a9e262)
2019-06-01T02:05:50.8971185+07:00 0HLN5VBM7SNSF:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:05:50.9053334+07:00 0HLN5VBM7SNSF:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 49.7238ms (afa2e885)
2019-06-01T02:05:50.9105002+07:00 0HLN5VBM7SNSF:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:05:50.9156513+07:00 0HLN5VBM7SNSF:00000006 [INF] Request finished in 78.9873ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:07:15.2162116+07:00 0HLN5VBM7SNSF:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/DeleteAll application/x-www-form-urlencoded; charset=UTF-8 10 (ca22a1cb)
2019-06-01T02:07:15.2221857+07:00 0HLN5VBM7SNSF:00000007 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:07:15.2259951+07:00 0HLN5VBM7SNSF:00000007 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:07:15.2294055+07:00 0HLN5VBM7SNSF:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)"' (500cc934)
2019-06-01T02:07:15.2385078+07:00 0HLN5VBM7SNSF:00000007 [INF] Route matched with "{area = \"Admin\", action = \"DeleteAll\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)" (a44c0341)
2019-06-01T02:07:15.2433033+07:00 0HLN5VBM7SNSF:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:07:15.2514830+07:00 0HLN5VBM7SNSF:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)" with arguments (["UnRead"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:07:15.2593184+07:00 0HLN5VBM7SNSF:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:07:15.2761221+07:00 0HLN5VBM7SNSF:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [y].[Id], [y].[Content], [y].[DateCreated], [y].[DateModified], [y].[Status], [y].[Title], [y].[UserId]
FROM [Announcements] AS [y]
WHERE ([y].[Id] = @__id_0) AND ([y].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T02:07:15.2919490+07:00 0HLN5VBM7SNSF:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[AnnouncementId] = @__id_0) AND ([x].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T02:07:25.8677129+07:00 0HLN5VBM7SNSF:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)" in 10624.8728ms (afa2e885)
2019-06-01T02:07:25.8994835+07:00 0HLN5VBM7SNSF:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)"' (99874f2b)
2019-06-01T02:07:25.9683528+07:00 0HLN5VBM7SNSF:00000007 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Shop3.Application.Implementation.AnnouncementService.Delete(Guid userId, String id) in E:\project\shop3\Shop3.Application\Implementation\AnnouncementService.cs:line 142
   at Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll(String key) in E:\project\shop3\Shop3\Areas\Admin\Controllers\AnnouncementController.cs:line 58
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 77
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T02:07:26.0096351+07:00 0HLN5VBM7SNSF:00000007 [INF] Request finished in 10787.5822ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T02:07:36.6616558+07:00 0HLN5VBM7SNSF:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/DeleteAll application/x-www-form-urlencoded; charset=UTF-8 10 (ca22a1cb)
2019-06-01T02:07:36.6666396+07:00 0HLN5VBM7SNSF:00000008 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:07:36.6733117+07:00 0HLN5VBM7SNSF:00000008 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:07:36.6771725+07:00 0HLN5VBM7SNSF:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)"' (500cc934)
2019-06-01T02:07:36.6813752+07:00 0HLN5VBM7SNSF:00000008 [INF] Route matched with "{area = \"Admin\", action = \"DeleteAll\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)" (a44c0341)
2019-06-01T02:07:36.6854420+07:00 0HLN5VBM7SNSF:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:07:36.6905657+07:00 0HLN5VBM7SNSF:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)" with arguments (["UnRead"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:07:36.6951331+07:00 0HLN5VBM7SNSF:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:07:36.7014888+07:00 0HLN5VBM7SNSF:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [y].[Id], [y].[Content], [y].[DateCreated], [y].[DateModified], [y].[Status], [y].[Title], [y].[UserId]
FROM [Announcements] AS [y]
WHERE ([y].[Id] = @__id_0) AND ([y].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T02:07:36.7092279+07:00 0HLN5VBM7SNSF:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[AnnouncementId] = @__id_0) AND ([x].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T02:07:55.7227150+07:00 0HLN5VBM7SNSF:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)" in 19034.5513ms (afa2e885)
2019-06-01T02:07:55.7270670+07:00 0HLN5VBM7SNSF:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)"' (99874f2b)
2019-06-01T02:07:55.7668499+07:00 0HLN5VBM7SNSF:00000008 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at Shop3.Application.Implementation.AnnouncementService.Delete(Guid userId, String id) in E:\project\shop3\Shop3.Application\Implementation\AnnouncementService.cs:line 142
   at Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll(String key) in E:\project\shop3\Shop3\Areas\Admin\Controllers\AnnouncementController.cs:line 58
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 77
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T02:07:55.7995408+07:00 0HLN5VBM7SNSF:00000008 [INF] Request finished in 19138.4362ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T02:08:01.7338629+07:00 0HLN5VBM7SNSF:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/DeleteAll application/x-www-form-urlencoded; charset=UTF-8 10 (ca22a1cb)
2019-06-01T02:08:01.7385263+07:00 0HLN5VBM7SNSF:00000009 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:08:01.7419663+07:00 0HLN5VBM7SNSF:00000009 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:08:01.7452742+07:00 0HLN5VBM7SNSF:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)"' (500cc934)
2019-06-01T02:08:01.7486625+07:00 0HLN5VBM7SNSF:00000009 [INF] Route matched with "{area = \"Admin\", action = \"DeleteAll\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)" (a44c0341)
2019-06-01T02:08:01.7533127+07:00 0HLN5VBM7SNSF:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:08:01.7574370+07:00 0HLN5VBM7SNSF:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)" with arguments (["UnRead"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:09:21.3288814+07:00 0HLN5VDU3I2B4:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T02:09:21.5436441+07:00 0HLN5VDU3I2B4:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T02:09:21.5994500+07:00 0HLN5VDU3I2B4:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T02:09:21.6235152+07:00 0HLN5VDU3I2B4:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:09:21.6464645+07:00 0HLN5VDU3I2B4:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:09:21.7575962+07:00 0HLN5VDU3I2B4:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T02:09:21.8671271+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T02:09:21.8940498+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T02:09:21.9879199+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T02:09:22.0098698+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:09:22.0542550+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T02:09:22.0708400+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:09:22.1099361+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T02:09:22.1309437+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T02:09:22.1560218+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T02:09:22.1698359+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:09:22.1938852+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T02:09:22.2072902+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 573.1174ms. (50a9e262)
2019-06-01T02:09:22.2438206+07:00 0HLN5VDU3I2B4:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:09:22.3952763+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:09:22.4090761+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:09:22.5210218+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:09:22.5269163+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:09:22.5433246+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:09:22.5479613+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:09:22.6657883+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed ViewResult - view "Index" executed in 389.9201ms. (f66409e9)
2019-06-01T02:09:22.6718314+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 1066.5758ms (afa2e885)
2019-06-01T02:09:22.6773526+07:00 0HLN5VDU3I2B4:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T02:09:22.6945944+07:00 0HLN5VDU3I2B4:00000001 [INF] Request finished in 1420.3221ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:09:22.9345415+07:00 0HLN5VDU3I2B6:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T02:09:22.9384291+07:00 0HLN5VDU3I2B4:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T02:09:22.9396997+07:00 0HLN5VDU3I2B5:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T02:09:22.9461210+07:00 0HLN5VDU3I2B8:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T02:09:22.9762571+07:00 0HLN5VDU3I2B4:00000002 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T02:09:22.9797415+07:00 0HLN5VDU3I2B8:00000001 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T02:09:23.0234427+07:00 0HLN5VDU3I2B6:00000001 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T02:09:23.0620343+07:00 0HLN5VDU3I2B5:00000001 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T02:09:23.3787217+07:00 0HLN5VDU3I2B9:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T02:09:23.3950196+07:00 0HLN5VDU3I2B7:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T02:09:23.4049116+07:00 0HLN5VDU3I2B9:00000001 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T02:09:23.4093276+07:00 0HLN5VDU3I2B7:00000001 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T02:09:23.4238044+07:00 0HLN5VDU3I2B4:00000002 [INF] Request finished in 452.1617ms 200 image/jpeg (791a596a)
2019-06-01T02:09:23.4267644+07:00 0HLN5VDU3I2B9:00000001 [INF] Request finished in 65.9428ms 200 image/jpeg (791a596a)
2019-06-01T02:09:23.5201316+07:00 0HLN5VDU3I2B5:00000001 [INF] Request finished in 648.8867ms 200 image/jpeg (791a596a)
2019-06-01T02:09:23.5493168+07:00 0HLN5VDU3I2B6:00000001 [INF] Request finished in 665.3876ms 200 image/jpeg (791a596a)
2019-06-01T02:09:23.5603214+07:00 0HLN5VDU3I2B7:00000001 [INF] Request finished in 164.309ms 200 image/jpeg (791a596a)
2019-06-01T02:09:23.6004391+07:00 0HLN5VDU3I2B6:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T02:09:23.6301966+07:00 0HLN5VDU3I2B6:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T02:09:23.6451135+07:00 0HLN5VDU3I2B5:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T02:09:23.6572316+07:00 0HLN5VDU3I2B8:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T02:09:23.6602954+07:00 0HLN5VDU3I2B6:00000002 [INF] Request finished in 65.8809ms 200 image/jpeg (791a596a)
2019-06-01T02:09:23.6731295+07:00 0HLN5VDU3I2B5:00000002 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T02:09:23.8402553+07:00 0HLN5VDU3I2B5:00000002 [INF] Request finished in 100.5983ms 200 image/jpeg (791a596a)
2019-06-01T02:09:23.8595845+07:00 0HLN5VDU3I2B8:00000001 [INF] Request finished in 899.8885ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T02:09:23.8636990+07:00 0HLN5VDU3I2B7:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T02:09:23.8831513+07:00 0HLN5VDU3I2B6:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:09:23.8916616+07:00 0HLN5VDU3I2B9:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T02:09:23.9115676+07:00 0HLN5VDU3I2B7:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T02:09:23.9152928+07:00 0HLN5VDU3I2B9:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T02:09:23.9181785+07:00 0HLN5VDU3I2B6:00000003 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:09:23.9322941+07:00 0HLN5VDU3I2B7:00000002 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T02:09:23.9414807+07:00 0HLN5VDU3I2B9:00000002 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T02:09:23.9522314+07:00 0HLN5VDU3I2B7:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:09:23.9576177+07:00 0HLN5VDU3I2B9:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:09:23.9693255+07:00 0HLN5VDU3I2B7:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:09:23.9974682+07:00 0HLN5VDU3I2B6:00000003 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:09:24.0108232+07:00 0HLN5VDU3I2B9:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:09:24.0322949+07:00 0HLN5VDU3I2B7:00000002 [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T02:09:24.0780220+07:00 0HLN5VDU3I2B7:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 83.0369ms. (50a9e262)
2019-06-01T02:09:24.1176661+07:00 0HLN5VDU3I2B9:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T02:09:24.1232424+07:00 0HLN5VDU3I2B7:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:09:24.1303886+07:00 0HLN5VDU3I2B9:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 161.1357ms. (50a9e262)
2019-06-01T02:09:24.1555159+07:00 0HLN5VDU3I2B9:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:09:24.1580173+07:00 0HLN5VDU3I2B6:00000003 [INF] Request finished in 300.1919ms 200 application/json (791a596a)
2019-06-01T02:09:24.1762417+07:00 0HLN5VDU3I2BA:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=_LLeTH4B8hUw-1w8HNoIcA   (ca22a1cb)
2019-06-01T02:09:24.1918453+07:00 0HLN5VDU3I2BA:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:09:24.2060566+07:00 0HLN5VDU3I2B9:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 241.209ms (afa2e885)
2019-06-01T02:09:24.2124102+07:00 0HLN5VDU3I2BA:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:09:24.2152089+07:00 0HLN5VDU3I2B7:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 256.194ms (afa2e885)
2019-06-01T02:09:24.2293550+07:00 0HLN5VDU3I2B9:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T02:09:24.2392028+07:00 0HLN5VDU3I2B7:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T02:09:24.2651773+07:00 0HLN5VDU3I2B9:00000002 [INF] Request finished in 373.9452ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:09:24.2678021+07:00 0HLN5VDU3I2B7:00000002 [INF] Request finished in 412.4875ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:09:24.3409339+07:00 0HLN5VDU3I2BA:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:09:37.5774361+07:00 0HLN5VDU3I2B7:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T02:09:37.5852039+07:00 0HLN5VDU3I2B7:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T02:09:37.5941159+07:00 0HLN5VDU3I2B7:00000003 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T02:09:37.6014976+07:00 0HLN5VDU3I2B7:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:09:37.6083977+07:00 0HLN5VDU3I2B7:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2904ms. (50a9e262)
2019-06-01T02:09:37.6181466+07:00 0HLN5VDU3I2B7:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:09:37.8169602+07:00 0HLN5VDU3I2B7:00000003 [INF] Executed ViewResult - view "Index" executed in 38.3839ms. (f66409e9)
2019-06-01T02:09:37.9284804+07:00 0HLN5VDU3I2B7:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 222.7836ms (afa2e885)
2019-06-01T02:09:38.0053784+07:00 0HLN5VDU3I2B7:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T02:09:38.0936362+07:00 0HLN5VDU3I2BA:00000001 [INF] Request finished in 13816.5348ms 101  (791a596a)
2019-06-01T02:09:38.0959267+07:00 0HLN5VDU3I2B7:00000003 [INF] Request finished in 433.5779ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:09:41.5078403+07:00 0HLN5VDU3I2B7:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T02:09:41.5125841+07:00 0HLN5VDU3I2B7:00000004 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:09:41.5165849+07:00 0HLN5VDU3I2B7:00000004 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:09:41.5226136+07:00 0HLN5VDU3I2B7:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T02:09:41.5447858+07:00 0HLN5VDU3I2B7:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T02:09:41.5928515+07:00 0HLN5VDU3I2B7:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:10:03.0117673+07:00 0HLN5VDU3I2B7:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:10:03.7739793+07:00 0HLN5VDU3I2B7:00000004 [INF] Executed DbCommand ("694"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T02:10:04.5296560+07:00 0HLN5VDU3I2B7:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T02:10:04.5791099+07:00 0HLN5VDU3I2B7:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:10:04.6011731+07:00 0HLN5VDU3I2B7:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T02:10:04.6300239+07:00 0HLN5VDU3I2B7:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T02:10:04.6398130+07:00 0HLN5VDU3I2B7:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T02:10:04.6474216+07:00 0HLN5VDU3I2B7:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T02:10:04.6552312+07:00 0HLN5VDU3I2B7:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T02:10:04.6624227+07:00 0HLN5VDU3I2B7:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T02:10:04.6705641+07:00 0HLN5VDU3I2B7:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:10:04.6942987+07:00 0HLN5VDU3I2B7:00000004 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T02:10:04.7037050+07:00 0HLN5VDU3I2B7:00000004 [INF] User logged in. (fdce0db4)
2019-06-01T02:10:04.7140910+07:00 0HLN5VDU3I2B7:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 23113.5928ms. (50a9e262)
2019-06-01T02:10:04.7249156+07:00 0HLN5VDU3I2B7:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T02:10:04.7373066+07:00 0HLN5VDU3I2B7:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 23184.8784ms (afa2e885)
2019-06-01T02:10:04.7440364+07:00 0HLN5VDU3I2B7:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T02:10:04.7543523+07:00 0HLN5VDU3I2B7:00000004 [INF] Request finished in 23241.6824ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:10:04.7957890+07:00 0HLN5VDU3I2B7:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T02:10:04.8061926+07:00 0HLN5VDU3I2B7:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T02:10:04.8119325+07:00 0HLN5VDU3I2B7:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T02:10:04.8322862+07:00 0HLN5VDU3I2B7:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:10:04.8388129+07:00 0HLN5VDU3I2B7:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:10:04.8439686+07:00 0HLN5VDU3I2B7:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.5936ms. (50a9e262)
2019-06-01T02:10:04.8592087+07:00 0HLN5VDU3I2B7:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:10:04.8764285+07:00 0HLN5VDU3I2B7:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:10:04.9359282+07:00 0HLN5VDU3I2B7:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:10:04.9539557+07:00 0HLN5VDU3I2B7:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:10:04.9987478+07:00 0HLN5VDU3I2B7:00000005 [INF] Executed DbCommand ("10"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:10:05.0507453+07:00 0HLN5VDU3I2B7:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:10:05.0725282+07:00 0HLN5VDU3I2B7:00000005 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:10:05.0770455+07:00 0HLN5VDU3I2B7:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:10:05.1139247+07:00 0HLN5VDU3I2B7:00000005 [INF] Executed DbCommand ("19"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:10:05.1211887+07:00 0HLN5VDU3I2B7:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:10:05.1729112+07:00 0HLN5VDU3I2B7:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:10:05.3329922+07:00 0HLN5VDU3I2B7:00000005 [INF] Executed ViewResult - view "Index" executed in 406.3825ms. (f66409e9)
2019-06-01T02:10:05.3506734+07:00 0HLN5VDU3I2B7:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 526.6645ms (afa2e885)
2019-06-01T02:10:05.3631509+07:00 0HLN5VDU3I2B7:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T02:10:05.5348093+07:00 0HLN5VDU3I2B7:00000005 [INF] Request finished in 571.4419ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:10:05.5660888+07:00 0HLN5VDU3I2B7:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=6qU_r2bLKSoz7ycf8zkV96mtXmnFC4v4_dgkf05FeDw   (ca22a1cb)
2019-06-01T02:10:05.5811489+07:00 0HLN5VDU3I2B7:00000006 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T02:10:05.6102053+07:00 0HLN5VDU3I2B7:00000006 [INF] Request finished in 39.3303ms 304 application/javascript (791a596a)
2019-06-01T02:10:05.8560419+07:00 0HLN5VDU3I2B7:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:10:05.8599148+07:00 0HLN5VDU3I2B9:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:10:05.8648739+07:00 0HLN5VDU3I2B6:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:10:05.8685647+07:00 0HLN5VDU3I2B7:00000007 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:10:05.8782868+07:00 0HLN5VDU3I2B6:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:10:05.8818364+07:00 0HLN5VDU3I2B7:00000007 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:10:05.9107586+07:00 0HLN5VDU3I2B7:00000007 [INF] Request finished in 43.4653ms 200 application/json (791a596a)
2019-06-01T02:10:05.9124964+07:00 0HLN5VDU3I2B6:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:10:05.9238741+07:00 0HLN5VDU3I2B9:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:10:05.9279389+07:00 0HLN5VDU3I2B6:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:10:05.9384648+07:00 0HLN5VDU3I2B9:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:10:05.9409177+07:00 0HLN5VDU3I2B6:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:10:05.9493953+07:00 0HLN5VDU3I2B9:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:10:05.9565612+07:00 0HLN5VDU3I2B5:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T02:10:05.9672681+07:00 0HLN5VDU3I2B9:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:10:05.9706880+07:00 0HLN5VDU3I2B6:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:10:06.0389086+07:00 0HLN5VDU3I2B5:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T02:10:06.0478033+07:00 0HLN5VDU3I2B9:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:10:06.0645570+07:00 0HLN5VDU3I2B5:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T02:10:06.0786582+07:00 0HLN5VDU3I2BB:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=Hi8u6o_erGSAcZB_Bpqutg   (ca22a1cb)
2019-06-01T02:10:06.0893187+07:00 0HLN5VDU3I2B5:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:10:06.0967480+07:00 0HLN5VDU3I2B9:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:10:06.1138791+07:00 0HLN5VDU3I2B5:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T02:10:06.1297150+07:00 0HLN5VDU3I2B6:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:10:06.2591326+07:00 0HLN5VDU3I2BB:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:10:06.3116252+07:00 0HLN5VDU3I2B9:00000003 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:10:06.3364622+07:00 0HLN5VDU3I2B6:00000004 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:10:06.3585380+07:00 0HLN5VDU3I2B9:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 346.2213ms. (50a9e262)
2019-06-01T02:10:06.3674504+07:00 0HLN5VDU3I2B6:00000004 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T02:10:06.3826438+07:00 0HLN5VDU3I2B9:00000003 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:10:06.3950199+07:00 0HLN5VDU3I2BB:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:10:06.4315028+07:00 0HLN5VDU3I2B5:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 291.942ms. (50a9e262)
2019-06-01T02:10:06.4656431+07:00 0HLN5VDU3I2B6:00000004 [INF] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T02:10:06.4770043+07:00 0HLN5VDU3I2B9:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 484.8037ms (afa2e885)
2019-06-01T02:10:06.4805074+07:00 0HLN5VDU3I2BB:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:10:06.4933004+07:00 0HLN5VDU3I2B9:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:10:06.4977164+07:00 0HLN5VDU3I2B6:00000004 [INF] Executed DbCommand ("12"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T02:10:06.5082624+07:00 0HLN5VDU3I2B9:00000003 [INF] Request finished in 645.763ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:10:06.5146079+07:00 0HLN5VDU3I2B5:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:10:06.5299629+07:00 0HLN5VDU3I2B6:00000004 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T02:10:06.5419945+07:00 0HLN5VDU3I2B5:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 455.1545ms (afa2e885)
2019-06-01T02:10:06.5597266+07:00 0HLN5VDU3I2B5:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T02:10:06.5781151+07:00 0HLN5VDU3I2B6:00000004 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T02:10:06.5920535+07:00 0HLN5VDU3I2B5:00000003 [INF] Request finished in 651.7433ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:10:06.6082865+07:00 0HLN5VDU3I2B6:00000004 [INF] Executed DbCommand ("12"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T02:10:06.6163041+07:00 0HLN5VDU3I2B6:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 668.2393ms. (50a9e262)
2019-06-01T02:10:06.6235780+07:00 0HLN5VDU3I2B6:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:10:06.6429408+07:00 0HLN5VDU3I2B6:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 716.8615ms (afa2e885)
2019-06-01T02:10:06.6532580+07:00 0HLN5VDU3I2B6:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:10:06.6641366+07:00 0HLN5VDU3I2B6:00000004 [INF] Request finished in 803.0284ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:10:10.1163817+07:00 0HLN5VDU3I2B6:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T02:10:10.1253068+07:00 0HLN5VDU3I2B6:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T02:10:10.1307903+07:00 0HLN5VDU3I2B6:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T02:10:10.1349260+07:00 0HLN5VDU3I2B6:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:10:10.1411804+07:00 0HLN5VDU3I2B6:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:10:10.1454425+07:00 0HLN5VDU3I2B6:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.1833ms. (50a9e262)
2019-06-01T02:10:10.1531709+07:00 0HLN5VDU3I2B6:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:10:10.1679413+07:00 0HLN5VDU3I2B6:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:10:10.1772956+07:00 0HLN5VDU3I2B6:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:10:10.1814392+07:00 0HLN5VDU3I2B6:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:10:10.1901079+07:00 0HLN5VDU3I2B6:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:10:10.1942658+07:00 0HLN5VDU3I2B6:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:10:10.2028706+07:00 0HLN5VDU3I2B6:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:10:10.2067450+07:00 0HLN5VDU3I2B6:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:10:10.2146671+07:00 0HLN5VDU3I2B6:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:10:10.2283897+07:00 0HLN5VDU3I2B6:00000005 [INF] Executed ViewResult - view "Index" executed in 72.3535ms. (f66409e9)
2019-06-01T02:10:10.2986858+07:00 0HLN5VDU3I2B6:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 97.8591ms (afa2e885)
2019-06-01T02:10:10.3119953+07:00 0HLN5VDU3I2BB:00000001 [INF] Request finished in 4260.5538ms 101  (791a596a)
2019-06-01T02:10:10.3191588+07:00 0HLN5VDU3I2B6:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T02:10:10.3388494+07:00 0HLN5VDU3I2B6:00000005 [INF] Request finished in 210.0505ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:10:10.4120308+07:00 0HLN5VDU3I2B9:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:10:10.4153555+07:00 0HLN5VDU3I2B6:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:10:10.4234302+07:00 0HLN5VDU3I2B9:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:10:10.4259356+07:00 0HLN5VDU3I2B5:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:10:10.4283561+07:00 0HLN5VDU3I2B6:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:10:10.4367455+07:00 0HLN5VDU3I2B9:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:10:10.4385911+07:00 0HLN5VDU3I2B6:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:10:10.4639159+07:00 0HLN5VDU3I2B9:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:10:10.4794683+07:00 0HLN5VDU3I2B6:00000006 [INF] Request finished in 46.2017ms 200 application/json (791a596a)
2019-06-01T02:10:10.4921119+07:00 0HLN5VDU3I2B9:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:10:10.5066469+07:00 0HLN5VDU3I2B5:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:10:10.5923087+07:00 0HLN5VDU3I2B9:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:10:10.6416259+07:00 0HLN5VDU3I2BC:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=n1G5pjB2LtJtXD_B9RYjLw   (ca22a1cb)
2019-06-01T02:10:10.6446704+07:00 0HLN5VDU3I2B9:00000004 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:10:10.6481670+07:00 0HLN5VDU3I2B5:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:10:10.6515406+07:00 0HLN5VDU3I2BC:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:10:10.6645292+07:00 0HLN5VDU3I2B9:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:10:10.6764493+07:00 0HLN5VDU3I2BC:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:10:10.7104730+07:00 0HLN5VDU3I2B5:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:10:10.7146490+07:00 0HLN5VDU3I2B9:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T02:10:10.7388007+07:00 0HLN5VDU3I2BC:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:10:10.7453973+07:00 0HLN5VDU3I2B9:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T02:10:10.7510001+07:00 0HLN5VDU3I2B5:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:10:10.7829684+07:00 0HLN5VDU3I2B9:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T02:10:10.7846780+07:00 0HLN5VDU3I2B5:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:10:10.8151822+07:00 0HLN5VDU3I2B9:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T02:10:10.8407091+07:00 0HLN5VDU3I2B5:00000004 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:10:10.8558590+07:00 0HLN5VDU3I2B9:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T02:10:10.8665379+07:00 0HLN5VDU3I2B5:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:10:10.8843881+07:00 0HLN5VDU3I2B9:00000004 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T02:10:10.8875743+07:00 0HLN5VDU3I2B5:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 116.8798ms. (50a9e262)
2019-06-01T02:10:10.9088234+07:00 0HLN5VDU3I2B9:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 392.4965ms. (50a9e262)
2019-06-01T02:10:10.9121572+07:00 0HLN5VDU3I2B5:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:10:10.9266113+07:00 0HLN5VDU3I2B9:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:10:10.9285740+07:00 0HLN5VDU3I2B5:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 263.5774ms (afa2e885)
2019-06-01T02:10:10.9467999+07:00 0HLN5VDU3I2B9:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 490.0139ms (afa2e885)
2019-06-01T02:10:10.9487676+07:00 0HLN5VDU3I2B5:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:10:10.9768389+07:00 0HLN5VDU3I2B9:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:10:11.0078682+07:00 0HLN5VDU3I2B5:00000004 [INF] Request finished in 543.2988ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:10:11.0309414+07:00 0HLN5VDU3I2B9:00000004 [INF] Request finished in 572.4454ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:10:11.0730184+07:00 0HLN5VDU3I2B9:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:10:11.0813552+07:00 0HLN5VDU3I2B9:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:10:11.1335172+07:00 0HLN5VDU3I2B9:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:10:11.1672419+07:00 0HLN5VDU3I2B9:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:10:11.1908095+07:00 0HLN5VDU3I2B9:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:10:11.1992706+07:00 0HLN5VDU3I2B9:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:10:11.2092902+07:00 0HLN5VDU3I2B9:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:10:11.2225895+07:00 0HLN5VDU3I2B9:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:10:11.2381706+07:00 0HLN5VDU3I2B9:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 31.8317ms. (50a9e262)
2019-06-01T02:10:11.2471663+07:00 0HLN5VDU3I2B9:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:10:11.2558797+07:00 0HLN5VDU3I2B9:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 113.8209ms (afa2e885)
2019-06-01T02:10:11.2635420+07:00 0HLN5VDU3I2B9:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:10:11.2726751+07:00 0HLN5VDU3I2B9:00000005 [INF] Request finished in 200.1887ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:10:14.7831593+07:00 0HLN5VDU3I2B9:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/DeleteAll application/x-www-form-urlencoded; charset=UTF-8 10 (ca22a1cb)
2019-06-01T02:10:14.7887678+07:00 0HLN5VDU3I2B9:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:10:14.7929623+07:00 0HLN5VDU3I2B9:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:10:14.7974250+07:00 0HLN5VDU3I2B9:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)"' (500cc934)
2019-06-01T02:10:14.8046353+07:00 0HLN5VDU3I2B9:00000006 [INF] Route matched with "{area = \"Admin\", action = \"DeleteAll\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)" (a44c0341)
2019-06-01T02:10:14.8085923+07:00 0HLN5VDU3I2B9:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:10:14.8136297+07:00 0HLN5VDU3I2B9:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)" with arguments (["UnRead"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:11:01.7980278+07:00 0HLN5VDU3I2BC:00000001 [INF] Request finished in 51198.9309ms 101  (791a596a)
2019-06-01T02:11:01.8018292+07:00 0HLN5VDU3I2B9:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:11:01.8242455+07:00 0HLN5VDU3I2B9:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[UserId] = @__userId_0) AND ([x].[HasRead] = 0)" (0723d8ff)
2019-06-01T02:11:01.8417508+07:00 0HLN5VDU3I2B9:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
WHERE ([x].[UserId] = @__userId_0) AND ([x].[Status] = 0)" (0723d8ff)
2019-06-01T02:11:10.1233708+07:00 0HLN5VDU3I2B9:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[UserId] = @__userId_0) AND ([x].[HasRead] = 0)" (0723d8ff)
2019-06-01T02:11:10.1373700+07:00 0HLN5VDU3I2B9:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
WHERE ([x].[UserId] = @__userId_0) AND ([x].[Status] = 0)" (0723d8ff)
2019-06-01T02:11:12.7382703+07:00 0HLN5VDU3I2B9:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 57856.392ms. (50a9e262)
2019-06-01T02:11:12.7878624+07:00 0HLN5VDU3I2B9:00000006 [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-06-01T02:11:12.8508096+07:00 0HLN5VDU3I2B9:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)" in 57983.3916ms (afa2e885)
2019-06-01T02:11:12.8728609+07:00 0HLN5VDU3I2B9:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)"' (99874f2b)
2019-06-01T02:11:12.9269613+07:00 0HLN5VDU3I2B9:00000006 [INF] Request finished in 58095.5034ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:11:12.9269990+07:00 0HLN5VDU3I2B5:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:11:12.9443319+07:00 0HLN5VDU3I2B5:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:11:12.9481874+07:00 0HLN5VDU3I2B9:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:11:12.9560910+07:00 0HLN5VDU3I2B5:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:11:12.9644668+07:00 0HLN5VDU3I2B9:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:11:12.9655265+07:00 0HLN5VDU3I2B5:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:11:12.9851064+07:00 0HLN5VDU3I2B5:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:11:12.9835219+07:00 0HLN5VDU3I2B9:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:11:12.9970567+07:00 0HLN5VDU3I2B5:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:11:13.0026657+07:00 0HLN5VDU3I2B9:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:11:13.0186374+07:00 0HLN5VDU3I2B5:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:11:13.0361003+07:00 0HLN5VDU3I2B5:00000005 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:11:13.0349529+07:00 0HLN5VDU3I2B9:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:11:13.0467904+07:00 0HLN5VDU3I2B5:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 51.053ms. (50a9e262)
2019-06-01T02:11:13.0578648+07:00 0HLN5VDU3I2B9:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:11:13.0634627+07:00 0HLN5VDU3I2B5:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:11:13.0804363+07:00 0HLN5VDU3I2B5:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 107.5395ms (afa2e885)
2019-06-01T02:11:13.1108453+07:00 0HLN5VDU3I2B9:00000007 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:11:13.1171734+07:00 0HLN5VDU3I2B5:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:11:13.1338204+07:00 0HLN5VDU3I2B5:00000005 [INF] Request finished in 202.6843ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:11:13.1432763+07:00 0HLN5VDU3I2B9:00000007 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:11:13.1549199+07:00 0HLN5VDU3I2B9:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T02:11:13.1657218+07:00 0HLN5VDU3I2B9:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T02:11:13.1761937+07:00 0HLN5VDU3I2B9:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T02:11:13.1873477+07:00 0HLN5VDU3I2B9:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T02:11:13.1974453+07:00 0HLN5VDU3I2B9:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T02:11:13.2092044+07:00 0HLN5VDU3I2B9:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T02:11:13.2137444+07:00 0HLN5VDU3I2B9:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 166.9863ms. (50a9e262)
2019-06-01T02:11:13.2182966+07:00 0HLN5VDU3I2B9:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:11:13.2261341+07:00 0HLN5VDU3I2B9:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 227.5372ms (afa2e885)
2019-06-01T02:11:13.2300410+07:00 0HLN5VDU3I2B9:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:11:13.2351191+07:00 0HLN5VDU3I2B9:00000007 [INF] Request finished in 296.5254ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:11:13.2479757+07:00 0HLN5VDU3I2B9:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:11:13.2549697+07:00 0HLN5VDU3I2B9:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:11:13.2591638+07:00 0HLN5VDU3I2B9:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:11:13.2634636+07:00 0HLN5VDU3I2B9:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:11:13.2682891+07:00 0HLN5VDU3I2B9:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:11:13.2752753+07:00 0HLN5VDU3I2B9:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:11:13.2804466+07:00 0HLN5VDU3I2B9:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:11:13.2870698+07:00 0HLN5VDU3I2B9:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:11:13.2917439+07:00 0HLN5VDU3I2B9:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 19.1921ms. (50a9e262)
2019-06-01T02:11:13.2974406+07:00 0HLN5VDU3I2B9:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:11:13.3080597+07:00 0HLN5VDU3I2B9:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 38.5016ms (afa2e885)
2019-06-01T02:11:13.3123633+07:00 0HLN5VDU3I2B9:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:11:13.3166061+07:00 0HLN5VDU3I2B9:00000008 [INF] Request finished in 71.4517ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:11:51.3325126+07:00 0HLN5VDU3I2B9:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/DeleteAll application/x-www-form-urlencoded; charset=UTF-8 8 (ca22a1cb)
2019-06-01T02:11:51.3363829+07:00 0HLN5VDU3I2B9:00000009 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:11:51.3407017+07:00 0HLN5VDU3I2B9:00000009 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:11:51.3449397+07:00 0HLN5VDU3I2B9:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)"' (500cc934)
2019-06-01T02:11:51.3486553+07:00 0HLN5VDU3I2B9:00000009 [INF] Route matched with "{area = \"Admin\", action = \"DeleteAll\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)" (a44c0341)
2019-06-01T02:11:51.3529668+07:00 0HLN5VDU3I2B9:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:11:51.3576133+07:00 0HLN5VDU3I2B9:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)" with arguments (["Seen"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:12:15.9579774+07:00 0HLN5VDU3I2B9:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:12:15.9904225+07:00 0HLN5VDU3I2B9:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[UserId] = @__userId_0) AND ([x].[HasRead] = 1)" (0723d8ff)
2019-06-01T02:12:22.0632802+07:00 0HLN5VDU3I2B9:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
WHERE ([x].[UserId] = @__userId_0) AND ([x].[Status] = 1)" (0723d8ff)
2019-06-01T02:12:36.4765739+07:00 0HLN5VDU3I2B9:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [AnnouncementUsers]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T02:12:36.4850801+07:00 0HLN5VDU3I2B9:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [AnnouncementUsers]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T02:12:36.4949550+07:00 0HLN5VDU3I2B9:00000009 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Announcements]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T02:12:36.4993976+07:00 0HLN5VDU3I2B9:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Announcements]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T02:12:42.1437112+07:00 0HLN5VDU3I2B9:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 50771.0838ms. (50a9e262)
2019-06-01T02:12:42.1490155+07:00 0HLN5VDU3I2B9:00000009 [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-06-01T02:12:42.1581281+07:00 0HLN5VDU3I2B9:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)" in 50800.5414ms (afa2e885)
2019-06-01T02:12:42.1635266+07:00 0HLN5VDU3I2B9:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.DeleteAll (Shop3)"' (99874f2b)
2019-06-01T02:12:42.1754260+07:00 0HLN5VDU3I2B9:00000009 [INF] Request finished in 50835.073ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:12:42.1833055+07:00 0HLN5VDU3I2B5:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:12:42.1884550+07:00 0HLN5VDU3I2B9:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:12:42.1985202+07:00 0HLN5VDU3I2B5:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:12:42.2079683+07:00 0HLN5VDU3I2B9:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:12:42.2105284+07:00 0HLN5VDU3I2B5:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:12:42.2206842+07:00 0HLN5VDU3I2B9:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:12:42.2265809+07:00 0HLN5VDU3I2B5:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:12:42.2432495+07:00 0HLN5VDU3I2B9:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T02:12:42.2470526+07:00 0HLN5VDU3I2B5:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:12:42.2574370+07:00 0HLN5VDU3I2B9:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:12:42.2604035+07:00 0HLN5VDU3I2B5:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:12:42.2662033+07:00 0HLN5VDU3I2B9:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:12:42.2763600+07:00 0HLN5VDU3I2B5:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:12:42.2988208+07:00 0HLN5VDU3I2B9:0000000A [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:12:42.3000285+07:00 0HLN5VDU3I2B5:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:12:42.3131961+07:00 0HLN5VDU3I2B5:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 52.9997ms. (50a9e262)
2019-06-01T02:12:42.3191448+07:00 0HLN5VDU3I2B9:0000000A [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:12:42.3265889+07:00 0HLN5VDU3I2B5:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:12:42.3403628+07:00 0HLN5VDU3I2B9:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 61.8337ms. (50a9e262)
2019-06-01T02:12:42.3441089+07:00 0HLN5VDU3I2B5:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 116.2771ms (afa2e885)
2019-06-01T02:12:42.3509827+07:00 0HLN5VDU3I2B9:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:12:42.3532346+07:00 0HLN5VDU3I2B5:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:12:42.3639353+07:00 0HLN5VDU3I2B9:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 132.1347ms (afa2e885)
2019-06-01T02:12:42.3655497+07:00 0HLN5VDU3I2B5:00000006 [INF] Request finished in 178.5289ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:12:42.3740609+07:00 0HLN5VDU3I2B9:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:12:42.3805888+07:00 0HLN5VDU3I2B9:0000000A [INF] Request finished in 190.9469ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:12:50.5831608+07:00 0HLN5VDU3I2B9:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T02:12:50.5908486+07:00 0HLN5VDU3I2B9:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T02:12:50.5946607+07:00 0HLN5VDU3I2B9:0000000B [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T02:12:50.5979989+07:00 0HLN5VDU3I2B9:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:12:50.6022751+07:00 0HLN5VDU3I2B9:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:12:50.6079443+07:00 0HLN5VDU3I2B9:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0258ms. (50a9e262)
2019-06-01T02:12:50.6128449+07:00 0HLN5VDU3I2B9:0000000B [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:12:50.6183090+07:00 0HLN5VDU3I2B9:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:12:50.6343381+07:00 0HLN5VDU3I2B9:0000000B [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:12:50.6394155+07:00 0HLN5VDU3I2B9:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:12:50.6511820+07:00 0HLN5VDU3I2B9:0000000B [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:12:50.6552435+07:00 0HLN5VDU3I2B9:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:12:50.6667795+07:00 0HLN5VDU3I2B9:0000000B [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:12:50.6702790+07:00 0HLN5VDU3I2B9:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:12:50.6765785+07:00 0HLN5VDU3I2B9:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:12:50.6871651+07:00 0HLN5VDU3I2B9:0000000B [INF] Executed ViewResult - view "Index" executed in 69.734ms. (f66409e9)
2019-06-01T02:12:50.7383638+07:00 0HLN5VDU3I2B9:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 92.6291ms (afa2e885)
2019-06-01T02:12:50.7456733+07:00 0HLN5VDU3I2B5:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=6qU_r2bLKSoz7ycf8zkV96mtXmnFC4v4_dgkf05FeDw   (ca22a1cb)
2019-06-01T02:12:50.7475170+07:00 0HLN5VDU3I2B9:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T02:12:50.7592479+07:00 0HLN5VDU3I2B5:00000007 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T02:12:50.7654116+07:00 0HLN5VDU3I2B9:0000000B [INF] Request finished in 168.4538ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:12:50.7744130+07:00 0HLN5VDU3I2B5:00000007 [INF] Request finished in 27.0407ms 304 application/javascript (791a596a)
2019-06-01T02:12:50.9185022+07:00 0HLN5VDU3I2B5:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:12:50.9288394+07:00 0HLN5VDU3I2B6:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:12:50.9311778+07:00 0HLN5VDU3I2B5:00000008 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:12:50.9351840+07:00 0HLN5VDU3I2B9:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:12:50.9441809+07:00 0HLN5VDU3I2B5:00000008 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:12:50.9463668+07:00 0HLN5VDU3I2B6:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:12:50.9573505+07:00 0HLN5VDU3I2B5:00000008 [INF] Request finished in 35.8653ms 200 application/json (791a596a)
2019-06-01T02:12:50.9585415+07:00 0HLN5VDU3I2B6:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:12:50.9730202+07:00 0HLN5VDU3I2B6:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:12:50.9761562+07:00 0HLN5VDU3I2B9:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:12:50.9895523+07:00 0HLN5VDU3I2B6:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:12:50.9921168+07:00 0HLN5VDU3I2B9:0000000C [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:12:50.9973316+07:00 0HLN5VDU3I2B6:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:12:50.9990096+07:00 0HLN5VDU3I2B9:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T02:12:51.0110796+07:00 0HLN5VDU3I2B9:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:12:51.0130481+07:00 0HLN5VDU3I2B6:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:12:51.0311699+07:00 0HLN5VDU3I2B9:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:12:51.0512166+07:00 0HLN5VDU3I2B6:00000007 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:12:51.0658464+07:00 0HLN5VDU3I2B9:0000000C [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:12:51.1179911+07:00 0HLN5VDU3I2B6:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 61.7065ms. (50a9e262)
2019-06-01T02:12:51.1256260+07:00 0HLN5VDU3I2BD:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=mE0mPPNybzyTS73t0OEZXA   (ca22a1cb)
2019-06-01T02:12:51.1393318+07:00 0HLN5VDU3I2B6:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:12:51.1432842+07:00 0HLN5VDU3I2BD:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:12:51.1600875+07:00 0HLN5VDU3I2B6:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 180.3652ms (afa2e885)
2019-06-01T02:12:51.1611237+07:00 0HLN5VDU3I2BD:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:12:51.1747741+07:00 0HLN5VDU3I2B6:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:12:51.1774921+07:00 0HLN5VDU3I2B9:0000000C [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:12:51.2014621+07:00 0HLN5VDU3I2B6:00000007 [INF] Request finished in 257.5413ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:12:51.2173772+07:00 0HLN5VDU3I2B5:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T02:12:51.2210621+07:00 0HLN5VDU3I2B9:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 166.4793ms. (50a9e262)
2019-06-01T02:12:51.2319117+07:00 0HLN5VDU3I2BD:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:12:51.2343498+07:00 0HLN5VDU3I2B9:0000000C [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:12:51.2462021+07:00 0HLN5VDU3I2B9:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 242.4164ms (afa2e885)
2019-06-01T02:12:51.2604832+07:00 0HLN5VDU3I2B9:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:12:51.2643408+07:00 0HLN5VDU3I2B5:00000009 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T02:12:51.2701878+07:00 0HLN5VDU3I2B9:0000000C [INF] Request finished in 344.7366ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:12:51.2729208+07:00 0HLN5VDU3I2B5:00000009 [INF] Request finished in 68.8807ms 200 image/x-icon (791a596a)
2019-06-01T02:15:00.6055780+07:00 0HLN5VDU3I2B9:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T02:15:00.6122717+07:00 0HLN5VDU3I2B9:0000000D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T02:15:00.6183935+07:00 0HLN5VDU3I2B9:0000000D [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T02:15:00.6256624+07:00 0HLN5VDU3I2B9:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:00.6308338+07:00 0HLN5VDU3I2B9:0000000D [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:15:00.6352588+07:00 0HLN5VDU3I2B9:0000000D [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0406ms. (50a9e262)
2019-06-01T02:15:02.7859974+07:00 0HLN5VDU3I2B9:0000000D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:15:02.7992609+07:00 0HLN5VDU3I2B9:0000000D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:15:02.8147883+07:00 0HLN5VDU3I2B9:0000000D [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:15:02.8196314+07:00 0HLN5VDU3I2B9:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:02.8325475+07:00 0HLN5VDU3I2B9:0000000D [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:15:02.8367444+07:00 0HLN5VDU3I2B9:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:02.8493015+07:00 0HLN5VDU3I2B9:0000000D [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:15:02.8559250+07:00 0HLN5VDU3I2B9:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:02.8650044+07:00 0HLN5VDU3I2B9:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:15:02.8764617+07:00 0HLN5VDU3I2B9:0000000D [INF] Executed ViewResult - view "Index" executed in 2230.1366ms. (f66409e9)
2019-06-01T02:15:02.9421530+07:00 0HLN5VDU3I2B9:0000000D [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 2258.1743ms (afa2e885)
2019-06-01T02:15:02.9465013+07:00 0HLN5VDU3I2BD:00000001 [INF] Request finished in 131875.4336ms 101  (791a596a)
2019-06-01T02:15:02.9533628+07:00 0HLN5VDU3I2B5:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=6qU_r2bLKSoz7ycf8zkV96mtXmnFC4v4_dgkf05FeDw   (ca22a1cb)
2019-06-01T02:15:02.9578650+07:00 0HLN5VDU3I2B9:0000000D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T02:15:02.9685534+07:00 0HLN5VDU3I2B5:0000000A [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T02:15:03.0091900+07:00 0HLN5VDU3I2B9:0000000D [INF] Request finished in 2368.6303ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:15:03.0133738+07:00 0HLN5VDU3I2B5:0000000A [INF] Request finished in 30.4467ms 304 application/javascript (791a596a)
2019-06-01T02:15:03.1478265+07:00 0HLN5VDU3I2B5:0000000B [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:15:03.1601510+07:00 0HLN5VDU3I2B6:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:15:03.1630413+07:00 0HLN5VDU3I2B5:0000000B [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:15:03.1746290+07:00 0HLN5VDU3I2B9:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:15:03.1782860+07:00 0HLN5VDU3I2B5:0000000B [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:15:03.1923872+07:00 0HLN5VDU3I2B6:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:15:03.1945629+07:00 0HLN5VDU3I2B9:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:15:03.1954453+07:00 0HLN5VDU3I2B5:0000000B [INF] Request finished in 44.0709ms 200 application/json (791a596a)
2019-06-01T02:15:03.2124484+07:00 0HLN5VDU3I2B6:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:15:03.2288151+07:00 0HLN5VDU3I2B9:0000000E [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:15:03.2450756+07:00 0HLN5VDU3I2B6:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:03.2581131+07:00 0HLN5VDU3I2B9:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:03.2651154+07:00 0HLN5VDU3I2B6:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:15:03.2996388+07:00 0HLN5VDU3I2B6:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:15:03.2999551+07:00 0HLN5VDU3I2B9:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:15:03.3163575+07:00 0HLN5VDU3I2BE:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=HqtPywkllsCuzzuNFQYmAw   (ca22a1cb)
2019-06-01T02:15:03.3241118+07:00 0HLN5VDU3I2B9:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:15:03.3253909+07:00 0HLN5VDU3I2B6:00000008 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:15:03.3326467+07:00 0HLN5VDU3I2BE:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:15:03.3552252+07:00 0HLN5VDU3I2BE:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:15:03.3582254+07:00 0HLN5VDU3I2B6:00000008 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:15:03.3676838+07:00 0HLN5VDU3I2B9:0000000E [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:15:03.3765465+07:00 0HLN5VDU3I2B6:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 93.1744ms. (50a9e262)
2019-06-01T02:15:03.4942367+07:00 0HLN5VDU3I2B9:0000000E [INF] Executed DbCommand ("34"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:15:03.4953841+07:00 0HLN5VDU3I2B5:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T02:15:03.4974313+07:00 0HLN5VDU3I2BE:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:15:03.5007277+07:00 0HLN5VDU3I2B6:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:15:03.5182025+07:00 0HLN5VDU3I2B9:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 196.4538ms. (50a9e262)
2019-06-01T02:15:03.5229582+07:00 0HLN5VDU3I2B5:0000000C [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T02:15:03.5272499+07:00 0HLN5VDU3I2B6:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 288.6809ms (afa2e885)
2019-06-01T02:15:03.5351473+07:00 0HLN5VDU3I2B9:0000000E [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:15:03.5414419+07:00 0HLN5VDU3I2B5:0000000C [INF] Request finished in 100.5869ms 200 image/x-icon (791a596a)
2019-06-01T02:15:03.5441632+07:00 0HLN5VDU3I2B6:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:15:03.5611444+07:00 0HLN5VDU3I2B9:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 308.4782ms (afa2e885)
2019-06-01T02:15:03.5611900+07:00 0HLN5VDU3I2B6:00000008 [INF] Request finished in 396.4161ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:15:03.5668688+07:00 0HLN5VDU3I2B9:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:15:03.5809466+07:00 0HLN5VDU3I2B9:0000000E [INF] Request finished in 417.2592ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:15:17.1851401+07:00 0HLN5VDU3I2B9:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T02:15:17.1973551+07:00 0HLN5VDU3I2B9:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T02:15:17.2085493+07:00 0HLN5VDU3I2B9:0000000F [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T02:15:17.2131737+07:00 0HLN5VDU3I2B9:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:17.2177074+07:00 0HLN5VDU3I2B9:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:15:17.2245542+07:00 0HLN5VDU3I2B9:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0722ms. (50a9e262)
2019-06-01T02:15:17.4850789+07:00 0HLN5VDU3I2B9:0000000F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:15:17.4999257+07:00 0HLN5VDU3I2B9:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:15:17.5103843+07:00 0HLN5VDU3I2B9:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:15:17.5149283+07:00 0HLN5VDU3I2B9:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:17.5252257+07:00 0HLN5VDU3I2B9:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:15:17.5287243+07:00 0HLN5VDU3I2B9:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:17.5351445+07:00 0HLN5VDU3I2B9:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:15:17.5421234+07:00 0HLN5VDU3I2B9:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:17.5473705+07:00 0HLN5VDU3I2B9:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:15:17.5582989+07:00 0HLN5VDU3I2B9:0000000F [INF] Executed ViewResult - view "Index" executed in 324.0454ms. (f66409e9)
2019-06-01T02:15:17.6169995+07:00 0HLN5VDU3I2B9:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 349.9542ms (afa2e885)
2019-06-01T02:15:17.6274857+07:00 0HLN5VDU3I2BE:00000001 [INF] Request finished in 14281.4395ms 101  (791a596a)
2019-06-01T02:15:17.6284329+07:00 0HLN5VDU3I2B9:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T02:15:17.6425157+07:00 0HLN5VDU3I2B9:0000000F [INF] Request finished in 451.9557ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:15:17.8140055+07:00 0HLN5VDU3I2B9:00000010 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:15:17.8224900+07:00 0HLN5VDU3I2B6:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:15:17.8315378+07:00 0HLN5VDU3I2B5:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:15:17.8343005+07:00 0HLN5VDU3I2B9:00000010 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:15:17.8479632+07:00 0HLN5VDU3I2B9:00000010 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:15:17.8505606+07:00 0HLN5VDU3I2B6:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:15:17.8670540+07:00 0HLN5VDU3I2B9:00000010 [INF] Request finished in 56.132ms 200 application/json (791a596a)
2019-06-01T02:15:17.8751989+07:00 0HLN5VDU3I2B6:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:15:17.8856969+07:00 0HLN5VDU3I2B5:0000000D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:15:17.8928361+07:00 0HLN5VDU3I2B6:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:17.8981334+07:00 0HLN5VDU3I2B5:0000000D [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:15:17.9121132+07:00 0HLN5VDU3I2B6:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:15:17.9344759+07:00 0HLN5VDU3I2B5:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:17.9398249+07:00 0HLN5VDU3I2B6:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:15:17.9478925+07:00 0HLN5VDU3I2B5:0000000D [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:15:17.9514535+07:00 0HLN5VDU3I2B6:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:15:17.9630071+07:00 0HLN5VDU3I2B5:0000000D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:15:18.0563999+07:00 0HLN5VDU3I2B6:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:15:18.0638299+07:00 0HLN5VDU3I2B5:0000000D [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:15:18.0739666+07:00 0HLN5VDU3I2B9:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T02:15:18.0827673+07:00 0HLN5VDU3I2B6:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 144.3694ms. (50a9e262)
2019-06-01T02:15:18.1174352+07:00 0HLN5VDU3I2B9:00000011 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T02:15:18.1199053+07:00 0HLN5VDU3I2B6:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:15:18.1489711+07:00 0HLN5VDU3I2B9:00000011 [INF] Request finished in 58.3982ms 200 image/x-icon (791a596a)
2019-06-01T02:15:18.1512485+07:00 0HLN5VDU3I2B6:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 245.6414ms (afa2e885)
2019-06-01T02:15:18.1621966+07:00 0HLN5VDU3I2B5:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:15:18.1676160+07:00 0HLN5VDU3I2B6:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:15:18.1793210+07:00 0HLN5VDU3I2B5:0000000D [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 214.3893ms. (50a9e262)
2019-06-01T02:15:18.1810282+07:00 0HLN5VDU3I2B6:00000009 [INF] Request finished in 359.7754ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:15:18.1939955+07:00 0HLN5VDU3I2B5:0000000D [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:15:18.2016910+07:00 0HLN5VDU3I2BF:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=yykAaJjsXxhDVLRwKvw4Jg   (ca22a1cb)
2019-06-01T02:15:18.2064800+07:00 0HLN5VDU3I2B5:0000000D [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 296.0663ms (afa2e885)
2019-06-01T02:15:18.2144422+07:00 0HLN5VDU3I2BF:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:15:18.2154321+07:00 0HLN5VDU3I2B5:0000000D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:15:18.2294428+07:00 0HLN5VDU3I2BF:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:15:18.2304910+07:00 0HLN5VDU3I2B5:0000000D [INF] Request finished in 402.4173ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:15:18.2443819+07:00 0HLN5VDU3I2BF:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:15:24.6438606+07:00 0HLN5VDU3I2B5:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T02:15:24.6510323+07:00 0HLN5VDU3I2B5:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T02:15:24.6606905+07:00 0HLN5VDU3I2B5:0000000E [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T02:15:24.6652870+07:00 0HLN5VDU3I2B5:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:24.6703352+07:00 0HLN5VDU3I2B5:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:15:24.6764390+07:00 0HLN5VDU3I2B5:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0377ms. (50a9e262)
2019-06-01T02:15:25.0284270+07:00 0HLN5VDU3I2B5:0000000E [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:15:25.0452351+07:00 0HLN5VDU3I2B5:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:15:25.0584917+07:00 0HLN5VDU3I2B5:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:15:25.0632654+07:00 0HLN5VDU3I2B5:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:25.0734808+07:00 0HLN5VDU3I2B5:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:15:25.0787588+07:00 0HLN5VDU3I2B5:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:25.0983558+07:00 0HLN5VDU3I2B5:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:15:25.1079821+07:00 0HLN5VDU3I2B5:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:25.1142319+07:00 0HLN5VDU3I2B5:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:15:25.1325704+07:00 0HLN5VDU3I2B5:0000000E [INF] Executed ViewResult - view "Index" executed in 439.493ms. (f66409e9)
2019-06-01T02:15:25.2021957+07:00 0HLN5VDU3I2B5:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 471.9344ms (afa2e885)
2019-06-01T02:15:25.2086876+07:00 0HLN5VDU3I2BF:00000001 [INF] Request finished in 7080.767ms 101  (791a596a)
2019-06-01T02:15:25.2274929+07:00 0HLN5VDU3I2B5:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T02:15:25.2329788+07:00 0HLN5VDU3I2B5:0000000E [INF] Request finished in 599.9604ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:15:25.3086645+07:00 0HLN5VDU3I2B5:0000000F [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:15:25.3120425+07:00 0HLN5VDU3I2B9:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:15:25.3316765+07:00 0HLN5VDU3I2B5:0000000F [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:15:25.3341565+07:00 0HLN5VDU3I2B9:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:15:25.3459871+07:00 0HLN5VDU3I2B5:0000000F [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:15:25.3580445+07:00 0HLN5VDU3I2B9:00000012 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:15:25.3676375+07:00 0HLN5VDU3I2B5:0000000F [INF] Request finished in 50.6715ms 200 application/json (791a596a)
2019-06-01T02:15:25.3710065+07:00 0HLN5VDU3I2B9:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:25.3779201+07:00 0HLN5VDU3I2B6:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:15:25.3791180+07:00 0HLN5VDU3I2B9:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:15:25.3914196+07:00 0HLN5VDU3I2B6:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:15:25.3924111+07:00 0HLN5VDU3I2B9:00000012 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:15:25.3990737+07:00 0HLN5VDU3I2B6:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:15:25.4021666+07:00 0HLN5VDU3I2B9:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:15:25.4222732+07:00 0HLN5VDU3I2B6:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:25.4476381+07:00 0HLN5VDU3I2B9:00000012 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:15:25.4913103+07:00 0HLN5VDU3I2B9:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 68.7289ms. (50a9e262)
2019-06-01T02:15:25.4929148+07:00 0HLN5VDU3I2B5:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T02:15:25.4999589+07:00 0HLN5VDU3I2B9:00000012 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:15:25.5126518+07:00 0HLN5VDU3I2BG:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=_wpaZXsIpTv5lxuF3Asuyw   (ca22a1cb)
2019-06-01T02:15:25.5283617+07:00 0HLN5VDU3I2B9:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 142.0592ms (afa2e885)
2019-06-01T02:15:25.5306948+07:00 0HLN5VDU3I2BG:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:15:25.5409447+07:00 0HLN5VDU3I2B9:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:15:25.5431145+07:00 0HLN5VDU3I2BG:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:15:25.5516720+07:00 0HLN5VDU3I2B9:00000012 [INF] Request finished in 240.2999ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:15:25.5578845+07:00 0HLN5VDU3I2B5:00000010 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T02:15:25.5676482+07:00 0HLN5VDU3I2B6:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:15:25.5720535+07:00 0HLN5VDU3I2B5:00000010 [INF] Request finished in 94.5426ms 200 image/x-icon (791a596a)
2019-06-01T02:15:25.5834775+07:00 0HLN5VDU3I2BG:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:15:25.5844933+07:00 0HLN5VDU3I2B6:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:15:25.5944268+07:00 0HLN5VDU3I2B6:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:15:25.6003611+07:00 0HLN5VDU3I2B6:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:15:25.6090795+07:00 0HLN5VDU3I2B6:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 32.9053ms. (50a9e262)
2019-06-01T02:15:25.6157642+07:00 0HLN5VDU3I2B6:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:15:25.6298163+07:00 0HLN5VDU3I2B6:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 216.0291ms (afa2e885)
2019-06-01T02:15:25.6459689+07:00 0HLN5VDU3I2B6:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:15:25.6606602+07:00 0HLN5VDU3I2B6:0000000A [INF] Request finished in 347.0849ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:15:34.4229600+07:00 0HLN5VDU3I2B6:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T02:15:34.4294011+07:00 0HLN5VDU3I2B6:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T02:15:34.4349649+07:00 0HLN5VDU3I2B6:0000000B [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T02:15:34.4421440+07:00 0HLN5VDU3I2B6:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:34.4459976+07:00 0HLN5VDU3I2B6:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:15:34.4502244+07:00 0HLN5VDU3I2B6:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.05ms. (50a9e262)
2019-06-01T02:15:35.8021147+07:00 0HLN5VDU3I2B6:0000000B [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:15:35.8348314+07:00 0HLN5VDU3I2B6:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:15:35.8466906+07:00 0HLN5VDU3I2B6:0000000B [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:15:35.8518365+07:00 0HLN5VDU3I2B6:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:35.8613602+07:00 0HLN5VDU3I2B6:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:15:35.8654413+07:00 0HLN5VDU3I2B6:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:35.8753580+07:00 0HLN5VDU3I2B6:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:15:35.8789539+07:00 0HLN5VDU3I2B6:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:35.8851627+07:00 0HLN5VDU3I2B6:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:15:35.8936394+07:00 0HLN5VDU3I2B6:0000000B [INF] Executed ViewResult - view "Index" executed in 1436.8185ms. (f66409e9)
2019-06-01T02:15:35.9502153+07:00 0HLN5VDU3I2B6:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 1458.9096ms (afa2e885)
2019-06-01T02:15:35.9635659+07:00 0HLN5VDU3I2BG:00000001 [INF] Request finished in 10411.2034ms 101  (791a596a)
2019-06-01T02:15:35.9651823+07:00 0HLN5VDU3I2B6:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T02:15:35.9772209+07:00 0HLN5VDU3I2B6:0000000B [INF] Request finished in 1550.1197ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:15:36.0648634+07:00 0HLN5VDU3I2B6:0000000C [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:15:36.0666439+07:00 0HLN5VDU3I2B9:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:15:36.0704453+07:00 0HLN5VDU3I2B5:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:15:36.0916297+07:00 0HLN5VDU3I2B6:0000000C [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:15:36.0950726+07:00 0HLN5VDU3I2B9:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:15:36.1213696+07:00 0HLN5VDU3I2B6:0000000C [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:15:36.1274159+07:00 0HLN5VDU3I2B9:00000013 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:15:36.1666798+07:00 0HLN5VDU3I2B6:0000000C [INF] Request finished in 76.3202ms 200 application/json (791a596a)
2019-06-01T02:15:36.1727558+07:00 0HLN5VDU3I2B9:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:36.1938396+07:00 0HLN5VDU3I2B9:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:15:36.1964299+07:00 0HLN5VDU3I2B6:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T02:15:36.2063647+07:00 0HLN5VDU3I2B5:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:15:36.2102650+07:00 0HLN5VDU3I2B9:00000013 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:15:36.2183864+07:00 0HLN5VDU3I2B6:0000000D [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T02:15:36.2254814+07:00 0HLN5VDU3I2B9:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:15:36.2326875+07:00 0HLN5VDU3I2B6:0000000D [INF] Request finished in 45.7164ms 200 image/x-icon (791a596a)
2019-06-01T02:15:36.2449730+07:00 0HLN5VDU3I2B9:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:15:36.2473915+07:00 0HLN5VDU3I2B5:00000011 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:15:36.2557356+07:00 0HLN5VDU3I2B9:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 51.1765ms. (50a9e262)
2019-06-01T02:15:36.2567146+07:00 0HLN5VDU3I2B5:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:15:36.2623826+07:00 0HLN5VDU3I2B9:00000013 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:15:36.2688286+07:00 0HLN5VDU3I2B5:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:15:36.2789587+07:00 0HLN5VDU3I2B9:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 136.2631ms (afa2e885)
2019-06-01T02:15:36.2814078+07:00 0HLN5VDU3I2B5:00000011 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:15:36.3104108+07:00 0HLN5VDU3I2B9:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:15:36.3129594+07:00 0HLN5VDU3I2BH:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=r1xGVD-e3nAeB-lvFLiu2g   (ca22a1cb)
2019-06-01T02:15:36.3436625+07:00 0HLN5VDU3I2B9:00000013 [INF] Request finished in 262.1201ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:15:36.3452580+07:00 0HLN5VDU3I2B5:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:15:36.3488699+07:00 0HLN5VDU3I2BH:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:15:36.3620658+07:00 0HLN5VDU3I2B5:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:15:36.3638594+07:00 0HLN5VDU3I2BH:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:15:36.3749683+07:00 0HLN5VDU3I2B5:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 93.3598ms. (50a9e262)
2019-06-01T02:15:36.3797359+07:00 0HLN5VDU3I2BH:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:15:36.3827320+07:00 0HLN5VDU3I2B5:00000011 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:15:36.3947295+07:00 0HLN5VDU3I2B5:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 135.4783ms (afa2e885)
2019-06-01T02:15:36.4004169+07:00 0HLN5VDU3I2B5:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:15:36.4104830+07:00 0HLN5VDU3I2B5:00000011 [INF] Request finished in 352.3157ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:16:04.8522697+07:00 0HLN5VDU3I2B5:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T02:16:04.8590833+07:00 0HLN5VDU3I2B5:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T02:16:04.8663025+07:00 0HLN5VDU3I2B5:00000012 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T02:16:04.8739517+07:00 0HLN5VDU3I2B5:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:04.8783516+07:00 0HLN5VDU3I2B5:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:16:04.8828288+07:00 0HLN5VDU3I2B5:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0397ms. (50a9e262)
2019-06-01T02:16:05.1287845+07:00 0HLN5VDU3I2B5:00000012 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:16:05.1448502+07:00 0HLN5VDU3I2B5:00000012 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:16:05.1617063+07:00 0HLN5VDU3I2B5:00000012 [INF] Executed DbCommand ("10"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:16:05.1655525+07:00 0HLN5VDU3I2B5:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:05.1789670+07:00 0HLN5VDU3I2B5:00000012 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:16:05.1832385+07:00 0HLN5VDU3I2B5:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:05.1965740+07:00 0HLN5VDU3I2B5:00000012 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:16:05.2005649+07:00 0HLN5VDU3I2B5:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:05.2081870+07:00 0HLN5VDU3I2B5:00000012 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:16:05.2163302+07:00 0HLN5VDU3I2B5:00000012 [INF] Executed ViewResult - view "Index" executed in 326.3674ms. (f66409e9)
2019-06-01T02:16:05.2662665+07:00 0HLN5VDU3I2B5:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 350.3805ms (afa2e885)
2019-06-01T02:16:05.2854304+07:00 0HLN5VDU3I2BH:00000001 [INF] Request finished in 29037.5486ms 101  (791a596a)
2019-06-01T02:16:05.2926571+07:00 0HLN5VDU3I2B9:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=6qU_r2bLKSoz7ycf8zkV96mtXmnFC4v4_dgkf05FeDw   (ca22a1cb)
2019-06-01T02:16:05.3011485+07:00 0HLN5VDU3I2B5:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T02:16:05.3080498+07:00 0HLN5VDU3I2B9:00000014 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T02:16:05.3184458+07:00 0HLN5VDU3I2B5:00000012 [INF] Request finished in 458.7381ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:16:05.3256687+07:00 0HLN5VDU3I2B9:00000014 [INF] Request finished in 33.1765ms 304 application/javascript (791a596a)
2019-06-01T02:16:05.4915785+07:00 0HLN5VDU3I2B9:00000015 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:16:05.4990301+07:00 0HLN5VDU3I2B6:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:16:05.5017939+07:00 0HLN5VDU3I2B9:00000015 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:16:05.5089230+07:00 0HLN5VDU3I2B5:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:16:05.5143868+07:00 0HLN5VDU3I2B9:00000015 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:16:05.5306284+07:00 0HLN5VDU3I2B6:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:16:05.5409915+07:00 0HLN5VDU3I2B9:00000015 [INF] Request finished in 40.4828ms 200 application/json (791a596a)
2019-06-01T02:16:05.5632625+07:00 0HLN5VDU3I2B6:0000000E [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:16:05.5749889+07:00 0HLN5VDU3I2B5:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:16:05.5760326+07:00 0HLN5VDU3I2B6:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:05.5836724+07:00 0HLN5VDU3I2B6:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:16:05.5880005+07:00 0HLN5VDU3I2B5:00000013 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:16:05.5981253+07:00 0HLN5VDU3I2B6:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:16:05.6006381+07:00 0HLN5VDU3I2B5:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:05.6126520+07:00 0HLN5VDU3I2B5:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:16:05.6187320+07:00 0HLN5VDU3I2B6:0000000E [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:16:05.6231098+07:00 0HLN5VDU3I2B5:00000013 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:16:05.6469326+07:00 0HLN5VDU3I2B5:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:16:05.6599135+07:00 0HLN5VDU3I2B6:0000000E [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:16:05.6669842+07:00 0HLN5VDU3I2B5:00000013 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:16:05.6726745+07:00 0HLN5VDU3I2B6:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 76.2923ms. (50a9e262)
2019-06-01T02:16:05.6847147+07:00 0HLN5VDU3I2BI:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=oJWPMgFoKfM4ypGxMINnDQ   (ca22a1cb)
2019-06-01T02:16:05.6920418+07:00 0HLN5VDU3I2B6:0000000E [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:16:05.7094605+07:00 0HLN5VDU3I2BI:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:16:05.7168849+07:00 0HLN5VDU3I2B6:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 128.9249ms (afa2e885)
2019-06-01T02:16:05.7311068+07:00 0HLN5VDU3I2BI:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:16:05.7525110+07:00 0HLN5VDU3I2B6:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:16:05.7749106+07:00 0HLN5VDU3I2B5:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 54.4068ms. (50a9e262)
2019-06-01T02:16:05.7828868+07:00 0HLN5VDU3I2B9:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T02:16:05.8017565+07:00 0HLN5VDU3I2B6:0000000E [INF] Request finished in 261.9835ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:16:05.8122833+07:00 0HLN5VDU3I2BI:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:16:05.8358738+07:00 0HLN5VDU3I2B9:00000016 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T02:16:05.8428498+07:00 0HLN5VDU3I2B5:00000013 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:16:05.8506016+07:00 0HLN5VDU3I2B9:00000016 [INF] Request finished in 68.7535ms 200 image/x-icon (791a596a)
2019-06-01T02:16:05.8589749+07:00 0HLN5VDU3I2B5:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 256.9928ms (afa2e885)
2019-06-01T02:16:05.8633528+07:00 0HLN5VDU3I2B5:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:16:05.8676859+07:00 0HLN5VDU3I2B5:00000013 [INF] Request finished in 373.3011ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:16:18.7346797+07:00 0HLN5VDU3I2B5:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T02:16:18.7455486+07:00 0HLN5VDU3I2B5:00000014 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T02:16:18.7503088+07:00 0HLN5VDU3I2B5:00000014 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T02:16:18.7571674+07:00 0HLN5VDU3I2B5:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:18.7620762+07:00 0HLN5VDU3I2B5:00000014 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:16:18.7659982+07:00 0HLN5VDU3I2B5:00000014 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0229ms. (50a9e262)
2019-06-01T02:16:18.7719075+07:00 0HLN5VDU3I2B5:00000014 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:16:18.7766546+07:00 0HLN5VDU3I2B5:00000014 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:16:18.7881069+07:00 0HLN5VDU3I2B5:00000014 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:16:18.7924913+07:00 0HLN5VDU3I2B5:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:18.8008913+07:00 0HLN5VDU3I2B5:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:16:18.8070476+07:00 0HLN5VDU3I2B5:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:18.8154521+07:00 0HLN5VDU3I2B5:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:16:18.8240318+07:00 0HLN5VDU3I2B5:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:18.8307612+07:00 0HLN5VDU3I2B5:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:16:18.9548008+07:00 0HLN5VDU3I2B5:00000014 [INF] Executed ViewResult - view "Index" executed in 66.3949ms. (f66409e9)
2019-06-01T02:16:18.9777526+07:00 0HLN5VDU3I2BI:00000001 [INF] Request finished in 13249.6369ms 101  (791a596a)
2019-06-01T02:16:18.9812927+07:00 0HLN5VDU3I2B5:00000014 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 210.2351ms (afa2e885)
2019-06-01T02:16:18.9943868+07:00 0HLN5VDU3I2B5:00000014 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T02:16:19.0157529+07:00 0HLN5VDU3I2B5:00000014 [INF] Request finished in 264.3093ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:16:19.1589588+07:00 0HLN5VDU3I2B5:00000015 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:16:19.1837559+07:00 0HLN5VDU3I2B5:00000015 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:16:19.1913407+07:00 0HLN5VDU3I2B6:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:16:19.2091121+07:00 0HLN5VDU3I2B5:00000015 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:16:19.2160775+07:00 0HLN5VDU3I2B6:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:16:19.2265915+07:00 0HLN5VDU3I2B5:00000015 [INF] Request finished in 68.0811ms 200 application/json (791a596a)
2019-06-01T02:16:19.2295433+07:00 0HLN5VDU3I2B6:0000000F [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:16:19.2453960+07:00 0HLN5VDU3I2B6:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:19.2569792+07:00 0HLN5VDU3I2B9:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:16:19.2640479+07:00 0HLN5VDU3I2B6:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:16:19.2650986+07:00 0HLN5VDU3I2B9:00000017 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:16:19.2934505+07:00 0HLN5VDU3I2B6:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:16:19.2953213+07:00 0HLN5VDU3I2B9:00000017 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:16:19.3081721+07:00 0HLN5VDU3I2BJ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=2_EEYSqwILZQTw7IIA2bGQ   (ca22a1cb)
2019-06-01T02:16:19.3126931+07:00 0HLN5VDU3I2B6:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:16:19.3288966+07:00 0HLN5VDU3I2BJ:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:16:19.3311382+07:00 0HLN5VDU3I2B9:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:19.3451640+07:00 0HLN5VDU3I2B6:0000000F [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:16:19.3503710+07:00 0HLN5VDU3I2BJ:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:16:19.3775443+07:00 0HLN5VDU3I2B9:00000017 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:16:19.3796112+07:00 0HLN5VDU3I2B6:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 81.2097ms. (50a9e262)
2019-06-01T02:16:19.3952760+07:00 0HLN5VDU3I2BJ:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:16:19.4009872+07:00 0HLN5VDU3I2B6:0000000F [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:16:19.4185850+07:00 0HLN5VDU3I2B9:00000017 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:16:19.4251696+07:00 0HLN5VDU3I2B6:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 171.6103ms (afa2e885)
2019-06-01T02:16:19.4352107+07:00 0HLN5VDU3I2B6:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:16:19.4463360+07:00 0HLN5VDU3I2B9:00000017 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:16:19.4568821+07:00 0HLN5VDU3I2B6:0000000F [INF] Request finished in 268.3495ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:16:19.4657841+07:00 0HLN5VDU3I2B9:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:16:19.4776167+07:00 0HLN5VDU3I2B9:00000017 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 88.2886ms. (50a9e262)
2019-06-01T02:16:19.4883163+07:00 0HLN5VDU3I2B9:00000017 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:16:19.5033086+07:00 0HLN5VDU3I2B9:00000017 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 193.3801ms (afa2e885)
2019-06-01T02:16:19.5151719+07:00 0HLN5VDU3I2B9:00000017 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:16:19.5345541+07:00 0HLN5VDU3I2B9:00000017 [INF] Request finished in 338.9487ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:16:44.9784459+07:00 0HLN5VDU3I2B9:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/productcategory/index   (ca22a1cb)
2019-06-01T02:16:44.9852512+07:00 0HLN5VDU3I2B9:00000018 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductCategoryController.Index (Shop3)"' (500cc934)
2019-06-01T02:16:44.9932861+07:00 0HLN5VDU3I2B9:00000018 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"ProductCategory\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductCategoryController.Index (Shop3)" (a44c0341)
2019-06-01T02:16:44.9974912+07:00 0HLN5VDU3I2B9:00000018 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:45.0036426+07:00 0HLN5VDU3I2B9:00000018 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductCategoryController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:16:45.0102924+07:00 0HLN5VDU3I2B9:00000018 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductCategoryController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3704ms. (50a9e262)
2019-06-01T02:16:45.1772123+07:00 0HLN5VDU3I2B9:00000018 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:16:45.1896992+07:00 0HLN5VDU3I2B9:00000018 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:16:45.2013247+07:00 0HLN5VDU3I2B9:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:16:45.2068008+07:00 0HLN5VDU3I2B9:00000018 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:45.2141726+07:00 0HLN5VDU3I2B9:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:16:45.2185903+07:00 0HLN5VDU3I2B9:00000018 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:45.2262124+07:00 0HLN5VDU3I2B9:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:16:45.2299483+07:00 0HLN5VDU3I2B9:00000018 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:45.2455334+07:00 0HLN5VDU3I2B9:00000018 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:16:45.2491794+07:00 0HLN5VDU3I2B9:00000018 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:45.2617397+07:00 0HLN5VDU3I2B9:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:16:45.2651280+07:00 0HLN5VDU3I2B9:00000018 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:45.2770525+07:00 0HLN5VDU3I2B9:00000018 [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:16:45.2817984+07:00 0HLN5VDU3I2B9:00000018 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:45.2919679+07:00 0HLN5VDU3I2B9:00000018 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:16:46.0682213+07:00 0HLN5VDU3I2B9:00000018 [INF] Executed ViewResult - view "Index" executed in 288.0192ms. (f66409e9)
2019-06-01T02:16:46.0819978+07:00 0HLN5VDU3I2B5:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/product-category/index.js?v=wPNaKSICUPWfJ64lbxEnuPGEM4JDOfR9Y5o5--JSoUw   (ca22a1cb)
2019-06-01T02:16:46.0840666+07:00 0HLN5VDU3I2BJ:00000001 [INF] Request finished in 26777.7751ms 101  (791a596a)
2019-06-01T02:16:46.1137585+07:00 0HLN5VDU3I2B9:00000018 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductCategoryController.Index (Shop3)" in 1078.1836ms (afa2e885)
2019-06-01T02:16:46.1162377+07:00 0HLN5VDU3I2B6:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jQuery-EasyUI/jquery.easyui.min.js   (ca22a1cb)
2019-06-01T02:16:46.1264162+07:00 0HLN5VDU3I2B5:00000016 [INF] Sending file. Request path: '"/app/controllers/product-category/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\product-category\index.js"' (27b0a520)
2019-06-01T02:16:46.1282278+07:00 0HLN5VDU3I2B9:00000018 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductCategoryController.Index (Shop3)"' (99874f2b)
2019-06-01T02:16:46.1346270+07:00 0HLN5VDU3I2B5:00000016 [INF] Request finished in 54.95ms 200 application/javascript (791a596a)
2019-06-01T02:16:46.1362027+07:00 0HLN5VDU3I2BK:00000001 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:16:46.1381535+07:00 0HLN5VDU3I2B9:00000018 [INF] Request finished in 1155.5271ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:16:46.1501867+07:00 0HLN5VDU3I2BK:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:16:46.1571894+07:00 0HLN5VDU3I2B5:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:16:46.1594450+07:00 0HLN5VDU3I2BL:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:16:46.1613892+07:00 0HLN5VDU3I2BK:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:16:46.1714819+07:00 0HLN5VDU3I2B5:00000017 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:16:46.8477528+07:00 0HLN5VDU3I2BK:00000001 [INF] Request finished in 33.3111ms 200 application/json (791a596a)
2019-06-01T02:16:46.8602061+07:00 0HLN5VDU3I2B5:00000017 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:16:46.8655612+07:00 0HLN5VDU3I2BL:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:16:46.8680768+07:00 0HLN5VDU3I2B5:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:46.8809609+07:00 0HLN5VDU3I2BN:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=LQovXQSI7VsRM0jOPU1sjg   (ca22a1cb)
2019-06-01T02:16:46.8827049+07:00 0HLN5VDU3I2B5:00000017 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:16:46.8845244+07:00 0HLN5VDU3I2BL:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:16:46.8908543+07:00 0HLN5VDU3I2BN:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:16:46.8931221+07:00 0HLN5VDU3I2B5:00000017 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:16:46.8994478+07:00 0HLN5VDU3I2BN:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:16:46.9016436+07:00 0HLN5VDU3I2BL:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:46.9585033+07:00 0HLN5VDU3I2B5:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:16:46.9633189+07:00 0HLN5VDU3I2BN:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:16:46.9704131+07:00 0HLN5VDU3I2B5:00000017 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:16:46.9744837+07:00 0HLN5VDU3I2B6:00000010 [INF] Sending file. Request path: '"/lib/jQuery-EasyUI/jquery.easyui.min.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jQuery-EasyUI\jquery.easyui.min.js"' (27b0a520)
2019-06-01T02:16:46.9910531+07:00 0HLN5VDU3I2B5:00000017 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 87.7627ms. (50a9e262)
2019-06-01T02:16:47.0021258+07:00 0HLN5VDU3I2B6:00000010 [INF] Request finished in 904.3361ms 200 application/javascript (791a596a)
2019-06-01T02:16:47.0169484+07:00 0HLN5VDU3I2BK:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jQuery-EasyUI/themes/icons/pencil.png   (ca22a1cb)
2019-06-01T02:16:47.0270415+07:00 0HLN5VDU3I2B5:00000017 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:16:47.0346497+07:00 0HLN5VDU3I2BK:00000002 [INF] Sending file. Request path: '"/lib/jQuery-EasyUI/themes/icons/pencil.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jQuery-EasyUI\themes\icons\pencil.png"' (27b0a520)
2019-06-01T02:16:47.0405213+07:00 0HLN5VDU3I2B5:00000017 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 166.9584ms (afa2e885)
2019-06-01T02:16:47.0504507+07:00 0HLN5VDU3I2BK:00000002 [INF] Request finished in 43.6368ms 200 image/png (791a596a)
2019-06-01T02:16:47.0513532+07:00 0HLN5VDU3I2B5:00000017 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:16:47.0569812+07:00 0HLN5VDU3I2B6:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/ProductCategory/GetAll   (ca22a1cb)
2019-06-01T02:16:47.0671682+07:00 0HLN5VDU3I2B5:00000017 [INF] Request finished in 904.5929ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:16:47.0687850+07:00 0HLN5VDU3I2B9:00000019 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jQuery-EasyUI/themes/icons/edit_remove.png   (ca22a1cb)
2019-06-01T02:16:47.0769151+07:00 0HLN5VDU3I2BL:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:16:47.1236025+07:00 0HLN5VDU3I2B6:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductCategoryController.GetAll (Shop3)"' (500cc934)
2019-06-01T02:16:47.1274565+07:00 0HLN5VDU3I2B9:00000019 [INF] Sending file. Request path: '"/lib/jQuery-EasyUI/themes/icons/edit_remove.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jQuery-EasyUI\themes\icons\edit_remove.png"' (27b0a520)
2019-06-01T02:16:47.1328674+07:00 0HLN5VDU3I2B6:00000011 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"ProductCategory\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductCategoryController.GetAll (Shop3)" (a44c0341)
2019-06-01T02:16:47.1345781+07:00 0HLN5VDU3I2B9:00000019 [INF] Request finished in 65.2175ms 200 image/png (791a596a)
2019-06-01T02:16:47.1468702+07:00 0HLN5VDU3I2B6:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:47.1497888+07:00 0HLN5VDU3I2BL:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:16:47.1551299+07:00 0HLN5VDU3I2B6:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductCategoryController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:16:47.1643242+07:00 0HLN5VDU3I2B6:00000011 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:16:47.1663778+07:00 0HLN5VDU3I2BL:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:16:47.1810105+07:00 0HLN5VDU3I2BL:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:16:47.1835257+07:00 0HLN5VDU3I2B6:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:16:47.1946437+07:00 0HLN5VDU3I2BL:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 104.2361ms. (50a9e262)
2019-06-01T02:16:47.2004623+07:00 0HLN5VDU3I2B6:00000011 [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:16:47.2013428+07:00 0HLN5VDU3I2BL:00000001 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:16:47.2153554+07:00 0HLN5VDU3I2B6:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductCategoryController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 46.3059ms. (50a9e262)
2019-06-01T02:16:47.2164196+07:00 0HLN5VDU3I2BL:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 318.6214ms (afa2e885)
2019-06-01T02:16:47.2298912+07:00 0HLN5VDU3I2BL:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:16:47.2314022+07:00 0HLN5VDU3I2B6:00000011 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductCategoryViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:16:47.2455774+07:00 0HLN5VDU3I2BL:00000001 [INF] Request finished in 1090.1122ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:16:47.2660142+07:00 0HLN5VDU3I2B6:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductCategoryController.GetAll (Shop3)" in 126.2959ms (afa2e885)
2019-06-01T02:16:47.2751256+07:00 0HLN5VDU3I2B6:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductCategoryController.GetAll (Shop3)"' (99874f2b)
2019-06-01T02:16:47.2833085+07:00 0HLN5VDU3I2B6:00000011 [INF] Request finished in 246.5595ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:16:47.2996499+07:00 0HLN5VDU3I2B6:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jQuery-EasyUI/themes/bootstrap/images/tree_icons.png   (ca22a1cb)
2019-06-01T02:16:47.3623607+07:00 0HLN5VDU3I2B6:00000012 [INF] Sending file. Request path: '"/lib/jQuery-EasyUI/themes/bootstrap/images/tree_icons.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jQuery-EasyUI\themes\bootstrap\images\tree_icons.png"' (27b0a520)
2019-06-01T02:16:47.3667767+07:00 0HLN5VDU3I2B6:00000012 [INF] Request finished in 68.8076ms 200 image/png (791a596a)
2019-06-01T02:16:50.6676448+07:00 0HLN5VDU3I2B6:00000013 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/ProductCategory/UpdateParentId application/x-www-form-urlencoded; charset=UTF-8 74 (ca22a1cb)
2019-06-01T02:16:50.6737891+07:00 0HLN5VDU3I2B6:00000013 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:16:50.6774536+07:00 0HLN5VDU3I2B6:00000013 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:16:50.6823696+07:00 0HLN5VDU3I2B6:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductCategoryController.UpdateParentId (Shop3)"' (500cc934)
2019-06-01T02:16:50.6932185+07:00 0HLN5VDU3I2B6:00000013 [INF] Route matched with "{area = \"Admin\", action = \"UpdateParentId\", controller = \"ProductCategory\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductCategoryController.UpdateParentId (Shop3)" (a44c0341)
2019-06-01T02:16:50.6966974+07:00 0HLN5VDU3I2B6:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:50.7381078+07:00 0HLN5VDU3I2B6:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductCategoryController.UpdateParentId (Shop3)" with arguments (["19", "17", "System.Collections.Generic.Dictionary`2[System.Int32,System.Int32]"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:16:56.0433984+07:00 0HLN5VDU3I2B6:00000013 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:16:56.0688699+07:00 0HLN5VDU3I2B6:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T02:16:56.1378996+07:00 0HLN5VDU3I2B6:00000013 [INF] Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[DateCreated], [p].[DateModified], [p].[Description], [p].[HomeFlag], [p].[HomeOrder], [p].[Image], [p].[Name], [p].[ParentId], [p].[SeoAlias], [p].[SeoDescription], [p].[SeoKeywords], [p].[SeoPageTitle], [p].[SortOrder], [p].[Status]
FROM [ProductCategories] AS [p]
WHERE [p].[Id] = @__id_0" (0723d8ff)
2019-06-01T02:16:56.1831270+07:00 0HLN5VDU3I2B6:00000013 [WRN] The LINQ expression '"where __items_0.ContainsKey([x].Id)"' could not be translated and will be evaluated locally. (011792c6)
2019-06-01T02:16:56.1935011+07:00 0HLN5VDU3I2B6:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]" (0723d8ff)
2019-06-01T02:16:56.1992103+07:00 0HLN5VDU3I2B6:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [p].[Id], [p].[DateCreated], [p].[DateModified], [p].[Description], [p].[HomeFlag], [p].[HomeOrder], [p].[Image], [p].[Name], [p].[ParentId], [p].[SeoAlias], [p].[SeoDescription], [p].[SeoKeywords], [p].[SeoPageTitle], [p].[SortOrder], [p].[Status]
FROM [ProductCategories] AS [p]
WHERE [p].[Id] = @__id_0" (0723d8ff)
2019-06-01T02:16:56.2289074+07:00 0HLN5VDU3I2B6:00000013 [INF] Executed DbCommand ("17"ms) [Parameters=["@p3='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ProductCategories] SET [DateModified] = @p0, [ParentId] = @p1, [SortOrder] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T02:16:56.2495691+07:00 0HLN5VDU3I2B6:00000013 [INF] Executed DbCommand ("17"ms) [Parameters=["@p14='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ProductCategories] SET [DateCreated] = @p0, [DateModified] = @p1, [Description] = @p2, [HomeFlag] = @p3, [HomeOrder] = @p4, [Image] = @p5, [Name] = @p6, [ParentId] = @p7, [SeoAlias] = @p8, [SeoDescription] = @p9, [SeoKeywords] = @p10, [SeoPageTitle] = @p11, [SortOrder] = @p12, [Status] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T02:16:56.2573858+07:00 0HLN5VDU3I2B6:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@p14='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ProductCategories] SET [DateCreated] = @p0, [DateModified] = @p1, [Description] = @p2, [HomeFlag] = @p3, [HomeOrder] = @p4, [Image] = @p5, [Name] = @p6, [ParentId] = @p7, [SeoAlias] = @p8, [SeoDescription] = @p9, [SeoKeywords] = @p10, [SeoPageTitle] = @p11, [SortOrder] = @p12, [Status] = @p13
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T02:16:56.2671277+07:00 0HLN5VDU3I2B6:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductCategoryController.UpdateParentId (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkResult" in 5525.5265ms. (50a9e262)
2019-06-01T02:16:56.2771974+07:00 0HLN5VDU3I2B6:00000013 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2019-06-01T02:16:56.2821849+07:00 0HLN5VDU3I2B6:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductCategoryController.UpdateParentId (Shop3)" in 5584.0864ms (afa2e885)
2019-06-01T02:16:56.2869869+07:00 0HLN5VDU3I2B6:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductCategoryController.UpdateParentId (Shop3)"' (99874f2b)
2019-06-01T02:16:56.2937767+07:00 0HLN5VDU3I2B6:00000013 [INF] Request finished in 5623.672ms 200  (791a596a)
2019-06-01T02:16:59.7521263+07:00 0HLN5VDU3I2B6:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/productcategory/index   (ca22a1cb)
2019-06-01T02:16:59.7571625+07:00 0HLN5VDU3I2B6:00000014 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductCategoryController.Index (Shop3)"' (500cc934)
2019-06-01T02:16:59.7620869+07:00 0HLN5VDU3I2B6:00000014 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"ProductCategory\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductCategoryController.Index (Shop3)" (a44c0341)
2019-06-01T02:16:59.7678391+07:00 0HLN5VDU3I2B6:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:59.7762222+07:00 0HLN5VDU3I2B6:00000014 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductCategoryController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:16:59.7801615+07:00 0HLN5VDU3I2B6:00000014 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductCategoryController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.018ms. (50a9e262)
2019-06-01T02:16:59.7841172+07:00 0HLN5VDU3I2B6:00000014 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:16:59.7908958+07:00 0HLN5VDU3I2B6:00000014 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:16:59.7991441+07:00 0HLN5VDU3I2B6:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:16:59.8062501+07:00 0HLN5VDU3I2B6:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:59.8134759+07:00 0HLN5VDU3I2B6:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:16:59.8174972+07:00 0HLN5VDU3I2B6:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:59.8288051+07:00 0HLN5VDU3I2B6:00000014 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:16:59.8328658+07:00 0HLN5VDU3I2B6:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:59.8425109+07:00 0HLN5VDU3I2B6:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:16:59.8458627+07:00 0HLN5VDU3I2B6:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:59.8538200+07:00 0HLN5VDU3I2B6:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:16:59.8584978+07:00 0HLN5VDU3I2B6:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:59.8652596+07:00 0HLN5VDU3I2B6:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:16:59.8711771+07:00 0HLN5VDU3I2B6:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:16:59.8764555+07:00 0HLN5VDU3I2B6:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:16:59.9288049+07:00 0HLN5VDU3I2B6:00000014 [INF] Executed ViewResult - view "Index" executed in 97.5198ms. (f66409e9)
2019-06-01T02:16:59.9550609+07:00 0HLN5VDU3I2BN:00000001 [INF] Request finished in 13026.1989ms 101  (791a596a)
2019-06-01T02:16:59.9583893+07:00 0HLN5VDU3I2B6:00000014 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductCategoryController.Index (Shop3)" in 166.8949ms (afa2e885)
2019-06-01T02:16:59.9737378+07:00 0HLN5VDU3I2B6:00000014 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductCategoryController.Index (Shop3)"' (99874f2b)
2019-06-01T02:16:59.9810498+07:00 0HLN5VDU3I2B6:00000014 [INF] Request finished in 226.3097ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:17:00.1290303+07:00 0HLN5VDU3I2B6:00000015 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:17:00.1319624+07:00 0HLN5VDU3I2BL:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:17:00.1555660+07:00 0HLN5VDU3I2B6:00000015 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:17:00.1576206+07:00 0HLN5VDU3I2BL:00000002 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:17:00.1630232+07:00 0HLN5VDU3I2B6:00000015 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:17:00.1658183+07:00 0HLN5VDU3I2BL:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:17:00.1847700+07:00 0HLN5VDU3I2B6:00000015 [INF] Request finished in 105.2552ms 200 application/json (791a596a)
2019-06-01T02:17:00.1899745+07:00 0HLN5VDU3I2BL:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:17:00.1946613+07:00 0HLN5VDU3I2B9:0000001A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:17:00.2064250+07:00 0HLN5VDU3I2BL:00000002 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:17:00.2133977+07:00 0HLN5VDU3I2B9:0000001A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:17:00.2154284+07:00 0HLN5VDU3I2BL:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:17:00.2271224+07:00 0HLN5VDU3I2B9:0000001A [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:17:00.2289054+07:00 0HLN5VDU3I2BL:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:17:00.2347364+07:00 0HLN5VDU3I2B5:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/ProductCategory/GetAll   (ca22a1cb)
2019-06-01T02:17:00.2428811+07:00 0HLN5VDU3I2B9:0000001A [INF] Authorization was successful. (0d575a54)
2019-06-01T02:17:00.2460032+07:00 0HLN5VDU3I2BL:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:17:00.2592105+07:00 0HLN5VDU3I2B9:0000001A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:17:00.2622809+07:00 0HLN5VDU3I2BL:00000002 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 39.627ms. (50a9e262)
2019-06-01T02:17:00.3144063+07:00 0HLN5VDU3I2B5:00000018 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductCategoryController.GetAll (Shop3)"' (500cc934)
2019-06-01T02:17:00.3250779+07:00 0HLN5VDU3I2B9:0000001A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:17:00.3496050+07:00 0HLN5VDU3I2BL:00000002 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:17:00.3587308+07:00 0HLN5VDU3I2B6:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T02:17:00.3648161+07:00 0HLN5VDU3I2BL:00000002 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 185.0085ms (afa2e885)
2019-06-01T02:17:00.3792243+07:00 0HLN5VDU3I2B6:00000016 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T02:17:00.3813568+07:00 0HLN5VDU3I2BL:00000002 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:17:00.3921440+07:00 0HLN5VDU3I2B9:0000001A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:17:00.3948530+07:00 0HLN5VDU3I2B6:00000016 [INF] Request finished in 61.3127ms 200 image/x-icon (791a596a)
2019-06-01T02:17:00.3957851+07:00 0HLN5VDU3I2BL:00000002 [INF] Request finished in 306.4544ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:17:00.4680164+07:00 0HLN5VDU3I2B9:0000001A [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:17:00.4784935+07:00 0HLN5VDU3I2BO:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=QrNIsskIkqiA8LiLl5yQJw   (ca22a1cb)
2019-06-01T02:17:00.4812180+07:00 0HLN5VDU3I2B5:00000018 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"ProductCategory\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductCategoryController.GetAll (Shop3)" (a44c0341)
2019-06-01T02:17:00.4871101+07:00 0HLN5VDU3I2BO:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:17:00.4967495+07:00 0HLN5VDU3I2B9:0000001A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 208.8677ms. (50a9e262)
2019-06-01T02:17:00.5027232+07:00 0HLN5VDU3I2BO:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:17:00.5109508+07:00 0HLN5VDU3I2B9:0000001A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:17:00.5272798+07:00 0HLN5VDU3I2B5:00000018 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:17:00.5306882+07:00 0HLN5VDU3I2B9:0000001A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 284.0524ms (afa2e885)
2019-06-01T02:17:00.5496744+07:00 0HLN5VDU3I2BO:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:17:00.5515403+07:00 0HLN5VDU3I2B9:0000001A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:17:00.5760297+07:00 0HLN5VDU3I2B5:00000018 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductCategoryController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:17:00.5794796+07:00 0HLN5VDU3I2B9:0000001A [INF] Request finished in 474.6453ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:17:00.5847120+07:00 0HLN5VDU3I2B5:00000018 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:17:00.5989634+07:00 0HLN5VDU3I2B5:00000018 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:17:00.6108523+07:00 0HLN5VDU3I2B5:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:17:00.6158487+07:00 0HLN5VDU3I2B5:00000018 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductCategoryController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 35.549ms. (50a9e262)
2019-06-01T02:17:00.6247164+07:00 0HLN5VDU3I2B5:00000018 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductCategoryViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:17:00.6330143+07:00 0HLN5VDU3I2B5:00000018 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductCategoryController.GetAll (Shop3)" in 144.3948ms (afa2e885)
2019-06-01T02:17:00.6431591+07:00 0HLN5VDU3I2B5:00000018 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductCategoryController.GetAll (Shop3)"' (99874f2b)
2019-06-01T02:17:00.6510614+07:00 0HLN5VDU3I2B5:00000018 [INF] Request finished in 517.3107ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:17:07.7489673+07:00 0HLN5VDU3I2B5:00000019 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T02:17:07.7563027+07:00 0HLN5VDU3I2B5:00000019 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T02:17:07.7628778+07:00 0HLN5VDU3I2B5:00000019 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T02:17:07.7673877+07:00 0HLN5VDU3I2B5:00000019 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:17:07.7728807+07:00 0HLN5VDU3I2B5:00000019 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:17:07.7850526+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T02:17:07.7986624+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T02:17:07.8101352+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T02:17:07.8262168+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:17:07.8385528+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T02:17:07.8523287+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:17:07.8626319+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T02:17:07.8732375+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T02:17:07.8808259+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T02:17:07.8882627+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:17:07.8972157+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T02:17:07.9071131+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 129.9739ms. (50a9e262)
2019-06-01T02:17:07.9122844+07:00 0HLN5VDU3I2B5:00000019 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:17:07.9252710+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:17:07.9417531+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:17:07.9564410+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:17:07.9647523+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:17:08.0633754+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed ViewResult - view "Index" executed in 121.7983ms. (f66409e9)
2019-06-01T02:17:08.0778250+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 300.5463ms (afa2e885)
2019-06-01T02:17:08.1111566+07:00 0HLN5VDU3I2B5:00000019 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T02:17:08.1294992+07:00 0HLN5VDU3I2B5:00000019 [INF] Request finished in 369.1907ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:17:08.3476686+07:00 0HLN5VDU3I2BL:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T02:17:08.3591530+07:00 0HLN5VDU3I2BK:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T02:17:08.3682590+07:00 0HLN5VDU3I2BL:00000003 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T02:17:08.3751086+07:00 0HLN5VDU3I2BK:00000003 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T02:17:08.4567561+07:00 0HLN5VDU3I2BP:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T02:17:08.4632316+07:00 0HLN5VDU3I2BK:00000003 [INF] Serving from cache (7e5e9bde)
2019-06-01T02:17:08.5629134+07:00 0HLN5VDU3I2BP:00000001 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T02:17:08.5684912+07:00 0HLN5VDU3I2BK:00000003 [INF] Request finished in 152.188ms 200 image/jpeg (791a596a)
2019-06-01T02:17:08.5997885+07:00 0HLN5VDU3I2BL:00000003 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T02:17:08.7823498+07:00 0HLN5VDU3I2BK:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T02:17:08.8177548+07:00 0HLN5VDU3I2BK:00000004 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T02:17:08.8281811+07:00 0HLN5VDU3I2BL:00000003 [INF] Request finished in 496.7282ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T02:17:08.8447333+07:00 0HLN5VDU3I2BK:00000004 [INF] Serving from cache (7e5e9bde)
2019-06-01T02:17:08.8483719+07:00 0HLN5VDU3I2BP:00000001 [INF] Serving from cache (7e5e9bde)
2019-06-01T02:17:08.8827189+07:00 0HLN5VDU3I2BK:00000004 [INF] Request finished in 248.9074ms 200 image/jpeg (791a596a)
2019-06-01T02:17:08.9173748+07:00 0HLN5VDU3I2BL:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T02:17:08.9244849+07:00 0HLN5VDU3I2BP:00000001 [INF] Request finished in 491.248ms 200 image/jpeg (791a596a)
2019-06-01T02:17:08.9354716+07:00 0HLN5VDU3I2BL:00000004 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T02:17:08.9395548+07:00 0HLN5VDU3I2B6:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T02:17:08.9461928+07:00 0HLN5VDU3I2BL:00000004 [INF] Serving from cache (7e5e9bde)
2019-06-01T02:17:08.9484168+07:00 0HLN5VDU3I2B6:00000017 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T02:17:08.9600643+07:00 0HLN5VDU3I2BL:00000004 [INF] Request finished in 71.1284ms 200 image/jpeg (791a596a)
2019-06-01T02:17:08.9609493+07:00 0HLN5VDU3I2B6:00000017 [INF] Serving from cache (7e5e9bde)
2019-06-01T02:17:08.9681386+07:00 0HLN5VDU3I2B9:0000001B [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T02:17:08.9750912+07:00 0HLN5VDU3I2B5:0000001A [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T02:17:08.9809152+07:00 0HLN5VDU3I2B9:0000001B [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T02:17:08.9846001+07:00 0HLN5VDU3I2B5:0000001A [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T02:17:08.9942817+07:00 0HLN5VDU3I2B6:00000017 [INF] Request finished in 671.4015ms 200 image/jpeg (791a596a)
2019-06-01T02:17:08.9952097+07:00 0HLN5VDU3I2B9:0000001B [INF] Serving from cache (7e5e9bde)
2019-06-01T02:17:09.1475590+07:00 0HLN5VDU3I2B5:0000001A [INF] Serving from cache (7e5e9bde)
2019-06-01T02:17:09.1666441+07:00 0HLN5VDU3I2B9:0000001B [INF] Request finished in 835.1403ms 200 image/jpeg (791a596a)
2019-06-01T02:17:09.1686163+07:00 0HLN5VDU3I2B5:0000001A [INF] Request finished in 841.464ms 200 image/jpeg (791a596a)
2019-06-01T02:17:09.9122593+07:00 0HLN5VDU3I2B5:0000001B [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:17:09.9179918+07:00 0HLN5VDU3I2B6:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T02:17:09.9245116+07:00 0HLN5VDU3I2B9:0000001C [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T02:17:09.9289297+07:00 0HLN5VDU3I2B5:0000001B [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:17:09.9395446+07:00 0HLN5VDU3I2B6:00000018 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T02:17:09.9413371+07:00 0HLN5VDU3I2B5:0000001B [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:17:09.9525333+07:00 0HLN5VDU3I2B5:0000001B [INF] Request finished in 43.4981ms 200 application/json (791a596a)
2019-06-01T02:17:09.9551819+07:00 0HLN5VDU3I2B6:00000018 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T02:17:09.9587783+07:00 0HLN5VDU3I2B9:0000001C [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T02:17:09.9630145+07:00 0HLN5VDU3I2B6:00000018 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:17:09.9711483+07:00 0HLN5VDU3I2B9:0000001C [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T02:17:09.9762018+07:00 0HLN5VDU3I2B6:00000018 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:17:09.9855347+07:00 0HLN5VDU3I2B9:0000001C [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:17:09.9965082+07:00 0HLN5VDU3I2B6:00000018 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T02:17:09.9981809+07:00 0HLN5VDU3I2B9:0000001C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:17:10.0120187+07:00 0HLN5VDU3I2B6:00000018 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 33.5256ms. (50a9e262)
2019-06-01T02:17:10.0184323+07:00 0HLN5VDU3I2B9:0000001C [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T02:17:10.0229583+07:00 0HLN5VDU3I2B6:00000018 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:17:10.0365360+07:00 0HLN5VDU3I2B9:0000001C [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 32.9484ms. (50a9e262)
2019-06-01T02:17:10.0420807+07:00 0HLN5VDU3I2B6:00000018 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 68.0388ms (afa2e885)
2019-06-01T02:17:10.0468880+07:00 0HLN5VDU3I2B9:0000001C [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:17:10.0501200+07:00 0HLN5VDU3I2B6:00000018 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T02:17:10.0620901+07:00 0HLN5VDU3I2B9:0000001C [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 76.3424ms (afa2e885)
2019-06-01T02:17:10.0639174+07:00 0HLN5VDU3I2B6:00000018 [INF] Request finished in 140.8297ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:17:10.0687563+07:00 0HLN5VDU3I2B9:0000001C [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T02:17:10.0813241+07:00 0HLN5VDU3I2B9:0000001C [INF] Request finished in 158.4243ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:17:10.2283635+07:00 0HLN5VDU3I2BQ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=Q2ACZ0R4JeIAbminPLWZyQ   (ca22a1cb)
2019-06-01T02:17:10.2483269+07:00 0HLN5VDU3I2BQ:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:17:10.2540906+07:00 0HLN5VDU3I2BQ:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:17:10.2824495+07:00 0HLN5VDU3I2BQ:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:17:20.7451244+07:00 0HLN5VDU3I2B9:0000001D [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T02:17:20.7518219+07:00 0HLN5VDU3I2B9:0000001D [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T02:17:20.7629504+07:00 0HLN5VDU3I2B9:0000001D [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T02:17:20.7681061+07:00 0HLN5VDU3I2B9:0000001D [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:17:20.7764467+07:00 0HLN5VDU3I2B9:0000001D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:17:20.7847597+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T02:17:20.7975838+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T02:17:20.8106127+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T02:17:20.8237787+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:17:20.8341491+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T02:17:20.8460564+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:17:20.8566590+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T02:17:20.8644005+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T02:17:20.8688461+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T02:17:20.8786405+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:17:20.8850914+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T02:17:20.8931939+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 117.1243ms. (50a9e262)
2019-06-01T02:17:20.8970815+07:00 0HLN5VDU3I2B9:0000001D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:17:20.9061362+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:17:20.9139922+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:17:20.9241977+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:17:20.9433846+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:17:20.9684291+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed ViewResult - view "Index" executed in 68.95ms. (f66409e9)
2019-06-01T02:17:20.9965977+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 205.6468ms (afa2e885)
2019-06-01T02:17:20.9989842+07:00 0HLN5VDU3I2BQ:00000001 [INF] Request finished in 10757.8317ms 101  (791a596a)
2019-06-01T02:17:21.0106042+07:00 0HLN5VDU3I2B9:0000001D [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T02:17:21.0174525+07:00 0HLN5VDU3I2B9:0000001D [INF] Request finished in 269.6824ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:17:21.0452773+07:00 0HLN5VDU3I2B6:00000019 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T02:17:21.0472527+07:00 0HLN5VDU3I2B9:0000001E [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T02:17:21.0585697+07:00 0HLN5VDU3I2B6:00000019 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T02:17:21.0605253+07:00 0HLN5VDU3I2B9:0000001E [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T02:17:21.0727583+07:00 0HLN5VDU3I2B6:00000019 [INF] Serving from cache (7e5e9bde)
2019-06-01T02:17:21.0753024+07:00 0HLN5VDU3I2B9:0000001E [INF] Serving from cache (7e5e9bde)
2019-06-01T02:17:21.1332698+07:00 0HLN5VDU3I2B6:00000019 [INF] Request finished in 48.3326ms 200 image/jpeg (791a596a)
2019-06-01T02:17:21.1413236+07:00 0HLN5VDU3I2BL:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T02:17:21.1569325+07:00 0HLN5VDU3I2BL:00000005 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T02:17:21.1592402+07:00 0HLN5VDU3I2B6:0000001A [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T02:17:21.1793535+07:00 0HLN5VDU3I2BP:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T02:17:21.1949182+07:00 0HLN5VDU3I2B6:0000001A [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T02:17:21.2063779+07:00 0HLN5VDU3I2BP:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T02:17:21.2073333+07:00 0HLN5VDU3I2B6:0000001A [INF] Serving from cache (7e5e9bde)
2019-06-01T02:17:21.2101497+07:00 0HLN5VDU3I2B9:0000001E [INF] Request finished in 41.4345ms 200 image/jpeg (791a596a)
2019-06-01T02:17:21.2254760+07:00 0HLN5VDU3I2B6:0000001A [INF] Request finished in 61.6774ms 200 image/jpeg (791a596a)
2019-06-01T02:17:21.2344065+07:00 0HLN5VDU3I2BP:00000002 [INF] Serving from cache (7e5e9bde)
2019-06-01T02:17:21.2529677+07:00 0HLN5VDU3I2BL:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T02:17:21.2596081+07:00 0HLN5VDU3I2BP:00000002 [INF] Request finished in 116.0326ms 200 image/jpeg (791a596a)
2019-06-01T02:17:21.2628286+07:00 0HLN5VDU3I2B5:0000001C [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T02:17:21.2777053+07:00 0HLN5VDU3I2B5:0000001C [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T02:17:21.2807215+07:00 0HLN5VDU3I2BK:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T02:17:21.2869344+07:00 0HLN5VDU3I2B5:0000001C [INF] Serving from cache (7e5e9bde)
2019-06-01T02:17:21.2931080+07:00 0HLN5VDU3I2BK:00000005 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T02:17:21.3009742+07:00 0HLN5VDU3I2B9:0000001F [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T02:17:21.3098107+07:00 0HLN5VDU3I2BK:00000005 [INF] Serving from cache (7e5e9bde)
2019-06-01T02:17:21.3146780+07:00 0HLN5VDU3I2B9:0000001F [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T02:17:21.3180913+07:00 0HLN5VDU3I2BK:00000005 [INF] Request finished in 43.5822ms 200 image/jpeg (791a596a)
2019-06-01T02:17:21.3279362+07:00 0HLN5VDU3I2B6:0000001B [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:17:21.3470816+07:00 0HLN5VDU3I2BP:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T02:17:21.3580711+07:00 0HLN5VDU3I2B6:0000001B [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:17:21.3607238+07:00 0HLN5VDU3I2BL:00000005 [INF] Request finished in 235.2435ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T02:17:21.3807800+07:00 0HLN5VDU3I2B6:0000001B [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:17:21.3971952+07:00 0HLN5VDU3I2B5:0000001C [INF] Request finished in 121.0295ms 200 image/jpeg (791a596a)
2019-06-01T02:17:21.3992633+07:00 0HLN5VDU3I2B6:0000001B [INF] Request finished in 65.1473ms 200 application/json (791a596a)
2019-06-01T02:17:21.4203159+07:00 0HLN5VDU3I2BP:00000003 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T02:17:21.4260923+07:00 0HLN5VDU3I2BL:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T02:17:21.4419725+07:00 0HLN5VDU3I2BP:00000003 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T02:17:21.4451606+07:00 0HLN5VDU3I2BL:00000006 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T02:17:21.4512759+07:00 0HLN5VDU3I2BP:00000003 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:17:21.4606699+07:00 0HLN5VDU3I2BL:00000006 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T02:17:21.4630338+07:00 0HLN5VDU3I2B9:0000001F [INF] Serving from cache (7e5e9bde)
2019-06-01T02:17:21.4733305+07:00 0HLN5VDU3I2BL:00000006 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:17:21.4763864+07:00 0HLN5VDU3I2BP:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:17:21.4891154+07:00 0HLN5VDU3I2BL:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:17:21.4975376+07:00 0HLN5VDU3I2BP:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T02:17:21.5136196+07:00 0HLN5VDU3I2BL:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T02:17:21.5161788+07:00 0HLN5VDU3I2BP:00000003 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 46.3486ms. (50a9e262)
2019-06-01T02:17:21.5332039+07:00 0HLN5VDU3I2BL:00000006 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 40.3441ms. (50a9e262)
2019-06-01T02:17:21.5378686+07:00 0HLN5VDU3I2BP:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:17:21.5593823+07:00 0HLN5VDU3I2BL:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:17:21.5940822+07:00 0HLN5VDU3I2BP:00000003 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 96.1984ms (afa2e885)
2019-06-01T02:17:21.6790133+07:00 0HLN5VDU3I2BL:00000006 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 99.0045ms (afa2e885)
2019-06-01T02:17:21.6827946+07:00 0HLN5VDU3I2BP:00000003 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T02:17:21.7079434+07:00 0HLN5VDU3I2BR:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=h32ars0pQogCt2aUsr9Acw   (ca22a1cb)
2019-06-01T02:17:21.7104299+07:00 0HLN5VDU3I2BL:00000006 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T02:17:21.7128791+07:00 0HLN5VDU3I2BP:00000003 [INF] Request finished in 357.6814ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:17:21.7267658+07:00 0HLN5VDU3I2BR:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:17:21.7286838+07:00 0HLN5VDU3I2BL:00000006 [INF] Request finished in 299.9527ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:17:21.7355499+07:00 0HLN5VDU3I2BR:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:17:21.7477480+07:00 0HLN5VDU3I2B9:0000001F [INF] Request finished in 223.4708ms 200 image/jpeg (791a596a)
2019-06-01T02:17:21.7628881+07:00 0HLN5VDU3I2BR:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:17:21.7976917+07:00 0HLN5VDU3I2B9:00000020 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T02:17:21.8088560+07:00 0HLN5VDU3I2B9:00000020 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T02:17:21.8133495+07:00 0HLN5VDU3I2B9:00000020 [INF] Request finished in 16.6243ms 200 image/x-icon (791a596a)
2019-06-01T02:17:24.7399729+07:00 0HLN5VDU3I2B9:00000021 [INF] Request starting HTTP/1.1 GET https://localhost:5001/test-2-c.17.html   (ca22a1cb)
2019-06-01T02:17:24.7522715+07:00 0HLN5VDU3I2B9:00000021 [INF] Executing endpoint '"Shop3.Controllers.ProductController.Catalog (Shop3)"' (500cc934)
2019-06-01T02:17:24.7619790+07:00 0HLN5VDU3I2B9:00000021 [INF] Route matched with "{action = \"Catalog\", controller = \"Product\", area = \"\"}". Executing action "Shop3.Controllers.ProductController.Catalog (Shop3)" (a44c0341)
2019-06-01T02:17:24.7682317+07:00 0HLN5VDU3I2B9:00000021 [INF] Executing action method "Shop3.Controllers.ProductController.Catalog (Shop3)" with arguments (["17", "", "", "1"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:17:24.7795453+07:00 0HLN5VDU3I2B9:00000021 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:17:24.7905008+07:00 0HLN5VDU3I2B9:00000021 [INF] Executed DbCommand ("2"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE (([x].[Status] = 1) OR ([x].[Status] = 0)) AND ([x].[CategoryId] = @__categoryId_Value_0)" (0723d8ff)
2019-06-01T02:17:24.8349955+07:00 0HLN5VDU3I2B9:00000021 [INF] Executed DbCommand ("4"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE (([x].[Status] = 1) OR ([x].[Status] = 0)) AND ([x].[CategoryId] = @__categoryId_Value_0)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:17:24.8480313+07:00 0HLN5VDU3I2B9:00000021 [INF] Executed DbCommand ("4"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE (([x0].[Status] = 1) OR ([x0].[Status] = 0)) AND ([x0].[CategoryId] = @__categoryId_Value_0)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:17:24.8571295+07:00 0HLN5VDU3I2B9:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T02:17:24.9156657+07:00 0HLN5VDU3I2B9:00000021 [INF] Executed action method "Shop3.Controllers.ProductController.Catalog (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 143.6998ms. (50a9e262)
2019-06-01T02:17:24.9277945+07:00 0HLN5VDU3I2B9:00000021 [INF] Executing ViewResult, running view "Catalog". (c83d0e25)
2019-06-01T02:17:24.9937640+07:00 0HLN5VDU3I2B9:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:17:25.0005168+07:00 0HLN5VDU3I2B9:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:17:25.0132766+07:00 0HLN5VDU3I2B9:00000021 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:17:25.0198464+07:00 0HLN5VDU3I2B9:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:17:25.0336298+07:00 0HLN5VDU3I2B9:00000021 [INF] Executed ViewResult - view "Catalog" executed in 109.7614ms. (f66409e9)
2019-06-01T02:17:25.0802193+07:00 0HLN5VDU3I2B9:00000021 [INF] Executed action "Shop3.Controllers.ProductController.Catalog (Shop3)" in 271.7021ms (afa2e885)
2019-06-01T02:17:25.1104079+07:00 0HLN5VDU3I2B9:00000021 [INF] Executed endpoint '"Shop3.Controllers.ProductController.Catalog (Shop3)"' (99874f2b)
2019-06-01T02:17:25.1153790+07:00 0HLN5VDU3I2BL:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/cat-slider-img1.jpg   (ca22a1cb)
2019-06-01T02:17:25.1296682+07:00 0HLN5VDU3I2B9:00000021 [INF] Request finished in 376.2804ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:17:25.1318368+07:00 0HLN5VDU3I2BP:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/cat-slider-img2.jpg   (ca22a1cb)
2019-06-01T02:17:25.1431635+07:00 0HLN5VDU3I2BK:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T02:17:25.1449318+07:00 0HLN5VDU3I2B9:00000022 [INF] Request starting HTTP/1.1 GET https://localhost:5001/test-2-c.17.html?w=153   (ca22a1cb)
2019-06-01T02:17:25.1479845+07:00 0HLN5VDU3I2BR:00000001 [INF] Request finished in 3363.9066ms 101  (791a596a)
2019-06-01T02:17:25.1517498+07:00 0HLN5VDU3I2BK:00000006 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T02:17:25.1533223+07:00 0HLN5VDU3I2B9:00000022 [INF] Resizing /test-2-c.17.html with params w: 153, h: 0, autorotate: False, quality: 100, format: html, mode: max (b1696214)
2019-06-01T02:17:25.1599742+07:00 0HLN5VDU3I2BK:00000006 [INF] Serving from cache (7e5e9bde)
2019-06-01T02:17:25.1752451+07:00 0HLN5VDU3I2B9:00000022 [INF] Executing endpoint '"Shop3.Controllers.ProductController.Catalog (Shop3)"' (500cc934)
2019-06-01T02:17:25.1772734+07:00 0HLN5VDU3I2BL:00000007 [INF] Sending file. Request path: '"/client-side/images/cat-slider-img1.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\cat-slider-img1.jpg"' (27b0a520)
2019-06-01T02:17:25.1856578+07:00 0HLN5VDU3I2B9:00000022 [INF] Route matched with "{action = \"Catalog\", controller = \"Product\", area = \"\"}". Executing action "Shop3.Controllers.ProductController.Catalog (Shop3)" (a44c0341)
2019-06-01T02:17:25.1908456+07:00 0HLN5VDU3I2BL:00000007 [INF] Request finished in 99.4275ms 200 image/jpeg (791a596a)
2019-06-01T02:17:25.1969469+07:00 0HLN5VDU3I2B9:00000022 [INF] Executing action method "Shop3.Controllers.ProductController.Catalog (Shop3)" with arguments (["17", "", "", "1"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:17:25.2013074+07:00 0HLN5VDU3I2BK:00000006 [INF] Request finished in 35.7ms 200 image/jpeg (791a596a)
2019-06-01T02:17:25.2145550+07:00 0HLN5VDU3I2BL:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/test-2-c.17.html?w=254   (ca22a1cb)
2019-06-01T02:17:25.2176139+07:00 0HLN5VDU3I2B9:00000022 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:17:25.2442530+07:00 0HLN5VDU3I2BL:00000008 [INF] Resizing /test-2-c.17.html with params w: 254, h: 0, autorotate: False, quality: 100, format: html, mode: max (788f7f5b)
2019-06-01T02:17:25.2498830+07:00 0HLN5VDU3I2B9:00000022 [INF] Executed DbCommand ("6"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE (([x].[Status] = 1) OR ([x].[Status] = 0)) AND ([x].[CategoryId] = @__categoryId_Value_0)" (0723d8ff)
2019-06-01T02:17:25.2565640+07:00 0HLN5VDU3I2BK:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190407/13263844_259882754365216_6890831951492549185_n.jpg?w=254   (ca22a1cb)
2019-06-01T02:17:25.2607363+07:00 0HLN5VDU3I2BL:00000008 [INF] Executing endpoint '"Shop3.Controllers.ProductController.Catalog (Shop3)"' (500cc934)
2019-06-01T02:17:25.2686382+07:00 0HLN5VDU3I2B9:00000022 [INF] Executed DbCommand ("4"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE (([x].[Status] = 1) OR ([x].[Status] = 0)) AND ([x].[CategoryId] = @__categoryId_Value_0)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:17:25.2807469+07:00 0HLN5VDU3I2BL:00000008 [INF] Route matched with "{action = \"Catalog\", controller = \"Product\", area = \"\"}". Executing action "Shop3.Controllers.ProductController.Catalog (Shop3)" (a44c0341)
2019-06-01T02:17:25.2815613+07:00 0HLN5VDU3I2BK:00000007 [INF] Resizing /uploaded/images/20190407/13263844_259882754365216_6890831951492549185_n.jpg with params w: 254, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (cc3abdbe)
2019-06-01T02:17:25.2933783+07:00 0HLN5VDU3I2B9:00000022 [INF] Executed DbCommand ("4"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE (([x0].[Status] = 1) OR ([x0].[Status] = 0)) AND ([x0].[CategoryId] = @__categoryId_Value_0)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:17:25.3020909+07:00 0HLN5VDU3I2BL:00000008 [INF] Executing action method "Shop3.Controllers.ProductController.Catalog (Shop3)" with arguments (["17", "", "", "1"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:17:25.3060507+07:00 0HLN5VDU3I2BK:00000007 [INF] Request finished in 77.3254ms 404  (791a596a)
2019-06-01T02:17:25.3152490+07:00 0HLN5VDU3I2B9:00000022 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T02:17:25.3188043+07:00 0HLN5VDU3I2BL:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:17:25.3251091+07:00 0HLN5VDU3I2B5:0000001D [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190407/13263844_259882754365216_6890831951492549185_n.jpg?w=153   (ca22a1cb)
2019-06-01T02:17:25.3316363+07:00 0HLN5VDU3I2BL:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE (([x].[Status] = 1) OR ([x].[Status] = 0)) AND ([x].[CategoryId] = @__categoryId_Value_0)" (0723d8ff)
2019-06-01T02:17:25.3344945+07:00 0HLN5VDU3I2B9:00000022 [INF] Executed action method "Shop3.Controllers.ProductController.Catalog (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 127.258ms. (50a9e262)
2019-06-01T02:17:25.3409831+07:00 0HLN5VDU3I2BK:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:17:25.3459845+07:00 0HLN5VDU3I2B9:00000022 [INF] Executing ViewResult, running view "Catalog". (c83d0e25)
2019-06-01T02:17:25.3569047+07:00 0HLN5VDU3I2BL:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE (([x].[Status] = 1) OR ([x].[Status] = 0)) AND ([x].[CategoryId] = @__categoryId_Value_0)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:17:25.3624551+07:00 0HLN5VDU3I2BK:00000008 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:17:25.3657138+07:00 0HLN5VDU3I2B9:00000022 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:17:25.3917933+07:00 0HLN5VDU3I2BL:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE (([x0].[Status] = 1) OR ([x0].[Status] = 0)) AND ([x0].[CategoryId] = @__categoryId_Value_0)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:17:25.4001392+07:00 0HLN5VDU3I2BK:00000008 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:17:25.4077436+07:00 0HLN5VDU3I2B9:00000022 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:17:25.4149769+07:00 0HLN5VDU3I2BL:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T02:17:25.4169958+07:00 0HLN5VDU3I2BK:00000008 [INF] Request finished in 88.5532ms 200 application/json (791a596a)
2019-06-01T02:17:25.4271012+07:00 0HLN5VDU3I2BL:00000008 [INF] Executed action method "Shop3.Controllers.ProductController.Catalog (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 113.1157ms. (50a9e262)
2019-06-01T02:17:25.4297637+07:00 0HLN5VDU3I2B9:00000022 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:17:25.4824061+07:00 0HLN5VDU3I2BL:00000008 [INF] Executing ViewResult, running view "Catalog". (c83d0e25)
2019-06-01T02:17:25.4853866+07:00 0HLN5VDU3I2B9:00000022 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:17:25.4907121+07:00 0HLN5VDU3I2BK:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T02:17:25.5067822+07:00 0HLN5VDU3I2BL:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:17:25.5092270+07:00 0HLN5VDU3I2B9:00000022 [INF] Executed ViewResult - view "Catalog" executed in 162.1941ms. (f66409e9)
2019-06-01T02:17:25.5180983+07:00 0HLN5VDU3I2B9:00000022 [INF] Executed action "Shop3.Controllers.ProductController.Catalog (Shop3)" in 321.0468ms (afa2e885)
2019-06-01T02:17:25.5212683+07:00 0HLN5VDU3I2BK:00000009 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T02:17:25.5250362+07:00 0HLN5VDU3I2BL:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:17:25.5335912+07:00 0HLN5VDU3I2B9:00000022 [INF] Executed endpoint '"Shop3.Controllers.ProductController.Catalog (Shop3)"' (99874f2b)
2019-06-01T02:17:25.5406789+07:00 0HLN5VDU3I2BL:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:17:25.5424339+07:00 0HLN5VDU3I2B9:00000022 [INF] Request finished in 399.4065ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:17:25.5441512+07:00 0HLN5VDU3I2BK:00000009 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T02:17:25.5577984+07:00 0HLN5VDU3I2BL:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:17:25.5598694+07:00 0HLN5VDU3I2BK:00000009 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:17:25.5626891+07:00 0HLN5VDU3I2BS:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=B_bwLuLtyZexRgmsLgP8YQ   (ca22a1cb)
2019-06-01T02:17:25.5784875+07:00 0HLN5VDU3I2BK:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:17:25.5805084+07:00 0HLN5VDU3I2BL:00000008 [INF] Executed ViewResult - view "Catalog" executed in 135.5989ms. (f66409e9)
2019-06-01T02:17:25.5892149+07:00 0HLN5VDU3I2BL:00000008 [INF] Executed action "Shop3.Controllers.ProductController.Catalog (Shop3)" in 299.7837ms (afa2e885)
2019-06-01T02:17:25.5951681+07:00 0HLN5VDU3I2BK:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T02:17:25.5974545+07:00 0HLN5VDU3I2BL:00000008 [INF] Executed endpoint '"Shop3.Controllers.ProductController.Catalog (Shop3)"' (99874f2b)
2019-06-01T02:17:25.5992132+07:00 0HLN5VDU3I2BU:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/arrow-d.png   (ca22a1cb)
2019-06-01T02:17:25.6133807+07:00 0HLN5VDU3I2BL:00000008 [INF] Request finished in 403.4799ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:17:25.6166110+07:00 0HLN5VDU3I2BK:00000009 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 36.2477ms. (50a9e262)
2019-06-01T02:17:25.6187287+07:00 0HLN5VDU3I2BU:00000001 [INF] Sending file. Request path: '"/client-side/images/arrow-d.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\arrow-d.png"' (27b0a520)
2019-06-01T02:17:25.6279874+07:00 0HLN5VDU3I2BK:00000009 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:17:25.6304723+07:00 0HLN5VDU3I2BS:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:17:25.6340944+07:00 0HLN5VDU3I2BU:00000001 [INF] Request finished in 31.4908ms 200 image/png (791a596a)
2019-06-01T02:17:25.6411427+07:00 0HLN5VDU3I2BK:00000009 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 83.3266ms (afa2e885)
2019-06-01T02:17:25.6490630+07:00 0HLN5VDU3I2BS:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:17:25.6574248+07:00 0HLN5VDU3I2BU:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190430/Capture.PNG?w=254   (ca22a1cb)
2019-06-01T02:17:25.6589276+07:00 0HLN5VDU3I2BK:00000009 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T02:17:25.6650363+07:00 0HLN5VDU3I2BU:00000002 [INF] Resizing /uploaded/images/20190430/Capture.PNG with params w: 254, h: 0, autorotate: False, quality: 100, format: PNG, mode: max (40ec6692)
2019-06-01T02:17:25.6676969+07:00 0HLN5VDU3I2BK:00000009 [INF] Request finished in 236.6424ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:17:25.6912747+07:00 0HLN5VDU3I2BT:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T02:17:25.6920431+07:00 0HLN5VDU3I2B5:0000001D [INF] Resizing /uploaded/images/20190407/13263844_259882754365216_6890831951492549185_n.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (b1db6aa2)
2019-06-01T02:17:25.7027700+07:00 0HLN5VDU3I2BT:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T02:17:25.7055544+07:00 0HLN5VDU3I2B5:0000001D [INF] Request finished in 578.5155ms 404  (791a596a)
2019-06-01T02:17:25.7107274+07:00 0HLN5VDU3I2BT:00000001 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T02:17:25.7125263+07:00 0HLN5VDU3I2BS:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:17:25.7158563+07:00 0HLN5VDU3I2BP:00000004 [INF] Sending file. Request path: '"/client-side/images/cat-slider-img2.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\cat-slider-img2.jpg"' (27b0a520)
2019-06-01T02:17:25.7174634+07:00 0HLN5VDU3I2BT:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:17:25.7268356+07:00 0HLN5VDU3I2BP:00000004 [INF] Request finished in 638.1294ms 200 image/jpeg (791a596a)
2019-06-01T02:17:25.7287114+07:00 0HLN5VDU3I2BT:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:17:25.7321952+07:00 0HLN5VDU3I2B6:0000001C [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190430/Capture.PNG?w=153   (ca22a1cb)
2019-06-01T02:17:25.7412700+07:00 0HLN5VDU3I2BP:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=254   (ca22a1cb)
2019-06-01T02:17:25.7437853+07:00 0HLN5VDU3I2BT:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T02:17:25.7505324+07:00 0HLN5VDU3I2BP:00000005 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 254, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (20438164)
2019-06-01T02:17:25.7522424+07:00 0HLN5VDU3I2BT:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 26.4643ms. (50a9e262)
2019-06-01T02:17:25.7588388+07:00 0HLN5VDU3I2B6:0000001C [INF] Resizing /uploaded/images/20190430/Capture.PNG with params w: 153, h: 0, autorotate: False, quality: 100, format: PNG, mode: max (76f08c95)
2019-06-01T02:17:25.7658907+07:00 0HLN5VDU3I2BT:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:17:25.7815584+07:00 0HLN5VDU3I2BT:00000001 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 55.5289ms (afa2e885)
2019-06-01T02:17:25.7861126+07:00 0HLN5VDU3I2BU:00000002 [INF] Request finished in 132.7882ms 200 image/jpeg (791a596a)
2019-06-01T02:17:25.7910882+07:00 0HLN5VDU3I2BT:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T02:17:25.8084700+07:00 0HLN5VDU3I2B6:0000001C [INF] Request finished in 651.1205ms 200 image/jpeg (791a596a)
2019-06-01T02:17:25.8125881+07:00 0HLN5VDU3I2BT:00000001 [INF] Request finished in 282.9263ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:17:25.8386233+07:00 0HLN5VDU3I2BP:00000005 [INF] Request finished in 100.5897ms 200 image/jpeg (791a596a)
2019-06-01T02:17:59.8086090+07:00 0HLN5VDU3I2BP:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T02:17:59.8166103+07:00 0HLN5VDU3I2BP:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T02:17:59.8245741+07:00 0HLN5VDU3I2BP:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T02:17:59.8324260+07:00 0HLN5VDU3I2BP:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:17:59.8396404+07:00 0HLN5VDU3I2BP:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:17:59.8440646+07:00 0HLN5VDU3I2BP:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.1575ms. (50a9e262)
2019-06-01T02:17:59.8479591+07:00 0HLN5VDU3I2BP:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:17:59.8537347+07:00 0HLN5VDU3I2BP:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:17:59.8675135+07:00 0HLN5VDU3I2BP:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:17:59.8738254+07:00 0HLN5VDU3I2BP:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:17:59.8854971+07:00 0HLN5VDU3I2BP:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:17:59.8907513+07:00 0HLN5VDU3I2BP:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:17:59.9057453+07:00 0HLN5VDU3I2BP:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:17:59.9090003+07:00 0HLN5VDU3I2BP:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:17:59.9165026+07:00 0HLN5VDU3I2BP:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:18:00.7514559+07:00 0HLN5VDU3I2BP:00000006 [INF] Executed ViewResult - view "Index" executed in 73.5371ms. (f66409e9)
2019-06-01T02:18:00.8124392+07:00 0HLN5VDU3I2BP:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 927.6518ms (afa2e885)
2019-06-01T02:18:00.8266525+07:00 0HLN5VDU3I2BU:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:18:00.8780374+07:00 0HLN5VDU3I2BP:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T02:18:00.8821486+07:00 0HLN5VDU3I2BU:00000003 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:00.8906835+07:00 0HLN5VDU3I2BP:00000006 [INF] Request finished in 1075.1014ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:18:00.8932333+07:00 0HLN5VDU3I2BU:00000003 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:00.9079976+07:00 0HLN5VDU3I2BO:00000001 [INF] Request finished in 59549.6626ms 101  (791a596a)
2019-06-01T02:18:00.9110219+07:00 0HLN5VDU3I2BU:00000003 [INF] Request finished in 119.3454ms 200 application/json (791a596a)
2019-06-01T02:18:02.5160167+07:00 0HLN5VDU3I2B6:0000001D [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=6qU_r2bLKSoz7ycf8zkV96mtXmnFC4v4_dgkf05FeDw   (ca22a1cb)
2019-06-01T02:18:02.5247638+07:00 0HLN5VDU3I2BV:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=utairNbepZUD5kIMhBAz1w   (ca22a1cb)
2019-06-01T02:18:02.5383957+07:00 0HLN5VDU3I2B6:0000001D [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T02:18:02.5460343+07:00 0HLN5VDU3I2BV:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:03.2969508+07:00 0HLN5VDU3I2B6:0000001D [INF] Request finished in 2553.039ms 304 application/javascript (791a596a)
2019-06-01T02:18:03.3001216+07:00 0HLN5VDU3I2BV:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:03.3157963+07:00 0HLN5VDU3I2BU:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:18:03.3270484+07:00 0HLN5VDU3I2B6:0000001E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:18:03.3327878+07:00 0HLN5VDU3I2BU:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:18:03.3344412+07:00 0HLN5VDU3I2BV:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:18:03.3421339+07:00 0HLN5VDU3I2BU:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:18:03.3439005+07:00 0HLN5VDU3I2B6:0000001E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:18:03.3486401+07:00 0HLN5VDU3I2BU:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:03.3508895+07:00 0HLN5VDU3I2B6:0000001E [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:18:03.3569962+07:00 0HLN5VDU3I2BU:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:18:03.3578659+07:00 0HLN5VDU3I2B6:0000001E [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:03.3652223+07:00 0HLN5VDU3I2BU:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:18:03.3711439+07:00 0HLN5VDU3I2B6:0000001E [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:18:03.3772550+07:00 0HLN5VDU3I2BU:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:18:03.3782545+07:00 0HLN5VDU3I2B6:0000001E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:18:03.3892296+07:00 0HLN5VDU3I2B6:0000001E [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:18:03.3909051+07:00 0HLN5VDU3I2BU:00000004 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:18:03.3972682+07:00 0HLN5VDU3I2BU:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 33.942ms. (50a9e262)
2019-06-01T02:18:03.4050327+07:00 0HLN5VDU3I2B6:0000001E [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:18:03.4072759+07:00 0HLN5VDU3I2BU:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:18:03.4167413+07:00 0HLN5VDU3I2B6:0000001E [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 33.9416ms. (50a9e262)
2019-06-01T02:18:03.4187836+07:00 0HLN5VDU3I2BU:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 65.3008ms (afa2e885)
2019-06-01T02:18:03.4265288+07:00 0HLN5VDU3I2B6:0000001E [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:18:03.4275418+07:00 0HLN5VDU3I2BU:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:18:03.4414117+07:00 0HLN5VDU3I2B6:0000001E [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 75.8201ms (afa2e885)
2019-06-01T02:18:03.4429915+07:00 0HLN5VDU3I2BU:00000004 [INF] Request finished in 134.3087ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:18:03.4480586+07:00 0HLN5VDU3I2B6:0000001E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:18:03.4587680+07:00 0HLN5VDU3I2B6:0000001E [INF] Request finished in 133.9164ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:18:19.9539901+07:00 0HLN5VDU3I2B6:0000001F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/index   (ca22a1cb)
2019-06-01T02:18:19.9620537+07:00 0HLN5VDU3I2B6:0000001F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (500cc934)
2019-06-01T02:18:19.9682387+07:00 0HLN5VDU3I2B6:0000001F [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" (a44c0341)
2019-06-01T02:18:19.9749160+07:00 0HLN5VDU3I2B6:0000001F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:19.9801353+07:00 0HLN5VDU3I2B6:0000001F [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:18:19.9844315+07:00 0HLN5VDU3I2B6:0000001F [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2441ms. (50a9e262)
2019-06-01T02:18:19.9969948+07:00 0HLN5VDU3I2B6:0000001F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:18:20.0091199+07:00 0HLN5VDU3I2B6:0000001F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:18:20.0239560+07:00 0HLN5VDU3I2B6:0000001F [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:20.0283490+07:00 0HLN5VDU3I2B6:0000001F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:20.0476396+07:00 0HLN5VDU3I2B6:0000001F [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:20.0528922+07:00 0HLN5VDU3I2B6:0000001F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:20.0669426+07:00 0HLN5VDU3I2B6:0000001F [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:20.0744629+07:00 0HLN5VDU3I2B6:0000001F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:20.0974197+07:00 0HLN5VDU3I2B6:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:20.1087431+07:00 0HLN5VDU3I2B6:0000001F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:20.1433798+07:00 0HLN5VDU3I2B6:0000001F [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:20.1498995+07:00 0HLN5VDU3I2B6:0000001F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:20.1584603+07:00 0HLN5VDU3I2B6:0000001F [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:20.1630786+07:00 0HLN5VDU3I2B6:0000001F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:20.1737719+07:00 0HLN5VDU3I2B6:0000001F [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:18:20.2477862+07:00 0HLN5VDU3I2B6:0000001F [INF] Executed ViewResult - view "Index" executed in 196.1933ms. (f66409e9)
2019-06-01T02:18:20.2797623+07:00 0HLN5VDU3I2BT:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/role/index.js?v=8uTpbpNwErFouV56gp9qV6k_Y3JSkZd8X-x4Kh7yC2g   (ca22a1cb)
2019-06-01T02:18:20.2960027+07:00 0HLN5VDU3I2B6:0000001F [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" in 279.6286ms (afa2e885)
2019-06-01T02:18:20.3152051+07:00 0HLN5VDU3I2BT:00000002 [INF] Sending file. Request path: '"/app/controllers/role/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\role\index.js"' (27b0a520)
2019-06-01T02:18:20.3168802+07:00 0HLN5VDU3I2B6:0000001F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (99874f2b)
2019-06-01T02:18:20.3294927+07:00 0HLN5VDU3I2BP:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-treegrid/js/jquery.treegrid.js   (ca22a1cb)
2019-06-01T02:18:20.3326155+07:00 0HLN5VDU3I2BT:00000002 [INF] Request finished in 67.318ms 200 application/javascript (791a596a)
2019-06-01T02:18:20.3476313+07:00 0HLN5VDU3I2B6:0000001F [INF] Request finished in 370.5959ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:18:20.3622426+07:00 0HLN5VDU3I2BP:00000007 [INF] Sending file. Request path: '"/lib/jquery-treegrid/js/jquery.treegrid.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-treegrid\js\jquery.treegrid.js"' (27b0a520)
2019-06-01T02:18:20.3645130+07:00 0HLN5VDU3I2BV:00000001 [INF] Request finished in 17684.7455ms 101  (791a596a)
2019-06-01T02:18:20.3724128+07:00 0HLN5VDU3I2BP:00000007 [INF] Request finished in 114.5663ms 200 application/javascript (791a596a)
2019-06-01T02:18:20.3808140+07:00 0HLN5VDU3I2BU:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-treegrid/css/jquery.treegrid.css   (ca22a1cb)
2019-06-01T02:18:20.3962807+07:00 0HLN5VDU3I2BU:00000005 [INF] Sending file. Request path: '"/lib/jquery-treegrid/css/jquery.treegrid.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-treegrid\css\jquery.treegrid.css"' (27b0a520)
2019-06-01T02:18:20.4063907+07:00 0HLN5VDU3I2BU:00000005 [INF] Request finished in 144.2594ms 200 text/css (791a596a)
2019-06-01T02:18:20.5682443+07:00 0HLN5VDU3I2BP:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:18:20.5750197+07:00 0HLN5VDU3I2B6:00000020 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:18:20.5769274+07:00 0HLN5VDU3I2BU:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:18:20.5849836+07:00 0HLN5VDU3I2BP:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:18:20.5913770+07:00 0HLN5VDU3I2B6:00000020 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:18:20.5961396+07:00 0HLN5VDU3I2BP:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:18:20.6001002+07:00 0HLN5VDU3I2B6:00000020 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:18:20.6080256+07:00 0HLN5VDU3I2BP:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:20.6101843+07:00 0HLN5VDU3I2B6:00000020 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:20.6169634+07:00 0HLN5VDU3I2BP:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:18:20.6189650+07:00 0HLN5VDU3I2B6:00000020 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:18:20.6295841+07:00 0HLN5VDU3I2BP:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:18:20.6326335+07:00 0HLN5VDU3I2B6:00000020 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:18:20.6492431+07:00 0HLN5VDU3I2BU:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:20.6595237+07:00 0HLN5VDU3I2B6:00000020 [INF] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:18:20.6613584+07:00 0HLN5VDU3I2BP:00000008 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:18:20.6740513+07:00 0HLN5VDU3I2BU:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:20.7001185+07:00 0HLN5VDU3I2B6:00000020 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:18:20.7080594+07:00 0HLN5VDU3I2BP:00000008 [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:18:20.7191798+07:00 0HLN5VDU3I2B6:00000020 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 81.32ms. (50a9e262)
2019-06-01T02:18:20.7277132+07:00 0HLN5VDU3I2C0:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=ODPm7_fIK2jfq0RVyxKLsA   (ca22a1cb)
2019-06-01T02:18:20.7322748+07:00 0HLN5VDU3I2BP:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 94.1934ms. (50a9e262)
2019-06-01T02:18:20.7486018+07:00 0HLN5VDU3I2C0:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:20.7515749+07:00 0HLN5VDU3I2BP:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:18:20.7560434+07:00 0HLN5VDU3I2B6:00000020 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:18:20.7632729+07:00 0HLN5VDU3I2C0:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:20.7678842+07:00 0HLN5VDU3I2BP:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 154.6073ms (afa2e885)
2019-06-01T02:18:20.7803351+07:00 0HLN5VDU3I2B6:00000020 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 156.1429ms (afa2e885)
2019-06-01T02:18:20.7839416+07:00 0HLN5VDU3I2BP:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:18:20.7937155+07:00 0HLN5VDU3I2B6:00000020 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:18:20.7956347+07:00 0HLN5VDU3I2BP:00000008 [INF] Request finished in 286.0848ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:18:20.8037307+07:00 0HLN5VDU3I2BU:00000006 [INF] Request finished in 191.7724ms 200 application/json (791a596a)
2019-06-01T02:18:20.8090550+07:00 0HLN5VDU3I2B6:00000020 [INF] Request finished in 295.5273ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:18:20.8297807+07:00 0HLN5VDU3I2C0:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:18:24.5346583+07:00 0HLN5VDU3I2B6:00000021 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/index   (ca22a1cb)
2019-06-01T02:18:24.5450956+07:00 0HLN5VDU3I2B6:00000021 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (500cc934)
2019-06-01T02:18:24.5511765+07:00 0HLN5VDU3I2B6:00000021 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" (a44c0341)
2019-06-01T02:18:24.5606459+07:00 0HLN5VDU3I2B6:00000021 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:24.5651858+07:00 0HLN5VDU3I2B6:00000021 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:18:24.5690192+07:00 0HLN5VDU3I2B6:00000021 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0176ms. (50a9e262)
2019-06-01T02:18:24.5766784+07:00 0HLN5VDU3I2B6:00000021 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:18:24.5826738+07:00 0HLN5VDU3I2B6:00000021 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:18:24.5943648+07:00 0HLN5VDU3I2B6:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:24.5999230+07:00 0HLN5VDU3I2B6:00000021 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:24.6083312+07:00 0HLN5VDU3I2B6:00000021 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:24.6122815+07:00 0HLN5VDU3I2B6:00000021 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:24.6186020+07:00 0HLN5VDU3I2B6:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:24.6253794+07:00 0HLN5VDU3I2B6:00000021 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:24.6351636+07:00 0HLN5VDU3I2B6:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:24.6417412+07:00 0HLN5VDU3I2B6:00000021 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:24.6489671+07:00 0HLN5VDU3I2B6:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:24.6523345+07:00 0HLN5VDU3I2B6:00000021 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:24.6609092+07:00 0HLN5VDU3I2B6:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:24.6638511+07:00 0HLN5VDU3I2B6:00000021 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:24.6697038+07:00 0HLN5VDU3I2B6:00000021 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:18:24.7471281+07:00 0HLN5VDU3I2B6:00000021 [INF] Executed ViewResult - view "Index" executed in 105.5686ms. (f66409e9)
2019-06-01T02:18:24.7645878+07:00 0HLN5VDU3I2C0:00000001 [INF] Request finished in 4013.8723ms 101  (791a596a)
2019-06-01T02:18:24.7663998+07:00 0HLN5VDU3I2B6:00000021 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" in 196.3643ms (afa2e885)
2019-06-01T02:18:24.7748659+07:00 0HLN5VDU3I2B6:00000021 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (99874f2b)
2019-06-01T02:18:24.7853102+07:00 0HLN5VDU3I2B6:00000021 [INF] Request finished in 244.3954ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:18:24.8785179+07:00 0HLN5VDU3I2B6:00000022 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:18:24.8927980+07:00 0HLN5VDU3I2BU:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:18:24.8944005+07:00 0HLN5VDU3I2B6:00000022 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:24.8961186+07:00 0HLN5VDU3I2BP:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:18:24.9074187+07:00 0HLN5VDU3I2B6:00000022 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:24.9090860+07:00 0HLN5VDU3I2BU:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:18:24.9289883+07:00 0HLN5VDU3I2B6:00000022 [INF] Request finished in 44.9812ms 200 application/json (791a596a)
2019-06-01T02:18:24.9315532+07:00 0HLN5VDU3I2BU:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:18:24.9388599+07:00 0HLN5VDU3I2BP:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:18:24.9415426+07:00 0HLN5VDU3I2BU:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:24.9462601+07:00 0HLN5VDU3I2BP:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:18:24.9488509+07:00 0HLN5VDU3I2BU:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:18:24.9582297+07:00 0HLN5VDU3I2BP:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:24.9609349+07:00 0HLN5VDU3I2BU:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:18:24.9646301+07:00 0HLN5VDU3I2BP:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:18:25.0638320+07:00 0HLN5VDU3I2B6:00000023 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T02:18:25.0658061+07:00 0HLN5VDU3I2BU:00000007 [INF] Executed DbCommand ("26"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:18:25.0672076+07:00 0HLN5VDU3I2BP:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:18:25.0955981+07:00 0HLN5VDU3I2BU:00000007 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:18:25.0986931+07:00 0HLN5VDU3I2BP:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:18:25.1058192+07:00 0HLN5VDU3I2C1:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=vMHs55CGp1ijYBHdPh-uQw   (ca22a1cb)
2019-06-01T02:18:25.1092576+07:00 0HLN5VDU3I2BU:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 146.8297ms. (50a9e262)
2019-06-01T02:18:25.1154143+07:00 0HLN5VDU3I2BP:00000009 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:18:25.1166696+07:00 0HLN5VDU3I2BU:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:18:25.1300677+07:00 0HLN5VDU3I2BP:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 150.8641ms. (50a9e262)
2019-06-01T02:18:25.1333499+07:00 0HLN5VDU3I2BU:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 186.6716ms (afa2e885)
2019-06-01T02:18:25.1446614+07:00 0HLN5VDU3I2BP:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:18:25.1488082+07:00 0HLN5VDU3I2BU:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:18:25.1528670+07:00 0HLN5VDU3I2C1:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:25.1618065+07:00 0HLN5VDU3I2BP:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 198.005ms (afa2e885)
2019-06-01T02:18:25.1666408+07:00 0HLN5VDU3I2BU:00000007 [INF] Request finished in 273.8198ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:18:25.1786954+07:00 0HLN5VDU3I2BP:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:18:25.1824533+07:00 0HLN5VDU3I2C1:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:25.1916894+07:00 0HLN5VDU3I2B6:00000023 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T02:18:25.1935803+07:00 0HLN5VDU3I2BP:00000009 [INF] Request finished in 303.6844ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:18:25.1982523+07:00 0HLN5VDU3I2B6:00000023 [INF] Request finished in 159.4504ms 200 image/x-icon (791a596a)
2019-06-01T02:18:25.2129858+07:00 0HLN5VDU3I2C1:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:18:26.3761367+07:00 0HLN5VDU3I2BP:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/index   (ca22a1cb)
2019-06-01T02:18:26.3826569+07:00 0HLN5VDU3I2BP:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (500cc934)
2019-06-01T02:18:26.3948222+07:00 0HLN5VDU3I2BP:0000000A [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" (a44c0341)
2019-06-01T02:18:26.4000567+07:00 0HLN5VDU3I2BP:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:26.4079578+07:00 0HLN5VDU3I2BP:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:18:26.4143861+07:00 0HLN5VDU3I2BP:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:18:26.4323003+07:00 0HLN5VDU3I2BP:0000000A [INF] Executed DbCommand ("10"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:26.4398400+07:00 0HLN5VDU3I2BP:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:26.4446613+07:00 0HLN5VDU3I2BP:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 32.251ms. (50a9e262)
2019-06-01T02:18:26.4535036+07:00 0HLN5VDU3I2BP:0000000A [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:18:26.4741337+07:00 0HLN5VDU3I2BP:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:26.4846617+07:00 0HLN5VDU3I2BP:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:26.5109685+07:00 0HLN5VDU3I2BP:0000000A [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:26.5189238+07:00 0HLN5VDU3I2BP:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:26.5665483+07:00 0HLN5VDU3I2BP:0000000A [INF] Executed DbCommand ("34"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:26.5746751+07:00 0HLN5VDU3I2BP:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:26.5954233+07:00 0HLN5VDU3I2BP:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:26.6002828+07:00 0HLN5VDU3I2BP:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:26.6105093+07:00 0HLN5VDU3I2BP:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:26.6145770+07:00 0HLN5VDU3I2BP:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:26.6228744+07:00 0HLN5VDU3I2BP:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:26.6265388+07:00 0HLN5VDU3I2BP:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:26.6346536+07:00 0HLN5VDU3I2BP:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:18:26.6497576+07:00 0HLN5VDU3I2BP:0000000A [INF] Executed ViewResult - view "Index" executed in 195.4749ms. (f66409e9)
2019-06-01T02:18:26.7038609+07:00 0HLN5VDU3I2BP:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" in 255.0137ms (afa2e885)
2019-06-01T02:18:26.7149850+07:00 0HLN5VDU3I2BP:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (99874f2b)
2019-06-01T02:18:26.7176303+07:00 0HLN5VDU3I2BU:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/user/index.js?v=2uurbgsdC83cWRBm2uLd07xuCyyM6203K5m416zVuOA   (ca22a1cb)
2019-06-01T02:18:26.7228865+07:00 0HLN5VDU3I2C1:00000001 [INF] Request finished in 1652.9096ms 101  (791a596a)
2019-06-01T02:18:26.7299889+07:00 0HLN5VDU3I2BP:0000000A [INF] Request finished in 349.608ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:18:26.7391524+07:00 0HLN5VDU3I2BU:00000008 [INF] Sending file. Request path: '"/app/controllers/user/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\user\index.js"' (27b0a520)
2019-06-01T02:18:26.7434625+07:00 0HLN5VDU3I2BU:00000008 [INF] Request finished in 38.2358ms 200 application/javascript (791a596a)
2019-06-01T02:18:26.8265873+07:00 0HLN5VDU3I2BP:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:18:26.8288174+07:00 0HLN5VDU3I2B6:00000024 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:18:26.8311899+07:00 0HLN5VDU3I2BU:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:18:26.8431476+07:00 0HLN5VDU3I2BP:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:18:26.8441798+07:00 0HLN5VDU3I2B6:00000024 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:18:26.8545971+07:00 0HLN5VDU3I2BP:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:18:26.8571957+07:00 0HLN5VDU3I2B6:00000024 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:18:26.8623591+07:00 0HLN5VDU3I2BP:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:26.8707677+07:00 0HLN5VDU3I2BU:00000009 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:26.8798011+07:00 0HLN5VDU3I2B6:00000024 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:26.8837614+07:00 0HLN5VDU3I2BP:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:18:26.8947098+07:00 0HLN5VDU3I2B6:00000024 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:18:26.8966458+07:00 0HLN5VDU3I2BP:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:18:26.8988563+07:00 0HLN5VDU3I2BU:00000009 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:26.9074659+07:00 0HLN5VDU3I2B6:00000024 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:18:26.9106704+07:00 0HLN5VDU3I2BU:00000009 [INF] Request finished in 86.9684ms 200 application/json (791a596a)
2019-06-01T02:18:26.9145022+07:00 0HLN5VDU3I2BP:0000000B [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:18:26.9235611+07:00 0HLN5VDU3I2B6:00000024 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:18:26.9785279+07:00 0HLN5VDU3I2BP:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:18:26.9945517+07:00 0HLN5VDU3I2B6:00000024 [INF] Executed DbCommand ("40"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:18:26.9969533+07:00 0HLN5VDU3I2BP:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 94.984ms. (50a9e262)
2019-06-01T02:18:27.0056237+07:00 0HLN5VDU3I2B6:00000024 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 99.9124ms. (50a9e262)
2019-06-01T02:18:27.0093082+07:00 0HLN5VDU3I2BP:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:18:27.0168179+07:00 0HLN5VDU3I2B6:00000024 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:18:27.0189960+07:00 0HLN5VDU3I2BP:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 154.8255ms (afa2e885)
2019-06-01T02:18:27.0248909+07:00 0HLN5VDU3I2C2:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=w9456Sm4XSlUcGioGLFIrw   (ca22a1cb)
2019-06-01T02:18:27.0314681+07:00 0HLN5VDU3I2BP:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:18:27.0334567+07:00 0HLN5VDU3I2B6:00000024 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 160.5174ms (afa2e885)
2019-06-01T02:18:27.0438821+07:00 0HLN5VDU3I2BP:0000000B [INF] Request finished in 218.6987ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:18:27.0458534+07:00 0HLN5VDU3I2B6:00000024 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:18:27.0486041+07:00 0HLN5VDU3I2C2:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:27.0570168+07:00 0HLN5VDU3I2B6:00000024 [INF] Request finished in 232.2765ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:18:27.0580187+07:00 0HLN5VDU3I2C2:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:27.0835050+07:00 0HLN5VDU3I2C2:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:18:32.0676068+07:00 0HLN5VDU3I2B6:00000025 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/activity/index   (ca22a1cb)
2019-06-01T02:18:32.1167890+07:00 0HLN5VDU3I2B6:00000025 [INF] Request finished in 4.2059ms 404  (791a596a)
2019-06-01T02:18:32.1631902+07:00 0HLN5VDU3I2C2:00000001 [INF] Request finished in 5122.3115ms 101  (791a596a)
2019-06-01T02:18:33.9932992+07:00 0HLN5VDU3I2B6:00000026 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:18:33.9979905+07:00 0HLN5VDU3I2B6:00000026 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:34.0135170+07:00 0HLN5VDU3I2B6:00000026 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:34.0275990+07:00 0HLN5VDU3I2B6:00000026 [INF] Request finished in 30.114ms 200 application/json (791a596a)
2019-06-01T02:18:34.1406988+07:00 0HLN5VDU3I2C3:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=NzCfx99siacQLr2WAUsSgQ   (ca22a1cb)
2019-06-01T02:18:34.1460780+07:00 0HLN5VDU3I2C3:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:34.1589506+07:00 0HLN5VDU3I2C3:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:34.1683036+07:00 0HLN5VDU3I2C3:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:18:36.2370440+07:00 0HLN5VDU3I2B6:00000027 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T02:18:36.2453882+07:00 0HLN5VDU3I2B6:00000027 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T02:18:36.2521422+07:00 0HLN5VDU3I2B6:00000027 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T02:18:36.2601262+07:00 0HLN5VDU3I2B6:00000027 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:36.2652819+07:00 0HLN5VDU3I2B6:00000027 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:18:36.2762038+07:00 0HLN5VDU3I2B6:00000027 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2178ms. (50a9e262)
2019-06-01T02:18:36.2807428+07:00 0HLN5VDU3I2B6:00000027 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:18:36.2862473+07:00 0HLN5VDU3I2B6:00000027 [ERR] The view '"Index"' was not found. Searched locations: ["/Areas/Admin/Views/Function/Index.vi-VN.cshtml", "/Areas/Admin/Views/Function/Index.vi.cshtml", "/Areas/Admin/Views/Function/Index.cshtml", "/Areas/Admin/Views/Shared/Index.vi-VN.cshtml", "/Areas/Admin/Views/Shared/Index.vi.cshtml", "/Areas/Admin/Views/Shared/Index.cshtml", "/Views/Shared/Index.vi-VN.cshtml", "/Views/Shared/Index.vi.cshtml", "/Views/Shared/Index.cshtml", "/Pages/Shared/Index.vi-VN.cshtml", "/Pages/Shared/Index.vi.cshtml", "/Pages/Shared/Index.cshtml"] (9bb2756c)
2019-06-01T02:18:36.2959051+07:00 0HLN5VDU3I2B6:00000027 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 39.3915ms (afa2e885)
2019-06-01T02:18:36.3006410+07:00 0HLN5VDU3I2B6:00000027 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T02:18:36.7575736+07:00 0HLN5VDU3I2B6:00000027 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: The view 'Index' was not found. The following locations were searched:
/Areas/Admin/Views/Function/Index.vi-VN.cshtml
/Areas/Admin/Views/Function/Index.vi.cshtml
/Areas/Admin/Views/Function/Index.cshtml
/Areas/Admin/Views/Shared/Index.vi-VN.cshtml
/Areas/Admin/Views/Shared/Index.vi.cshtml
/Areas/Admin/Views/Shared/Index.cshtml
/Views/Shared/Index.vi-VN.cshtml
/Views/Shared/Index.vi.cshtml
/Views/Shared/Index.cshtml
/Pages/Shared/Index.vi-VN.cshtml
/Pages/Shared/Index.vi.cshtml
/Pages/Shared/Index.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 77
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T02:18:36.8655332+07:00 0HLN5VDU3I2C3:00000001 [INF] Request finished in 2695.1319ms 101  (791a596a)
2019-06-01T02:18:36.8744190+07:00 0HLN5VDU3I2B6:00000027 [INF] Request finished in 630.1917ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T02:18:38.6659730+07:00 0HLN5VDU3I2B6:00000028 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:18:38.6767360+07:00 0HLN5VDU3I2B6:00000028 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:38.6840386+07:00 0HLN5VDU3I2B6:00000028 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:38.6956788+07:00 0HLN5VDU3I2B6:00000028 [INF] Request finished in 23.6331ms 200 application/json (791a596a)
2019-06-01T02:18:38.7962066+07:00 0HLN5VDU3I2C4:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=8SPIEer4HNb8r2NGSsBOWw   (ca22a1cb)
2019-06-01T02:18:38.8008560+07:00 0HLN5VDU3I2C4:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:38.8105557+07:00 0HLN5VDU3I2C4:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:38.8178328+07:00 0HLN5VDU3I2C4:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:18:39.7955469+07:00 0HLN5VDU3I2B6:00000029 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/index   (ca22a1cb)
2019-06-01T02:18:39.8063801+07:00 0HLN5VDU3I2B6:00000029 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (500cc934)
2019-06-01T02:18:39.8116433+07:00 0HLN5VDU3I2B6:00000029 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" (a44c0341)
2019-06-01T02:18:39.8159346+07:00 0HLN5VDU3I2B6:00000029 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:39.8236822+07:00 0HLN5VDU3I2B6:00000029 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:18:39.8308268+07:00 0HLN5VDU3I2B6:00000029 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0225ms. (50a9e262)
2019-06-01T02:18:39.8351969+07:00 0HLN5VDU3I2B6:00000029 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:18:39.8424572+07:00 0HLN5VDU3I2B6:00000029 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:18:39.8545060+07:00 0HLN5VDU3I2B6:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:39.8590499+07:00 0HLN5VDU3I2B6:00000029 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:39.8659522+07:00 0HLN5VDU3I2B6:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:39.8706430+07:00 0HLN5VDU3I2B6:00000029 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:39.8777966+07:00 0HLN5VDU3I2B6:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:39.8827119+07:00 0HLN5VDU3I2B6:00000029 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:39.8908054+07:00 0HLN5VDU3I2B6:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:39.8948961+07:00 0HLN5VDU3I2B6:00000029 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:39.9022298+07:00 0HLN5VDU3I2B6:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:39.9078450+07:00 0HLN5VDU3I2B6:00000029 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:39.9149186+07:00 0HLN5VDU3I2B6:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:39.9188731+07:00 0HLN5VDU3I2B6:00000029 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:39.9256538+07:00 0HLN5VDU3I2B6:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:18:39.9431122+07:00 0HLN5VDU3I2B6:00000029 [INF] Executed ViewResult - view "Index" executed in 95.8201ms. (f66409e9)
2019-06-01T02:18:39.9731286+07:00 0HLN5VDU3I2C4:00000001 [INF] Request finished in 1149.8697ms 101  (791a596a)
2019-06-01T02:18:39.9765891+07:00 0HLN5VDU3I2B6:00000029 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" in 131.4582ms (afa2e885)
2019-06-01T02:18:39.9853361+07:00 0HLN5VDU3I2B6:00000029 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (99874f2b)
2019-06-01T02:18:40.0453680+07:00 0HLN5VDU3I2B6:00000029 [INF] Request finished in 200.1957ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:18:40.1506815+07:00 0HLN5VDU3I2B6:0000002A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:18:40.1527348+07:00 0HLN5VDU3I2BU:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:18:40.1653116+07:00 0HLN5VDU3I2BP:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:18:40.1686819+07:00 0HLN5VDU3I2B6:0000002A [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:40.1726334+07:00 0HLN5VDU3I2BU:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:18:40.1786380+07:00 0HLN5VDU3I2B6:0000002A [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:40.1800087+07:00 0HLN5VDU3I2BU:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:18:40.1952685+07:00 0HLN5VDU3I2B6:0000002A [INF] Request finished in 38.8622ms 200 application/json (791a596a)
2019-06-01T02:18:40.1963180+07:00 0HLN5VDU3I2BU:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:40.2020730+07:00 0HLN5VDU3I2BP:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:18:40.2075150+07:00 0HLN5VDU3I2BU:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:18:40.2351388+07:00 0HLN5VDU3I2BP:0000000C [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:18:40.2513948+07:00 0HLN5VDU3I2BU:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:18:40.2791535+07:00 0HLN5VDU3I2BP:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:40.2809229+07:00 0HLN5VDU3I2BU:0000000A [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:18:40.2922439+07:00 0HLN5VDU3I2BP:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:18:40.2958176+07:00 0HLN5VDU3I2C5:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=UHf82s0KlXcCNffVRGpdfg   (ca22a1cb)
2019-06-01T02:18:40.2971133+07:00 0HLN5VDU3I2BU:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:18:40.3099949+07:00 0HLN5VDU3I2BP:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:18:40.3118073+07:00 0HLN5VDU3I2BU:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 90.582ms. (50a9e262)
2019-06-01T02:18:40.3267185+07:00 0HLN5VDU3I2BU:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:18:40.3334984+07:00 0HLN5VDU3I2BP:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:18:40.3420978+07:00 0HLN5VDU3I2C5:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:40.3454570+07:00 0HLN5VDU3I2BU:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 147.2559ms (afa2e885)
2019-06-01T02:18:40.3515866+07:00 0HLN5VDU3I2BP:0000000C [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:18:40.3536531+07:00 0HLN5VDU3I2BU:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:18:40.3646795+07:00 0HLN5VDU3I2BP:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 59.4005ms. (50a9e262)
2019-06-01T02:18:40.3677138+07:00 0HLN5VDU3I2BU:0000000A [INF] Request finished in 210.526ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:18:40.3795640+07:00 0HLN5VDU3I2C5:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:40.3828797+07:00 0HLN5VDU3I2BP:0000000C [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:18:40.3992870+07:00 0HLN5VDU3I2BP:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 148.0649ms (afa2e885)
2019-06-01T02:18:40.4006811+07:00 0HLN5VDU3I2C5:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:18:40.4087948+07:00 0HLN5VDU3I2BP:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:18:40.4143877+07:00 0HLN5VDU3I2BP:0000000C [INF] Request finished in 265.659ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:18:41.6064313+07:00 0HLN5VDU3I2BP:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/setting/index   (ca22a1cb)
2019-06-01T02:18:41.6185765+07:00 0HLN5VDU3I2BP:0000000D [INF] Request finished in 9.3402ms 404  (791a596a)
2019-06-01T02:18:41.6511582+07:00 0HLN5VDU3I2C5:00000001 [INF] Request finished in 1339.3934ms 101  (791a596a)
2019-06-01T02:18:44.4420324+07:00 0HLN5VDU3I2BP:0000000E [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:18:44.4462429+07:00 0HLN5VDU3I2BP:0000000E [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:44.4580931+07:00 0HLN5VDU3I2BP:0000000E [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:44.4785566+07:00 0HLN5VDU3I2BP:0000000E [INF] Request finished in 34.8044ms 200 application/json (791a596a)
2019-06-01T02:18:44.5723801+07:00 0HLN5VDU3I2C6:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=bBnRMg50NAnnlBSHkU-Png   (ca22a1cb)
2019-06-01T02:18:44.5803509+07:00 0HLN5VDU3I2C6:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:44.5930677+07:00 0HLN5VDU3I2C6:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:44.6144715+07:00 0HLN5VDU3I2C6:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:18:46.0271474+07:00 0HLN5VDU3I2BP:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/index   (ca22a1cb)
2019-06-01T02:18:46.0348950+07:00 0HLN5VDU3I2BP:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (500cc934)
2019-06-01T02:18:46.0434772+07:00 0HLN5VDU3I2BP:0000000F [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" (a44c0341)
2019-06-01T02:18:46.0480552+07:00 0HLN5VDU3I2BP:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:46.0531391+07:00 0HLN5VDU3I2BP:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:18:46.0611317+07:00 0HLN5VDU3I2BP:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:18:46.0720896+07:00 0HLN5VDU3I2BP:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:46.0777643+07:00 0HLN5VDU3I2BP:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:46.0828502+07:00 0HLN5VDU3I2BP:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 24.7819ms. (50a9e262)
2019-06-01T02:18:46.0906176+07:00 0HLN5VDU3I2BP:0000000F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:18:46.1012206+07:00 0HLN5VDU3I2BP:0000000F [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:46.1093954+07:00 0HLN5VDU3I2BP:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:46.1308477+07:00 0HLN5VDU3I2BP:0000000F [INF] Executed DbCommand ("12"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:46.1351718+07:00 0HLN5VDU3I2BP:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:46.1447578+07:00 0HLN5VDU3I2BP:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:46.1500612+07:00 0HLN5VDU3I2BP:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:46.1599266+07:00 0HLN5VDU3I2BP:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:46.1644931+07:00 0HLN5VDU3I2BP:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:46.1746458+07:00 0HLN5VDU3I2BP:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:46.1793215+07:00 0HLN5VDU3I2BP:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:46.1899987+07:00 0HLN5VDU3I2BP:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:18:46.1950617+07:00 0HLN5VDU3I2BP:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:46.2034872+07:00 0HLN5VDU3I2BP:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:18:46.2149710+07:00 0HLN5VDU3I2BP:0000000F [INF] Executed ViewResult - view "Index" executed in 122.0514ms. (f66409e9)
2019-06-01T02:18:46.2506046+07:00 0HLN5VDU3I2BP:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" in 171.573ms (afa2e885)
2019-06-01T02:18:46.2521263+07:00 0HLN5VDU3I2C6:00000001 [INF] Request finished in 1653.0225ms 101  (791a596a)
2019-06-01T02:18:46.2617738+07:00 0HLN5VDU3I2BP:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (99874f2b)
2019-06-01T02:18:46.2669927+07:00 0HLN5VDU3I2BP:0000000F [INF] Request finished in 239.3702ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:18:46.4119664+07:00 0HLN5VDU3I2BP:00000010 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:18:46.4160481+07:00 0HLN5VDU3I2BU:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:18:46.4230930+07:00 0HLN5VDU3I2B6:0000002B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:18:46.4276221+07:00 0HLN5VDU3I2BP:00000010 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:46.4352808+07:00 0HLN5VDU3I2B6:0000002B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:18:46.4418260+07:00 0HLN5VDU3I2BP:00000010 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:46.4467872+07:00 0HLN5VDU3I2BU:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:18:46.4538194+07:00 0HLN5VDU3I2B6:0000002B [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:18:46.4579450+07:00 0HLN5VDU3I2BP:00000010 [INF] Request finished in 40.7178ms 200 application/json (791a596a)
2019-06-01T02:18:46.4643774+07:00 0HLN5VDU3I2B6:0000002B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:46.4679335+07:00 0HLN5VDU3I2BU:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:18:46.5336540+07:00 0HLN5VDU3I2B6:0000002B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:18:46.5473894+07:00 0HLN5VDU3I2BU:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:46.5635908+07:00 0HLN5VDU3I2B6:0000002B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:18:46.5657795+07:00 0HLN5VDU3I2BU:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:18:46.5789339+07:00 0HLN5VDU3I2C7:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=_2b0rNM2ZV8Ap_RUAR7wqQ   (ca22a1cb)
2019-06-01T02:18:46.5841339+07:00 0HLN5VDU3I2BU:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:18:46.5946586+07:00 0HLN5VDU3I2B6:0000002B [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:18:46.6173294+07:00 0HLN5VDU3I2B6:0000002B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:18:46.6323919+07:00 0HLN5VDU3I2BU:0000000B [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:18:46.6651992+07:00 0HLN5VDU3I2C7:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:46.6694372+07:00 0HLN5VDU3I2B6:0000002B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 83.7528ms. (50a9e262)
2019-06-01T02:18:46.6808283+07:00 0HLN5VDU3I2BU:0000000B [INF] Executed DbCommand ("29"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:18:46.6819577+07:00 0HLN5VDU3I2B6:0000002B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:18:46.6983704+07:00 0HLN5VDU3I2BU:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 115.1058ms. (50a9e262)
2019-06-01T02:18:46.7014100+07:00 0HLN5VDU3I2B6:0000002B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 229.8978ms (afa2e885)
2019-06-01T02:18:46.7179676+07:00 0HLN5VDU3I2BU:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:18:46.7190170+07:00 0HLN5VDU3I2B6:0000002B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:18:46.7315060+07:00 0HLN5VDU3I2C7:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:46.7448791+07:00 0HLN5VDU3I2B6:0000002B [INF] Request finished in 315.4546ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:18:46.7502834+07:00 0HLN5VDU3I2BU:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 250.8283ms (afa2e885)
2019-06-01T02:18:46.7527429+07:00 0HLN5VDU3I2C7:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:18:47.2022289+07:00 0HLN5VDU3I2BU:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:18:47.2072295+07:00 0HLN5VDU3I2BU:0000000B [INF] Request finished in 796.566ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:18:50.3466602+07:00 0HLN5VDU3I2BU:0000000C [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Account/Logout application/x-www-form-urlencoded 0 (ca22a1cb)
2019-06-01T02:18:50.3511887+07:00 0HLN5VDU3I2BU:0000000C [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:18:50.3599698+07:00 0HLN5VDU3I2BU:0000000C [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:18:50.3641318+07:00 0HLN5VDU3I2BU:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AccountController.Logout (Shop3)"' (500cc934)
2019-06-01T02:18:50.3758188+07:00 0HLN5VDU3I2BU:0000000C [INF] Route matched with "{area = \"Admin\", action = \"Logout\", controller = \"Account\"}". Executing action "Shop3.Areas.Admin.Controllers.AccountController.Logout (Shop3)" (a44c0341)
2019-06-01T02:18:50.3809642+07:00 0HLN5VDU3I2BU:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T02:18:50.3862491+07:00 0HLN5VDU3I2BU:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.AccountController.Logout (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:18:56.8511112+07:00 0HLN5VDU3I2BU:0000000C [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2019-06-01T02:18:56.8674085+07:00 0HLN5VDU3I2BU:0000000C [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2019-06-01T02:18:56.8768415+07:00 0HLN5VDU3I2BU:0000000C [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2019-06-01T02:18:56.8842483+07:00 0HLN5VDU3I2BU:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.AccountController.Logout (Shop3)", returned result "Microsoft.AspNetCore.Mvc.RedirectResult" in 6490.6974ms. (50a9e262)
2019-06-01T02:18:56.8954779+07:00 0HLN5VDU3I2BU:0000000C [INF] Executing RedirectResult, redirecting to "/Admin/Login/Index". (d98d540e)
2019-06-01T02:18:56.9009092+07:00 0HLN5VDU3I2BU:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.AccountController.Logout (Shop3)" in 6519.9934ms (afa2e885)
2019-06-01T02:18:56.9370363+07:00 0HLN5VDU3I2BU:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AccountController.Logout (Shop3)"' (99874f2b)
2019-06-01T02:18:56.9510224+07:00 0HLN5VDU3I2BU:0000000C [INF] Request finished in 6602.0306ms 302  (791a596a)
2019-06-01T02:18:56.9642268+07:00 0HLN5VDU3I2BU:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Login/Index   (ca22a1cb)
2019-06-01T02:18:56.9731056+07:00 0HLN5VDU3I2BU:0000000D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T02:18:56.9785329+07:00 0HLN5VDU3I2BU:0000000D [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T02:18:56.9838444+07:00 0HLN5VDU3I2BU:0000000D [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:18:56.9899335+07:00 0HLN5VDU3I2BU:0000000D [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0278ms. (50a9e262)
2019-06-01T02:18:56.9947728+07:00 0HLN5VDU3I2BU:0000000D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:18:57.0815903+07:00 0HLN5VDU3I2BU:0000000D [INF] Executed ViewResult - view "Index" executed in 5.9437ms. (f66409e9)
2019-06-01T02:18:57.2938550+07:00 0HLN5VDU3I2C7:00000001 [INF] Request finished in 10517.2303ms 101  (791a596a)
2019-06-01T02:18:57.2965503+07:00 0HLN5VDU3I2BU:0000000D [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 103.0591ms (afa2e885)
2019-06-01T02:18:57.3106607+07:00 0HLN5VDU3I2BU:0000000D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T02:18:57.3349352+07:00 0HLN5VDU3I2BU:0000000D [INF] Request finished in 357.6609ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:19:00.2460689+07:00 0HLN5VDU3I2BU:0000000E [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 36 (ca22a1cb)
2019-06-01T02:19:00.2498719+07:00 0HLN5VDU3I2BU:0000000E [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:19:00.2555884+07:00 0HLN5VDU3I2BU:0000000E [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:19:00.2604204+07:00 0HLN5VDU3I2BU:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T02:19:00.2673906+07:00 0HLN5VDU3I2BU:0000000E [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T02:19:00.2742801+07:00 0HLN5VDU3I2BU:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:19:03.8766290+07:00 0HLN5VDU3I2BU:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:19:03.8907894+07:00 0HLN5VDU3I2BU:0000000E [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T02:19:03.9125846+07:00 0HLN5VDU3I2BU:0000000E [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T02:19:03.9226347+07:00 0HLN5VDU3I2BU:0000000E [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:19:03.9287615+07:00 0HLN5VDU3I2BU:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T02:19:03.9593050+07:00 0HLN5VDU3I2BU:0000000E [INF] Executed DbCommand ("22"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T02:19:03.9653956+07:00 0HLN5VDU3I2BU:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:19:03.9702506+07:00 0HLN5VDU3I2BU:0000000E [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T02:19:03.9744303+07:00 0HLN5VDU3I2BU:0000000E [INF] User logged in. (fdce0db4)
2019-06-01T02:19:03.9779462+07:00 0HLN5VDU3I2BU:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3700.2347ms. (50a9e262)
2019-06-01T02:19:03.9825526+07:00 0HLN5VDU3I2BU:0000000E [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T02:19:03.9882145+07:00 0HLN5VDU3I2BU:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 3715.337ms (afa2e885)
2019-06-01T02:19:03.9920926+07:00 0HLN5VDU3I2BU:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T02:19:03.9967170+07:00 0HLN5VDU3I2BU:0000000E [INF] Request finished in 3750.2601ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:19:04.0241184+07:00 0HLN5VDU3I2BU:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T02:19:04.0302296+07:00 0HLN5VDU3I2BU:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T02:19:04.0359022+07:00 0HLN5VDU3I2BU:0000000F [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T02:19:04.0423043+07:00 0HLN5VDU3I2BU:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:19:04.0462620+07:00 0HLN5VDU3I2BU:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:19:04.0504416+07:00 0HLN5VDU3I2BU:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0668ms. (50a9e262)
2019-06-01T02:19:04.0568884+07:00 0HLN5VDU3I2BU:0000000F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:19:04.0626320+07:00 0HLN5VDU3I2BU:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:19:04.0764507+07:00 0HLN5VDU3I2BU:0000000F [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'test') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:19:04.0828441+07:00 0HLN5VDU3I2BU:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:19:04.1096227+07:00 0HLN5VDU3I2BU:0000000F [INF] Executed DbCommand ("15"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'test') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:19:04.1152678+07:00 0HLN5VDU3I2BU:0000000F [INF] Authorization failed. (b15dd539)
2019-06-01T02:19:04.1287025+07:00 0HLN5VDU3I2BU:0000000F [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'test') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:19:04.1328817+07:00 0HLN5VDU3I2BU:0000000F [INF] Authorization failed. (b15dd539)
2019-06-01T02:19:04.1456665+07:00 0HLN5VDU3I2BU:0000000F [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'test') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:19:04.1504707+07:00 0HLN5VDU3I2BU:0000000F [INF] Authorization failed. (b15dd539)
2019-06-01T02:19:04.1604074+07:00 0HLN5VDU3I2BU:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 119.5792ms (afa2e885)
2019-06-01T02:19:04.1654388+07:00 0HLN5VDU3I2BU:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T02:19:04.3470319+07:00 0HLN5VDU3I2BU:0000000F [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: The following sections have been defined but have not been rendered by the page at '/Areas/Admin/Views/Shared/_Layout.cshtml': 'Scripts'. To ignore an unrendered section call IgnoreSection("sectionName").
   at Microsoft.AspNetCore.Mvc.Razor.RazorPage.EnsureRenderedBodyOrSections()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 77
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T02:19:04.4235782+07:00 0HLN5VDU3I2BU:0000000F [INF] Request finished in 409.7388ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T02:19:12.6451159+07:00 0HLN5VDU3I2BU:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/test-2-c.17.html   (ca22a1cb)
2019-06-01T02:19:12.6504752+07:00 0HLN5VDU3I2BU:00000010 [INF] Executing endpoint '"Shop3.Controllers.ProductController.Catalog (Shop3)"' (500cc934)
2019-06-01T02:19:12.6574417+07:00 0HLN5VDU3I2BU:00000010 [INF] Route matched with "{action = \"Catalog\", controller = \"Product\", area = \"\"}". Executing action "Shop3.Controllers.ProductController.Catalog (Shop3)" (a44c0341)
2019-06-01T02:19:12.6627361+07:00 0HLN5VDU3I2BU:00000010 [INF] Executing action method "Shop3.Controllers.ProductController.Catalog (Shop3)" with arguments (["17", "", "", "1"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:19:12.6670974+07:00 0HLN5VDU3I2BU:00000010 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:19:12.6781059+07:00 0HLN5VDU3I2BU:00000010 [INF] Executed DbCommand ("5"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE (([x].[Status] = 1) OR ([x].[Status] = 0)) AND ([x].[CategoryId] = @__categoryId_Value_0)" (0723d8ff)
2019-06-01T02:19:12.6944554+07:00 0HLN5VDU3I2BU:00000010 [INF] Executed DbCommand ("4"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE (([x].[Status] = 1) OR ([x].[Status] = 0)) AND ([x].[CategoryId] = @__categoryId_Value_0)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:19:12.7063258+07:00 0HLN5VDU3I2BU:00000010 [INF] Executed DbCommand ("3"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE (([x0].[Status] = 1) OR ([x0].[Status] = 0)) AND ([x0].[CategoryId] = @__categoryId_Value_0)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:19:12.7131007+07:00 0HLN5VDU3I2BU:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T02:19:12.7181767+07:00 0HLN5VDU3I2BU:00000010 [INF] Executed action method "Shop3.Controllers.ProductController.Catalog (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 50.6399ms. (50a9e262)
2019-06-01T02:19:12.7222999+07:00 0HLN5VDU3I2BU:00000010 [INF] Executing ViewResult, running view "Catalog". (c83d0e25)
2019-06-01T02:19:12.7284213+07:00 0HLN5VDU3I2BU:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:19:12.7343445+07:00 0HLN5VDU3I2BU:00000010 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:19:12.7409509+07:00 0HLN5VDU3I2BU:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:19:12.7452258+07:00 0HLN5VDU3I2BU:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:19:12.7518276+07:00 0HLN5VDU3I2BU:00000010 [INF] Executed ViewResult - view "Catalog" executed in 28.331ms. (f66409e9)
2019-06-01T02:19:12.7629217+07:00 0HLN5VDU3I2BU:00000010 [INF] Executed action "Shop3.Controllers.ProductController.Catalog (Shop3)" in 94.1323ms (afa2e885)
2019-06-01T02:19:12.8049352+07:00 0HLN5VDU3I2BS:00000001 [INF] Request finished in 107279.6106ms 101  (791a596a)
2019-06-01T02:19:12.8075018+07:00 0HLN5VDU3I2BU:00000010 [INF] Executed endpoint '"Shop3.Controllers.ProductController.Catalog (Shop3)"' (99874f2b)
2019-06-01T02:19:12.8154628+07:00 0HLN5VDU3I2B6:0000002C [INF] Request starting HTTP/1.1 GET https://localhost:5001/test-2-c.17.html?w=153   (ca22a1cb)
2019-06-01T02:19:12.8168486+07:00 0HLN5VDU3I2BU:00000010 [INF] Request finished in 172.1207ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:19:12.8286382+07:00 0HLN5VDU3I2B6:0000002C [INF] Resizing /test-2-c.17.html with params w: 153, h: 0, autorotate: False, quality: 100, format: html, mode: max (b1696214)
2019-06-01T02:19:12.8647427+07:00 0HLN5VDU3I2BT:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190407/13263844_259882754365216_6890831951492549185_n.jpg?w=153   (ca22a1cb)
2019-06-01T02:19:12.8665827+07:00 0HLN5VDU3I2BK:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=254   (ca22a1cb)
2019-06-01T02:19:12.8831037+07:00 0HLN5VDU3I2BT:00000003 [INF] Resizing /uploaded/images/20190407/13263844_259882754365216_6890831951492549185_n.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (b1db6aa2)
2019-06-01T02:19:12.8990692+07:00 0HLN5VDU3I2BK:0000000A [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 254, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (20438164)
2019-06-01T02:19:12.9115849+07:00 0HLN5VDU3I2BT:00000003 [INF] Request finished in 43.2786ms 404  (791a596a)
2019-06-01T02:19:12.9127475+07:00 0HLN5VDU3I2BK:0000000A [INF] Serving from cache (7e5e9bde)
2019-06-01T02:19:12.9267155+07:00 0HLN5VDU3I2B6:0000002C [INF] Executing endpoint '"Shop3.Controllers.ProductController.Catalog (Shop3)"' (500cc934)
2019-06-01T02:19:12.9430962+07:00 0HLN5VDU3I2BK:0000000A [INF] Request finished in 63.5379ms 200 image/jpeg (791a596a)
2019-06-01T02:19:12.9449030+07:00 0HLN5VDU3I2BT:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190407/13263844_259882754365216_6890831951492549185_n.jpg?w=254   (ca22a1cb)
2019-06-01T02:19:12.9523811+07:00 0HLN5VDU3I2BT:00000004 [INF] Resizing /uploaded/images/20190407/13263844_259882754365216_6890831951492549185_n.jpg with params w: 254, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (cc3abdbe)
2019-06-01T02:19:12.9600750+07:00 0HLN5VDU3I2BK:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190430/Capture.PNG?w=254   (ca22a1cb)
2019-06-01T02:19:12.9651876+07:00 0HLN5VDU3I2BT:00000004 [INF] Request finished in 40.9931ms 404  (791a596a)
2019-06-01T02:19:12.9665465+07:00 0HLN5VDU3I2BK:0000000B [INF] Resizing /uploaded/images/20190430/Capture.PNG with params w: 254, h: 0, autorotate: False, quality: 100, format: PNG, mode: max (40ec6692)
2019-06-01T02:19:12.9809764+07:00 0HLN5VDU3I2BK:0000000B [INF] Serving from cache (7e5e9bde)
2019-06-01T02:19:12.9842641+07:00 0HLN5VDU3I2B6:0000002C [INF] Route matched with "{action = \"Catalog\", controller = \"Product\", area = \"\"}". Executing action "Shop3.Controllers.ProductController.Catalog (Shop3)" (a44c0341)
2019-06-01T02:19:12.9970850+07:00 0HLN5VDU3I2BK:0000000B [INF] Request finished in 35.165ms 200 image/jpeg (791a596a)
2019-06-01T02:19:12.9998937+07:00 0HLN5VDU3I2B6:0000002C [INF] Executing action method "Shop3.Controllers.ProductController.Catalog (Shop3)" with arguments (["17", "", "", "1"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:19:13.0102271+07:00 0HLN5VDU3I2BU:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/test-2-c.17.html?w=254   (ca22a1cb)
2019-06-01T02:19:13.0182752+07:00 0HLN5VDU3I2BK:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T02:19:13.0253003+07:00 0HLN5VDU3I2B6:0000002C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:19:13.0319654+07:00 0HLN5VDU3I2BK:0000000C [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T02:19:13.0457651+07:00 0HLN5VDU3I2B6:0000002C [INF] Executed DbCommand ("1"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE (([x].[Status] = 1) OR ([x].[Status] = 0)) AND ([x].[CategoryId] = @__categoryId_Value_0)" (0723d8ff)
2019-06-01T02:19:13.0477016+07:00 0HLN5VDU3I2BK:0000000C [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T02:19:13.0572544+07:00 0HLN5VDU3I2BU:00000011 [INF] Resizing /test-2-c.17.html with params w: 254, h: 0, autorotate: False, quality: 100, format: html, mode: max (788f7f5b)
2019-06-01T02:19:13.0693405+07:00 0HLN5VDU3I2BK:0000000C [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:19:13.1079722+07:00 0HLN5VDU3I2B6:0000002C [INF] Executed DbCommand ("4"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE (([x].[Status] = 1) OR ([x].[Status] = 0)) AND ([x].[CategoryId] = @__categoryId_Value_0)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:19:13.1288670+07:00 0HLN5VDU3I2BK:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:19:13.1429273+07:00 0HLN5VDU3I2BU:00000011 [INF] Executing endpoint '"Shop3.Controllers.ProductController.Catalog (Shop3)"' (500cc934)
2019-06-01T02:19:13.1650274+07:00 0HLN5VDU3I2B6:0000002C [INF] Executed DbCommand ("11"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE (([x0].[Status] = 1) OR ([x0].[Status] = 0)) AND ([x0].[CategoryId] = @__categoryId_Value_0)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:19:13.1729575+07:00 0HLN5VDU3I2BK:0000000C [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T02:19:13.1863544+07:00 0HLN5VDU3I2B6:0000002C [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T02:19:13.1945100+07:00 0HLN5VDU3I2BK:0000000C [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 103.672ms. (50a9e262)
2019-06-01T02:19:13.2058010+07:00 0HLN5VDU3I2B6:0000002C [INF] Executed action method "Shop3.Controllers.ProductController.Catalog (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 187.5295ms. (50a9e262)
2019-06-01T02:19:13.2095052+07:00 0HLN5VDU3I2BU:00000011 [INF] Route matched with "{action = \"Catalog\", controller = \"Product\", area = \"\"}". Executing action "Shop3.Controllers.ProductController.Catalog (Shop3)" (a44c0341)
2019-06-01T02:19:13.2133784+07:00 0HLN5VDU3I2BK:0000000C [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:19:13.2304549+07:00 0HLN5VDU3I2B6:0000002C [INF] Executing ViewResult, running view "Catalog". (c83d0e25)
2019-06-01T02:19:13.2331392+07:00 0HLN5VDU3I2BK:0000000C [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 163.4959ms (afa2e885)
2019-06-01T02:19:13.2355150+07:00 0HLN5VDU3I2BU:00000011 [INF] Executing action method "Shop3.Controllers.ProductController.Catalog (Shop3)" with arguments (["17", "", "", "1"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:19:13.2465238+07:00 0HLN5VDU3I2BP:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T02:19:13.2485693+07:00 0HLN5VDU3I2BK:0000000C [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T02:19:13.2644680+07:00 0HLN5VDU3I2B6:0000002C [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:19:13.2674181+07:00 0HLN5VDU3I2BK:0000000C [INF] Request finished in 241.9023ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:19:13.2685332+07:00 0HLN5VDU3I2BU:00000011 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:19:13.2815609+07:00 0HLN5VDU3I2B6:0000002C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:19:13.2948778+07:00 0HLN5VDU3I2BK:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T02:19:13.2999042+07:00 0HLN5VDU3I2BU:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE (([x].[Status] = 1) OR ([x].[Status] = 0)) AND ([x].[CategoryId] = @__categoryId_Value_0)" (0723d8ff)
2019-06-01T02:19:13.3174542+07:00 0HLN5VDU3I2BK:0000000D [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T02:19:13.3200096+07:00 0HLN5VDU3I2B6:0000002C [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:19:13.3419443+07:00 0HLN5VDU3I2BU:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE (([x].[Status] = 1) OR ([x].[Status] = 0)) AND ([x].[CategoryId] = @__categoryId_Value_0)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:19:13.3455903+07:00 0HLN5VDU3I2BK:0000000D [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T02:19:13.3487821+07:00 0HLN5VDU3I2B6:0000002C [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:19:13.3646622+07:00 0HLN5VDU3I2BK:0000000D [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:19:13.3688588+07:00 0HLN5VDU3I2BU:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__categoryId_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE (([x0].[Status] = 1) OR ([x0].[Status] = 0)) AND ([x0].[CategoryId] = @__categoryId_Value_0)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T02:19:13.3790241+07:00 0HLN5VDU3I2B6:0000002C [INF] Executed ViewResult - view "Catalog" executed in 158.7008ms. (f66409e9)
2019-06-01T02:19:13.3809404+07:00 0HLN5VDU3I2BK:0000000D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:19:13.3876530+07:00 0HLN5VDU3I2B6:0000002C [INF] Executed action "Shop3.Controllers.ProductController.Catalog (Shop3)" in 394.778ms (afa2e885)
2019-06-01T02:19:13.3902545+07:00 0HLN5VDU3I2BU:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T02:19:13.3957277+07:00 0HLN5VDU3I2BK:0000000D [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T02:19:13.3977905+07:00 0HLN5VDU3I2B6:0000002C [INF] Executed endpoint '"Shop3.Controllers.ProductController.Catalog (Shop3)"' (99874f2b)
2019-06-01T02:19:13.4070897+07:00 0HLN5VDU3I2BU:00000011 [INF] Executed action method "Shop3.Controllers.ProductController.Catalog (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 154.9892ms. (50a9e262)
2019-06-01T02:19:13.4091857+07:00 0HLN5VDU3I2BK:0000000D [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 31.1392ms. (50a9e262)
2019-06-01T02:19:13.4114056+07:00 0HLN5VDU3I2B6:0000002C [INF] Request finished in 597.1575ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:19:13.4166334+07:00 0HLN5VDU3I2BK:0000000D [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:19:13.4237203+07:00 0HLN5VDU3I2BU:00000011 [INF] Executing ViewResult, running view "Catalog". (c83d0e25)
2019-06-01T02:19:13.4310905+07:00 0HLN5VDU3I2BK:0000000D [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 71.9186ms (afa2e885)
2019-06-01T02:19:13.4323031+07:00 0HLN5VDU3I2BP:00000011 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T02:19:13.4401222+07:00 0HLN5VDU3I2BK:0000000D [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T02:19:13.4432345+07:00 0HLN5VDU3I2BU:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:19:13.4456106+07:00 0HLN5VDU3I2BP:00000011 [INF] Serving from cache (7e5e9bde)
2019-06-01T02:19:13.4552193+07:00 0HLN5VDU3I2BK:0000000D [INF] Request finished in 163.4672ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:19:13.4572245+07:00 0HLN5VDU3I2BU:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:19:13.4614859+07:00 0HLN5VDU3I2BP:00000011 [INF] Request finished in 646.7168ms 200 image/jpeg (791a596a)
2019-06-01T02:19:13.4631068+07:00 0HLN5VDU3I2BT:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:19:13.4732832+07:00 0HLN5VDU3I2BT:00000005 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:19:13.4765173+07:00 0HLN5VDU3I2BU:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T02:19:13.4802301+07:00 0HLN5VDU3I2B5:0000001E [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190430/Capture.PNG?w=153   (ca22a1cb)
2019-06-01T02:19:13.4839999+07:00 0HLN5VDU3I2BT:00000005 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:19:13.4865300+07:00 0HLN5VDU3I2BU:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T02:19:13.4988794+07:00 0HLN5VDU3I2B5:0000001E [INF] Resizing /uploaded/images/20190430/Capture.PNG with params w: 153, h: 0, autorotate: False, quality: 100, format: PNG, mode: max (76f08c95)
2019-06-01T02:19:13.5013624+07:00 0HLN5VDU3I2BT:00000005 [INF] Request finished in 507.8744ms 200 application/json (791a596a)
2019-06-01T02:19:13.5097394+07:00 0HLN5VDU3I2BU:00000011 [INF] Executed ViewResult - view "Catalog" executed in 92.1065ms. (f66409e9)
2019-06-01T02:19:13.5150833+07:00 0HLN5VDU3I2B5:0000001E [INF] Serving from cache (7e5e9bde)
2019-06-01T02:19:13.5168905+07:00 0HLN5VDU3I2BU:00000011 [INF] Executed action "Shop3.Controllers.ProductController.Catalog (Shop3)" in 300.2321ms (afa2e885)
2019-06-01T02:19:13.5448827+07:00 0HLN5VDU3I2BU:00000011 [INF] Executed endpoint '"Shop3.Controllers.ProductController.Catalog (Shop3)"' (99874f2b)
2019-06-01T02:19:13.5466812+07:00 0HLN5VDU3I2B5:0000001E [INF] Request finished in 671.9997ms 200 image/jpeg (791a596a)
2019-06-01T02:19:13.5518057+07:00 0HLN5VDU3I2BU:00000011 [INF] Request finished in 709.5906ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:19:13.5617737+07:00 0HLN5VDU3I2B5:0000001F [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T02:19:13.5626738+07:00 0HLN5VDU3I2C8:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=GzXgSLqODMSJBvnQB_xLDw   (ca22a1cb)
2019-06-01T02:19:13.5732650+07:00 0HLN5VDU3I2B5:0000001F [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T02:19:13.5764039+07:00 0HLN5VDU3I2C8:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:19:13.5818111+07:00 0HLN5VDU3I2B5:0000001F [INF] Request finished in 23.8522ms 200 image/x-icon (791a596a)
2019-06-01T02:19:13.5828265+07:00 0HLN5VDU3I2C8:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:19:13.5986783+07:00 0HLN5VDU3I2C8:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:20:59.0812974+07:00 0HLN5VDU3I2B5:00000020 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Login/Index   (ca22a1cb)
2019-06-01T02:20:59.0926106+07:00 0HLN5VDU3I2B5:00000020 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T02:20:59.0959563+07:00 0HLN5VDU3I2B5:00000020 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T02:20:59.1001523+07:00 0HLN5VDU3I2B5:00000020 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:20:59.1074295+07:00 0HLN5VDU3I2B5:00000020 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.21ms. (50a9e262)
2019-06-01T02:20:59.1117528+07:00 0HLN5VDU3I2B5:00000020 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:20:59.1998014+07:00 0HLN5VDU3I2B5:00000020 [INF] Executed ViewResult - view "Index" executed in 4.9132ms. (f66409e9)
2019-06-01T02:20:59.2135109+07:00 0HLN5VDU3I2B5:00000020 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 103.8656ms (afa2e885)
2019-06-01T02:20:59.2172746+07:00 0HLN5VDU3I2B5:00000020 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T02:20:59.2276356+07:00 0HLN5VDU3I2B5:00000020 [INF] Request finished in 140.1692ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:21:15.6843192+07:00 0HLN5VDU3I2B5:00000021 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T02:21:15.6888780+07:00 0HLN5VDU3I2B5:00000021 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:21:15.6931590+07:00 0HLN5VDU3I2B5:00000021 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:21:15.6970699+07:00 0HLN5VDU3I2B5:00000021 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T02:21:15.7020993+07:00 0HLN5VDU3I2B5:00000021 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T02:21:15.7072721+07:00 0HLN5VDU3I2B5:00000021 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:21:18.8141118+07:00 0HLN5VDU3I2B5:00000021 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:21:18.8403082+07:00 0HLN5VDU3I2B5:00000021 [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T02:21:18.8795353+07:00 0HLN5VDU3I2B5:00000021 [INF] Executed DbCommand ("27"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T02:21:18.8881404+07:00 0HLN5VDU3I2B5:00000021 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:21:18.8947435+07:00 0HLN5VDU3I2B5:00000021 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T02:21:18.9008063+07:00 0HLN5VDU3I2B5:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T02:21:18.9077531+07:00 0HLN5VDU3I2B5:00000021 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T02:21:18.9127529+07:00 0HLN5VDU3I2B5:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T02:21:18.9173958+07:00 0HLN5VDU3I2B5:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T02:21:18.9231180+07:00 0HLN5VDU3I2B5:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T02:21:18.9279028+07:00 0HLN5VDU3I2B5:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:21:18.9315483+07:00 0HLN5VDU3I2B5:00000021 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T02:21:18.9350355+07:00 0HLN5VDU3I2B5:00000021 [INF] User logged in. (fdce0db4)
2019-06-01T02:21:18.9385440+07:00 0HLN5VDU3I2B5:00000021 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3227.7809ms. (50a9e262)
2019-06-01T02:21:18.9427536+07:00 0HLN5VDU3I2B5:00000021 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T02:21:18.9496890+07:00 0HLN5VDU3I2B5:00000021 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 3240.9415ms (afa2e885)
2019-06-01T02:21:18.9532147+07:00 0HLN5VDU3I2B5:00000021 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T02:21:18.9578072+07:00 0HLN5VDU3I2B5:00000021 [INF] Request finished in 3273.3197ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:21:18.9785796+07:00 0HLN5VDU3I2B5:00000022 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T02:21:18.9846498+07:00 0HLN5VDU3I2B5:00000022 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T02:21:18.9996323+07:00 0HLN5VDU3I2B5:00000022 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T02:21:19.0069073+07:00 0HLN5VDU3I2B5:00000022 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:21:19.0133205+07:00 0HLN5VDU3I2B5:00000022 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:21:19.0168113+07:00 0HLN5VDU3I2B5:00000022 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0508ms. (50a9e262)
2019-06-01T02:21:19.0211465+07:00 0HLN5VDU3I2B5:00000022 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:21:19.0265721+07:00 0HLN5VDU3I2B5:00000022 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:21:19.0469598+07:00 0HLN5VDU3I2B5:00000022 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:21:19.0510205+07:00 0HLN5VDU3I2B5:00000022 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:21:19.0647916+07:00 0HLN5VDU3I2B5:00000022 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:21:19.0691214+07:00 0HLN5VDU3I2B5:00000022 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:21:19.0816010+07:00 0HLN5VDU3I2B5:00000022 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:21:19.0862250+07:00 0HLN5VDU3I2B5:00000022 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:21:19.1062668+07:00 0HLN5VDU3I2B5:00000022 [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:21:19.1100998+07:00 0HLN5VDU3I2B5:00000022 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:21:19.1772152+07:00 0HLN5VDU3I2B5:00000022 [INF] Executed DbCommand ("62"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:21:19.1872898+07:00 0HLN5VDU3I2B5:00000022 [INF] Executed ViewResult - view "Index" executed in 161.9365ms. (f66409e9)
2019-06-01T02:21:19.1972021+07:00 0HLN5VDU3I2B5:00000022 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 187.7699ms (afa2e885)
2019-06-01T02:21:19.2625668+07:00 0HLN5VDU3I2B5:00000022 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T02:21:19.2688881+07:00 0HLN5VDU3I2B5:00000022 [INF] Request finished in 296.6075ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:21:19.4335369+07:00 0HLN5VDU3I2B5:00000023 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=6qU_r2bLKSoz7ycf8zkV96mtXmnFC4v4_dgkf05FeDw   (ca22a1cb)
2019-06-01T02:21:19.4428878+07:00 0HLN5VDU3I2B5:00000023 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T02:21:19.4478540+07:00 0HLN5VDU3I2B5:00000023 [INF] Request finished in 32.0393ms 304 application/javascript (791a596a)
2019-06-01T02:21:19.6795024+07:00 0HLN5VDU3I2B5:00000024 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:21:19.6858941+07:00 0HLN5VDU3I2B5:00000024 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:21:19.6924328+07:00 0HLN5VDU3I2B5:00000024 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:21:19.6979647+07:00 0HLN5VDU3I2B5:00000024 [INF] Request finished in 17.7255ms 200 application/json (791a596a)
2019-06-01T02:21:19.7297587+07:00 0HLN5VDU3I2BT:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:21:19.7313041+07:00 0HLN5VDU3I2B5:00000025 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:21:19.7397246+07:00 0HLN5VDU3I2C9:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=jQmpGjm2MUQuNRghmFg0Jg   (ca22a1cb)
2019-06-01T02:21:19.7411519+07:00 0HLN5VDU3I2B5:00000025 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:21:19.7512832+07:00 0HLN5VDU3I2C9:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:21:19.7546953+07:00 0HLN5VDU3I2B5:00000025 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:21:19.7609952+07:00 0HLN5VDU3I2C9:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:21:19.7619986+07:00 0HLN5VDU3I2B5:00000025 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:21:19.7661652+07:00 0HLN5VDU3I2BT:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:21:19.7742903+07:00 0HLN5VDU3I2B5:00000025 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:21:19.7768897+07:00 0HLN5VDU3I2BT:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:21:19.7817361+07:00 0HLN5VDU3I2BP:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T02:21:19.7837143+07:00 0HLN5VDU3I2B5:00000025 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:21:19.7915806+07:00 0HLN5VDU3I2BT:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:21:19.7941520+07:00 0HLN5VDU3I2BP:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T02:21:19.8005693+07:00 0HLN5VDU3I2B5:00000025 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:21:19.8016400+07:00 0HLN5VDU3I2BT:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:21:19.8106324+07:00 0HLN5VDU3I2BT:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:21:19.8163317+07:00 0HLN5VDU3I2B5:00000025 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:21:19.8240814+07:00 0HLN5VDU3I2BP:00000012 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T02:21:19.8259961+07:00 0HLN5VDU3I2B5:00000025 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 42.0881ms. (50a9e262)
2019-06-01T02:21:19.8331465+07:00 0HLN5VDU3I2BP:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:21:19.8362738+07:00 0HLN5VDU3I2B5:00000025 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:21:19.8452982+07:00 0HLN5VDU3I2BP:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T02:21:19.8471578+07:00 0HLN5VDU3I2B5:00000025 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 82.1143ms (afa2e885)
2019-06-01T02:21:19.8562898+07:00 0HLN5VDU3I2BT:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:21:19.8592461+07:00 0HLN5VDU3I2B5:00000025 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:21:19.8735009+07:00 0HLN5VDU3I2BP:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 12.6756ms. (50a9e262)
2019-06-01T02:21:19.8832473+07:00 0HLN5VDU3I2C9:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:21:19.9015254+07:00 0HLN5VDU3I2BP:00000012 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:21:19.9202019+07:00 0HLN5VDU3I2B5:00000025 [INF] Request finished in 134.739ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:21:19.9337083+07:00 0HLN5VDU3I2BP:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 77.6248ms (afa2e885)
2019-06-01T02:21:19.9482338+07:00 0HLN5VDU3I2BT:00000006 [INF] Executed DbCommand ("12"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:21:19.9497210+07:00 0HLN5VDU3I2BP:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T02:21:19.9634104+07:00 0HLN5VDU3I2BT:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 147.692ms. (50a9e262)
2019-06-01T02:21:19.9701263+07:00 0HLN5VDU3I2BP:00000012 [INF] Request finished in 176.5675ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:21:19.9765038+07:00 0HLN5VDU3I2BT:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:21:20.0023789+07:00 0HLN5VDU3I2BT:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 200.8214ms (afa2e885)
2019-06-01T02:21:20.0144745+07:00 0HLN5VDU3I2BT:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:21:20.0263457+07:00 0HLN5VDU3I2BT:00000006 [INF] Request finished in 292.2834ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:21:21.7850394+07:00 0HLN5VDU3I2BT:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/report/reader   (ca22a1cb)
2019-06-01T02:21:21.7991994+07:00 0HLN5VDU3I2BT:00000007 [INF] Request finished in 5.9749ms 404  (791a596a)
2019-06-01T02:21:21.8230718+07:00 0HLN5VDU3I2C9:00000001 [INF] Request finished in 2071.0374ms 101  (791a596a)
2019-06-01T02:21:23.4312771+07:00 0HLN5VDU3I2BT:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:21:23.4363077+07:00 0HLN5VDU3I2BT:00000008 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:21:23.4437136+07:00 0HLN5VDU3I2BT:00000008 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:21:23.4559466+07:00 0HLN5VDU3I2BT:00000008 [INF] Request finished in 25.7131ms 200 application/json (791a596a)
2019-06-01T02:21:23.6349445+07:00 0HLN5VDU3I2CA:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=nAyjzCdFeJcpzsFx3me0pg   (ca22a1cb)
2019-06-01T02:21:23.6569929+07:00 0HLN5VDU3I2CA:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:21:23.6627594+07:00 0HLN5VDU3I2CA:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:21:23.6781739+07:00 0HLN5VDU3I2CA:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:21:28.9154462+07:00 0HLN5VDU3I2BT:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/setting/index   (ca22a1cb)
2019-06-01T02:21:28.9829780+07:00 0HLN5VDU3I2BT:00000009 [INF] Request finished in 11.3086ms 404  (791a596a)
2019-06-01T02:21:29.0470636+07:00 0HLN5VDU3I2CA:00000001 [INF] Request finished in 5302.4946ms 101  (791a596a)
2019-06-01T02:21:30.8113142+07:00 0HLN5VDU3I2BT:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:21:30.8150997+07:00 0HLN5VDU3I2BT:0000000A [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:21:30.8238013+07:00 0HLN5VDU3I2BT:0000000A [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:21:30.8322024+07:00 0HLN5VDU3I2BT:0000000A [INF] Request finished in 26.7556ms 200 application/json (791a596a)
2019-06-01T02:21:31.0494890+07:00 0HLN5VDU3I2CB:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=ELsWNk5HI6RPZDNMS6Oqng   (ca22a1cb)
2019-06-01T02:21:31.0628031+07:00 0HLN5VDU3I2CB:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:21:31.0693516+07:00 0HLN5VDU3I2CB:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:21:31.0836383+07:00 0HLN5VDU3I2CB:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:21:32.7727613+07:00 0HLN5VDU3I2BT:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/index   (ca22a1cb)
2019-06-01T02:21:32.7789045+07:00 0HLN5VDU3I2BT:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (500cc934)
2019-06-01T02:21:32.7835051+07:00 0HLN5VDU3I2BT:0000000B [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" (a44c0341)
2019-06-01T02:21:32.7900232+07:00 0HLN5VDU3I2BT:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:21:32.7941537+07:00 0HLN5VDU3I2BT:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:21:32.7982407+07:00 0HLN5VDU3I2BT:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0159ms. (50a9e262)
2019-06-01T02:21:32.8020072+07:00 0HLN5VDU3I2BT:0000000B [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:21:32.8071908+07:00 0HLN5VDU3I2BT:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:21:32.8236695+07:00 0HLN5VDU3I2BT:0000000B [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:21:32.8277639+07:00 0HLN5VDU3I2BT:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:21:32.8402709+07:00 0HLN5VDU3I2BT:0000000B [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:21:32.8442249+07:00 0HLN5VDU3I2BT:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:21:32.8575291+07:00 0HLN5VDU3I2BT:0000000B [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:21:32.8615747+07:00 0HLN5VDU3I2BT:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:21:32.8690934+07:00 0HLN5VDU3I2BT:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:21:32.8731792+07:00 0HLN5VDU3I2BT:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:21:32.8811152+07:00 0HLN5VDU3I2BT:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:21:32.8848448+07:00 0HLN5VDU3I2BT:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:21:32.8920420+07:00 0HLN5VDU3I2BT:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:21:32.8951143+07:00 0HLN5VDU3I2BT:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:21:32.9013379+07:00 0HLN5VDU3I2BT:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:21:32.9122359+07:00 0HLN5VDU3I2BT:0000000B [INF] Executed ViewResult - view "Index" executed in 104.0761ms. (f66409e9)
2019-06-01T02:21:32.9920573+07:00 0HLN5VDU3I2BT:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" in 128.8309ms (afa2e885)
2019-06-01T02:21:32.9952003+07:00 0HLN5VDU3I2CB:00000001 [INF] Request finished in 1882.8317ms 101  (791a596a)
2019-06-01T02:21:33.0224532+07:00 0HLN5VDU3I2BT:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (99874f2b)
2019-06-01T02:21:33.0275662+07:00 0HLN5VDU3I2BT:0000000B [INF] Request finished in 259.1889ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:21:33.0763198+07:00 0HLN5VDU3I2B5:00000026 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:21:33.0778890+07:00 0HLN5VDU3I2BP:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:21:33.0807669+07:00 0HLN5VDU3I2BT:0000000C [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:21:33.0945791+07:00 0HLN5VDU3I2B5:00000026 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:21:33.0959616+07:00 0HLN5VDU3I2BP:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:21:33.1184805+07:00 0HLN5VDU3I2B5:00000026 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:21:33.1239870+07:00 0HLN5VDU3I2BP:00000013 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:21:33.1291111+07:00 0HLN5VDU3I2B5:00000026 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:21:33.1303197+07:00 0HLN5VDU3I2BP:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:21:33.1401937+07:00 0HLN5VDU3I2B5:00000026 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:21:33.1420608+07:00 0HLN5VDU3I2BP:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:21:33.1940697+07:00 0HLN5VDU3I2B5:00000026 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:21:33.1960164+07:00 0HLN5VDU3I2BP:00000013 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:21:33.1978399+07:00 0HLN5VDU3I2BT:0000000C [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:21:33.2103807+07:00 0HLN5VDU3I2B5:00000026 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:21:33.2115971+07:00 0HLN5VDU3I2BP:00000013 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:21:33.2254244+07:00 0HLN5VDU3I2BT:0000000C [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:21:33.2427536+07:00 0HLN5VDU3I2BP:00000013 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:21:33.2453345+07:00 0HLN5VDU3I2B5:00000026 [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:21:33.2569664+07:00 0HLN5VDU3I2BP:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 100.7071ms. (50a9e262)
2019-06-01T02:21:33.2592688+07:00 0HLN5VDU3I2B5:00000026 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 105.8829ms. (50a9e262)
2019-06-01T02:21:33.2660343+07:00 0HLN5VDU3I2BP:00000013 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:21:33.2684950+07:00 0HLN5VDU3I2B5:00000026 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:21:33.2850628+07:00 0HLN5VDU3I2BP:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 142.1667ms (afa2e885)
2019-06-01T02:21:33.2906247+07:00 0HLN5VDU3I2BT:0000000C [INF] Request finished in 164.7582ms 200 application/json (791a596a)
2019-06-01T02:21:33.2928433+07:00 0HLN5VDU3I2B5:00000026 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 150.1745ms (afa2e885)
2019-06-01T02:21:33.2987116+07:00 0HLN5VDU3I2BP:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:21:33.3009179+07:00 0HLN5VDU3I2B5:00000026 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:21:33.3086801+07:00 0HLN5VDU3I2BP:00000013 [INF] Request finished in 234.9005ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:21:33.3128941+07:00 0HLN5VDU3I2B5:00000026 [INF] Request finished in 237.0117ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:21:33.3252146+07:00 0HLN5VDU3I2CC:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=wK18QwVg4SFFTbp1cUr2QQ   (ca22a1cb)
2019-06-01T02:21:33.3299624+07:00 0HLN5VDU3I2CC:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:21:33.3340014+07:00 0HLN5VDU3I2CC:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:21:33.3461266+07:00 0HLN5VDU3I2CC:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:23:06.6823840+07:00 0HLN5VDU3I2B5:00000027 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/index   (ca22a1cb)
2019-06-01T02:23:06.7262429+07:00 0HLN5VDU3I2B5:00000027 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (500cc934)
2019-06-01T02:23:06.7470510+07:00 0HLN5VDU3I2B5:00000027 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" (a44c0341)
2019-06-01T02:23:06.7514333+07:00 0HLN5VDU3I2B5:00000027 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:06.7572172+07:00 0HLN5VDU3I2B5:00000027 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:23:06.7617016+07:00 0HLN5VDU3I2B5:00000027 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0201ms. (50a9e262)
2019-06-01T02:23:06.7663507+07:00 0HLN5VDU3I2B5:00000027 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:23:06.7740348+07:00 0HLN5VDU3I2B5:00000027 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:23:06.7905787+07:00 0HLN5VDU3I2B5:00000027 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:23:06.7944745+07:00 0HLN5VDU3I2B5:00000027 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:06.8079937+07:00 0HLN5VDU3I2B5:00000027 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:23:06.8119805+07:00 0HLN5VDU3I2B5:00000027 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:06.8261142+07:00 0HLN5VDU3I2B5:00000027 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:23:06.8310664+07:00 0HLN5VDU3I2B5:00000027 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:06.8463333+07:00 0HLN5VDU3I2B5:00000027 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:23:06.8513364+07:00 0HLN5VDU3I2B5:00000027 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:06.8971106+07:00 0HLN5VDU3I2B5:00000027 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:23:06.9007082+07:00 0HLN5VDU3I2B5:00000027 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:06.9097880+07:00 0HLN5VDU3I2B5:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:23:06.9133469+07:00 0HLN5VDU3I2B5:00000027 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:06.9201301+07:00 0HLN5VDU3I2B5:00000027 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:23:06.9267873+07:00 0HLN5VDU3I2B5:00000027 [INF] Executed ViewResult - view "Index" executed in 160.5585ms. (f66409e9)
2019-06-01T02:23:06.9358745+07:00 0HLN5VDU3I2B5:00000027 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" in 179.9607ms (afa2e885)
2019-06-01T02:23:07.0468614+07:00 0HLN5VDU3I2CC:00000001 [INF] Request finished in 93763.0531ms 101  (791a596a)
2019-06-01T02:23:07.0488356+07:00 0HLN5VDU3I2BP:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/common.js?v=y7DqmVon23ErVGJwRwyGN-e1OscQoN09ThbEz09BtJA   (ca22a1cb)
2019-06-01T02:23:07.0636638+07:00 0HLN5VDU3I2B5:00000027 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (99874f2b)
2019-06-01T02:23:07.0748203+07:00 0HLN5VDU3I2BP:00000014 [INF] The file "/app/shared/common.js" was not modified (f1f8d725)
2019-06-01T02:23:07.0836998+07:00 0HLN5VDU3I2B5:00000027 [INF] Request finished in 387.6141ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:23:07.1108662+07:00 0HLN5VDU3I2BP:00000014 [INF] Request finished in 67.4378ms 304 application/javascript (791a596a)
2019-06-01T02:23:07.1298159+07:00 0HLN5VDU3I2BT:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=iJy72sWZaYptggaHJfKjIsdLtsvqf7vFRrQU3hmJ0Ww   (ca22a1cb)
2019-06-01T02:23:07.1684234+07:00 0HLN5VDU3I2BT:0000000D [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T02:23:07.1762745+07:00 0HLN5VDU3I2BT:0000000D [INF] Request finished in 160.9617ms 200 application/javascript (791a596a)
2019-06-01T02:23:07.3587636+07:00 0HLN5VDU3I2BT:0000000E [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:23:07.3661876+07:00 0HLN5VDU3I2BT:0000000E [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:23:07.3779225+07:00 0HLN5VDU3I2BT:0000000E [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:23:07.3954856+07:00 0HLN5VDU3I2BT:0000000E [INF] Request finished in 26.9808ms 200 application/json (791a596a)
2019-06-01T02:23:07.4353256+07:00 0HLN5VDU3I2BT:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:23:07.4463746+07:00 0HLN5VDU3I2BP:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:23:07.4563860+07:00 0HLN5VDU3I2BT:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:23:07.4581608+07:00 0HLN5VDU3I2BP:00000015 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:23:07.4755806+07:00 0HLN5VDU3I2BT:0000000F [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:23:07.4778149+07:00 0HLN5VDU3I2BP:00000015 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:23:07.4943309+07:00 0HLN5VDU3I2BT:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:07.5006095+07:00 0HLN5VDU3I2BP:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:07.5363371+07:00 0HLN5VDU3I2BT:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:23:07.5619067+07:00 0HLN5VDU3I2BP:00000015 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:23:07.5727969+07:00 0HLN5VDU3I2BT:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:23:07.5770553+07:00 0HLN5VDU3I2BP:00000015 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:23:07.5923173+07:00 0HLN5VDU3I2BT:0000000F [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:23:07.5948670+07:00 0HLN5VDU3I2BP:00000015 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:23:07.6000482+07:00 0HLN5VDU3I2CD:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=zMrvy6cyiLgUz36iJDvf7Q   (ca22a1cb)
2019-06-01T02:23:07.6124362+07:00 0HLN5VDU3I2BT:0000000F [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:23:07.6136904+07:00 0HLN5VDU3I2BP:00000015 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:23:07.6321220+07:00 0HLN5VDU3I2BT:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 76.1213ms. (50a9e262)
2019-06-01T02:23:07.6566015+07:00 0HLN5VDU3I2BP:00000015 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 52.9192ms. (50a9e262)
2019-06-01T02:23:07.6747745+07:00 0HLN5VDU3I2BT:0000000F [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:23:07.6761387+07:00 0HLN5VDU3I2BP:00000015 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:23:07.7072385+07:00 0HLN5VDU3I2BT:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 200.2343ms (afa2e885)
2019-06-01T02:23:07.7151864+07:00 0HLN5VDU3I2BP:00000015 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 199.2608ms (afa2e885)
2019-06-01T02:23:07.7269965+07:00 0HLN5VDU3I2BT:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:23:07.7305029+07:00 0HLN5VDU3I2BP:00000015 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:23:07.7405538+07:00 0HLN5VDU3I2BT:0000000F [INF] Request finished in 313.4013ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:23:07.7426083+07:00 0HLN5VDU3I2BP:00000015 [INF] Request finished in 316.9172ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:23:07.7446904+07:00 0HLN5VDU3I2B5:00000028 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T02:23:07.7652651+07:00 0HLN5VDU3I2CD:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:23:07.7670247+07:00 0HLN5VDU3I2B5:00000028 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T02:23:07.7765369+07:00 0HLN5VDU3I2CD:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:23:07.7779243+07:00 0HLN5VDU3I2B5:00000028 [INF] Request finished in 111.9218ms 200 image/x-icon (791a596a)
2019-06-01T02:23:07.7917520+07:00 0HLN5VDU3I2CD:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:23:46.0702620+07:00 0HLN5VDU3I2B5:00000029 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/index   (ca22a1cb)
2019-06-01T02:23:46.0747013+07:00 0HLN5VDU3I2B5:00000029 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (500cc934)
2019-06-01T02:23:46.0796256+07:00 0HLN5VDU3I2B5:00000029 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" (a44c0341)
2019-06-01T02:23:46.0839407+07:00 0HLN5VDU3I2B5:00000029 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:46.0925979+07:00 0HLN5VDU3I2B5:00000029 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:23:46.0969199+07:00 0HLN5VDU3I2B5:00000029 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0164ms. (50a9e262)
2019-06-01T02:23:46.1022837+07:00 0HLN5VDU3I2B5:00000029 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:23:46.1108326+07:00 0HLN5VDU3I2B5:00000029 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:23:46.1276280+07:00 0HLN5VDU3I2B5:00000029 [INF] Executed DbCommand ("10"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:23:46.1312822+07:00 0HLN5VDU3I2B5:00000029 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:46.1438786+07:00 0HLN5VDU3I2B5:00000029 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:23:46.1478589+07:00 0HLN5VDU3I2B5:00000029 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:46.1624735+07:00 0HLN5VDU3I2B5:00000029 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:23:46.1662950+07:00 0HLN5VDU3I2B5:00000029 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:46.1761014+07:00 0HLN5VDU3I2B5:00000029 [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:23:46.1800189+07:00 0HLN5VDU3I2B5:00000029 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:46.1880513+07:00 0HLN5VDU3I2B5:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:23:46.1918938+07:00 0HLN5VDU3I2B5:00000029 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:46.1997633+07:00 0HLN5VDU3I2B5:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:23:46.2036303+07:00 0HLN5VDU3I2B5:00000029 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:46.2119212+07:00 0HLN5VDU3I2B5:00000029 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:23:46.2194001+07:00 0HLN5VDU3I2B5:00000029 [INF] Executed ViewResult - view "Index" executed in 117.0471ms. (f66409e9)
2019-06-01T02:23:46.2235352+07:00 0HLN5VDU3I2B5:00000029 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" in 140.2336ms (afa2e885)
2019-06-01T02:23:46.2274359+07:00 0HLN5VDU3I2B5:00000029 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (99874f2b)
2019-06-01T02:23:46.2326822+07:00 0HLN5VDU3I2B5:00000029 [INF] Request finished in 161.7375ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:23:47.8041553+07:00 0HLN5VDU3I2CD:00000001 [INF] Request finished in 38787.062ms 101  (791a596a)
2019-06-01T02:23:50.6110709+07:00 0HLN5VDU3I2BP:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/role/index.js?v=mz1ph8DZRQ6ILDjqZpt6VBJedN7WSh460Gi_H9lmDPk   (ca22a1cb)
2019-06-01T02:23:50.6459361+07:00 0HLN5VDU3I2BT:00000010 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:23:50.6502725+07:00 0HLN5VDU3I2B5:0000002A [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=iJy72sWZaYptggaHJfKjIsdLtsvqf7vFRrQU3hmJ0Ww   (ca22a1cb)
2019-06-01T02:23:50.6553559+07:00 0HLN5VDU3I2BT:00000010 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:23:50.6580119+07:00 0HLN5VDU3I2B5:0000002A [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T02:23:50.6845416+07:00 0HLN5VDU3I2BT:00000010 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:23:50.6932750+07:00 0HLN5VDU3I2B5:0000002A [INF] Request finished in 2934.6483ms 304 application/javascript (791a596a)
2019-06-01T02:23:50.7014551+07:00 0HLN5VDU3I2BT:00000010 [INF] Request finished in 2923.7658ms 200 application/json (791a596a)
2019-06-01T02:23:50.7127101+07:00 0HLN5VDU3I2B5:0000002B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:23:50.7211535+07:00 0HLN5VDU3I2BT:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:23:50.7229103+07:00 0HLN5VDU3I2B5:0000002B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:23:50.7316377+07:00 0HLN5VDU3I2BT:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:23:50.7351376+07:00 0HLN5VDU3I2BP:00000016 [INF] Sending file. Request path: '"/app/controllers/role/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\role\index.js"' (27b0a520)
2019-06-01T02:23:50.7441521+07:00 0HLN5VDU3I2BT:00000011 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:23:50.7540516+07:00 0HLN5VDU3I2B5:0000002B [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:23:50.7952306+07:00 0HLN5VDU3I2BT:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:52.7611158+07:00 0HLN5VDU3I2CE:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=6mWITlMACHSDDtYvjoC7Lw   (ca22a1cb)
2019-06-01T02:23:52.7632901+07:00 0HLN5VDU3I2BT:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:23:52.8295136+07:00 0HLN5VDU3I2B5:0000002B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:52.9287529+07:00 0HLN5VDU3I2CE:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:23:52.9316090+07:00 0HLN5VDU3I2BT:00000011 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:23:52.9561887+07:00 0HLN5VDU3I2CE:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:23:52.9622265+07:00 0HLN5VDU3I2BT:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:23:53.0417803+07:00 0HLN5VDU3I2B5:0000002B [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:23:53.0745208+07:00 0HLN5VDU3I2BT:00000011 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:23:53.0860055+07:00 0HLN5VDU3I2B5:0000002B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:23:53.1068026+07:00 0HLN5VDU3I2BT:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 311.3032ms. (50a9e262)
2019-06-01T02:23:53.1139664+07:00 0HLN5VDU3I2B5:0000002B [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T02:23:53.1150533+07:00 0HLN5VDU3I2BT:00000011 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:23:53.1254146+07:00 0HLN5VDU3I2CE:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:23:53.7443901+07:00 0HLN5VDU3I2BT:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 2371.9292ms (afa2e885)
2019-06-01T02:23:53.7496023+07:00 0HLN5VDU3I2B5:0000002B [WRN] Query: '"(from AppRole dtoAppRole in DbSet<AppRole> select new AppRoleViewModel{ { 
    Description = [dtoAp..."' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-06-01T02:23:53.7507318+07:00 0HLN5VDU3I2BT:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:23:53.7654781+07:00 0HLN5VDU3I2BT:00000011 [INF] Request finished in 3040.4897ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:23:53.7672236+07:00 0HLN5VDU3I2B5:0000002B [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T02:23:53.7731252+07:00 0HLN5VDU3I2CF:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:23:53.7757537+07:00 0HLN5VDU3I2BP:00000016 [INF] Request finished in 3011.0366ms 200 application/javascript (791a596a)
2019-06-01T02:23:53.7781845+07:00 0HLN5VDU3I2B5:0000002B [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 719.5647ms. (50a9e262)
2019-06-01T02:23:53.7842210+07:00 0HLN5VDU3I2CF:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:23:53.7979424+07:00 0HLN5VDU3I2B5:0000002B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:23:53.8126402+07:00 0HLN5VDU3I2CF:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:23:53.8141528+07:00 0HLN5VDU3I2B5:0000002B [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 3049.9363ms (afa2e885)
2019-06-01T02:23:53.8223965+07:00 0HLN5VDU3I2CF:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:53.8267316+07:00 0HLN5VDU3I2B5:0000002B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:23:53.8381606+07:00 0HLN5VDU3I2CF:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:23:53.8410697+07:00 0HLN5VDU3I2B5:0000002B [INF] Request finished in 3128.2603ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:23:53.8478623+07:00 0HLN5VDU3I2CF:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:23:53.8576116+07:00 0HLN5VDU3I2B5:0000002C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:23:53.8654311+07:00 0HLN5VDU3I2CF:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:23:53.8669806+07:00 0HLN5VDU3I2B5:0000002C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:23:53.8736087+07:00 0HLN5VDU3I2CF:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:23:53.8756481+07:00 0HLN5VDU3I2B5:0000002C [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:23:53.8811620+07:00 0HLN5VDU3I2CF:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 35.5359ms. (50a9e262)
2019-06-01T02:23:53.8822319+07:00 0HLN5VDU3I2B5:0000002C [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:53.8886048+07:00 0HLN5VDU3I2CF:00000001 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:23:53.8921802+07:00 0HLN5VDU3I2B5:0000002C [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:23:53.8998449+07:00 0HLN5VDU3I2CF:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 77.7204ms (afa2e885)
2019-06-01T02:23:53.9016932+07:00 0HLN5VDU3I2B5:0000002C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:23:53.9056899+07:00 0HLN5VDU3I2BP:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:23:53.9068345+07:00 0HLN5VDU3I2CF:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:23:53.9145518+07:00 0HLN5VDU3I2B5:0000002C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T02:23:53.9156316+07:00 0HLN5VDU3I2CF:00000001 [INF] Request finished in 163.1931ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:23:53.9252665+07:00 0HLN5VDU3I2B5:0000002C [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T02:23:53.9262946+07:00 0HLN5VDU3I2BP:00000017 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:23:53.9319561+07:00 0HLN5VDU3I2B5:0000002C [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 33.1515ms. (50a9e262)
2019-06-01T02:23:53.9337071+07:00 0HLN5VDU3I2BP:00000017 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:23:53.9402465+07:00 0HLN5VDU3I2B5:0000002C [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:23:53.9425829+07:00 0HLN5VDU3I2BP:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:53.9506564+07:00 0HLN5VDU3I2B5:0000002C [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 64.7974ms (afa2e885)
2019-06-01T02:23:53.9527647+07:00 0HLN5VDU3I2BP:00000017 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:23:53.9586240+07:00 0HLN5VDU3I2B5:0000002C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:23:53.9619938+07:00 0HLN5VDU3I2BP:00000017 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:23:53.9699380+07:00 0HLN5VDU3I2B5:0000002C [INF] Request finished in 112.8449ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:23:53.9726863+07:00 0HLN5VDU3I2BK:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T02:23:53.9856463+07:00 0HLN5VDU3I2BP:00000017 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:23:53.9900422+07:00 0HLN5VDU3I2BK:0000000E [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T02:23:53.9947740+07:00 0HLN5VDU3I2BK:0000000E [INF] Request finished in 3191.6895ms 200 image/x-icon (791a596a)
2019-06-01T02:23:53.9993681+07:00 0HLN5VDU3I2BP:00000017 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:23:54.0076939+07:00 0HLN5VDU3I2BP:00000017 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 46.6571ms. (50a9e262)
2019-06-01T02:23:54.0145115+07:00 0HLN5VDU3I2BP:00000017 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:23:54.0274411+07:00 0HLN5VDU3I2BP:00000017 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 80.4335ms (afa2e885)
2019-06-01T02:23:54.0293574+07:00 0HLN5VDU3I2BK:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:23:54.0336639+07:00 0HLN5VDU3I2BP:00000017 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:23:54.0413590+07:00 0HLN5VDU3I2BK:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:23:54.0435239+07:00 0HLN5VDU3I2BP:00000017 [INF] Request finished in 177.996ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:23:54.0480897+07:00 0HLN5VDU3I2BK:0000000F [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:23:54.0560047+07:00 0HLN5VDU3I2BK:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:23:54.0608633+07:00 0HLN5VDU3I2BK:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:23:54.0665068+07:00 0HLN5VDU3I2BK:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:23:54.0769860+07:00 0HLN5VDU3I2BK:0000000F [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:23:54.0854229+07:00 0HLN5VDU3I2BK:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:23:54.0909626+07:00 0HLN5VDU3I2BK:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 24.6112ms. (50a9e262)
2019-06-01T02:23:54.0978418+07:00 0HLN5VDU3I2BK:0000000F [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:23:54.1095817+07:00 0HLN5VDU3I2BK:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 50.943ms (afa2e885)
2019-06-01T02:23:54.1151320+07:00 0HLN5VDU3I2BK:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:23:54.1206511+07:00 0HLN5VDU3I2BK:0000000F [INF] Request finished in 93.0082ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:00.3973999+07:00 0HLN5VDU3I2BK:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/index   (ca22a1cb)
2019-06-01T02:24:00.4231053+07:00 0HLN5VDU3I2BK:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (500cc934)
2019-06-01T02:24:00.4274162+07:00 0HLN5VDU3I2BK:00000010 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" (a44c0341)
2019-06-01T02:24:00.4332677+07:00 0HLN5VDU3I2BK:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:00.4416878+07:00 0HLN5VDU3I2BK:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:24:00.4453699+07:00 0HLN5VDU3I2BK:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0184ms. (50a9e262)
2019-06-01T02:24:00.4496451+07:00 0HLN5VDU3I2BK:00000010 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:24:00.4575901+07:00 0HLN5VDU3I2BK:00000010 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:00.4969365+07:00 0HLN5VDU3I2BK:00000010 [INF] Executed DbCommand ("32"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:24:00.5018969+07:00 0HLN5VDU3I2BK:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:00.5130674+07:00 0HLN5VDU3I2BK:00000010 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:24:00.5166764+07:00 0HLN5VDU3I2BK:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:00.5282669+07:00 0HLN5VDU3I2BK:00000010 [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:24:00.5324901+07:00 0HLN5VDU3I2BK:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:00.5475432+07:00 0HLN5VDU3I2BK:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:24:00.5525778+07:00 0HLN5VDU3I2BK:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:00.5653782+07:00 0HLN5VDU3I2BK:00000010 [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:24:00.5743841+07:00 0HLN5VDU3I2BK:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:00.5845700+07:00 0HLN5VDU3I2BK:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:24:00.5913532+07:00 0HLN5VDU3I2BK:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:00.5970902+07:00 0HLN5VDU3I2BK:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:24:00.6957395+07:00 0HLN5VDU3I2BK:00000010 [INF] Executed ViewResult - view "Index" executed in 152.7025ms. (f66409e9)
2019-06-01T02:24:00.7295032+07:00 0HLN5VDU3I2BK:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" in 268.4126ms (afa2e885)
2019-06-01T02:24:00.7326059+07:00 0HLN5VDU3I2CE:00000001 [INF] Request finished in 9927.8688ms 101  (791a596a)
2019-06-01T02:24:00.7463384+07:00 0HLN5VDU3I2BK:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (99874f2b)
2019-06-01T02:24:00.7514243+07:00 0HLN5VDU3I2B5:0000002D [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/role/index.js?v=mz1ph8DZRQ6ILDjqZpt6VBJedN7WSh460Gi_H9lmDPk   (ca22a1cb)
2019-06-01T02:24:00.7656159+07:00 0HLN5VDU3I2BK:00000010 [INF] Request finished in 354.6107ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:24:00.7670518+07:00 0HLN5VDU3I2B5:0000002D [INF] The file "/app/controllers/role/index.js" was not modified (f1f8d725)
2019-06-01T02:24:00.8788661+07:00 0HLN5VDU3I2B5:0000002D [INF] Request finished in 73.9785ms 304 application/javascript (791a596a)
2019-06-01T02:24:00.8817781+07:00 0HLN5VDU3I2BP:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=iJy72sWZaYptggaHJfKjIsdLtsvqf7vFRrQU3hmJ0Ww   (ca22a1cb)
2019-06-01T02:24:00.8900144+07:00 0HLN5VDU3I2BP:00000018 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T02:24:00.8963472+07:00 0HLN5VDU3I2BP:00000018 [INF] Request finished in 196.1756ms 304 application/javascript (791a596a)
2019-06-01T02:24:01.0130603+07:00 0HLN5VDU3I2BP:00000019 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:24:01.0260758+07:00 0HLN5VDU3I2BP:00000019 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:24:01.0404852+07:00 0HLN5VDU3I2BP:00000019 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:24:01.0496978+07:00 0HLN5VDU3I2BP:00000019 [INF] Request finished in 47.8038ms 200 application/json (791a596a)
2019-06-01T02:24:01.1234209+07:00 0HLN5VDU3I2B5:0000002E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:01.1253835+07:00 0HLN5VDU3I2BK:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:01.1354536+07:00 0HLN5VDU3I2B5:0000002E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:24:01.1411422+07:00 0HLN5VDU3I2BK:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:24:01.1489749+07:00 0HLN5VDU3I2B5:0000002E [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:24:01.1577757+07:00 0HLN5VDU3I2BK:00000011 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:24:01.1761272+07:00 0HLN5VDU3I2B5:0000002E [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:01.1797206+07:00 0HLN5VDU3I2BK:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:01.1829695+07:00 0HLN5VDU3I2BP:0000001A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:01.2172816+07:00 0HLN5VDU3I2CG:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=wnAPDKYM-a_GESXatP71yw   (ca22a1cb)
2019-06-01T02:24:01.2359614+07:00 0HLN5VDU3I2B5:0000002E [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:01.2480410+07:00 0HLN5VDU3I2CG:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:24:01.2514412+07:00 0HLN5VDU3I2B5:0000002E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:01.2668819+07:00 0HLN5VDU3I2CG:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:24:01.2927474+07:00 0HLN5VDU3I2BK:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:01.3009709+07:00 0HLN5VDU3I2B5:0000002E [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:24:01.3236851+07:00 0HLN5VDU3I2CG:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:24:01.3304761+07:00 0HLN5VDU3I2BK:00000011 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:01.3326455+07:00 0HLN5VDU3I2B5:0000002E [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:01.3454590+07:00 0HLN5VDU3I2B5:0000002E [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 96.7206ms. (50a9e262)
2019-06-01T02:24:01.3474348+07:00 0HLN5VDU3I2BK:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T02:24:01.3489754+07:00 0HLN5VDU3I2BP:0000001A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:24:01.3616084+07:00 0HLN5VDU3I2B5:0000002E [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:01.3654926+07:00 0HLN5VDU3I2BK:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:01.3769277+07:00 0HLN5VDU3I2B5:0000002E [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 212.8944ms (afa2e885)
2019-06-01T02:24:01.3796136+07:00 0HLN5VDU3I2BT:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:01.3861908+07:00 0HLN5VDU3I2B5:0000002E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:01.3949650+07:00 0HLN5VDU3I2BK:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 72.8216ms. (50a9e262)
2019-06-01T02:24:01.3961101+07:00 0HLN5VDU3I2BT:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:24:01.4093030+07:00 0HLN5VDU3I2B5:0000002E [INF] Request finished in 315.5625ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:01.4116168+07:00 0HLN5VDU3I2BT:00000012 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:24:01.4180317+07:00 0HLN5VDU3I2BK:00000011 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:01.4191647+07:00 0HLN5VDU3I2BT:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:01.4353518+07:00 0HLN5VDU3I2BT:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:01.4397874+07:00 0HLN5VDU3I2BK:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 261.3472ms (afa2e885)
2019-06-01T02:24:01.4432858+07:00 0HLN5VDU3I2BP:0000001A [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:24:01.4493686+07:00 0HLN5VDU3I2BT:00000012 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:01.4512878+07:00 0HLN5VDU3I2BK:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:01.4640381+07:00 0HLN5VDU3I2BK:00000011 [INF] Request finished in 375.1095ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:01.4672450+07:00 0HLN5VDU3I2BT:00000012 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:24:01.4759659+07:00 0HLN5VDU3I2BP:0000001A [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:01.4864938+07:00 0HLN5VDU3I2BT:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:01.4915655+07:00 0HLN5VDU3I2BK:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:01.4997201+07:00 0HLN5VDU3I2BT:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 51.3619ms. (50a9e262)
2019-06-01T02:24:01.5009730+07:00 0HLN5VDU3I2BK:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:24:01.5153824+07:00 0HLN5VDU3I2BP:0000001A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:01.5163913+07:00 0HLN5VDU3I2BT:00000012 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:01.5297594+07:00 0HLN5VDU3I2BK:00000012 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:24:01.5383519+07:00 0HLN5VDU3I2BT:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 105.8693ms (afa2e885)
2019-06-01T02:24:01.5450603+07:00 0HLN5VDU3I2BK:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:01.5519949+07:00 0HLN5VDU3I2BT:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:01.5594755+07:00 0HLN5VDU3I2BP:0000001A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:01.5639235+07:00 0HLN5VDU3I2BK:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:01.5660290+07:00 0HLN5VDU3I2BT:00000012 [INF] Request finished in 186.677ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:01.5776819+07:00 0HLN5VDU3I2BP:0000001A [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:24:01.5812654+07:00 0HLN5VDU3I2BK:00000012 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:01.5936748+07:00 0HLN5VDU3I2BP:0000001A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:01.5961007+07:00 0HLN5VDU3I2BK:00000012 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T02:24:01.6016961+07:00 0HLN5VDU3I2CF:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T02:24:01.6071542+07:00 0HLN5VDU3I2BP:0000001A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 78.358ms. (50a9e262)
2019-06-01T02:24:01.6195193+07:00 0HLN5VDU3I2BK:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:01.6251525+07:00 0HLN5VDU3I2CF:00000002 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T02:24:01.6326024+07:00 0HLN5VDU3I2BK:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 55.6819ms. (50a9e262)
2019-06-01T02:24:01.6397790+07:00 0HLN5VDU3I2CF:00000002 [INF] Request finished in 384.4867ms 200 image/x-icon (791a596a)
2019-06-01T02:24:01.6476152+07:00 0HLN5VDU3I2BK:00000012 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:01.6500472+07:00 0HLN5VDU3I2BP:0000001A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:01.6637863+07:00 0HLN5VDU3I2BK:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 118.0194ms (afa2e885)
2019-06-01T02:24:01.6663463+07:00 0HLN5VDU3I2BP:0000001A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 206.9174ms (afa2e885)
2019-06-01T02:24:01.6728341+07:00 0HLN5VDU3I2BK:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:01.6761867+07:00 0HLN5VDU3I2BP:0000001A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:01.6842310+07:00 0HLN5VDU3I2BK:00000012 [INF] Request finished in 200.1559ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:01.6863516+07:00 0HLN5VDU3I2BP:0000001A [INF] Request finished in 574.6755ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:01.6957986+07:00 0HLN5VDU3I2CF:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:01.7015102+07:00 0HLN5VDU3I2CF:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:24:01.7079881+07:00 0HLN5VDU3I2CF:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:24:01.7128755+07:00 0HLN5VDU3I2CF:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:01.7175999+07:00 0HLN5VDU3I2CF:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:01.7237472+07:00 0HLN5VDU3I2CF:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:01.7310937+07:00 0HLN5VDU3I2CF:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:24:01.7366350+07:00 0HLN5VDU3I2CF:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:01.7423219+07:00 0HLN5VDU3I2CF:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 19.099ms. (50a9e262)
2019-06-01T02:24:01.7472782+07:00 0HLN5VDU3I2CF:00000003 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:01.7548820+07:00 0HLN5VDU3I2CF:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 39.7205ms (afa2e885)
2019-06-01T02:24:01.7593665+07:00 0HLN5VDU3I2CF:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:01.7643633+07:00 0HLN5VDU3I2CF:00000003 [INF] Request finished in 101.0156ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:05.0909368+07:00 0HLN5VDU3I2CF:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Role/Delete application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T02:24:05.0971825+07:00 0HLN5VDU3I2CF:00000004 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:24:05.1065343+07:00 0HLN5VDU3I2CF:00000004 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:24:05.1121314+07:00 0HLN5VDU3I2CF:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Delete (Shop3)"' (500cc934)
2019-06-01T02:24:05.1248461+07:00 0HLN5VDU3I2CF:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Delete\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.Delete (Shop3)" (a44c0341)
2019-06-01T02:24:05.1296674+07:00 0HLN5VDU3I2CF:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:05.1364850+07:00 0HLN5VDU3I2CF:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.Delete (Shop3)" with arguments (["664e669e-5877-4876-d7eb-08d6cedb9b4a"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:05.1457625+07:00 0HLN5VDU3I2CF:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:05.1616546+07:00 0HLN5VDU3I2CF:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConcurrencyStamp], [u].[Description], [u].[Name], [u].[NormalizedName]
FROM [AspNetRoles] AS [u]
WHERE [u].[Id] = @__roleId_0" (0723d8ff)
2019-06-01T02:24:05.3277766+07:00 0HLN5VDU3I2CF:00000004 [INF] Executed DbCommand ("127"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [AspNetRoles]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T02:24:05.3460752+07:00 0HLN5VDU3I2CF:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.Delete (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 205.3588ms. (50a9e262)
2019-06-01T02:24:05.3500789+07:00 0HLN5VDU3I2CF:00000004 [INF] Executing ObjectResult, writing value of type '"System.Guid"'. (8a1b66c8)
2019-06-01T02:24:05.3595599+07:00 0HLN5VDU3I2CF:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.Delete (Shop3)" in 225.4322ms (afa2e885)
2019-06-01T02:24:05.3630483+07:00 0HLN5VDU3I2CF:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Delete (Shop3)"' (99874f2b)
2019-06-01T02:24:05.3673178+07:00 0HLN5VDU3I2CF:00000004 [INF] Request finished in 280.3511ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:05.3797588+07:00 0HLN5VDU3I2CF:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:05.3872485+07:00 0HLN5VDU3I2CF:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:24:05.3922421+07:00 0HLN5VDU3I2CF:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:24:05.3962450+07:00 0HLN5VDU3I2CF:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:05.4002848+07:00 0HLN5VDU3I2CF:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:05.4057954+07:00 0HLN5VDU3I2CF:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:05.4106708+07:00 0HLN5VDU3I2CF:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T02:24:05.4151508+07:00 0HLN5VDU3I2CF:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:05.4191426+07:00 0HLN5VDU3I2CF:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 14.9813ms. (50a9e262)
2019-06-01T02:24:05.4243586+07:00 0HLN5VDU3I2CF:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:05.4310622+07:00 0HLN5VDU3I2CF:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 32.2715ms (afa2e885)
2019-06-01T02:24:05.4345748+07:00 0HLN5VDU3I2CF:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:05.4416734+07:00 0HLN5VDU3I2CF:00000005 [INF] Request finished in 59.7127ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:09.0520651+07:00 0HLN5VDU3I2CF:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Role/Delete application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T02:24:09.0583895+07:00 0HLN5VDU3I2CF:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:24:09.0624105+07:00 0HLN5VDU3I2CF:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:24:09.0661663+07:00 0HLN5VDU3I2CF:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Delete (Shop3)"' (500cc934)
2019-06-01T02:24:09.0705278+07:00 0HLN5VDU3I2CF:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Delete\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.Delete (Shop3)" (a44c0341)
2019-06-01T02:24:09.0758037+07:00 0HLN5VDU3I2CF:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:09.0810484+07:00 0HLN5VDU3I2CF:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.Delete (Shop3)" with arguments (["d02cd7ff-1e36-48c0-d7ea-08d6cedb9b4a"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:09.0859862+07:00 0HLN5VDU3I2CF:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:09.0996699+07:00 0HLN5VDU3I2CF:00000006 [INF] Executed DbCommand ("8"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConcurrencyStamp], [u].[Description], [u].[Name], [u].[NormalizedName]
FROM [AspNetRoles] AS [u]
WHERE [u].[Id] = @__roleId_0" (0723d8ff)
2019-06-01T02:24:09.1112473+07:00 0HLN5VDU3I2CF:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [AspNetRoles]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T02:24:09.1160875+07:00 0HLN5VDU3I2CF:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.Delete (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 31.1215ms. (50a9e262)
2019-06-01T02:24:09.1222146+07:00 0HLN5VDU3I2CF:00000006 [INF] Executing ObjectResult, writing value of type '"System.Guid"'. (8a1b66c8)
2019-06-01T02:24:09.1285351+07:00 0HLN5VDU3I2CF:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.Delete (Shop3)" in 51.7771ms (afa2e885)
2019-06-01T02:24:09.1321925+07:00 0HLN5VDU3I2CF:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Delete (Shop3)"' (99874f2b)
2019-06-01T02:24:09.1433019+07:00 0HLN5VDU3I2CF:00000006 [INF] Request finished in 84.1303ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:09.1489970+07:00 0HLN5VDU3I2CF:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:09.1541753+07:00 0HLN5VDU3I2CF:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:24:09.1597112+07:00 0HLN5VDU3I2CF:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:24:09.1637916+07:00 0HLN5VDU3I2CF:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:09.1674983+07:00 0HLN5VDU3I2CF:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:09.1748074+07:00 0HLN5VDU3I2CF:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:09.1793514+07:00 0HLN5VDU3I2CF:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T02:24:09.1841075+07:00 0HLN5VDU3I2CF:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:09.1909181+07:00 0HLN5VDU3I2CF:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.6362ms. (50a9e262)
2019-06-01T02:24:09.1961005+07:00 0HLN5VDU3I2CF:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:09.2022503+07:00 0HLN5VDU3I2CF:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 36.5607ms (afa2e885)
2019-06-01T02:24:09.2095791+07:00 0HLN5VDU3I2CF:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:09.2141587+07:00 0HLN5VDU3I2CF:00000007 [INF] Request finished in 64.6928ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:12.6619044+07:00 0HLN5VDU3I2CF:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Role/Delete application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T02:24:12.6702273+07:00 0HLN5VDU3I2CF:00000008 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:24:12.6745986+07:00 0HLN5VDU3I2CF:00000008 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:24:12.6781280+07:00 0HLN5VDU3I2CF:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Delete (Shop3)"' (500cc934)
2019-06-01T02:24:12.6821235+07:00 0HLN5VDU3I2CF:00000008 [INF] Route matched with "{area = \"Admin\", action = \"Delete\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.Delete (Shop3)" (a44c0341)
2019-06-01T02:24:12.6855311+07:00 0HLN5VDU3I2CF:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:12.6916677+07:00 0HLN5VDU3I2CF:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.Delete (Shop3)" with arguments (["9b108d89-7bcb-409c-ce4f-08d6ceda6237"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:12.6952779+07:00 0HLN5VDU3I2CF:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:12.7015294+07:00 0HLN5VDU3I2CF:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConcurrencyStamp], [u].[Description], [u].[Name], [u].[NormalizedName]
FROM [AspNetRoles] AS [u]
WHERE [u].[Id] = @__roleId_0" (0723d8ff)
2019-06-01T02:24:12.7092389+07:00 0HLN5VDU3I2CF:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [AspNetRoles]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T02:24:12.7133932+07:00 0HLN5VDU3I2CF:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.Delete (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.5681ms. (50a9e262)
2019-06-01T02:24:12.7169169+07:00 0HLN5VDU3I2CF:00000008 [INF] Executing ObjectResult, writing value of type '"System.Guid"'. (8a1b66c8)
2019-06-01T02:24:12.7247220+07:00 0HLN5VDU3I2CF:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.Delete (Shop3)" in 35.0501ms (afa2e885)
2019-06-01T02:24:12.7291388+07:00 0HLN5VDU3I2CF:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Delete (Shop3)"' (99874f2b)
2019-06-01T02:24:12.7353997+07:00 0HLN5VDU3I2CF:00000008 [INF] Request finished in 71.1514ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:12.7447814+07:00 0HLN5VDU3I2CF:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:12.7493956+07:00 0HLN5VDU3I2CF:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:24:12.7535502+07:00 0HLN5VDU3I2CF:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:24:12.7600438+07:00 0HLN5VDU3I2CF:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:12.7638751+07:00 0HLN5VDU3I2CF:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:12.7676590+07:00 0HLN5VDU3I2CF:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:12.7754911+07:00 0HLN5VDU3I2CF:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T02:24:12.7818558+07:00 0HLN5VDU3I2CF:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:12.7852367+07:00 0HLN5VDU3I2CF:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.0565ms. (50a9e262)
2019-06-01T02:24:12.7922484+07:00 0HLN5VDU3I2CF:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:12.8053352+07:00 0HLN5VDU3I2CF:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 38.9677ms (afa2e885)
2019-06-01T02:24:12.8149462+07:00 0HLN5VDU3I2CF:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:12.8248031+07:00 0HLN5VDU3I2CF:00000009 [INF] Request finished in 73.6146ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:18.1504218+07:00 0HLN5VDU3I2CF:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Role/SaveEntity application/x-www-form-urlencoded; charset=UTF-8 35 (ca22a1cb)
2019-06-01T02:24:18.1579040+07:00 0HLN5VDU3I2CF:0000000A [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:24:18.1638573+07:00 0HLN5VDU3I2CF:0000000A [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:24:18.1678807+07:00 0HLN5VDU3I2CF:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.SaveEntity (Shop3)"' (500cc934)
2019-06-01T02:24:18.1779274+07:00 0HLN5VDU3I2CF:0000000A [INF] Route matched with "{area = \"Admin\", action = \"SaveEntity\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.SaveEntity (Shop3)" (a44c0341)
2019-06-01T02:24:18.1852591+07:00 0HLN5VDU3I2CF:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:18.1937629+07:00 0HLN5VDU3I2CF:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.SaveEntity (Shop3)" with arguments (["Shop3.Application.ViewModels.System.AppRoleViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:18.2214732+07:00 0HLN5VDU3I2CF:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:18.2479716+07:00 0HLN5VDU3I2CF:0000000A [INF] Executed DbCommand ("17"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T02:24:18.3473421+07:00 0HLN5VDU3I2CF:0000000A [INF] Executed DbCommand ("52"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 250), @p3='?' (Size = 256), @p4='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Description], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3, @p4);" (0723d8ff)
2019-06-01T02:24:18.3824174+07:00 0HLN5VDU3I2CF:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 250), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 250), @p6='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Announcements] ([Id], [Content], [DateCreated], [DateModified], [Status], [Title], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (0723d8ff)
2019-06-01T02:24:18.5777409+07:00 0HLN5VDU3I2CF:0000000A [INF] Executed DbCommand ("190"ms) [Parameters=["@p7='?' (Size = 450), @p8='?' (DbType = Boolean), @p9='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AnnouncementUsers] ([AnnouncementId], [HasRead], [UserId])
VALUES (@p7, @p8, @p9);
SELECT [Id]
FROM [AnnouncementUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-06-01T02:24:18.6095919+07:00 0HLN5VDU3I2CF:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.SaveEntity (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 409.7716ms. (50a9e262)
2019-06-01T02:24:18.6135841+07:00 0HLN5VDU3I2CF:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Application.ViewModels.System.AppRoleViewModel"'. (8a1b66c8)
2019-06-01T02:24:18.6220047+07:00 0HLN5VDU3I2CF:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.SaveEntity (Shop3)" in 435.8532ms (afa2e885)
2019-06-01T02:24:18.6262516+07:00 0HLN5VDU3I2CF:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.SaveEntity (Shop3)"' (99874f2b)
2019-06-01T02:24:18.6443664+07:00 0HLN5VDU3I2CF:0000000A [INF] Request finished in 483.9774ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:18.6519397+07:00 0HLN5VDU3I2CF:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:18.6602417+07:00 0HLN5VDU3I2CF:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:24:18.6659479+07:00 0HLN5VDU3I2CF:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:24:18.6735282+07:00 0HLN5VDU3I2CF:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:18.6793375+07:00 0HLN5VDU3I2CF:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:18.6836037+07:00 0HLN5VDU3I2CF:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:18.6926022+07:00 0HLN5VDU3I2CF:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T02:24:18.7004308+07:00 0HLN5VDU3I2CF:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:18.7090847+07:00 0HLN5VDU3I2CF:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 21.1605ms. (50a9e262)
2019-06-01T02:24:18.7163298+07:00 0HLN5VDU3I2CF:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:18.7311967+07:00 0HLN5VDU3I2CF:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 50.5307ms (afa2e885)
2019-06-01T02:24:18.7352442+07:00 0HLN5VDU3I2CF:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:18.7481423+07:00 0HLN5VDU3I2CF:0000000B [INF] Request finished in 88.8375ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:18.7616816+07:00 0HLN5VDU3I2CF:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:18.7661353+07:00 0HLN5VDU3I2CF:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:24:18.7751839+07:00 0HLN5VDU3I2CF:0000000C [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:24:18.7807039+07:00 0HLN5VDU3I2CF:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:18.7850181+07:00 0HLN5VDU3I2CF:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:18.7964339+07:00 0HLN5VDU3I2CF:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:18.8016626+07:00 0HLN5VDU3I2CF:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T02:24:18.8117725+07:00 0HLN5VDU3I2CF:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:18.8165807+07:00 0HLN5VDU3I2CF:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 26.8442ms. (50a9e262)
2019-06-01T02:24:18.8248396+07:00 0HLN5VDU3I2CF:0000000C [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:18.8330516+07:00 0HLN5VDU3I2CF:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 49.8198ms (afa2e885)
2019-06-01T02:24:18.8430250+07:00 0HLN5VDU3I2CF:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:18.8494856+07:00 0HLN5VDU3I2CF:0000000C [INF] Request finished in 91.3241ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:24.6008190+07:00 0HLN5VDU3I2CF:0000000D [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Role/SaveEntity application/x-www-form-urlencoded; charset=UTF-8 37 (ca22a1cb)
2019-06-01T02:24:24.6093019+07:00 0HLN5VDU3I2CF:0000000D [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:24:24.6137425+07:00 0HLN5VDU3I2CF:0000000D [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:24:24.6222520+07:00 0HLN5VDU3I2CF:0000000D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.SaveEntity (Shop3)"' (500cc934)
2019-06-01T02:24:24.6272203+07:00 0HLN5VDU3I2CF:0000000D [INF] Route matched with "{area = \"Admin\", action = \"SaveEntity\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.SaveEntity (Shop3)" (a44c0341)
2019-06-01T02:24:24.6395791+07:00 0HLN5VDU3I2CF:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:24.6446963+07:00 0HLN5VDU3I2CF:0000000D [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.SaveEntity (Shop3)" with arguments (["Shop3.Application.ViewModels.System.AppRoleViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:24.6521527+07:00 0HLN5VDU3I2CF:0000000D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:24.6621773+07:00 0HLN5VDU3I2CF:0000000D [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T02:24:24.6723631+07:00 0HLN5VDU3I2CF:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 250), @p3='?' (Size = 256), @p4='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Description], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3, @p4);" (0723d8ff)
2019-06-01T02:24:24.6815726+07:00 0HLN5VDU3I2CF:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (Size = 250), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 250), @p6='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Announcements] ([Id], [Content], [DateCreated], [DateModified], [Status], [Title], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);" (0723d8ff)
2019-06-01T02:24:24.6879048+07:00 0HLN5VDU3I2CF:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@p7='?' (Size = 450), @p8='?' (DbType = Boolean), @p9='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AnnouncementUsers] ([AnnouncementId], [HasRead], [UserId])
VALUES (@p7, @p8, @p9);
SELECT [Id]
FROM [AnnouncementUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-06-01T02:24:24.7054892+07:00 0HLN5VDU3I2CF:0000000D [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.SaveEntity (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 45.9145ms. (50a9e262)
2019-06-01T02:24:24.7113772+07:00 0HLN5VDU3I2CF:0000000D [INF] Executing ObjectResult, writing value of type '"Shop3.Application.ViewModels.System.AppRoleViewModel"'. (8a1b66c8)
2019-06-01T02:24:24.7203199+07:00 0HLN5VDU3I2CF:0000000D [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.SaveEntity (Shop3)" in 84.3334ms (afa2e885)
2019-06-01T02:24:24.7271466+07:00 0HLN5VDU3I2CF:0000000D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.SaveEntity (Shop3)"' (99874f2b)
2019-06-01T02:24:24.7445267+07:00 0HLN5VDU3I2CF:0000000D [INF] Request finished in 131.946ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:24.7521271+07:00 0HLN5VDU3I2CF:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:24.7636881+07:00 0HLN5VDU3I2CF:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:24:24.7731108+07:00 0HLN5VDU3I2CF:0000000E [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:24:24.7813951+07:00 0HLN5VDU3I2CF:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:24.7954214+07:00 0HLN5VDU3I2CF:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:24.8260006+07:00 0HLN5VDU3I2CF:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:24.8430607+07:00 0HLN5VDU3I2CF:0000000E [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T02:24:24.8496387+07:00 0HLN5VDU3I2CF:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:24.8620666+07:00 0HLN5VDU3I2CF:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 54.3035ms. (50a9e262)
2019-06-01T02:24:24.8685392+07:00 0HLN5VDU3I2CF:0000000E [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:24.9154925+07:00 0HLN5VDU3I2CF:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 95.6191ms (afa2e885)
2019-06-01T02:24:24.9247270+07:00 0HLN5VDU3I2CF:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:24.9587286+07:00 0HLN5VDU3I2CF:0000000E [INF] Request finished in 177.6842ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:24.9682383+07:00 0HLN5VDU3I2CF:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:24.9789665+07:00 0HLN5VDU3I2CF:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:24:24.9897107+07:00 0HLN5VDU3I2CF:0000000F [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:24:24.9954358+07:00 0HLN5VDU3I2CF:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:25.0013365+07:00 0HLN5VDU3I2CF:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:25.0265668+07:00 0HLN5VDU3I2CF:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:25.0359191+07:00 0HLN5VDU3I2CF:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T02:24:25.0598308+07:00 0HLN5VDU3I2CF:0000000F [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:25.0726049+07:00 0HLN5VDU3I2CF:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 58.566ms. (50a9e262)
2019-06-01T02:24:25.0969749+07:00 0HLN5VDU3I2CF:0000000F [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:25.1156026+07:00 0HLN5VDU3I2CF:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 107.4381ms (afa2e885)
2019-06-01T02:24:25.1251849+07:00 0HLN5VDU3I2CF:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:25.1679595+07:00 0HLN5VDU3I2CF:0000000F [INF] Request finished in 162.917ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:30.8633695+07:00 0HLN5VDU3I2CF:00000010 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2019-06-01T02:24:30.8642032+07:00 0HLN5VDU3I2BP:0000001B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T02:24:30.8678914+07:00 0HLN5VDU3I2CF:00000010 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:24:30.8775968+07:00 0HLN5VDU3I2CF:00000010 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:24:30.8794040+07:00 0HLN5VDU3I2BP:0000001B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T02:24:30.9056485+07:00 0HLN5VDU3I2CF:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.ListAllFunction (Shop3)"' (500cc934)
2019-06-01T02:24:30.9111971+07:00 0HLN5VDU3I2CF:00000010 [INF] Route matched with "{area = \"Admin\", action = \"ListAllFunction\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.ListAllFunction (Shop3)" (a44c0341)
2019-06-01T02:24:30.9154224+07:00 0HLN5VDU3I2BP:0000001B [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T02:24:30.9161970+07:00 0HLN5VDU3I2CF:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:30.9197768+07:00 0HLN5VDU3I2BP:0000001B [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:30.9273531+07:00 0HLN5VDU3I2CF:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.ListAllFunction (Shop3)" with arguments (["0da435b6-e01a-46ab-a538-08d6e5fd9371"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:30.9281933+07:00 0HLN5VDU3I2BP:0000001B [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:24:39.6907311+07:00 0HLN5VDU3I2CF:00000010 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:39.6921411+07:00 0HLN5VDU3I2BP:0000001B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:39.7305004+07:00 0HLN5VDU3I2BP:0000001B [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:24:39.7649914+07:00 0HLN5VDU3I2CF:00000010 [INF] Executed DbCommand ("7"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_0 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2019-06-01T02:24:39.7783174+07:00 0HLN5VDU3I2BP:0000001B [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 8804.0635ms. (50a9e262)
2019-06-01T02:24:39.7813537+07:00 0HLN5VDU3I2CF:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.ListAllFunction (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8838.6693ms. (50a9e262)
2019-06-01T02:24:39.7862743+07:00 0HLN5VDU3I2BP:0000001B [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:39.7883962+07:00 0HLN5VDU3I2CF:00000010 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.PermissionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:39.8116757+07:00 0HLN5VDU3I2BP:0000001B [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 8875.2617ms (afa2e885)
2019-06-01T02:24:39.8129746+07:00 0HLN5VDU3I2CF:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.ListAllFunction (Shop3)" in 8881.1165ms (afa2e885)
2019-06-01T02:24:39.8178824+07:00 0HLN5VDU3I2BP:0000001B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T02:24:39.8245396+07:00 0HLN5VDU3I2CF:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.ListAllFunction (Shop3)"' (99874f2b)
2019-06-01T02:24:39.8419546+07:00 0HLN5VDU3I2BP:0000001B [INF] Request finished in 8966.7212ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:39.8441746+07:00 0HLN5VDU3I2CF:00000010 [INF] Request finished in 8973.5856ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:45.9572808+07:00 0HLN5VDU3I2CF:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/index   (ca22a1cb)
2019-06-01T02:24:45.9618478+07:00 0HLN5VDU3I2CF:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (500cc934)
2019-06-01T02:24:45.9656377+07:00 0HLN5VDU3I2CF:00000011 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" (a44c0341)
2019-06-01T02:24:45.9693288+07:00 0HLN5VDU3I2CF:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:45.9752135+07:00 0HLN5VDU3I2CF:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:24:45.9807811+07:00 0HLN5VDU3I2CF:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0159ms. (50a9e262)
2019-06-01T02:24:45.9857792+07:00 0HLN5VDU3I2CF:00000011 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:24:45.9934847+07:00 0HLN5VDU3I2CF:00000011 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:46.0114456+07:00 0HLN5VDU3I2CF:00000011 [INF] Executed DbCommand ("11"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:24:46.0153960+07:00 0HLN5VDU3I2CF:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:46.0339809+07:00 0HLN5VDU3I2CF:00000011 [INF] Executed DbCommand ("11"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:24:46.0428831+07:00 0HLN5VDU3I2CF:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:46.0565401+07:00 0HLN5VDU3I2CF:00000011 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:24:46.0611805+07:00 0HLN5VDU3I2CF:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:46.0692646+07:00 0HLN5VDU3I2CF:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:24:46.0743936+07:00 0HLN5VDU3I2CF:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:46.0816019+07:00 0HLN5VDU3I2CF:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:24:46.0870931+07:00 0HLN5VDU3I2CF:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:46.1119509+07:00 0HLN5VDU3I2CF:00000011 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:24:46.1173704+07:00 0HLN5VDU3I2CF:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:46.1337038+07:00 0HLN5VDU3I2CF:00000011 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:24:48.9602526+07:00 0HLN5VDU3I2BP:0000001C [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=iJy72sWZaYptggaHJfKjIsdLtsvqf7vFRrQU3hmJ0Ww   (ca22a1cb)
2019-06-01T02:24:48.9622645+07:00 0HLN5VDU3I2BT:00000013 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:24:48.9718965+07:00 0HLN5VDU3I2BP:0000001C [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T02:24:48.9735823+07:00 0HLN5VDU3I2BT:00000013 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:24:48.9761407+07:00 0HLN5VDU3I2CG:00000001 [INF] Request finished in 47778.6854ms 101  (791a596a)
2019-06-01T02:24:48.9947684+07:00 0HLN5VDU3I2BT:00000013 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:24:49.0008241+07:00 0HLN5VDU3I2BP:0000001C [INF] Request finished in 1923.5537ms 304 application/javascript (791a596a)
2019-06-01T02:24:50.8123916+07:00 0HLN5VDU3I2BT:00000013 [INF] Request finished in 1942.9617ms 200 application/json (791a596a)
2019-06-01T02:24:50.8180986+07:00 0HLN5VDU3I2BP:0000001D [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:50.8342020+07:00 0HLN5VDU3I2CF:00000011 [INF] Executed ViewResult - view "Index" executed in 154.0924ms. (f66409e9)
2019-06-01T02:24:50.8442024+07:00 0HLN5VDU3I2BP:0000001D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:24:50.8457790+07:00 0HLN5VDU3I2CF:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" in 4868.6381ms (afa2e885)
2019-06-01T02:24:50.8508584+07:00 0HLN5VDU3I2BP:0000001D [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:24:50.8525274+07:00 0HLN5VDU3I2CF:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (99874f2b)
2019-06-01T02:24:50.8656281+07:00 0HLN5VDU3I2BK:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/role/index.js?v=mz1ph8DZRQ6ILDjqZpt6VBJedN7WSh460Gi_H9lmDPk   (ca22a1cb)
2019-06-01T02:24:50.8666352+07:00 0HLN5VDU3I2BP:0000001D [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:50.8775073+07:00 0HLN5VDU3I2CF:00000011 [INF] Request finished in 4915.82ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:24:50.8795591+07:00 0HLN5VDU3I2BP:0000001D [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:50.8821404+07:00 0HLN5VDU3I2BK:00000013 [INF] The file "/app/controllers/role/index.js" was not modified (f1f8d725)
2019-06-01T02:24:50.8978454+07:00 0HLN5VDU3I2BP:0000001D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:50.9013810+07:00 0HLN5VDU3I2BK:00000013 [INF] Request finished in 4647.0311ms 304 application/javascript (791a596a)
2019-06-01T02:24:50.9155984+07:00 0HLN5VDU3I2BP:0000001D [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:24:50.9181928+07:00 0HLN5VDU3I2BK:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:50.9227733+07:00 0HLN5VDU3I2CH:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=iY8QJfGGm00qEzkpWzz8lQ   (ca22a1cb)
2019-06-01T02:24:50.9284661+07:00 0HLN5VDU3I2BP:0000001D [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:50.9310638+07:00 0HLN5VDU3I2BK:00000014 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:24:50.9390720+07:00 0HLN5VDU3I2BP:0000001D [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 49.2077ms. (50a9e262)
2019-06-01T02:24:50.9407778+07:00 0HLN5VDU3I2BK:00000014 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:24:50.9470178+07:00 0HLN5VDU3I2BP:0000001D [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:50.9523843+07:00 0HLN5VDU3I2BK:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:50.9652681+07:00 0HLN5VDU3I2BP:0000001D [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 96.9906ms (afa2e885)
2019-06-01T02:24:50.9680385+07:00 0HLN5VDU3I2CF:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:50.9941000+07:00 0HLN5VDU3I2BP:0000001D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:50.9977082+07:00 0HLN5VDU3I2CF:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:24:51.0138009+07:00 0HLN5VDU3I2BP:0000001D [INF] Request finished in 1110.6312ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:51.0157008+07:00 0HLN5VDU3I2CF:00000012 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:24:51.0227231+07:00 0HLN5VDU3I2BK:00000014 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:51.0249000+07:00 0HLN5VDU3I2CF:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:51.0313911+07:00 0HLN5VDU3I2BP:0000001E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/images/users.png   (ca22a1cb)
2019-06-01T02:24:51.0334263+07:00 0HLN5VDU3I2CF:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:51.0473647+07:00 0HLN5VDU3I2CF:00000012 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:51.0496765+07:00 0HLN5VDU3I2BP:0000001E [INF] Sending file. Request path: '"/admin-side/images/users.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\images\users.png"' (27b0a520)
2019-06-01T02:24:51.0514493+07:00 0HLN5VDU3I2BK:00000014 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:51.0609894+07:00 0HLN5VDU3I2BP:0000001E [INF] Request finished in 32.2707ms 200 image/png (791a596a)
2019-06-01T02:24:51.0629057+07:00 0HLN5VDU3I2CF:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:24:51.0712129+07:00 0HLN5VDU3I2BK:00000014 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T02:24:51.0772744+07:00 0HLN5VDU3I2CH:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:24:51.0805101+07:00 0HLN5VDU3I2CF:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:51.0863858+07:00 0HLN5VDU3I2BK:00000014 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:51.0926611+07:00 0HLN5VDU3I2CF:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 47.1736ms. (50a9e262)
2019-06-01T02:24:51.0990143+07:00 0HLN5VDU3I2BK:00000014 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 63.7914ms. (50a9e262)
2019-06-01T02:24:51.1003550+07:00 0HLN5VDU3I2CF:00000012 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:51.1161851+07:00 0HLN5VDU3I2BK:00000014 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:51.1172957+07:00 0HLN5VDU3I2CF:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 86.3682ms (afa2e885)
2019-06-01T02:24:51.1309867+07:00 0HLN5VDU3I2BK:00000014 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 174.6126ms (afa2e885)
2019-06-01T02:24:51.1330442+07:00 0HLN5VDU3I2CF:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:51.1402540+07:00 0HLN5VDU3I2CH:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:24:51.1509453+07:00 0HLN5VDU3I2BK:00000014 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:51.1567934+07:00 0HLN5VDU3I2CF:00000012 [INF] Request finished in 180.2786ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:51.1761194+07:00 0HLN5VDU3I2BK:00000014 [INF] Request finished in 244.3208ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:51.1822240+07:00 0HLN5VDU3I2B5:0000002F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:51.1918736+07:00 0HLN5VDU3I2BK:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:51.1957633+07:00 0HLN5VDU3I2BT:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T02:24:51.1969333+07:00 0HLN5VDU3I2B5:0000002F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:24:51.2102822+07:00 0HLN5VDU3I2BK:00000015 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:24:51.2131352+07:00 0HLN5VDU3I2B5:0000002F [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:24:51.2182038+07:00 0HLN5VDU3I2BK:00000015 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:24:51.2214683+07:00 0HLN5VDU3I2B5:0000002F [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:51.2295339+07:00 0HLN5VDU3I2BK:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:51.2326518+07:00 0HLN5VDU3I2B5:0000002F [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:51.2407305+07:00 0HLN5VDU3I2BK:00000015 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:51.2478485+07:00 0HLN5VDU3I2B5:0000002F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:51.2491711+07:00 0HLN5VDU3I2BK:00000015 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:51.2521439+07:00 0HLN5VDU3I2BT:00000014 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T02:24:51.2639187+07:00 0HLN5VDU3I2BK:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T02:24:51.2651219+07:00 0HLN5VDU3I2B5:0000002F [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:24:51.2743223+07:00 0HLN5VDU3I2BT:00000014 [INF] Request finished in 260.5763ms 200 image/x-icon (791a596a)
2019-06-01T02:24:51.2782653+07:00 0HLN5VDU3I2BK:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:51.2845631+07:00 0HLN5VDU3I2BK:00000015 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 37.6077ms. (50a9e262)
2019-06-01T02:24:51.2891506+07:00 0HLN5VDU3I2B5:0000002F [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:51.2947367+07:00 0HLN5VDU3I2CH:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:24:51.2971428+07:00 0HLN5VDU3I2BK:00000015 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:51.3059977+07:00 0HLN5VDU3I2B5:0000002F [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T02:24:51.3077069+07:00 0HLN5VDU3I2BK:00000015 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 78.0023ms (afa2e885)
2019-06-01T02:24:51.3143830+07:00 0HLN5VDU3I2BK:00000015 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:51.3216708+07:00 0HLN5VDU3I2B5:0000002F [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T02:24:51.3235953+07:00 0HLN5VDU3I2BK:00000015 [INF] Request finished in 134.3587ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:51.3331887+07:00 0HLN5VDU3I2B5:0000002F [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T02:24:51.3437449+07:00 0HLN5VDU3I2B5:0000002F [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T02:24:51.3518611+07:00 0HLN5VDU3I2B5:0000002F [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T02:24:51.3616379+07:00 0HLN5VDU3I2B5:0000002F [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T02:24:51.3653995+07:00 0HLN5VDU3I2B5:0000002F [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 129.2112ms. (50a9e262)
2019-06-01T02:24:51.3690758+07:00 0HLN5VDU3I2B5:0000002F [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:51.3807706+07:00 0HLN5VDU3I2B5:0000002F [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 156.028ms (afa2e885)
2019-06-01T02:24:51.3825823+07:00 0HLN5VDU3I2BK:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:24:51.3881421+07:00 0HLN5VDU3I2B5:0000002F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:51.3971996+07:00 0HLN5VDU3I2BK:00000016 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:24:51.3997547+07:00 0HLN5VDU3I2B5:0000002F [INF] Request finished in 1522.4422ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:24:51.4071315+07:00 0HLN5VDU3I2BK:00000016 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:24:51.4132209+07:00 0HLN5VDU3I2BK:00000016 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:24:51.4181933+07:00 0HLN5VDU3I2BK:00000016 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:24:51.4261083+07:00 0HLN5VDU3I2BK:00000016 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:24:51.4309781+07:00 0HLN5VDU3I2BK:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:24:51.4357157+07:00 0HLN5VDU3I2BK:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:24:51.4427725+07:00 0HLN5VDU3I2BK:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T02:24:51.4471426+07:00 0HLN5VDU3I2BK:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T02:24:51.4517768+07:00 0HLN5VDU3I2BK:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T02:24:51.4573648+07:00 0HLN5VDU3I2BK:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T02:24:51.4615700+07:00 0HLN5VDU3I2BK:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T02:24:51.4664775+07:00 0HLN5VDU3I2BK:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T02:24:51.4717706+07:00 0HLN5VDU3I2BK:00000016 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 48.5028ms. (50a9e262)
2019-06-01T02:24:51.4758178+07:00 0HLN5VDU3I2BK:00000016 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:24:51.4821365+07:00 0HLN5VDU3I2BK:00000016 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 68.966ms (afa2e885)
2019-06-01T02:24:51.4856582+07:00 0HLN5VDU3I2BK:00000016 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:24:51.4914883+07:00 0HLN5VDU3I2BK:00000016 [INF] Request finished in 113.5058ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:25:08.0630193+07:00 0HLN5VDU3I2BK:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/index   (ca22a1cb)
2019-06-01T02:25:08.0671907+07:00 0HLN5VDU3I2BK:00000017 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (500cc934)
2019-06-01T02:25:08.0745594+07:00 0HLN5VDU3I2BK:00000017 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" (a44c0341)
2019-06-01T02:25:08.0787448+07:00 0HLN5VDU3I2BK:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:25:08.0823739+07:00 0HLN5VDU3I2BK:00000017 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T02:25:08.0863718+07:00 0HLN5VDU3I2BK:00000017 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.025ms. (50a9e262)
2019-06-01T02:25:08.0928974+07:00 0HLN5VDU3I2BK:00000017 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T02:25:08.0974672+07:00 0HLN5VDU3I2BK:00000017 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:25:08.1158126+07:00 0HLN5VDU3I2BK:00000017 [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:25:08.1199217+07:00 0HLN5VDU3I2BK:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:25:08.1324874+07:00 0HLN5VDU3I2BK:00000017 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:25:08.1362840+07:00 0HLN5VDU3I2BK:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:25:08.1486376+07:00 0HLN5VDU3I2BK:00000017 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:25:08.1523000+07:00 0HLN5VDU3I2BK:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:25:08.1604932+07:00 0HLN5VDU3I2BK:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:25:08.1640554+07:00 0HLN5VDU3I2BK:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:25:08.1712907+07:00 0HLN5VDU3I2BK:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:25:08.1756103+07:00 0HLN5VDU3I2BK:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:25:08.1829588+07:00 0HLN5VDU3I2BK:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T02:25:08.1870515+07:00 0HLN5VDU3I2BK:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:25:08.1937354+07:00 0HLN5VDU3I2BK:00000017 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T02:25:08.2027207+07:00 0HLN5VDU3I2BK:00000017 [INF] Executed ViewResult - view "Index" executed in 108.4232ms. (f66409e9)
2019-06-01T02:25:08.2901283+07:00 0HLN5VDU3I2BK:00000017 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" in 128.3841ms (afa2e885)
2019-06-01T02:25:09.1719520+07:00 0HLN5VDU3I2CH:00000001 [INF] Request finished in 17376.4445ms 101  (791a596a)
2019-06-01T02:25:09.1733034+07:00 0HLN5VDU3I2BK:00000017 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (99874f2b)
2019-06-01T02:25:09.1816230+07:00 0HLN5VDU3I2BK:00000017 [INF] Request finished in 1122.9667ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T02:25:09.1831520+07:00 0HLN5VDU3I2CF:00000013 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T02:25:09.1919860+07:00 0HLN5VDU3I2B5:00000030 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=iJy72sWZaYptggaHJfKjIsdLtsvqf7vFRrQU3hmJ0Ww   (ca22a1cb)
2019-06-01T02:25:09.1930539+07:00 0HLN5VDU3I2CF:00000013 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:25:09.1980783+07:00 0HLN5VDU3I2B5:00000030 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T02:25:09.2022092+07:00 0HLN5VDU3I2CF:00000013 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:25:09.2188927+07:00 0HLN5VDU3I2B5:00000030 [INF] Request finished in 32.6251ms 304 application/javascript (791a596a)
2019-06-01T02:25:09.2215409+07:00 0HLN5VDU3I2CF:00000013 [INF] Request finished in 32.3117ms 200 application/json (791a596a)
2019-06-01T02:25:09.2319859+07:00 0HLN5VDU3I2B5:00000031 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:25:09.2342637+07:00 0HLN5VDU3I2CF:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:25:09.2362793+07:00 0HLN5VDU3I2BT:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/role/index.js?v=mz1ph8DZRQ6ILDjqZpt6VBJedN7WSh460Gi_H9lmDPk   (ca22a1cb)
2019-06-01T02:25:09.2438571+07:00 0HLN5VDU3I2CF:00000014 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:25:09.2455215+07:00 0HLN5VDU3I2CI:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=0t6R77hnhSVmm5oi05_oXw   (ca22a1cb)
2019-06-01T02:25:09.2524031+07:00 0HLN5VDU3I2CF:00000014 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:25:09.2591031+07:00 0HLN5VDU3I2CI:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T02:25:09.2603991+07:00 0HLN5VDU3I2CF:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:25:09.2659962+07:00 0HLN5VDU3I2CI:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T02:25:09.2678157+07:00 0HLN5VDU3I2CF:00000014 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:25:09.2741463+07:00 0HLN5VDU3I2B5:00000031 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:25:09.2821262+07:00 0HLN5VDU3I2CI:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T02:25:09.2848376+07:00 0HLN5VDU3I2CF:00000014 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:25:09.2918875+07:00 0HLN5VDU3I2BT:00000015 [INF] The file "/app/controllers/role/index.js" was not modified (f1f8d725)
2019-06-01T02:25:09.2995695+07:00 0HLN5VDU3I2B5:00000031 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:25:09.3062107+07:00 0HLN5VDU3I2CF:00000014 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:25:09.3152043+07:00 0HLN5VDU3I2B5:00000031 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:25:09.3179166+07:00 0HLN5VDU3I2CF:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:25:09.3266143+07:00 0HLN5VDU3I2B5:00000031 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:25:09.3293622+07:00 0HLN5VDU3I2CF:00000014 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 50.1861ms. (50a9e262)
2019-06-01T02:25:09.3314328+07:00 0HLN5VDU3I2BT:00000015 [INF] Request finished in 1006.9115ms 304 application/javascript (791a596a)
2019-06-01T02:25:09.3396247+07:00 0HLN5VDU3I2CF:00000014 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:25:09.3502258+07:00 0HLN5VDU3I2B5:00000031 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:25:09.3986639+07:00 0HLN5VDU3I2CF:00000014 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 87.4447ms (afa2e885)
2019-06-01T02:25:09.4131783+07:00 0HLN5VDU3I2BP:0000001F [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T02:25:09.4179894+07:00 0HLN5VDU3I2B5:00000031 [INF] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:25:09.4265879+07:00 0HLN5VDU3I2CF:00000014 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:25:09.4469095+07:00 0HLN5VDU3I2B5:00000031 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:25:09.4486043+07:00 0HLN5VDU3I2CF:00000014 [INF] Request finished in 201.2899ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:25:09.4620861+07:00 0HLN5VDU3I2B5:00000031 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T02:25:09.4636878+07:00 0HLN5VDU3I2BT:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:25:09.4656680+07:00 0HLN5VDU3I2BK:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:25:09.4796689+07:00 0HLN5VDU3I2B5:00000031 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T02:25:09.4814157+07:00 0HLN5VDU3I2BT:00000016 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:25:09.4920053+07:00 0HLN5VDU3I2B5:00000031 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T02:25:09.4930973+07:00 0HLN5VDU3I2BT:00000016 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:25:09.4947606+07:00 0HLN5VDU3I2BK:00000018 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:25:09.5012611+07:00 0HLN5VDU3I2B5:00000031 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T02:25:09.5023256+07:00 0HLN5VDU3I2BT:00000016 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:25:09.5140134+07:00 0HLN5VDU3I2B5:00000031 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T02:25:09.5157726+07:00 0HLN5VDU3I2BT:00000016 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:25:09.5168593+07:00 0HLN5VDU3I2BK:00000018 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:25:09.5263745+07:00 0HLN5VDU3I2B5:00000031 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T02:25:09.5281364+07:00 0HLN5VDU3I2BT:00000016 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:25:09.5328819+07:00 0HLN5VDU3I2BK:00000018 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:25:09.5345984+07:00 0HLN5VDU3I2B5:00000031 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 200.6753ms. (50a9e262)
2019-06-01T02:25:09.5442874+07:00 0HLN5VDU3I2BT:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T02:25:09.5460762+07:00 0HLN5VDU3I2B5:00000031 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:25:09.5519752+07:00 0HLN5VDU3I2BP:0000001F [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T02:25:09.5612605+07:00 0HLN5VDU3I2B5:00000031 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 246.5288ms (afa2e885)
2019-06-01T02:25:09.5636002+07:00 0HLN5VDU3I2BT:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T02:25:09.5675591+07:00 0HLN5VDU3I2B5:00000031 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:25:09.5726988+07:00 0HLN5VDU3I2BT:00000016 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 47.8653ms. (50a9e262)
2019-06-01T02:25:09.5819210+07:00 0HLN5VDU3I2B5:00000031 [INF] Request finished in 344.6784ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:25:09.5832133+07:00 0HLN5VDU3I2BT:00000016 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:25:09.5958722+07:00 0HLN5VDU3I2BK:00000018 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:25:09.5972375+07:00 0HLN5VDU3I2BT:00000016 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 90.3325ms (afa2e885)
2019-06-01T02:25:09.6128740+07:00 0HLN5VDU3I2BT:00000016 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:25:09.6149051+07:00 0HLN5VDU3I2BK:00000018 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:25:09.6183329+07:00 0HLN5VDU3I2BP:0000001F [INF] Request finished in 159.4368ms 200 image/x-icon (791a596a)
2019-06-01T02:25:09.6269666+07:00 0HLN5VDU3I2BT:00000016 [INF] Request finished in 162.4108ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:25:09.6345499+07:00 0HLN5VDU3I2BK:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T02:25:09.6449080+07:00 0HLN5VDU3I2BT:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:25:09.6526704+07:00 0HLN5VDU3I2BK:00000018 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:25:09.6566614+07:00 0HLN5VDU3I2BT:00000017 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T02:25:09.6635923+07:00 0HLN5VDU3I2BK:00000018 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 56.9176ms. (50a9e262)
2019-06-01T02:25:09.6654508+07:00 0HLN5VDU3I2BT:00000017 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T02:25:09.6722241+07:00 0HLN5VDU3I2BK:00000018 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:25:09.6777108+07:00 0HLN5VDU3I2BT:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:25:09.6833953+07:00 0HLN5VDU3I2BK:00000018 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 155.0298ms (afa2e885)
2019-06-01T02:25:09.6850540+07:00 0HLN5VDU3I2BT:00000017 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:25:09.6909219+07:00 0HLN5VDU3I2BP:00000020 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T02:25:09.6953526+07:00 0HLN5VDU3I2BK:00000018 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:25:09.6981321+07:00 0HLN5VDU3I2BT:00000017 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:25:09.7084472+07:00 0HLN5VDU3I2BK:00000018 [INF] Request finished in 346.8974ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:25:09.7108623+07:00 0HLN5VDU3I2BT:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T02:25:09.7143913+07:00 0HLN5VDU3I2BP:00000020 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T02:25:09.7199782+07:00 0HLN5VDU3I2BT:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T02:25:09.7239589+07:00 0HLN5VDU3I2BP:00000020 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T02:25:09.7301246+07:00 0HLN5VDU3I2BT:00000017 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 35.3845ms. (50a9e262)
2019-06-01T02:25:09.7312421+07:00 0HLN5VDU3I2BP:00000020 [INF] Authorization was successful. (0d575a54)
2019-06-01T02:25:09.7396024+07:00 0HLN5VDU3I2BT:00000017 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:25:09.7465906+07:00 0HLN5VDU3I2BP:00000020 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T02:25:09.7501845+07:00 0HLN5VDU3I2BT:00000017 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 74.3629ms (afa2e885)
2019-06-01T02:25:09.7576216+07:00 0HLN5VDU3I2BP:00000020 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T02:25:09.7799153+07:00 0HLN5VDU3I2BT:00000017 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T02:25:09.7862850+07:00 0HLN5VDU3I2BT:00000017 [INF] Request finished in 148.4457ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T02:25:09.7891309+07:00 0HLN5VDU3I2BP:00000020 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T02:25:09.7949701+07:00 0HLN5VDU3I2BP:00000020 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T02:25:09.8020236+07:00 0HLN5VDU3I2BP:00000020 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T02:25:09.8070976+07:00 0HLN5VDU3I2BP:00000020 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T02:25:09.8113582+07:00 0HLN5VDU3I2BP:00000020 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T02:25:09.8155284+07:00 0HLN5VDU3I2BP:00000020 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T02:25:09.8206431+07:00 0HLN5VDU3I2BP:00000020 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T02:25:09.8253860+07:00 0HLN5VDU3I2BP:00000020 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T02:25:09.8301385+07:00 0HLN5VDU3I2BP:00000020 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 79.0398ms. (50a9e262)
2019-06-01T02:25:09.8340789+07:00 0HLN5VDU3I2BP:00000020 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T02:25:09.8418349+07:00 0HLN5VDU3I2BP:00000020 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 110.3657ms (afa2e885)
2019-06-01T02:25:09.8460051+07:00 0HLN5VDU3I2BP:00000020 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T02:25:09.8498758+07:00 0HLN5VDU3I2BP:00000020 [INF] Request finished in 202.7939ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T06:57:03.2738779+07:00 0HLN64EJQ65P7:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T06:57:03.4481148+07:00 0HLN64EJQ65P7:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T06:57:03.5238026+07:00 0HLN64EJQ65P7:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T06:57:03.5551166+07:00 0HLN64EJQ65P7:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T06:57:03.5822308+07:00 0HLN64EJQ65P7:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T06:57:03.6524593+07:00 0HLN64EJQ65P7:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T06:57:03.7543291+07:00 0HLN64EJQ65P7:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T06:57:03.8132899+07:00 0HLN64EJQ65P7:00000001 [INF] Executed DbCommand ("39"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T06:57:03.8955852+07:00 0HLN64EJQ65P7:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T06:57:03.9176582+07:00 0HLN64EJQ65P7:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T06:57:04.0261349+07:00 0HLN64EJQ65P7:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T06:57:04.0543555+07:00 0HLN64EJQ65P7:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T06:57:04.1117229+07:00 0HLN64EJQ65P7:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T06:57:04.1488954+07:00 0HLN64EJQ65P7:00000001 [INF] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T06:57:04.1704999+07:00 0HLN64EJQ65P7:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T06:57:04.1871365+07:00 0HLN64EJQ65P7:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T06:57:04.2504461+07:00 0HLN64EJQ65P7:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T06:57:04.2795488+07:00 0HLN64EJQ65P7:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 702.504ms. (50a9e262)
2019-06-01T06:57:04.3207820+07:00 0HLN64EJQ65P7:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T06:57:04.5298432+07:00 0HLN64EJQ65P7:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T06:57:04.5458600+07:00 0HLN64EJQ65P7:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T06:57:04.7086996+07:00 0HLN64EJQ65P7:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T06:57:04.7275525+07:00 0HLN64EJQ65P7:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T06:57:04.7524596+07:00 0HLN64EJQ65P7:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T06:57:04.7687299+07:00 0HLN64EJQ65P7:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T06:57:05.0170391+07:00 0HLN64EJQ65P7:00000001 [INF] Executed ViewResult - view "Index" executed in 695.6991ms. (f66409e9)
2019-06-01T06:57:05.2947824+07:00 0HLN64EJQ65P7:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 1508.1497ms (afa2e885)
2019-06-01T06:57:05.5659687+07:00 0HLN64EJQ65P7:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T06:57:05.6212215+07:00 0HLN64EJQ65PC:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T06:57:05.9054182+07:00 0HLN64EJQ65PA:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T06:57:05.9160254+07:00 0HLN64EJQ65PC:00000001 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T06:57:05.9265960+07:00 0HLN64EJQ65P8:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T06:57:05.9356582+07:00 0HLN64EJQ65PA:00000001 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T06:57:05.9585608+07:00 0HLN64EJQ65P8:00000001 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T06:57:05.9631023+07:00 0HLN64EJQ65P9:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T06:57:05.9760721+07:00 0HLN64EJQ65P7:00000001 [INF] Request finished in 2556.1825ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T06:57:05.9794461+07:00 0HLN64EJQ65P9:00000001 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T06:57:06.2777199+07:00 0HLN64EJQ65PB:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T06:57:06.4475593+07:00 0HLN64EJQ65PB:00000001 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T06:57:07.4462453+07:00 0HLN64EJQ65PC:00000001 [INF] Request finished in 960.3208ms 200 image/jpeg (791a596a)
2019-06-01T06:57:07.4662477+07:00 0HLN64EJQ65P7:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T06:57:07.4748093+07:00 0HLN64EJQ65PA:00000001 [INF] Request finished in 1884.2975ms 200 image/jpeg (791a596a)
2019-06-01T06:57:07.4780672+07:00 0HLN64EJQ65P9:00000001 [INF] Request finished in 1899.1381ms 200 image/jpeg (791a596a)
2019-06-01T06:57:07.4943347+07:00 0HLN64EJQ65P7:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T06:57:07.5421582+07:00 0HLN64EJQ65P8:00000001 [INF] Request finished in 1831.6185ms 200 image/jpeg (791a596a)
2019-06-01T06:57:07.6027674+07:00 0HLN64EJQ65PC:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T06:57:07.6327186+07:00 0HLN64EJQ65P7:00000002 [INF] Request finished in 116.7108ms 200 image/jpeg (791a596a)
2019-06-01T06:57:07.6407948+07:00 0HLN64EJQ65PA:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T06:57:07.6655280+07:00 0HLN64EJQ65PC:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T06:57:07.6836190+07:00 0HLN64EJQ65P9:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T06:57:07.6922578+07:00 0HLN64EJQ65PA:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T06:57:07.7086606+07:00 0HLN64EJQ65P9:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T06:57:07.7140416+07:00 0HLN64EJQ65PA:00000002 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T06:57:07.7419763+07:00 0HLN64EJQ65P9:00000002 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T06:57:07.7457807+07:00 0HLN64EJQ65PA:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T06:57:07.8356694+07:00 0HLN64EJQ65P9:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T06:57:07.8775167+07:00 0HLN64EJQ65PA:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T06:57:07.9189735+07:00 0HLN64EJQ65P9:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T06:57:07.9254592+07:00 0HLN64EJQ65PA:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T06:57:07.9391027+07:00 0HLN64EJQ65PC:00000002 [INF] Request finished in 131.8189ms 200 image/jpeg (791a596a)
2019-06-01T06:57:07.9602050+07:00 0HLN64EJQ65PA:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 180.6468ms. (50a9e262)
2019-06-01T06:57:07.9631921+07:00 0HLN64EJQ65P9:00000002 [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T06:57:08.0466451+07:00 0HLN64EJQ65P9:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 128.3523ms. (50a9e262)
2019-06-01T06:57:08.1727965+07:00 0HLN64EJQ65PA:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T06:57:08.1918209+07:00 0HLN64EJQ65P9:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T06:57:08.2596317+07:00 0HLN64EJQ65P8:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T06:57:08.2677528+07:00 0HLN64EJQ65P7:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T06:57:08.5834497+07:00 0HLN64EJQ65PA:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 757.6248ms (afa2e885)
2019-06-01T06:57:08.6011575+07:00 0HLN64EJQ65P9:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 685.2589ms (afa2e885)
2019-06-01T06:57:08.6279386+07:00 0HLN64EJQ65PA:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T06:57:08.6388950+07:00 0HLN64EJQ65P9:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T06:57:08.6727497+07:00 0HLN64EJQ65PA:00000002 [INF] Request finished in 1057.725ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T06:57:08.6801207+07:00 0HLN64EJQ65P9:00000002 [INF] Request finished in 991.7411ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T06:57:08.7022828+07:00 0HLN64EJQ65P7:00000003 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T06:57:09.3419221+07:00 0HLN64EJQ65P8:00000002 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T06:57:09.3618203+07:00 0HLN64EJQ65PB:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T06:57:09.3950388+07:00 0HLN64EJQ65P8:00000002 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T06:57:09.3989333+07:00 0HLN64EJQ65P7:00000003 [INF] Request finished in 1390.5408ms 200 image/jpeg (791a596a)
2019-06-01T06:57:09.4866460+07:00 0HLN64EJQ65P8:00000002 [INF] Request finished in 1507.6381ms 200 application/json (791a596a)
2019-06-01T06:57:09.5668068+07:00 0HLN64EJQ65PB:00000001 [INF] Request finished in 3534.276ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T06:57:09.5870287+07:00 0HLN64EJQ65PD:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=QnDZk6so_DhGuQowN6uMQA   (ca22a1cb)
2019-06-01T06:57:09.6085951+07:00 0HLN64EJQ65PD:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T06:57:09.6174722+07:00 0HLN64EJQ65PD:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T06:57:09.7847127+07:00 0HLN64EJQ65PD:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T06:57:15.1398385+07:00 0HLN64EJQ65P8:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T06:57:15.2276272+07:00 0HLN64EJQ65P8:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T06:57:15.2831644+07:00 0HLN64EJQ65P8:00000003 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T06:57:15.3097781+07:00 0HLN64EJQ65P8:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T06:57:15.3266918+07:00 0HLN64EJQ65P8:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.4668ms. (50a9e262)
2019-06-01T06:57:15.3419467+07:00 0HLN64EJQ65P8:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T06:57:15.7479090+07:00 0HLN64EJQ65P8:00000003 [INF] Executed ViewResult - view "Index" executed in 53.4748ms. (f66409e9)
2019-06-01T06:57:15.7872091+07:00 0HLN64EJQ65P8:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 464.7561ms (afa2e885)
2019-06-01T06:57:15.8776526+07:00 0HLN64EJQ65P8:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T06:57:16.0185607+07:00 0HLN64EJQ65PD:00000001 [INF] Request finished in 6290.4613ms 101  (791a596a)
2019-06-01T06:57:16.0269796+07:00 0HLN64EJQ65P8:00000003 [INF] Request finished in 801.7741ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T06:57:18.9125949+07:00 0HLN64EJQ65P8:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T06:57:18.9222515+07:00 0HLN64EJQ65P8:00000004 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T06:57:18.9287573+07:00 0HLN64EJQ65P8:00000004 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T06:57:18.9357727+07:00 0HLN64EJQ65P8:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T06:57:18.9667991+07:00 0HLN64EJQ65P8:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T06:57:19.0303548+07:00 0HLN64EJQ65P8:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T06:57:25.1279551+07:00 0HLN64EJQ65P8:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T06:57:25.8396944+07:00 0HLN64EJQ65P8:00000004 [INF] Executed DbCommand ("654"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T06:57:26.0673246+07:00 0HLN64EJQ65P8:00000004 [INF] Executed DbCommand ("41"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T06:57:26.1755181+07:00 0HLN64EJQ65P8:00000004 [INF] Executed DbCommand ("66"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T06:57:26.1987345+07:00 0HLN64EJQ65P8:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T06:57:26.2318725+07:00 0HLN64EJQ65P8:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T06:57:26.2446315+07:00 0HLN64EJQ65P8:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T06:57:26.2557231+07:00 0HLN64EJQ65P8:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T06:57:26.2617236+07:00 0HLN64EJQ65P8:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T06:57:26.2685564+07:00 0HLN64EJQ65P8:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T06:57:26.2780658+07:00 0HLN64EJQ65P8:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T06:57:26.2938626+07:00 0HLN64EJQ65P8:00000004 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T06:57:26.3004099+07:00 0HLN64EJQ65P8:00000004 [INF] User logged in. (fdce0db4)
2019-06-01T06:57:26.3077285+07:00 0HLN64EJQ65P8:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7272.9294ms. (50a9e262)
2019-06-01T06:57:26.3158958+07:00 0HLN64EJQ65P8:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T06:57:26.3289698+07:00 0HLN64EJQ65P8:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 7352.814ms (afa2e885)
2019-06-01T06:57:26.3341510+07:00 0HLN64EJQ65P8:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T06:57:26.3410511+07:00 0HLN64EJQ65P8:00000004 [INF] Request finished in 7427.9975ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T06:57:26.3666757+07:00 0HLN64EJQ65P8:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T06:57:26.3871327+07:00 0HLN64EJQ65P8:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T06:57:26.3942375+07:00 0HLN64EJQ65P8:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T06:57:26.4119474+07:00 0HLN64EJQ65P8:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T06:57:26.4168024+07:00 0HLN64EJQ65P8:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T06:57:26.4232389+07:00 0HLN64EJQ65P8:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 1.1183ms. (50a9e262)
2019-06-01T06:57:26.4363392+07:00 0HLN64EJQ65P8:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T06:57:26.4570219+07:00 0HLN64EJQ65P8:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T06:57:27.0782452+07:00 0HLN64EJQ65P8:00000005 [INF] Executed DbCommand ("580"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T06:57:27.1002362+07:00 0HLN64EJQ65P8:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T06:57:27.1576540+07:00 0HLN64EJQ65P8:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T06:57:27.1646209+07:00 0HLN64EJQ65P8:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T06:57:27.2008990+07:00 0HLN64EJQ65P8:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T06:57:27.2445162+07:00 0HLN64EJQ65P8:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T06:57:27.2777121+07:00 0HLN64EJQ65P8:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T06:57:27.2821273+07:00 0HLN64EJQ65P8:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T06:57:27.3584139+07:00 0HLN64EJQ65P8:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T06:57:27.6204327+07:00 0HLN64EJQ65P8:00000005 [INF] Executed ViewResult - view "Index" executed in 1182.8769ms. (f66409e9)
2019-06-01T06:57:27.7778864+07:00 0HLN64EJQ65P8:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 1227.2252ms (afa2e885)
2019-06-01T06:57:27.8123102+07:00 0HLN64EJQ65P8:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T06:57:28.1474972+07:00 0HLN64EJQ65P8:00000005 [INF] Request finished in 1451.8059ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T06:57:28.1500469+07:00 0HLN64EJQ65P7:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=iJy72sWZaYptggaHJfKjIsdLtsvqf7vFRrQU3hmJ0Ww   (ca22a1cb)
2019-06-01T06:57:28.2296789+07:00 0HLN64EJQ65P8:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/common.js?v=y7DqmVon23ErVGJwRwyGN-e1OscQoN09ThbEz09BtJA   (ca22a1cb)
2019-06-01T06:57:28.2388695+07:00 0HLN64EJQ65P7:00000004 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T06:57:28.2770044+07:00 0HLN64EJQ65P8:00000006 [INF] The file "/app/shared/common.js" was not modified (f1f8d725)
2019-06-01T06:57:28.2781343+07:00 0HLN64EJQ65P7:00000004 [INF] Request finished in 150.0811ms 304 application/javascript (791a596a)
2019-06-01T06:57:28.2997445+07:00 0HLN64EJQ65P8:00000006 [INF] Request finished in 92.9459ms 304 application/javascript (791a596a)
2019-06-01T06:57:28.6227605+07:00 0HLN64EJQ65PA:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T06:57:28.6508071+07:00 0HLN64EJQ65P7:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T06:57:28.6580281+07:00 0HLN64EJQ65P8:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T06:57:28.9817722+07:00 0HLN64EJQ65PA:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T06:57:29.1523936+07:00 0HLN64EJQ65P7:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T06:57:29.2952837+07:00 0HLN64EJQ65PA:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T06:57:29.3494618+07:00 0HLN64EJQ65P7:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T06:57:29.3661953+07:00 0HLN64EJQ65PA:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T06:57:29.3765334+07:00 0HLN64EJQ65P7:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T06:57:29.4076713+07:00 0HLN64EJQ65PA:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T06:57:29.4146719+07:00 0HLN64EJQ65P7:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T06:57:29.4846932+07:00 0HLN64EJQ65PA:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T06:57:29.6100691+07:00 0HLN64EJQ65P7:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T06:57:29.6761192+07:00 0HLN64EJQ65P8:00000007 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T06:57:29.7134320+07:00 0HLN64EJQ65P7:00000005 [INF] Executed DbCommand ("37"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T06:57:29.7663098+07:00 0HLN64EJQ65P8:00000007 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T06:57:29.9268717+07:00 0HLN64EJQ65P7:00000005 [INF] Executed DbCommand ("119"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T06:57:29.9325710+07:00 0HLN64EJQ65PA:00000003 [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T06:57:30.0067277+07:00 0HLN64EJQ65P8:00000007 [INF] Request finished in 1191.3114ms 200 application/json (791a596a)
2019-06-01T06:57:30.0083568+07:00 0HLN64EJQ65P7:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 533.474ms. (50a9e262)
2019-06-01T06:57:30.0748179+07:00 0HLN64EJQ65PA:00000003 [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T06:57:30.0858854+07:00 0HLN64EJQ65P7:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T06:57:30.0987707+07:00 0HLN64EJQ65P9:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T06:57:30.1024806+07:00 0HLN64EJQ65P7:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 745.9792ms (afa2e885)
2019-06-01T06:57:30.1144781+07:00 0HLN64EJQ65P7:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T06:57:30.1170734+07:00 0HLN64EJQ65P9:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T06:57:30.1272851+07:00 0HLN64EJQ65P7:00000005 [INF] Request finished in 1507.1195ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T06:57:30.1349532+07:00 0HLN64EJQ65P9:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T06:57:30.1891349+07:00 0HLN64EJQ65P9:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T06:57:30.1932843+07:00 0HLN64EJQ65P9:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T06:57:30.2331545+07:00 0HLN64EJQ65PE:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=Uje7LzsYxgG5eZRu1TbAaQ   (ca22a1cb)
2019-06-01T06:57:30.2483061+07:00 0HLN64EJQ65PE:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T06:57:30.2711288+07:00 0HLN64EJQ65PE:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T06:57:30.2778286+07:00 0HLN64EJQ65P7:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/images/users.png   (ca22a1cb)
2019-06-01T06:57:30.3188062+07:00 0HLN64EJQ65P7:00000006 [INF] The file "/admin-side/images/users.png" was not modified (f1f8d725)
2019-06-01T06:57:30.3327623+07:00 0HLN64EJQ65PA:00000003 [INF] Executed DbCommand ("223"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T06:57:30.3344923+07:00 0HLN64EJQ65P7:00000006 [INF] Request finished in 57.0141ms 304 image/png (791a596a)
2019-06-01T06:57:30.3458515+07:00 0HLN64EJQ65PE:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T06:57:30.4546186+07:00 0HLN64EJQ65PA:00000003 [INF] Executed DbCommand ("38"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T06:57:30.8711721+07:00 0HLN64EJQ65PA:00000003 [INF] Executed DbCommand ("89"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T06:57:30.9623236+07:00 0HLN64EJQ65P9:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 702.6878ms. (50a9e262)
2019-06-01T06:57:30.9841727+07:00 0HLN64EJQ65PA:00000003 [INF] Executed DbCommand ("53"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T06:57:31.2556814+07:00 0HLN64EJQ65P9:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T06:57:31.4283368+07:00 0HLN64EJQ65PA:00000003 [INF] Executed DbCommand ("29"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T06:57:31.5081455+07:00 0HLN64EJQ65P9:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 1122.7379ms (afa2e885)
2019-06-01T06:57:31.5523719+07:00 0HLN64EJQ65PA:00000003 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T06:57:31.5568827+07:00 0HLN64EJQ65P9:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T06:57:31.6678849+07:00 0HLN64EJQ65PA:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2145.3442ms. (50a9e262)
2019-06-01T06:57:31.6721610+07:00 0HLN64EJQ65P9:00000003 [INF] Request finished in 2908.0168ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T06:57:31.6986110+07:00 0HLN64EJQ65PA:00000003 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T06:57:31.7141675+07:00 0HLN64EJQ65PA:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 2400.9276ms (afa2e885)
2019-06-01T06:57:31.7216079+07:00 0HLN64EJQ65PA:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T06:57:31.7308354+07:00 0HLN64EJQ65PA:00000003 [INF] Request finished in 3115.4698ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:00:17.0345394+07:00 0HLN64EJQ65PA:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T07:00:17.0399071+07:00 0HLN64EJQ65PA:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T07:00:17.0453956+07:00 0HLN64EJQ65PA:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T07:00:17.0517286+07:00 0HLN64EJQ65PA:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:00:17.0583231+07:00 0HLN64EJQ65PA:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:00:17.0637915+07:00 0HLN64EJQ65PA:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2416ms. (50a9e262)
2019-06-01T07:00:17.0686723+07:00 0HLN64EJQ65PA:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:00:17.0764372+07:00 0HLN64EJQ65PA:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:00:17.1839370+07:00 0HLN64EJQ65PA:00000004 [INF] Executed DbCommand ("100"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:00:17.1896486+07:00 0HLN64EJQ65PA:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:00:17.2060444+07:00 0HLN64EJQ65PA:00000004 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:00:17.2328137+07:00 0HLN64EJQ65PA:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:00:17.2459394+07:00 0HLN64EJQ65PA:00000004 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:00:17.2500974+07:00 0HLN64EJQ65PA:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:00:17.2643094+07:00 0HLN64EJQ65PA:00000004 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:00:17.2688152+07:00 0HLN64EJQ65PA:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:00:17.2807967+07:00 0HLN64EJQ65PA:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:00:17.2986482+07:00 0HLN64EJQ65PA:00000004 [INF] Executed ViewResult - view "Index" executed in 219.1107ms. (f66409e9)
2019-06-01T07:00:17.3619393+07:00 0HLN64EJQ65PA:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 253.4705ms (afa2e885)
2019-06-01T07:00:17.3645370+07:00 0HLN64EJQ65PE:00000001 [INF] Request finished in 167108.5705ms 101  (791a596a)
2019-06-01T07:00:17.3746462+07:00 0HLN64EJQ65PA:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T07:00:17.3869928+07:00 0HLN64EJQ65PA:00000004 [INF] Request finished in 344.3775ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:00:18.0288660+07:00 0HLN64EJQ65PA:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:00:18.0310206+07:00 0HLN64EJQ65P9:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:00:18.0328610+07:00 0HLN64EJQ65P7:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:00:18.0483248+07:00 0HLN64EJQ65PA:00000005 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:00:18.0508010+07:00 0HLN64EJQ65P9:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:00:18.0623649+07:00 0HLN64EJQ65PA:00000005 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:00:18.0696872+07:00 0HLN64EJQ65P9:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:00:18.0771374+07:00 0HLN64EJQ65PA:00000005 [INF] Request finished in 47.0063ms 200 application/json (791a596a)
2019-06-01T07:00:18.0780728+07:00 0HLN64EJQ65P9:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:00:18.0900302+07:00 0HLN64EJQ65P9:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:00:18.0909939+07:00 0HLN64EJQ65P7:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T07:00:18.0932966+07:00 0HLN64EJQ65PA:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T07:00:18.0982234+07:00 0HLN64EJQ65P9:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:00:18.1013110+07:00 0HLN64EJQ65P7:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T07:00:18.1102509+07:00 0HLN64EJQ65PA:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T07:00:18.1113877+07:00 0HLN64EJQ65P7:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:00:18.1181475+07:00 0HLN64EJQ65PA:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T07:00:18.1211235+07:00 0HLN64EJQ65P7:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:00:18.1265311+07:00 0HLN64EJQ65PA:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:00:18.1291227+07:00 0HLN64EJQ65P7:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:00:18.1325003+07:00 0HLN64EJQ65PA:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T07:00:18.1752432+07:00 0HLN64EJQ65P9:00000004 [INF] Executed DbCommand ("48"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:00:18.1783755+07:00 0HLN64EJQ65P7:00000007 [INF] Executed DbCommand ("18"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:00:18.1956506+07:00 0HLN64EJQ65PA:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 42.7449ms. (50a9e262)
2019-06-01T07:00:18.2112190+07:00 0HLN64EJQ65PF:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=goaNJm9ZeNoTjXAigCsGTQ   (ca22a1cb)
2019-06-01T07:00:18.2137819+07:00 0HLN64EJQ65PA:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:00:18.2158574+07:00 0HLN64EJQ65P9:00000004 [INF] Executed DbCommand ("19"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:00:18.2207156+07:00 0HLN64EJQ65PF:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:00:18.2306905+07:00 0HLN64EJQ65PA:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 96.6797ms (afa2e885)
2019-06-01T07:00:18.2346758+07:00 0HLN64EJQ65P9:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 126.6169ms. (50a9e262)
2019-06-01T07:00:18.2401515+07:00 0HLN64EJQ65PF:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:00:18.2437667+07:00 0HLN64EJQ65PA:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T07:00:18.2500362+07:00 0HLN64EJQ65P9:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:00:18.2510192+07:00 0HLN64EJQ65PA:00000006 [INF] Request finished in 161.7233ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:00:18.2784834+07:00 0HLN64EJQ65P8:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T07:00:18.2803972+07:00 0HLN64EJQ65P9:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 181.4808ms (afa2e885)
2019-06-01T07:00:18.2822914+07:00 0HLN64EJQ65P7:00000007 [INF] Executed DbCommand ("16"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:00:18.2927751+07:00 0HLN64EJQ65PF:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:00:18.2977584+07:00 0HLN64EJQ65P9:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:00:18.3120817+07:00 0HLN64EJQ65P7:00000007 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T07:00:18.3128956+07:00 0HLN64EJQ65P9:00000004 [INF] Request finished in 277.9579ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:00:18.3293030+07:00 0HLN64EJQ65P8:00000008 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T07:00:18.3322314+07:00 0HLN64EJQ65P7:00000007 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T07:00:18.3430314+07:00 0HLN64EJQ65P8:00000008 [INF] Request finished in 65.2836ms 200 image/x-icon (791a596a)
2019-06-01T07:00:18.3493404+07:00 0HLN64EJQ65P7:00000007 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T07:00:18.3617346+07:00 0HLN64EJQ65P7:00000007 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T07:00:18.3781616+07:00 0HLN64EJQ65P7:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T07:00:18.3984660+07:00 0HLN64EJQ65P7:00000007 [INF] Executed DbCommand ("14"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T07:00:18.4188972+07:00 0HLN64EJQ65P7:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 277.3331ms. (50a9e262)
2019-06-01T07:00:18.4367589+07:00 0HLN64EJQ65P7:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:00:18.4496007+07:00 0HLN64EJQ65P7:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 335.9381ms (afa2e885)
2019-06-01T07:00:18.4538457+07:00 0HLN64EJQ65P7:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T07:00:18.4610727+07:00 0HLN64EJQ65P7:00000007 [INF] Request finished in 435.6021ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:06:17.6593938+07:00 0HLN64EJQ65PG:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T07:06:17.6665614+07:00 0HLN64EJQ65PG:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T07:06:17.6765434+07:00 0HLN64EJQ65PG:00000001 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T07:06:17.6822705+07:00 0HLN64EJQ65PG:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:06:17.6887345+07:00 0HLN64EJQ65PG:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:06:17.6946237+07:00 0HLN64EJQ65PG:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.5107ms. (50a9e262)
2019-06-01T07:06:17.7037786+07:00 0HLN64EJQ65PG:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:06:17.7229401+07:00 0HLN64EJQ65PG:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:06:17.9116521+07:00 0HLN64EJQ65PG:00000001 [INF] Executed DbCommand ("171"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:06:17.9314416+07:00 0HLN64EJQ65PG:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:06:17.9575482+07:00 0HLN64EJQ65PG:00000001 [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:06:17.9642937+07:00 0HLN64EJQ65PG:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:06:17.9790042+07:00 0HLN64EJQ65PG:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:06:17.9846448+07:00 0HLN64EJQ65PG:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:06:17.9951121+07:00 0HLN64EJQ65PG:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:06:18.0108758+07:00 0HLN64EJQ65PG:00000001 [INF] Executed ViewResult - view "Index" executed in 303.797ms. (f66409e9)
2019-06-01T07:06:18.0933467+07:00 0HLN64EJQ65PG:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 334.4596ms (afa2e885)
2019-06-01T07:06:18.0969459+07:00 0HLN64EJQ65PF:00000001 [INF] Request finished in 359831.6678ms 101  (791a596a)
2019-06-01T07:06:18.1053766+07:00 0HLN64EJQ65PG:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T07:06:18.1105028+07:00 0HLN64EJQ65PG:00000001 [INF] Request finished in 453.3854ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:06:18.3102331+07:00 0HLN64EJQ65PG:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:06:18.3185912+07:00 0HLN64EJQ65PG:00000002 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:06:18.3268427+07:00 0HLN64EJQ65PG:00000002 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:06:18.3407955+07:00 0HLN64EJQ65PG:00000002 [INF] Request finished in 35.6717ms 200 application/json (791a596a)
2019-06-01T07:06:18.3448103+07:00 0HLN64EJQ65PH:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:06:18.3463939+07:00 0HLN64EJQ65PI:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:06:18.3584948+07:00 0HLN64EJQ65PH:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:06:18.3611204+07:00 0HLN64EJQ65PI:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T07:06:18.3662610+07:00 0HLN64EJQ65PH:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:06:18.3727602+07:00 0HLN64EJQ65PI:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T07:06:18.3808627+07:00 0HLN64EJQ65PH:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:06:18.3837550+07:00 0HLN64EJQ65PI:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:06:18.3914084+07:00 0HLN64EJQ65PH:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:06:18.3932303+07:00 0HLN64EJQ65PI:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:06:18.3972254+07:00 0HLN64EJQ65PH:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:06:18.4008102+07:00 0HLN64EJQ65PI:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:06:18.4251393+07:00 0HLN64EJQ65PH:00000001 [INF] Executed DbCommand ("16"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:06:18.4275676+07:00 0HLN64EJQ65PI:00000001 [INF] Executed DbCommand ("15"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:06:18.4717554+07:00 0HLN64EJQ65PH:00000001 [INF] Executed DbCommand ("19"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:06:18.4801895+07:00 0HLN64EJQ65PI:00000001 [INF] Executed DbCommand ("24"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:06:18.4946531+07:00 0HLN64EJQ65PH:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 80.7174ms. (50a9e262)
2019-06-01T07:06:18.5132552+07:00 0HLN64EJQ65PI:00000001 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T07:06:18.5207613+07:00 0HLN64EJQ65PJ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=jr8FCnoWzNJEy6OZBoGtvQ   (ca22a1cb)
2019-06-01T07:06:18.5250903+07:00 0HLN64EJQ65PH:00000001 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:06:18.5600032+07:00 0HLN64EJQ65PI:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T07:06:18.5640577+07:00 0HLN64EJQ65PJ:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:06:18.5695846+07:00 0HLN64EJQ65PH:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 158.5106ms (afa2e885)
2019-06-01T07:06:18.5798455+07:00 0HLN64EJQ65PJ:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:06:18.5828581+07:00 0HLN64EJQ65PI:00000001 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T07:06:18.6354668+07:00 0HLN64EJQ65PH:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:06:18.6407809+07:00 0HLN64EJQ65PI:00000001 [INF] Executed DbCommand ("22"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T07:06:18.6581630+07:00 0HLN64EJQ65PJ:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:06:18.6619899+07:00 0HLN64EJQ65PI:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T07:06:18.6629171+07:00 0HLN64EJQ65PH:00000001 [INF] Request finished in 312.1991ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:06:18.6778213+07:00 0HLN64EJQ65PI:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T07:06:18.6924978+07:00 0HLN64EJQ65PI:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 285.205ms. (50a9e262)
2019-06-01T07:06:18.6994356+07:00 0HLN64EJQ65PI:00000001 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:06:18.7164248+07:00 0HLN64EJQ65PI:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 327.0725ms (afa2e885)
2019-06-01T07:06:18.7221835+07:00 0HLN64EJQ65PI:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T07:06:18.7324423+07:00 0HLN64EJQ65PI:00000001 [INF] Request finished in 393.5742ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:06:18.7588961+07:00 0HLN64EJQ65PI:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:06:18.7652547+07:00 0HLN64EJQ65PI:00000002 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:06:18.7705035+07:00 0HLN64EJQ65PI:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:06:18.7787119+07:00 0HLN64EJQ65PI:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:06:18.7850536+07:00 0HLN64EJQ65PI:00000002 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:06:18.7961400+07:00 0HLN64EJQ65PI:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:06:18.8025477+07:00 0HLN64EJQ65PI:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:06:18.8118429+07:00 0HLN64EJQ65PI:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:06:18.8163828+07:00 0HLN64EJQ65PI:00000002 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 26.7889ms. (50a9e262)
2019-06-01T07:06:18.8215119+07:00 0HLN64EJQ65PI:00000002 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:06:18.8304144+07:00 0HLN64EJQ65PI:00000002 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 51.0797ms (afa2e885)
2019-06-01T07:06:18.8347873+07:00 0HLN64EJQ65PI:00000002 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:06:18.8431450+07:00 0HLN64EJQ65PI:00000002 [INF] Request finished in 82.0565ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:14:13.2936116+07:00 0HLN64EJQ65PK:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T07:14:13.3070216+07:00 0HLN64EJQ65PK:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T07:14:13.3145235+07:00 0HLN64EJQ65PK:00000001 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T07:14:13.3194142+07:00 0HLN64EJQ65PK:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:14:13.3246241+07:00 0HLN64EJQ65PK:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:14:13.3297879+07:00 0HLN64EJQ65PK:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2879ms. (50a9e262)
2019-06-01T07:14:13.3567065+07:00 0HLN64EJQ65PK:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:14:13.3665247+07:00 0HLN64EJQ65PK:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:14:13.5535600+07:00 0HLN64EJQ65PK:00000001 [INF] Executed DbCommand ("151"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:14:13.5605894+07:00 0HLN64EJQ65PK:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:14:13.5837906+07:00 0HLN64EJQ65PK:00000001 [INF] Executed DbCommand ("10"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:14:13.5904138+07:00 0HLN64EJQ65PK:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:14:13.6036799+07:00 0HLN64EJQ65PK:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:14:13.6074308+07:00 0HLN64EJQ65PK:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:14:13.6169434+07:00 0HLN64EJQ65PK:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:14:13.6298156+07:00 0HLN64EJQ65PK:00000001 [INF] Executed ViewResult - view "Index" executed in 289.7207ms. (f66409e9)
2019-06-01T07:14:13.6384232+07:00 0HLN64EJQ65PK:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 315.4278ms (afa2e885)
2019-06-01T07:14:13.6450156+07:00 0HLN64EJQ65PK:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T07:14:13.6521007+07:00 0HLN64EJQ65PK:00000001 [INF] Request finished in 360.0542ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:14:13.7041204+07:00 0HLN64EJQ65PJ:00000001 [INF] Request finished in 475200.8982ms 101  (791a596a)
2019-06-01T07:14:14.0823884+07:00 0HLN64EJQ65PK:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:14:14.0974148+07:00 0HLN64EJQ65PK:00000002 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:14:14.1007251+07:00 0HLN64EJQ65PM:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:14:14.1093983+07:00 0HLN64EJQ65PK:00000002 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:14:14.1117389+07:00 0HLN64EJQ65PM:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T07:14:14.1203087+07:00 0HLN64EJQ65PL:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:14:14.1278693+07:00 0HLN64EJQ65PM:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T07:14:14.1365782+07:00 0HLN64EJQ65PK:00000002 [INF] Request finished in 42.8549ms 200 application/json (791a596a)
2019-06-01T07:14:14.1433565+07:00 0HLN64EJQ65PM:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:14:14.1478899+07:00 0HLN64EJQ65PL:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:14:14.1578734+07:00 0HLN64EJQ65PM:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:14:14.1603033+07:00 0HLN64EJQ65PL:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:14:14.1658398+07:00 0HLN64EJQ65PM:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:14:14.1713963+07:00 0HLN64EJQ65PL:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:14:14.1813380+07:00 0HLN64EJQ65PL:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:14:14.1969011+07:00 0HLN64EJQ65PL:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:14:14.2445609+07:00 0HLN64EJQ65PL:00000001 [INF] Executed DbCommand ("14"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:14:14.2502979+07:00 0HLN64EJQ65PM:00000001 [INF] Executed DbCommand ("54"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:14:14.2602102+07:00 0HLN64EJQ65PN:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=OIU373hEdGTQYLESCs3OJA   (ca22a1cb)
2019-06-01T07:14:14.2760879+07:00 0HLN64EJQ65PN:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:14:14.2794155+07:00 0HLN64EJQ65PM:00000001 [INF] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:14:14.2823238+07:00 0HLN64EJQ65PL:00000001 [INF] Executed DbCommand ("17"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:14:14.2843791+07:00 0HLN64EJQ65PN:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:14:14.2936940+07:00 0HLN64EJQ65PL:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 102.1336ms. (50a9e262)
2019-06-01T07:14:14.3002750+07:00 0HLN64EJQ65PM:00000001 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T07:14:14.3216800+07:00 0HLN64EJQ65PL:00000001 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:14:14.3306737+07:00 0HLN64EJQ65PL:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 161.6655ms (afa2e885)
2019-06-01T07:14:14.3393498+07:00 0HLN64EJQ65PL:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:14:14.3422769+07:00 0HLN64EJQ65PM:00000001 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T07:14:14.3461095+07:00 0HLN64EJQ65PL:00000001 [INF] Request finished in 248.0379ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:14:14.3627200+07:00 0HLN64EJQ65PM:00000001 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T07:14:14.3905592+07:00 0HLN64EJQ65PM:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T07:14:14.4336315+07:00 0HLN64EJQ65PM:00000001 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T07:14:14.4368455+07:00 0HLN64EJQ65PN:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:14:14.4442547+07:00 0HLN64EJQ65PL:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T07:14:14.4646280+07:00 0HLN64EJQ65PM:00000001 [INF] Executed DbCommand ("12"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T07:14:14.4657106+07:00 0HLN64EJQ65PL:00000002 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T07:14:14.4722281+07:00 0HLN64EJQ65PM:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 307.8106ms. (50a9e262)
2019-06-01T07:14:14.4753608+07:00 0HLN64EJQ65PL:00000002 [INF] Request finished in 32.0024ms 200 image/x-icon (791a596a)
2019-06-01T07:14:14.4812734+07:00 0HLN64EJQ65PM:00000001 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:14:14.4891728+07:00 0HLN64EJQ65PM:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 353.8454ms (afa2e885)
2019-06-01T07:14:14.5031433+07:00 0HLN64EJQ65PM:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T07:14:14.5115318+07:00 0HLN64EJQ65PM:00000001 [INF] Request finished in 412.2228ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:14:14.5291228+07:00 0HLN64EJQ65PM:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:14:14.5341438+07:00 0HLN64EJQ65PM:00000002 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:14:14.5380179+07:00 0HLN64EJQ65PM:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:14:14.5451682+07:00 0HLN64EJQ65PM:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:14:14.5495974+07:00 0HLN64EJQ65PM:00000002 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:14:14.5570427+07:00 0HLN64EJQ65PM:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:14:14.5638944+07:00 0HLN64EJQ65PM:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:14:14.5705873+07:00 0HLN64EJQ65PM:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:14:14.5804470+07:00 0HLN64EJQ65PM:00000002 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 21.2282ms. (50a9e262)
2019-06-01T07:14:14.5848072+07:00 0HLN64EJQ65PM:00000002 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:14:14.5982345+07:00 0HLN64EJQ65PM:00000002 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 47.021ms (afa2e885)
2019-06-01T07:14:14.6026370+07:00 0HLN64EJQ65PM:00000002 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:14:14.6143620+07:00 0HLN64EJQ65PM:00000002 [INF] Request finished in 81.4727ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:14:17.5362583+07:00 0HLN64EJQ65PM:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/home   (ca22a1cb)
2019-06-01T07:14:17.5449845+07:00 0HLN64EJQ65PM:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T07:14:17.5505804+07:00 0HLN64EJQ65PM:00000003 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T07:14:17.5561656+07:00 0HLN64EJQ65PM:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:14:17.5628610+07:00 0HLN64EJQ65PM:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:14:17.5670361+07:00 0HLN64EJQ65PM:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0274ms. (50a9e262)
2019-06-01T07:14:17.5712840+07:00 0HLN64EJQ65PM:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:14:17.5769820+07:00 0HLN64EJQ65PM:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:14:17.5932782+07:00 0HLN64EJQ65PM:00000003 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:14:17.5983756+07:00 0HLN64EJQ65PM:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:14:17.6069832+07:00 0HLN64EJQ65PM:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:14:17.6121085+07:00 0HLN64EJQ65PM:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:14:17.6198254+07:00 0HLN64EJQ65PM:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:14:17.6270263+07:00 0HLN64EJQ65PM:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:14:17.6374997+07:00 0HLN64EJQ65PM:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:14:17.6435993+07:00 0HLN64EJQ65PM:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:14:17.6509520+07:00 0HLN64EJQ65PM:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:14:17.6651982+07:00 0HLN64EJQ65PM:00000003 [INF] Executed ViewResult - view "Index" executed in 85.6901ms. (f66409e9)
2019-06-01T07:14:17.7247599+07:00 0HLN64EJQ65PN:00000001 [INF] Request finished in 3412.3894ms 101  (791a596a)
2019-06-01T07:14:17.7271816+07:00 0HLN64EJQ65PM:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 115.5039ms (afa2e885)
2019-06-01T07:14:17.7342385+07:00 0HLN64EJQ65PM:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T07:14:17.7426701+07:00 0HLN64EJQ65PM:00000003 [INF] Request finished in 205.6896ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:14:17.9837566+07:00 0HLN64EJQ65PM:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:14:17.9946871+07:00 0HLN64EJQ65PL:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:14:17.9967565+07:00 0HLN64EJQ65PK:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:14:18.0141250+07:00 0HLN64EJQ65PL:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:14:18.0175342+07:00 0HLN64EJQ65PK:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T07:14:18.0274107+07:00 0HLN64EJQ65PL:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:14:18.0296437+07:00 0HLN64EJQ65PK:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T07:14:18.0380856+07:00 0HLN64EJQ65PL:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:14:18.0433369+07:00 0HLN64EJQ65PK:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:14:18.0460991+07:00 0HLN64EJQ65PM:00000004 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:14:18.0522612+07:00 0HLN64EJQ65PL:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:14:18.0544454+07:00 0HLN64EJQ65PK:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:14:18.0662197+07:00 0HLN64EJQ65PL:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:14:18.0691477+07:00 0HLN64EJQ65PK:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:14:18.0926616+07:00 0HLN64EJQ65PM:00000004 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:14:18.1038895+07:00 0HLN64EJQ65PL:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:14:18.1089963+07:00 0HLN64EJQ65PM:00000004 [INF] Request finished in 127.6963ms 200 application/json (791a596a)
2019-06-01T07:14:18.1134714+07:00 0HLN64EJQ65PK:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:14:18.1154976+07:00 0HLN64EJQ65PL:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:14:18.1248888+07:00 0HLN64EJQ65PL:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 63.3312ms. (50a9e262)
2019-06-01T07:14:18.1267108+07:00 0HLN64EJQ65PK:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:14:18.1334000+07:00 0HLN64EJQ65PL:00000003 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:14:18.1387637+07:00 0HLN64EJQ65PM:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T07:14:18.1429192+07:00 0HLN64EJQ65PK:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T07:14:18.1451949+07:00 0HLN64EJQ65PL:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 107.6208ms (afa2e885)
2019-06-01T07:14:18.1529647+07:00 0HLN64EJQ65PL:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:14:18.1570476+07:00 0HLN64EJQ65PK:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T07:14:18.1583788+07:00 0HLN64EJQ65PM:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T07:14:18.1648211+07:00 0HLN64EJQ65PK:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T07:14:18.1666213+07:00 0HLN64EJQ65PL:00000003 [INF] Request finished in 180.1561ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:14:18.1748485+07:00 0HLN64EJQ65PM:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T07:14:18.1774509+07:00 0HLN64EJQ65PK:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T07:14:18.1834356+07:00 0HLN64EJQ65PM:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:14:18.1909774+07:00 0HLN64EJQ65PK:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T07:14:18.1922069+07:00 0HLN64EJQ65PM:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T07:14:18.2148789+07:00 0HLN64EJQ65PK:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T07:14:18.2236235+07:00 0HLN64EJQ65PM:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 17.1273ms. (50a9e262)
2019-06-01T07:14:18.2482496+07:00 0HLN64EJQ65PK:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 160.6874ms. (50a9e262)
2019-06-01T07:14:18.2672703+07:00 0HLN64EJQ65PM:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:14:18.2764875+07:00 0HLN64EJQ65PK:00000003 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:14:18.3186134+07:00 0HLN64EJQ65PM:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 92.7433ms (afa2e885)
2019-06-01T07:14:18.3224341+07:00 0HLN64EJQ65PK:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 249.5809ms (afa2e885)
2019-06-01T07:14:18.3359282+07:00 0HLN64EJQ65PM:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T07:14:18.3461136+07:00 0HLN64EJQ65PK:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T07:14:18.3503849+07:00 0HLN64EJQ65PO:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=tnpnZm1Qvmvd3nPrimL5gw   (ca22a1cb)
2019-06-01T07:14:18.3612910+07:00 0HLN64EJQ65PM:00000005 [INF] Request finished in 218.3464ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:14:18.3636472+07:00 0HLN64EJQ65PK:00000003 [INF] Request finished in 363.7859ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:14:18.3748374+07:00 0HLN64EJQ65PO:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:14:18.3792529+07:00 0HLN64EJQ65PO:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:14:18.4288037+07:00 0HLN64EJQ65PO:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:19:58.5161910+07:00 0HLN64EJQ65PP:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/home   (ca22a1cb)
2019-06-01T07:19:58.5296175+07:00 0HLN64EJQ65PP:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T07:19:58.5351957+07:00 0HLN64EJQ65PP:00000001 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T07:19:58.5408413+07:00 0HLN64EJQ65PP:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:19:58.5463182+07:00 0HLN64EJQ65PP:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:19:58.5506895+07:00 0HLN64EJQ65PP:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.1632ms. (50a9e262)
2019-06-01T07:19:58.5767207+07:00 0HLN64EJQ65PP:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:19:58.5842099+07:00 0HLN64EJQ65PP:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:19:58.6679657+07:00 0HLN64EJQ65PP:00000001 [INF] Executed DbCommand ("67"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:19:58.6743530+07:00 0HLN64EJQ65PP:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:19:58.6875854+07:00 0HLN64EJQ65PP:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:19:58.6929877+07:00 0HLN64EJQ65PP:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:19:58.7057856+07:00 0HLN64EJQ65PP:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:19:58.7101921+07:00 0HLN64EJQ65PP:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:19:58.7237203+07:00 0HLN64EJQ65PP:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:19:58.7285622+07:00 0HLN64EJQ65PP:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:19:58.7378138+07:00 0HLN64EJQ65PP:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:19:58.7540941+07:00 0HLN64EJQ65PP:00000001 [INF] Executed ViewResult - view "Index" executed in 191.1288ms. (f66409e9)
2019-06-01T07:19:58.7625707+07:00 0HLN64EJQ65PP:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 218.9512ms (afa2e885)
2019-06-01T07:19:58.8418326+07:00 0HLN64EJQ65PP:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T07:19:58.8710245+07:00 0HLN64EJQ65PP:00000001 [INF] Request finished in 337.5787ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:19:58.8777617+07:00 0HLN64EJQ65PO:00000001 [INF] Request finished in 340570.9349ms 101  (791a596a)
2019-06-01T07:19:59.0964519+07:00 0HLN64EJQ65PP:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=ZC4sGeyWadS3ROOS9MURXEGuOICdm7ppARsmSHNOfeI   (ca22a1cb)
2019-06-01T07:19:59.1197331+07:00 0HLN64EJQ65PP:00000002 [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T07:19:59.1423333+07:00 0HLN64EJQ65PP:00000002 [INF] Request finished in 46.4639ms 200 application/javascript (791a596a)
2019-06-01T07:19:59.7137806+07:00 0HLN64EJQ65PP:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:19:59.7187706+07:00 0HLN64EJQ65PS:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T07:19:59.7197663+07:00 0HLN64EJQ65PQ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:19:59.7292211+07:00 0HLN64EJQ65PP:00000003 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:19:59.7327485+07:00 0HLN64EJQ65PS:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T07:19:59.7456071+07:00 0HLN64EJQ65PP:00000003 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:19:59.7510557+07:00 0HLN64EJQ65PS:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T07:19:59.7579833+07:00 0HLN64EJQ65PP:00000003 [INF] Request finished in 49.6217ms 200 application/json (791a596a)
2019-06-01T07:19:59.7619377+07:00 0HLN64EJQ65PS:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:19:59.7873986+07:00 0HLN64EJQ65PS:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T07:19:59.8104341+07:00 0HLN64EJQ65PQ:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:19:59.8150824+07:00 0HLN64EJQ65PP:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T07:19:59.8461637+07:00 0HLN64EJQ65PS:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 31.0502ms. (50a9e262)
2019-06-01T07:19:59.8472501+07:00 0HLN64EJQ65PP:00000004 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T07:19:59.8534630+07:00 0HLN64EJQ65PS:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:19:59.8599778+07:00 0HLN64EJQ65PP:00000004 [INF] Request finished in 64.3942ms 200 image/x-icon (791a596a)
2019-06-01T07:19:59.8622064+07:00 0HLN64EJQ65PT:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=IJuAoYIk5FFrvlav0PHMdA   (ca22a1cb)
2019-06-01T07:19:59.8778022+07:00 0HLN64EJQ65PS:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 107.5757ms (afa2e885)
2019-06-01T07:19:59.8836870+07:00 0HLN64EJQ65PT:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:19:59.8878268+07:00 0HLN64EJQ65PS:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T07:19:59.8941727+07:00 0HLN64EJQ65PQ:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:19:59.9263807+07:00 0HLN64EJQ65PT:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:19:59.9364520+07:00 0HLN64EJQ65PS:00000001 [INF] Request finished in 190.5705ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:19:59.9617767+07:00 0HLN64EJQ65PQ:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:19:59.9658440+07:00 0HLN64EJQ65PR:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:19:59.9833902+07:00 0HLN64EJQ65PT:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:19:59.9873029+07:00 0HLN64EJQ65PQ:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:19:59.9989394+07:00 0HLN64EJQ65PR:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T07:20:00.0076048+07:00 0HLN64EJQ65PQ:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:20:00.0114600+07:00 0HLN64EJQ65PR:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T07:20:00.0284142+07:00 0HLN64EJQ65PR:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:00.0509487+07:00 0HLN64EJQ65PR:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:20:00.0638115+07:00 0HLN64EJQ65PQ:00000001 [INF] Executed DbCommand ("25"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:20:00.0817885+07:00 0HLN64EJQ65PR:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:20:00.0869676+07:00 0HLN64EJQ65PQ:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:20:00.1281754+07:00 0HLN64EJQ65PQ:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 99.8953ms. (50a9e262)
2019-06-01T07:20:00.1461163+07:00 0HLN64EJQ65PR:00000001 [INF] Executed DbCommand ("32"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:20:00.1675624+07:00 0HLN64EJQ65PQ:00000001 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:20:00.2125913+07:00 0HLN64EJQ65PQ:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 273.0492ms (afa2e885)
2019-06-01T07:20:00.2153055+07:00 0HLN64EJQ65PR:00000001 [INF] Executed DbCommand ("12"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:20:00.2328625+07:00 0HLN64EJQ65PQ:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:20:00.2375760+07:00 0HLN64EJQ65PR:00000001 [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T07:20:00.2626479+07:00 0HLN64EJQ65PQ:00000001 [INF] Request finished in 537.7066ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:20:00.2663181+07:00 0HLN64EJQ65PR:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T07:20:00.2789236+07:00 0HLN64EJQ65PR:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T07:20:00.2970467+07:00 0HLN64EJQ65PR:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T07:20:00.3138770+07:00 0HLN64EJQ65PR:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T07:20:00.3349297+07:00 0HLN64EJQ65PR:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T07:20:00.3429342+07:00 0HLN64EJQ65PR:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 285.1493ms. (50a9e262)
2019-06-01T07:20:00.3487837+07:00 0HLN64EJQ65PR:00000001 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:20:00.3589129+07:00 0HLN64EJQ65PR:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 337.7014ms (afa2e885)
2019-06-01T07:20:00.3651147+07:00 0HLN64EJQ65PR:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T07:20:00.3762819+07:00 0HLN64EJQ65PR:00000001 [INF] Request finished in 663.7569ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:20:04.9933792+07:00 0HLN64EJQ65PR:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/home   (ca22a1cb)
2019-06-01T07:20:04.9991285+07:00 0HLN64EJQ65PR:00000002 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T07:20:05.0082752+07:00 0HLN64EJQ65PR:00000002 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T07:20:05.0126928+07:00 0HLN64EJQ65PR:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:05.0174595+07:00 0HLN64EJQ65PR:00000002 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:20:05.0218050+07:00 0HLN64EJQ65PR:00000002 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0627ms. (50a9e262)
2019-06-01T07:20:05.0280758+07:00 0HLN64EJQ65PR:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:20:05.0329812+07:00 0HLN64EJQ65PR:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:20:05.0453021+07:00 0HLN64EJQ65PR:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:20:05.0496175+07:00 0HLN64EJQ65PR:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:05.0625996+07:00 0HLN64EJQ65PR:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:20:05.0681602+07:00 0HLN64EJQ65PR:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:05.0776392+07:00 0HLN64EJQ65PR:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:20:05.0830169+07:00 0HLN64EJQ65PR:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:05.0934148+07:00 0HLN64EJQ65PR:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:20:05.0981168+07:00 0HLN64EJQ65PR:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:05.1100458+07:00 0HLN64EJQ65PR:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:20:05.2180781+07:00 0HLN64EJQ65PR:00000002 [INF] Executed ViewResult - view "Index" executed in 89.7139ms. (f66409e9)
2019-06-01T07:20:05.2678795+07:00 0HLN64EJQ65PR:00000002 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 209.8746ms (afa2e885)
2019-06-01T07:20:05.2704407+07:00 0HLN64EJQ65PQ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=ZC4sGeyWadS3ROOS9MURXEGuOICdm7ppARsmSHNOfeI   (ca22a1cb)
2019-06-01T07:20:05.2823394+07:00 0HLN64EJQ65PR:00000002 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T07:20:05.2889346+07:00 0HLN64EJQ65PQ:00000002 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T07:20:05.3011902+07:00 0HLN64EJQ65PR:00000002 [INF] Request finished in 294.9371ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:20:05.3099061+07:00 0HLN64EJQ65PQ:00000002 [INF] Request finished in 71.1523ms 304 application/javascript (791a596a)
2019-06-01T07:20:05.3216977+07:00 0HLN64EJQ65PT:00000001 [INF] Request finished in 5412.6769ms 101  (791a596a)
2019-06-01T07:20:05.5673980+07:00 0HLN64EJQ65PS:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:20:05.5721713+07:00 0HLN64EJQ65PR:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:20:05.5812938+07:00 0HLN64EJQ65PS:00000002 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T07:20:05.5839399+07:00 0HLN64EJQ65PR:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:20:05.5931465+07:00 0HLN64EJQ65PS:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T07:20:05.5952343+07:00 0HLN64EJQ65PR:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:20:05.6018099+07:00 0HLN64EJQ65PS:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:05.6105971+07:00 0HLN64EJQ65PR:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:05.6226882+07:00 0HLN64EJQ65PS:00000002 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:20:05.6259694+07:00 0HLN64EJQ65PR:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:20:05.6326016+07:00 0HLN64EJQ65PS:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:20:05.6337483+07:00 0HLN64EJQ65PR:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:20:05.6443054+07:00 0HLN64EJQ65PS:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:20:05.6465766+07:00 0HLN64EJQ65PR:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:20:05.6505524+07:00 0HLN64EJQ65PP:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T07:20:05.6611342+07:00 0HLN64EJQ65PS:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:20:05.6657922+07:00 0HLN64EJQ65PR:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:20:05.6985852+07:00 0HLN64EJQ65PS:00000002 [INF] Executed DbCommand ("15"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T07:20:05.7040248+07:00 0HLN64EJQ65PR:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 39.9154ms. (50a9e262)
2019-06-01T07:20:05.7138418+07:00 0HLN64EJQ65PS:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T07:20:05.7163399+07:00 0HLN64EJQ65PR:00000003 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:20:05.7283144+07:00 0HLN64EJQ65PS:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T07:20:05.7301080+07:00 0HLN64EJQ65PR:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 121.2827ms (afa2e885)
2019-06-01T07:20:05.7322000+07:00 0HLN64EJQ65PP:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T07:20:05.7511447+07:00 0HLN64EJQ65PS:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T07:20:05.7524509+07:00 0HLN64EJQ65PR:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:20:05.7762884+07:00 0HLN64EJQ65PS:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T07:20:05.7868920+07:00 0HLN64EJQ65PR:00000003 [INF] Request finished in 196.76ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:20:05.7959341+07:00 0HLN64EJQ65PS:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T07:20:05.7996998+07:00 0HLN64EJQ65PP:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T07:20:05.8313252+07:00 0HLN64EJQ65PS:00000002 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 173.4681ms. (50a9e262)
2019-06-01T07:20:05.8333617+07:00 0HLN64EJQ65PR:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T07:20:05.8371467+07:00 0HLN64EJQ65PP:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:05.8459516+07:00 0HLN64EJQ65PS:00000002 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:20:05.8539758+07:00 0HLN64EJQ65PR:00000004 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T07:20:05.8630191+07:00 0HLN64EJQ65PS:00000002 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 253.0106ms (afa2e885)
2019-06-01T07:20:05.8671324+07:00 0HLN64EJQ65PR:00000004 [INF] Request finished in 39.7882ms 200 image/x-icon (791a596a)
2019-06-01T07:20:05.8764333+07:00 0HLN64EJQ65PS:00000002 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T07:20:05.8822199+07:00 0HLN64EJQ65PP:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T07:20:05.9174358+07:00 0HLN64EJQ65PQ:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:20:05.9274158+07:00 0HLN64EJQ65PS:00000002 [INF] Request finished in 318.4042ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:20:05.9374195+07:00 0HLN64EJQ65PP:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 35.2479ms. (50a9e262)
2019-06-01T07:20:05.9478666+07:00 0HLN64EJQ65PQ:00000003 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:20:05.9517287+07:00 0HLN64EJQ65PP:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:20:05.9650473+07:00 0HLN64EJQ65PQ:00000003 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:20:05.9701345+07:00 0HLN64EJQ65PP:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 153.8439ms (afa2e885)
2019-06-01T07:20:05.9809451+07:00 0HLN64EJQ65PQ:00000003 [INF] Request finished in 418.5202ms 200 application/json (791a596a)
2019-06-01T07:20:05.9839006+07:00 0HLN64EJQ65PP:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T07:20:06.0086822+07:00 0HLN64EJQ65PP:00000005 [INF] Request finished in 364.9244ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:20:06.0148762+07:00 0HLN64EJQ65PU:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=nEUC8JTQRSTb19nDu3ftxA   (ca22a1cb)
2019-06-01T07:20:06.0203400+07:00 0HLN64EJQ65PU:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:20:06.0319830+07:00 0HLN64EJQ65PU:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:20:06.0541525+07:00 0HLN64EJQ65PU:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:20:37.3584698+07:00 0HLN64EJQ65PP:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/home   (ca22a1cb)
2019-06-01T07:20:37.3637309+07:00 0HLN64EJQ65PP:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T07:20:37.3700357+07:00 0HLN64EJQ65PP:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T07:20:37.3780739+07:00 0HLN64EJQ65PP:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:37.3818437+07:00 0HLN64EJQ65PP:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:20:37.3857297+07:00 0HLN64EJQ65PP:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0369ms. (50a9e262)
2019-06-01T07:20:37.3899577+07:00 0HLN64EJQ65PP:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:20:37.3956525+07:00 0HLN64EJQ65PP:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:20:37.4044090+07:00 0HLN64EJQ65PP:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:20:37.4091101+07:00 0HLN64EJQ65PP:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:37.4176049+07:00 0HLN64EJQ65PP:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:20:37.4216894+07:00 0HLN64EJQ65PP:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:37.4292800+07:00 0HLN64EJQ65PP:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:20:37.4341460+07:00 0HLN64EJQ65PP:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:37.4440106+07:00 0HLN64EJQ65PP:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:20:37.4476324+07:00 0HLN64EJQ65PP:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:37.4535281+07:00 0HLN64EJQ65PP:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:20:37.4683520+07:00 0HLN64EJQ65PP:00000006 [INF] Executed ViewResult - view "Index" executed in 74.3408ms. (f66409e9)
2019-06-01T07:20:37.5368721+07:00 0HLN64EJQ65PP:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 98.4635ms (afa2e885)
2019-06-01T07:20:37.5406645+07:00 0HLN64EJQ65PU:00000001 [INF] Request finished in 31464.0787ms 101  (791a596a)
2019-06-01T07:20:37.5486965+07:00 0HLN64EJQ65PQ:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=naOTLOv3iO11GnCbTXFvpJ7uQ5ofMeawpIU2oDZFiNU   (ca22a1cb)
2019-06-01T07:20:37.5505074+07:00 0HLN64EJQ65PP:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T07:20:37.5712257+07:00 0HLN64EJQ65PP:00000006 [INF] Request finished in 198.2152ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:20:37.5740445+07:00 0HLN64EJQ65PQ:00000004 [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T07:20:37.5792314+07:00 0HLN64EJQ65PQ:00000004 [INF] Request finished in 37.0756ms 200 application/javascript (791a596a)
2019-06-01T07:20:37.7884366+07:00 0HLN64EJQ65PQ:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:20:37.8046663+07:00 0HLN64EJQ65PQ:00000005 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:20:37.8124181+07:00 0HLN64EJQ65PQ:00000005 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:20:37.8256985+07:00 0HLN64EJQ65PQ:00000005 [INF] Request finished in 36.7207ms 200 application/json (791a596a)
2019-06-01T07:20:37.8861473+07:00 0HLN64EJQ65PQ:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:20:37.8870433+07:00 0HLN64EJQ65PP:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:20:37.8957518+07:00 0HLN64EJQ65PQ:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:20:37.8994650+07:00 0HLN64EJQ65PP:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T07:20:37.9065743+07:00 0HLN64EJQ65PQ:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:20:37.9092061+07:00 0HLN64EJQ65PP:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T07:20:37.9141748+07:00 0HLN64EJQ65PQ:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:37.9162112+07:00 0HLN64EJQ65PP:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:37.9267220+07:00 0HLN64EJQ65PQ:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:20:37.9288697+07:00 0HLN64EJQ65PP:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:20:37.9345538+07:00 0HLN64EJQ65PQ:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:20:37.9395630+07:00 0HLN64EJQ65PS:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T07:20:37.9419745+07:00 0HLN64EJQ65PP:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:20:37.9527729+07:00 0HLN64EJQ65PQ:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:20:37.9552955+07:00 0HLN64EJQ65PP:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:20:37.9586354+07:00 0HLN64EJQ65PS:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T07:20:37.9792028+07:00 0HLN64EJQ65PQ:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:20:37.9822633+07:00 0HLN64EJQ65PP:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:20:37.9882108+07:00 0HLN64EJQ65PQ:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 52.5722ms. (50a9e262)
2019-06-01T07:20:37.9999339+07:00 0HLN64EJQ65PP:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T07:20:38.0041119+07:00 0HLN64EJQ65PQ:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:20:38.0158157+07:00 0HLN64EJQ65PP:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T07:20:38.0169693+07:00 0HLN64EJQ65PQ:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 97.6315ms (afa2e885)
2019-06-01T07:20:38.0246354+07:00 0HLN64EJQ65PP:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T07:20:38.0257414+07:00 0HLN64EJQ65PQ:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:20:38.0308565+07:00 0HLN64EJQ65PS:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T07:20:38.0389053+07:00 0HLN64EJQ65PQ:00000006 [INF] Request finished in 149.1178ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:20:38.0483523+07:00 0HLN64EJQ65PP:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T07:20:38.0659961+07:00 0HLN64EJQ65PP:00000007 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T07:20:38.0772556+07:00 0HLN64EJQ65PV:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=M9oS5bGmB1-hrKIBzLaZPg   (ca22a1cb)
2019-06-01T07:20:38.1106624+07:00 0HLN64EJQ65PP:00000007 [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T07:20:38.1134964+07:00 0HLN64EJQ65PV:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:20:38.1337426+07:00 0HLN64EJQ65PV:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:20:38.1379490+07:00 0HLN64EJQ65PP:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 182.2213ms. (50a9e262)
2019-06-01T07:20:38.1401323+07:00 0HLN64EJQ65PQ:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T07:20:38.1443830+07:00 0HLN64EJQ65PS:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:38.1500962+07:00 0HLN64EJQ65PP:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:20:38.1664379+07:00 0HLN64EJQ65PQ:00000007 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T07:20:38.1689327+07:00 0HLN64EJQ65PS:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T07:20:38.1773778+07:00 0HLN64EJQ65PP:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 241.0258ms (afa2e885)
2019-06-01T07:20:38.1811255+07:00 0HLN64EJQ65PQ:00000007 [INF] Request finished in 38.9546ms 200 image/x-icon (791a596a)
2019-06-01T07:20:38.1893519+07:00 0HLN64EJQ65PP:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T07:20:38.1965396+07:00 0HLN64EJQ65PS:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.9669ms. (50a9e262)
2019-06-01T07:20:38.1986562+07:00 0HLN64EJQ65PP:00000007 [INF] Request finished in 310.4022ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:20:38.2065011+07:00 0HLN64EJQ65PS:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:20:38.2151710+07:00 0HLN64EJQ65PV:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:20:38.2188022+07:00 0HLN64EJQ65PS:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 178.3518ms (afa2e885)
2019-06-01T07:20:38.2260330+07:00 0HLN64EJQ65PS:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T07:20:38.2325383+07:00 0HLN64EJQ65PS:00000003 [INF] Request finished in 299.3138ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:20:56.4617083+07:00 0HLN64EJQ65PS:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/home   (ca22a1cb)
2019-06-01T07:20:56.4672246+07:00 0HLN64EJQ65PS:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T07:20:56.4736311+07:00 0HLN64EJQ65PS:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T07:20:56.4782469+07:00 0HLN64EJQ65PS:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:56.4836221+07:00 0HLN64EJQ65PS:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:20:56.4870666+07:00 0HLN64EJQ65PS:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0225ms. (50a9e262)
2019-06-01T07:20:56.4961324+07:00 0HLN64EJQ65PS:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:20:56.5014325+07:00 0HLN64EJQ65PS:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:20:56.5160828+07:00 0HLN64EJQ65PS:00000004 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:20:56.5208643+07:00 0HLN64EJQ65PS:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:56.5337221+07:00 0HLN64EJQ65PS:00000004 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:20:56.5382871+07:00 0HLN64EJQ65PS:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:56.5512832+07:00 0HLN64EJQ65PS:00000004 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:20:56.5550530+07:00 0HLN64EJQ65PS:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:56.5676220+07:00 0HLN64EJQ65PS:00000004 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:20:56.5725767+07:00 0HLN64EJQ65PS:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:56.5809147+07:00 0HLN64EJQ65PS:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:20:56.6785774+07:00 0HLN64EJQ65PS:00000004 [INF] Executed ViewResult - view "Index" executed in 96.0109ms. (f66409e9)
2019-06-01T07:20:56.6830910+07:00 0HLN64EJQ65PV:00000001 [INF] Request finished in 18550.4893ms 101  (791a596a)
2019-06-01T07:20:56.7136851+07:00 0HLN64EJQ65PS:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 206.2037ms (afa2e885)
2019-06-01T07:20:56.7244387+07:00 0HLN64EJQ65PP:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=naOTLOv3iO11GnCbTXFvpJ7uQ5ofMeawpIU2oDZFiNU   (ca22a1cb)
2019-06-01T07:20:56.7406959+07:00 0HLN64EJQ65PS:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T07:20:56.7611365+07:00 0HLN64EJQ65PP:00000008 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T07:20:56.7689983+07:00 0HLN64EJQ65PS:00000004 [INF] Request finished in 286.2348ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:20:56.7829379+07:00 0HLN64EJQ65PP:00000008 [INF] Request finished in 80.6132ms 304 application/javascript (791a596a)
2019-06-01T07:20:57.0535908+07:00 0HLN64EJQ65PP:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:20:57.0575268+07:00 0HLN64EJQ65PS:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:20:57.0879174+07:00 0HLN64EJQ65PP:00000009 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:20:57.0989380+07:00 0HLN64EJQ65PS:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:20:57.1216745+07:00 0HLN64EJQ65PP:00000009 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:20:57.1539542+07:00 0HLN64EJQ65PS:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:20:57.3378092+07:00 0HLN64EJQ65PP:00000009 [INF] Request finished in 135.206ms 200 application/json (791a596a)
2019-06-01T07:20:57.3413764+07:00 0HLN64EJQ65PS:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:20:57.3510019+07:00 0HLN64EJQ65PS:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:20:57.3594158+07:00 0HLN64EJQ65PS:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:20:57.3705046+07:00 0HLN64EJQ65PS:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:20:57.3838892+07:00 0HLN64EJQ65PS:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:20:57.3924747+07:00 0HLN64EJQ65PS:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 32.9837ms. (50a9e262)
2019-06-01T07:20:57.4254166+07:00 0HLN64EJQ65PS:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:20:57.4495064+07:00 0HLN64EJQ65PS:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 267.5841ms (afa2e885)
2019-06-01T07:20:57.4558802+07:00 0HLN64EJQ65PS:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:20:57.4647450+07:00 0HLN64EJQ65PS:00000005 [INF] Request finished in 441.856ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:22:54.4324000+07:00 0HLN64EJQ65PS:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:22:54.4539494+07:00 0HLN64EJQ65PS:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T07:22:54.4618785+07:00 0HLN64EJQ65PS:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T07:22:54.4690210+07:00 0HLN64EJQ65PS:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:22:54.4757866+07:00 0HLN64EJQ65PS:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:22:54.4837161+07:00 0HLN64EJQ65PS:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:22:54.5043810+07:00 0HLN64EJQ65PS:00000006 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:22:54.5164401+07:00 0HLN64EJQ65PS:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:22:54.5274034+07:00 0HLN64EJQ65PS:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T07:22:54.5442722+07:00 0HLN64EJQ65PS:00000006 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T07:22:54.5582505+07:00 0HLN64EJQ65PS:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T07:22:54.5672007+07:00 0HLN64EJQ65PS:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T07:22:54.5783002+07:00 0HLN64EJQ65PS:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T07:22:54.5867924+07:00 0HLN64EJQ65PS:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T07:22:54.5911437+07:00 0HLN64EJQ65PS:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 111.533ms. (50a9e262)
2019-06-01T07:22:54.5948203+07:00 0HLN64EJQ65PS:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:22:54.6011559+07:00 0HLN64EJQ65PS:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 134.5693ms (afa2e885)
2019-06-01T07:22:54.6060700+07:00 0HLN64EJQ65PS:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T07:22:54.6099961+07:00 0HLN64EJQ65PS:00000006 [INF] Request finished in 189.4423ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:22:55.1661294+07:00 0HLN64EJQ65Q0:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=7Ya8ndqZp7q6AtQxAT2aAQ   (ca22a1cb)
2019-06-01T07:22:55.1808125+07:00 0HLN64EJQ65Q0:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:22:55.1929458+07:00 0HLN64EJQ65Q0:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:22:55.2956193+07:00 0HLN64EJQ65Q0:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:22:55.3638129+07:00 0HLN64EJQ65PS:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T07:22:55.3692656+07:00 0HLN64EJQ65PS:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T07:22:55.3754958+07:00 0HLN64EJQ65PS:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T07:22:55.3802162+07:00 0HLN64EJQ65PS:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:22:55.3859183+07:00 0HLN64EJQ65PS:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T07:22:55.4023528+07:00 0HLN64EJQ65PS:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.8209ms. (50a9e262)
2019-06-01T07:22:55.4070650+07:00 0HLN64EJQ65PS:00000007 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:22:55.4163770+07:00 0HLN64EJQ65PS:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 32.0106ms (afa2e885)
2019-06-01T07:22:55.4209981+07:00 0HLN64EJQ65PS:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T07:22:55.4272529+07:00 0HLN64EJQ65PS:00000007 [INF] Request finished in 60.9833ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:22:55.4951790+07:00 0HLN64EJQ65PS:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T07:22:55.5040385+07:00 0HLN64EJQ65PS:00000008 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T07:22:55.5135420+07:00 0HLN64EJQ65PS:00000008 [INF] Request finished in 14.4931ms 200 image/x-icon (791a596a)
2019-06-01T07:22:56.8287110+07:00 0HLN64EJQ65PS:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/home   (ca22a1cb)
2019-06-01T07:22:56.8343737+07:00 0HLN64EJQ65PS:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T07:22:56.8410950+07:00 0HLN64EJQ65PS:00000009 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T07:22:56.8453658+07:00 0HLN64EJQ65PS:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:22:56.8508369+07:00 0HLN64EJQ65PS:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:22:56.8555434+07:00 0HLN64EJQ65PS:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0775ms. (50a9e262)
2019-06-01T07:22:56.8621108+07:00 0HLN64EJQ65PS:00000009 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:22:56.8679086+07:00 0HLN64EJQ65PS:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:22:56.8867048+07:00 0HLN64EJQ65PS:00000009 [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:22:56.8936140+07:00 0HLN64EJQ65PS:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:22:56.9071713+07:00 0HLN64EJQ65PS:00000009 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:22:56.9124082+07:00 0HLN64EJQ65PS:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:22:56.9253276+07:00 0HLN64EJQ65PS:00000009 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:22:56.9298929+07:00 0HLN64EJQ65PS:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:22:56.9430982+07:00 0HLN64EJQ65PS:00000009 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:22:56.9472504+07:00 0HLN64EJQ65PS:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:22:56.9559175+07:00 0HLN64EJQ65PS:00000009 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:22:56.9647815+07:00 0HLN64EJQ65PS:00000009 [INF] Executed ViewResult - view "Index" executed in 103.5531ms. (f66409e9)
2019-06-01T07:22:56.9716808+07:00 0HLN64EJQ65PS:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 123.8411ms (afa2e885)
2019-06-01T07:22:57.0495609+07:00 0HLN64EJQ65PS:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T07:22:57.0538153+07:00 0HLN64EJQ65Q0:00000001 [INF] Request finished in 1816.8559ms 101  (791a596a)
2019-06-01T07:22:57.0717837+07:00 0HLN64EJQ65PS:00000009 [INF] Request finished in 226.1319ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:22:57.3266384+07:00 0HLN64EJQ65PS:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=naOTLOv3iO11GnCbTXFvpJ7uQ5ofMeawpIU2oDZFiNU   (ca22a1cb)
2019-06-01T07:22:57.3373580+07:00 0HLN64EJQ65PS:0000000A [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T07:22:57.3493022+07:00 0HLN64EJQ65PS:0000000A [INF] Request finished in 66.2276ms 304 application/javascript (791a596a)
2019-06-01T07:22:57.7310073+07:00 0HLN64EJQ65PS:0000000B [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:22:57.7421991+07:00 0HLN64EJQ65PS:0000000B [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:22:57.7466520+07:00 0HLN64EJQ65PS:0000000B [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:22:57.7523858+07:00 0HLN64EJQ65PS:0000000B [INF] Request finished in 20.1636ms 200 application/json (791a596a)
2019-06-01T07:22:57.7839431+07:00 0HLN64EJQ65PS:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:22:57.7885629+07:00 0HLN64EJQ65PS:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:22:57.8096854+07:00 0HLN64EJQ65PS:0000000C [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:22:57.8148965+07:00 0HLN64EJQ65PS:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T07:22:57.8210237+07:00 0HLN64EJQ65PS:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:22:57.8265847+07:00 0HLN64EJQ65PS:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:22:57.8343926+07:00 0HLN64EJQ65PS:0000000C [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:22:57.8435561+07:00 0HLN64EJQ65PS:0000000C [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:22:57.8479935+07:00 0HLN64EJQ65PS:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 22.9841ms. (50a9e262)
2019-06-01T07:22:57.8522724+07:00 0HLN64EJQ65PS:0000000C [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:22:57.8591852+07:00 0HLN64EJQ65PS:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 42.909ms (afa2e885)
2019-06-01T07:22:57.8629711+07:00 0HLN64EJQ65PS:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:22:57.8677658+07:00 0HLN64EJQ65PS:0000000C [INF] Request finished in 82.9086ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:23:05.8482646+07:00 0HLN64EJQ65PS:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:23:05.8545088+07:00 0HLN64EJQ65PS:0000000D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T07:23:05.8607176+07:00 0HLN64EJQ65PS:0000000D [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T07:23:05.8660636+07:00 0HLN64EJQ65PS:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T07:23:05.8711668+07:00 0HLN64EJQ65PS:0000000D [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:23:05.8768878+07:00 0HLN64EJQ65PS:0000000D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:23:05.8858351+07:00 0HLN64EJQ65PS:0000000D [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:23:05.9069390+07:00 0HLN64EJQ65PS:0000000D [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:23:05.9174038+07:00 0HLN64EJQ65PS:0000000D [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T07:23:05.9301021+07:00 0HLN64EJQ65PS:0000000D [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T07:23:05.9447516+07:00 0HLN64EJQ65PS:0000000D [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T07:23:05.9547511+07:00 0HLN64EJQ65PS:0000000D [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T07:23:05.9651802+07:00 0HLN64EJQ65PS:0000000D [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T07:23:05.9760327+07:00 0HLN64EJQ65PS:0000000D [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T07:23:05.9816574+07:00 0HLN64EJQ65PS:0000000D [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 105.3759ms. (50a9e262)
2019-06-01T07:23:05.9863810+07:00 0HLN64EJQ65PS:0000000D [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:23:05.9987707+07:00 0HLN64EJQ65PS:0000000D [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 125.8132ms (afa2e885)
2019-06-01T07:23:06.0063039+07:00 0HLN64EJQ65PS:0000000D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T07:23:06.0121336+07:00 0HLN64EJQ65PS:0000000D [INF] Request finished in 163.2376ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:23:06.6774332+07:00 0HLN64EJQ65Q1:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=zbcSyclTzZN4BnFX7mBdYA   (ca22a1cb)
2019-06-01T07:23:06.6972071+07:00 0HLN64EJQ65Q1:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:23:06.7016359+07:00 0HLN64EJQ65Q1:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:23:06.7316990+07:00 0HLN64EJQ65PS:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T07:23:06.7359694+07:00 0HLN64EJQ65PS:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T07:23:06.7402418+07:00 0HLN64EJQ65PS:0000000E [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T07:23:06.7451870+07:00 0HLN64EJQ65PS:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T07:23:06.7501158+07:00 0HLN64EJQ65PS:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T07:23:06.7610565+07:00 0HLN64EJQ65PS:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.1425ms. (50a9e262)
2019-06-01T07:23:06.7650507+07:00 0HLN64EJQ65PS:0000000E [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:23:06.7716218+07:00 0HLN64EJQ65PS:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 25.0141ms (afa2e885)
2019-06-01T07:23:06.7771665+07:00 0HLN64EJQ65PS:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T07:23:06.7817068+07:00 0HLN64EJQ65PS:0000000E [INF] Request finished in 49.4953ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:23:06.8084764+07:00 0HLN64EJQ65Q1:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:23:06.8622913+07:00 0HLN64EJQ65PS:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T07:23:06.8718954+07:00 0HLN64EJQ65PS:0000000F [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T07:23:06.8766745+07:00 0HLN64EJQ65PS:0000000F [INF] Request finished in 14.5952ms 200 image/x-icon (791a596a)
2019-06-01T07:23:32.9640352+07:00 0HLN64EJQ65PS:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/home   (ca22a1cb)
2019-06-01T07:23:32.9700701+07:00 0HLN64EJQ65PS:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T07:23:32.9763293+07:00 0HLN64EJQ65PS:00000010 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T07:23:32.9814966+07:00 0HLN64EJQ65PS:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:23:32.9879301+07:00 0HLN64EJQ65PS:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:23:32.9933653+07:00 0HLN64EJQ65PS:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0237ms. (50a9e262)
2019-06-01T07:23:32.9967003+07:00 0HLN64EJQ65PS:00000010 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:23:33.0013426+07:00 0HLN64EJQ65PS:00000010 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:23:33.0167617+07:00 0HLN64EJQ65PS:00000010 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:23:33.0207507+07:00 0HLN64EJQ65PS:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:23:33.0334033+07:00 0HLN64EJQ65PS:00000010 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:23:33.0384942+07:00 0HLN64EJQ65PS:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:23:33.0509483+07:00 0HLN64EJQ65PS:00000010 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:23:33.0563555+07:00 0HLN64EJQ65PS:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:23:33.0707699+07:00 0HLN64EJQ65PS:00000010 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:23:33.0757787+07:00 0HLN64EJQ65PS:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:23:33.0866546+07:00 0HLN64EJQ65PS:00000010 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:23:33.0994451+07:00 0HLN64EJQ65PS:00000010 [INF] Executed ViewResult - view "Index" executed in 95.4969ms. (f66409e9)
2019-06-01T07:23:33.2023743+07:00 0HLN64EJQ65PS:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 123.2478ms (afa2e885)
2019-06-01T07:23:33.2041039+07:00 0HLN64EJQ65PP:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=cnUNyT-R9OOamTlp4eZq5PXY3EWvo8_jAhp6jw3f2_E   (ca22a1cb)
2019-06-01T07:23:33.2087710+07:00 0HLN64EJQ65Q1:00000001 [INF] Request finished in 26535.179ms 101  (791a596a)
2019-06-01T07:23:33.2179575+07:00 0HLN64EJQ65PS:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T07:23:33.2267743+07:00 0HLN64EJQ65PP:0000000A [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T07:23:33.2328555+07:00 0HLN64EJQ65PS:00000010 [INF] Request finished in 260.3497ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:23:33.2337285+07:00 0HLN64EJQ65PP:0000000A [INF] Request finished in 35.6496ms 200 application/javascript (791a596a)
2019-06-01T07:23:33.4373862+07:00 0HLN64EJQ65PS:00000011 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:23:33.4545714+07:00 0HLN64EJQ65PS:00000011 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:23:33.4814486+07:00 0HLN64EJQ65PS:00000011 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:23:33.5013496+07:00 0HLN64EJQ65PS:00000011 [INF] Request finished in 49.892ms 200 application/json (791a596a)
2019-06-01T07:23:33.6123514+07:00 0HLN64EJQ65PS:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:23:33.6178254+07:00 0HLN64EJQ65PS:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:23:33.6280130+07:00 0HLN64EJQ65PS:00000012 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:23:33.6342242+07:00 0HLN64EJQ65PS:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:23:33.6468335+07:00 0HLN64EJQ65PS:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:23:33.6528593+07:00 0HLN64EJQ65PP:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T07:23:33.6537651+07:00 0HLN64EJQ65PS:00000012 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:23:33.6709294+07:00 0HLN64EJQ65PP:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T07:23:33.7041597+07:00 0HLN64EJQ65PS:00000012 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:23:33.7258086+07:00 0HLN64EJQ65PP:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T07:23:33.7356481+07:00 0HLN64EJQ65PS:00000012 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:23:33.7625215+07:00 0HLN64EJQ65PP:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T07:23:33.8505998+07:00 0HLN64EJQ65PS:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 88.9349ms. (50a9e262)
2019-06-01T07:23:33.8537018+07:00 0HLN64EJQ65PP:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T07:23:33.8687455+07:00 0HLN64EJQ65Q2:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=fbhFS9pYVDSAteXRKLZovg   (ca22a1cb)
2019-06-01T07:23:33.8717342+07:00 0HLN64EJQ65PQ:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T07:23:33.8816184+07:00 0HLN64EJQ65Q2:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:23:33.8934490+07:00 0HLN64EJQ65PP:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 26.0684ms. (50a9e262)
2019-06-01T07:23:33.8943179+07:00 0HLN64EJQ65Q2:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:23:33.8973107+07:00 0HLN64EJQ65PQ:00000008 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T07:23:33.9001419+07:00 0HLN64EJQ65PS:00000012 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:23:33.9230215+07:00 0HLN64EJQ65PP:0000000B [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:23:33.9247257+07:00 0HLN64EJQ65PQ:00000008 [INF] Request finished in 50.5796ms 200 image/x-icon (791a596a)
2019-06-01T07:23:33.9329317+07:00 0HLN64EJQ65Q2:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:23:33.9455343+07:00 0HLN64EJQ65PP:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 198.9261ms (afa2e885)
2019-06-01T07:23:33.9493004+07:00 0HLN64EJQ65PS:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 272.396ms (afa2e885)
2019-06-01T07:23:33.9518896+07:00 0HLN64EJQ65PP:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T07:23:33.9565841+07:00 0HLN64EJQ65PS:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:23:33.9647384+07:00 0HLN64EJQ65PP:0000000B [INF] Request finished in 309.0832ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:23:33.9673333+07:00 0HLN64EJQ65PS:00000012 [INF] Request finished in 348.5867ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:23:54.1869421+07:00 0HLN64EJQ65PS:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/home   (ca22a1cb)
2019-06-01T07:23:54.1936490+07:00 0HLN64EJQ65PS:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T07:23:54.1996498+07:00 0HLN64EJQ65PS:00000013 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T07:23:54.2040329+07:00 0HLN64EJQ65PS:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:23:54.2106012+07:00 0HLN64EJQ65PS:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:23:54.2140519+07:00 0HLN64EJQ65PS:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0779ms. (50a9e262)
2019-06-01T07:23:54.2181219+07:00 0HLN64EJQ65PS:00000013 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:23:54.2228280+07:00 0HLN64EJQ65PS:00000013 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:23:54.2315484+07:00 0HLN64EJQ65PS:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:23:54.2361437+07:00 0HLN64EJQ65PS:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:23:54.2461699+07:00 0HLN64EJQ65PS:00000013 [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:23:54.2500116+07:00 0HLN64EJQ65PS:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:23:54.2594286+07:00 0HLN64EJQ65PS:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:23:54.2641933+07:00 0HLN64EJQ65PS:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:23:54.2747960+07:00 0HLN64EJQ65PS:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:23:54.2787238+07:00 0HLN64EJQ65PS:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:23:54.2847127+07:00 0HLN64EJQ65PS:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:23:54.3334799+07:00 0HLN64EJQ65PS:00000013 [INF] Executed ViewResult - view "Index" executed in 71.7673ms. (f66409e9)
2019-06-01T07:23:54.3764603+07:00 0HLN64EJQ65Q2:00000001 [INF] Request finished in 20457.1971ms 101  (791a596a)
2019-06-01T07:23:54.3848726+07:00 0HLN64EJQ65PS:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 133.9818ms (afa2e885)
2019-06-01T07:23:54.3946782+07:00 0HLN64EJQ65PP:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=cnUNyT-R9OOamTlp4eZq5PXY3EWvo8_jAhp6jw3f2_E   (ca22a1cb)
2019-06-01T07:23:54.3972652+07:00 0HLN64EJQ65PS:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T07:23:54.4038872+07:00 0HLN64EJQ65PP:0000000C [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T07:23:54.4099376+07:00 0HLN64EJQ65PS:00000013 [INF] Request finished in 215.7212ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:23:54.4155011+07:00 0HLN64EJQ65PP:0000000C [INF] Request finished in 26.0812ms 304 application/javascript (791a596a)
2019-06-01T07:23:54.7705888+07:00 0HLN64EJQ65PS:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:23:54.7770729+07:00 0HLN64EJQ65PP:0000000D [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:23:54.7878746+07:00 0HLN64EJQ65PS:00000014 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:23:54.7924879+07:00 0HLN64EJQ65PP:0000000D [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:23:54.8082713+07:00 0HLN64EJQ65PS:00000014 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:23:54.8141945+07:00 0HLN64EJQ65PQ:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T07:23:54.8150256+07:00 0HLN64EJQ65PS:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:23:54.8170573+07:00 0HLN64EJQ65PP:0000000D [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:23:54.8308095+07:00 0HLN64EJQ65PS:00000014 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:23:54.8330922+07:00 0HLN64EJQ65PQ:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T07:23:54.8442921+07:00 0HLN64EJQ65PS:00000014 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:23:54.8456173+07:00 0HLN64EJQ65PQ:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T07:23:54.8568714+07:00 0HLN64EJQ65PP:0000000D [INF] Request finished in 60.7421ms 200 application/json (791a596a)
2019-06-01T07:23:54.8835701+07:00 0HLN64EJQ65PQ:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:23:54.8918827+07:00 0HLN64EJQ65PS:00000014 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:23:54.9256090+07:00 0HLN64EJQ65PQ:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T07:23:54.9295015+07:00 0HLN64EJQ65PS:00000014 [INF] Executed DbCommand ("19"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:23:54.9481804+07:00 0HLN64EJQ65PS:00000014 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 98.9714ms. (50a9e262)
2019-06-01T07:23:54.9602772+07:00 0HLN64EJQ65PQ:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.6512ms. (50a9e262)
2019-06-01T07:23:54.9696233+07:00 0HLN64EJQ65PS:00000014 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:23:54.9830982+07:00 0HLN64EJQ65PQ:00000009 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:23:54.9957012+07:00 0HLN64EJQ65PS:00000014 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 161.5695ms (afa2e885)
2019-06-01T07:23:54.9990391+07:00 0HLN64EJQ65PQ:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 136.8359ms (afa2e885)
2019-06-01T07:23:55.0089853+07:00 0HLN64EJQ65PS:00000014 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:23:55.0124495+07:00 0HLN64EJQ65PQ:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T07:23:55.0213218+07:00 0HLN64EJQ65PS:00000014 [INF] Request finished in 250.6053ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:23:55.0280080+07:00 0HLN64EJQ65PQ:00000009 [INF] Request finished in 210.8219ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:23:55.0805742+07:00 0HLN64EJQ65Q3:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=lYm-iI04OQXGyqeq-owNng   (ca22a1cb)
2019-06-01T07:23:55.1036343+07:00 0HLN64EJQ65Q3:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:23:55.1273409+07:00 0HLN64EJQ65Q3:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:23:55.1407325+07:00 0HLN64EJQ65PQ:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T07:23:55.1528888+07:00 0HLN64EJQ65Q3:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:23:55.1604334+07:00 0HLN64EJQ65PQ:0000000A [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T07:23:55.2114442+07:00 0HLN64EJQ65PQ:0000000A [INF] Request finished in 36.8188ms 200 image/x-icon (791a596a)
2019-06-01T07:24:01.9411446+07:00 0HLN64EJQ65PQ:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T07:24:01.9484500+07:00 0HLN64EJQ65PQ:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T07:24:01.9551351+07:00 0HLN64EJQ65PQ:0000000B [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T07:24:01.9636139+07:00 0HLN64EJQ65PQ:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T07:24:01.9690575+07:00 0HLN64EJQ65PQ:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:24:01.9735195+07:00 0HLN64EJQ65PQ:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0344ms. (50a9e262)
2019-06-01T07:24:01.9795610+07:00 0HLN64EJQ65PQ:0000000B [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:24:01.9849701+07:00 0HLN64EJQ65PQ:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:24:01.9958276+07:00 0HLN64EJQ65PQ:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:24:01.9997701+07:00 0HLN64EJQ65PQ:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T07:24:02.0092076+07:00 0HLN64EJQ65PQ:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:24:02.0139063+07:00 0HLN64EJQ65PQ:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T07:24:02.0218038+07:00 0HLN64EJQ65PQ:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:24:02.0267888+07:00 0HLN64EJQ65PQ:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T07:24:02.0331252+07:00 0HLN64EJQ65PQ:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:24:02.0441730+07:00 0HLN64EJQ65PQ:0000000B [INF] Executed ViewResult - view "Index" executed in 60.6625ms. (f66409e9)
2019-06-01T07:24:02.0505878+07:00 0HLN64EJQ65PQ:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 89.078ms (afa2e885)
2019-06-01T07:24:02.0733193+07:00 0HLN64EJQ65Q3:00000001 [INF] Request finished in 6980.7745ms 101  (791a596a)
2019-06-01T07:24:02.0836323+07:00 0HLN64EJQ65PQ:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T07:24:02.1244109+07:00 0HLN64EJQ65PQ:0000000B [INF] Request finished in 166.1606ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:24:02.1272162+07:00 0HLN64EJQ65PS:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=cnUNyT-R9OOamTlp4eZq5PXY3EWvo8_jAhp6jw3f2_E   (ca22a1cb)
2019-06-01T07:24:02.1366796+07:00 0HLN64EJQ65PS:00000015 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T07:24:02.1451641+07:00 0HLN64EJQ65PS:00000015 [INF] Request finished in 27.3164ms 304 application/javascript (791a596a)
2019-06-01T07:24:02.3638847+07:00 0HLN64EJQ65PS:00000016 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:24:02.3825788+07:00 0HLN64EJQ65PS:00000016 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:24:02.3842572+07:00 0HLN64EJQ65PP:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:24:02.3914067+07:00 0HLN64EJQ65PQ:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:24:02.4153075+07:00 0HLN64EJQ65PS:00000016 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:24:02.4271286+07:00 0HLN64EJQ65PP:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T07:24:02.4293534+07:00 0HLN64EJQ65PS:00000016 [INF] Request finished in 68.5004ms 200 application/json (791a596a)
2019-06-01T07:24:02.4344106+07:00 0HLN64EJQ65PP:0000000E [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T07:24:02.4355954+07:00 0HLN64EJQ65PQ:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:24:02.4434822+07:00 0HLN64EJQ65PP:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T07:24:02.4493087+07:00 0HLN64EJQ65PQ:0000000C [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:24:02.4567269+07:00 0HLN64EJQ65PP:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:24:02.4593436+07:00 0HLN64EJQ65PQ:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T07:24:02.4678408+07:00 0HLN64EJQ65PP:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:24:02.4700569+07:00 0HLN64EJQ65PQ:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:24:02.4797230+07:00 0HLN64EJQ65PQ:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:24:02.4949640+07:00 0HLN64EJQ65PP:0000000E [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:24:02.5030518+07:00 0HLN64EJQ65PQ:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:24:02.5341278+07:00 0HLN64EJQ65PP:0000000E [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:24:02.5370871+07:00 0HLN64EJQ65PQ:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:24:02.5669811+07:00 0HLN64EJQ65PP:0000000E [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T07:24:02.5727325+07:00 0HLN64EJQ65Q4:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=VIlH4AFSG4g9qIdxCkfs3Q   (ca22a1cb)
2019-06-01T07:24:02.5767338+07:00 0HLN64EJQ65PQ:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 67.0682ms. (50a9e262)
2019-06-01T07:24:02.5822632+07:00 0HLN64EJQ65Q4:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:24:02.5978640+07:00 0HLN64EJQ65PP:0000000E [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T07:24:02.6629692+07:00 0HLN64EJQ65Q4:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:24:02.6710319+07:00 0HLN64EJQ65PP:0000000E [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T07:24:02.7002065+07:00 0HLN64EJQ65PP:0000000E [INF] Executed DbCommand ("14"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T07:24:02.7024453+07:00 0HLN64EJQ65Q4:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:24:02.7048132+07:00 0HLN64EJQ65PQ:0000000C [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:24:02.7195706+07:00 0HLN64EJQ65PQ:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 255.6765ms (afa2e885)
2019-06-01T07:24:02.7260374+07:00 0HLN64EJQ65PP:0000000E [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T07:24:02.7300822+07:00 0HLN64EJQ65PQ:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:24:02.7452445+07:00 0HLN64EJQ65PQ:0000000C [INF] Request finished in 367.4208ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:24:02.7480124+07:00 0HLN64EJQ65PP:0000000E [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T07:24:02.7532358+07:00 0HLN64EJQ65PP:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 292.4026ms. (50a9e262)
2019-06-01T07:24:02.7631004+07:00 0HLN64EJQ65PP:0000000E [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:24:02.7800743+07:00 0HLN64EJQ65PP:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 329.8959ms (afa2e885)
2019-06-01T07:24:02.7852903+07:00 0HLN64EJQ65PP:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T07:24:02.8026093+07:00 0HLN64EJQ65PP:0000000E [INF] Request finished in 422.7709ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:24:02.8208690+07:00 0HLN64EJQ65PP:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:24:02.8371204+07:00 0HLN64EJQ65PP:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:24:02.8496702+07:00 0HLN64EJQ65PP:0000000F [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:24:02.8596665+07:00 0HLN64EJQ65PP:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T07:24:02.8669711+07:00 0HLN64EJQ65PP:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:24:02.8788960+07:00 0HLN64EJQ65PP:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:24:02.8869494+07:00 0HLN64EJQ65PP:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:24:02.8945620+07:00 0HLN64EJQ65PP:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:24:02.8992530+07:00 0HLN64EJQ65PP:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 27.6972ms. (50a9e262)
2019-06-01T07:24:02.9039574+07:00 0HLN64EJQ65PP:0000000F [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:24:02.9121612+07:00 0HLN64EJQ65PP:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 54.6957ms (afa2e885)
2019-06-01T07:24:02.9157616+07:00 0HLN64EJQ65PP:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:24:02.9200131+07:00 0HLN64EJQ65PP:0000000F [INF] Request finished in 101.6852ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:24:25.5940625+07:00 0HLN64EJQ65PP:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=50   (ca22a1cb)
2019-06-01T07:24:25.6020396+07:00 0HLN64EJQ65PP:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T07:24:25.6071095+07:00 0HLN64EJQ65PP:00000010 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T07:24:25.6132938+07:00 0HLN64EJQ65PP:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:24:25.6176244+07:00 0HLN64EJQ65PP:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "50"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:24:25.6228018+07:00 0HLN64EJQ65PP:00000010 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:24:25.6312375+07:00 0HLN64EJQ65PP:00000010 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:24:25.6402447+07:00 0HLN64EJQ65PP:00000010 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:24:25.6497660+07:00 0HLN64EJQ65PP:00000010 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T07:24:25.6600502+07:00 0HLN64EJQ65PP:00000010 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T07:24:25.6693553+07:00 0HLN64EJQ65PP:00000010 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T07:24:25.6791419+07:00 0HLN64EJQ65PP:00000010 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T07:24:25.6885855+07:00 0HLN64EJQ65PP:00000010 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T07:24:25.6981769+07:00 0HLN64EJQ65PP:00000010 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T07:24:25.7033573+07:00 0HLN64EJQ65PP:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 81.0477ms. (50a9e262)
2019-06-01T07:24:25.7081187+07:00 0HLN64EJQ65PP:00000010 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:24:25.7139620+07:00 0HLN64EJQ65PP:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 101.1367ms (afa2e885)
2019-06-01T07:24:25.7186274+07:00 0HLN64EJQ65PP:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T07:24:25.7227156+07:00 0HLN64EJQ65PP:00000010 [INF] Request finished in 129.0292ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:24:25.7325774+07:00 0HLN64EJQ65PP:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=50   (ca22a1cb)
2019-06-01T07:24:25.7369888+07:00 0HLN64EJQ65PP:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:24:25.7416264+07:00 0HLN64EJQ65PP:00000011 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:24:25.7456329+07:00 0HLN64EJQ65PP:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:24:25.7507632+07:00 0HLN64EJQ65PP:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "50"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:24:25.7568703+07:00 0HLN64EJQ65PP:00000011 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:24:25.7620920+07:00 0HLN64EJQ65PP:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:24:25.7693458+07:00 0HLN64EJQ65PP:00000011 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:24:25.7737703+07:00 0HLN64EJQ65PP:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.5964ms. (50a9e262)
2019-06-01T07:24:25.7779324+07:00 0HLN64EJQ65PP:00000011 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:24:25.7840752+07:00 0HLN64EJQ65PP:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 36.5119ms (afa2e885)
2019-06-01T07:24:25.7881511+07:00 0HLN64EJQ65PP:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:24:25.7929670+07:00 0HLN64EJQ65PP:00000011 [INF] Request finished in 60.9131ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:24:29.5700113+07:00 0HLN64EJQ65PP:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=20   (ca22a1cb)
2019-06-01T07:24:29.5755900+07:00 0HLN64EJQ65PP:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T07:24:29.5800339+07:00 0HLN64EJQ65PP:00000012 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T07:24:29.5850071+07:00 0HLN64EJQ65PP:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:24:29.5896671+07:00 0HLN64EJQ65PP:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "20"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:24:29.5940011+07:00 0HLN64EJQ65PP:00000012 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:24:29.5986764+07:00 0HLN64EJQ65PP:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:24:29.6039645+07:00 0HLN64EJQ65PP:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:24:29.6087555+07:00 0HLN64EJQ65PP:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T07:24:29.6146784+07:00 0HLN64EJQ65PP:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T07:24:29.6197918+07:00 0HLN64EJQ65PP:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T07:24:29.6253413+07:00 0HLN64EJQ65PP:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T07:24:29.6305221+07:00 0HLN64EJQ65PP:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T07:24:29.6368658+07:00 0HLN64EJQ65PP:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T07:24:29.6424568+07:00 0HLN64EJQ65PP:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 47.6401ms. (50a9e262)
2019-06-01T07:24:29.6474340+07:00 0HLN64EJQ65PP:00000012 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:24:29.6577553+07:00 0HLN64EJQ65PP:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 67.542ms (afa2e885)
2019-06-01T07:24:29.6623513+07:00 0HLN64EJQ65PP:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T07:24:29.6724819+07:00 0HLN64EJQ65PP:00000012 [INF] Request finished in 100.591ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:24:29.6785442+07:00 0HLN64EJQ65PP:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=20   (ca22a1cb)
2019-06-01T07:24:29.6824445+07:00 0HLN64EJQ65PP:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:24:29.6860986+07:00 0HLN64EJQ65PP:00000013 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:24:29.6899460+07:00 0HLN64EJQ65PP:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:24:29.6939957+07:00 0HLN64EJQ65PP:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "20"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:24:29.6978939+07:00 0HLN64EJQ65PP:00000013 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:24:29.7025121+07:00 0HLN64EJQ65PP:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:24:29.7066980+07:00 0HLN64EJQ65PP:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:24:29.7103583+07:00 0HLN64EJQ65PP:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 12.8672ms. (50a9e262)
2019-06-01T07:24:29.7139968+07:00 0HLN64EJQ65PP:00000013 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:24:29.7196629+07:00 0HLN64EJQ65PP:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 28.0775ms (afa2e885)
2019-06-01T07:24:29.7227595+07:00 0HLN64EJQ65PP:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:24:29.7275821+07:00 0HLN64EJQ65PP:00000013 [INF] Request finished in 48.1804ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:25:21.1338665+07:00 0HLN64EJQ65PP:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T07:25:21.1409787+07:00 0HLN64EJQ65PP:00000014 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T07:25:21.1511198+07:00 0HLN64EJQ65PP:00000014 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T07:25:21.1598168+07:00 0HLN64EJQ65PP:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:25:21.1654542+07:00 0HLN64EJQ65PP:00000014 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:25:21.1704161+07:00 0HLN64EJQ65PP:00000014 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0196ms. (50a9e262)
2019-06-01T07:25:23.8272837+07:00 0HLN64EJQ65PP:00000014 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:25:23.8451635+07:00 0HLN64EJQ65PP:00000014 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:25:23.8611848+07:00 0HLN64EJQ65PP:00000014 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:25:23.8670650+07:00 0HLN64EJQ65PP:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:25:23.8810872+07:00 0HLN64EJQ65PP:00000014 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:25:23.8867298+07:00 0HLN64EJQ65PP:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:25:23.8998265+07:00 0HLN64EJQ65PP:00000014 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:25:23.9058461+07:00 0HLN64EJQ65PP:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:25:23.9143564+07:00 0HLN64EJQ65PP:00000014 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:25:23.9323277+07:00 0HLN64EJQ65PP:00000014 [INF] Executed ViewResult - view "Index" executed in 2745.0348ms. (f66409e9)
2019-06-01T07:25:23.9737230+07:00 0HLN64EJQ65PP:00000014 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 2781.2805ms (afa2e885)
2019-06-01T07:25:24.0284602+07:00 0HLN64EJQ65Q4:00000001 [INF] Request finished in 81388.4489ms 101  (791a596a)
2019-06-01T07:25:24.0498046+07:00 0HLN64EJQ65PP:00000014 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T07:25:24.0613315+07:00 0HLN64EJQ65PQ:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=cnUNyT-R9OOamTlp4eZq5PXY3EWvo8_jAhp6jw3f2_E   (ca22a1cb)
2019-06-01T07:25:24.0636507+07:00 0HLN64EJQ65PP:00000014 [INF] Request finished in 2920.5424ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:25:24.0702521+07:00 0HLN64EJQ65PQ:0000000D [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T07:25:24.0794697+07:00 0HLN64EJQ65PQ:0000000D [INF] Request finished in 45.6963ms 304 application/javascript (791a596a)
2019-06-01T07:25:24.6018874+07:00 0HLN64EJQ65PQ:0000000E [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:25:24.6103678+07:00 0HLN64EJQ65PP:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:25:24.6217233+07:00 0HLN64EJQ65PS:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:25:24.6261668+07:00 0HLN64EJQ65PQ:0000000E [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:25:24.6477258+07:00 0HLN64EJQ65PP:00000015 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:25:24.6517233+07:00 0HLN64EJQ65PQ:0000000E [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:25:24.6993339+07:00 0HLN64EJQ65PQ:0000000E [INF] Request finished in 62.2022ms 200 application/json (791a596a)
2019-06-01T07:25:24.7036777+07:00 0HLN64EJQ65PP:00000015 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:25:24.7203222+07:00 0HLN64EJQ65PS:00000017 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T07:25:24.7452120+07:00 0HLN64EJQ65PP:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:25:24.7667639+07:00 0HLN64EJQ65Q5:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=z8uaAOidQWoWvxjHeYBjNg   (ca22a1cb)
2019-06-01T07:25:24.7689227+07:00 0HLN64EJQ65PQ:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T07:25:24.7861741+07:00 0HLN64EJQ65Q5:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:25:24.7894179+07:00 0HLN64EJQ65PQ:0000000F [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T07:25:24.8003438+07:00 0HLN64EJQ65Q5:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:25:24.8027779+07:00 0HLN64EJQ65PQ:0000000F [INF] Request finished in 40.7388ms 200 image/x-icon (791a596a)
2019-06-01T07:25:24.8104678+07:00 0HLN64EJQ65PP:00000015 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:25:24.8220923+07:00 0HLN64EJQ65PP:00000015 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:25:24.8280361+07:00 0HLN64EJQ65Q5:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:25:24.8308464+07:00 0HLN64EJQ65PS:00000017 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T07:25:24.8420722+07:00 0HLN64EJQ65PP:00000015 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:25:24.8443323+07:00 0HLN64EJQ65PS:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:25:24.8510687+07:00 0HLN64EJQ65PS:00000017 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:25:24.8556742+07:00 0HLN64EJQ65PP:00000015 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:25:24.8676324+07:00 0HLN64EJQ65PS:00000017 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:25:24.8718524+07:00 0HLN64EJQ65PP:00000015 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 45.3238ms. (50a9e262)
2019-06-01T07:25:24.8829928+07:00 0HLN64EJQ65PS:00000017 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:25:24.8840898+07:00 0HLN64EJQ65PP:00000015 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:25:24.8994228+07:00 0HLN64EJQ65PP:00000015 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 180.8224ms (afa2e885)
2019-06-01T07:25:24.9024238+07:00 0HLN64EJQ65PS:00000017 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:25:24.9112886+07:00 0HLN64EJQ65PP:00000015 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:25:24.9194367+07:00 0HLN64EJQ65PS:00000017 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T07:25:24.9204373+07:00 0HLN64EJQ65PP:00000015 [INF] Request finished in 316.2282ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:25:24.9462986+07:00 0HLN64EJQ65PS:00000017 [INF] Executed DbCommand ("15"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T07:25:24.9608110+07:00 0HLN64EJQ65PS:00000017 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T07:25:24.9753398+07:00 0HLN64EJQ65PS:00000017 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T07:25:24.9881403+07:00 0HLN64EJQ65PS:00000017 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T07:25:25.0033332+07:00 0HLN64EJQ65PS:00000017 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T07:25:25.0143084+07:00 0HLN64EJQ65PS:00000017 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 152.5364ms. (50a9e262)
2019-06-01T07:25:25.0209123+07:00 0HLN64EJQ65PS:00000017 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:25:25.0473738+07:00 0HLN64EJQ65PS:00000017 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 190.4806ms (afa2e885)
2019-06-01T07:25:25.0528188+07:00 0HLN64EJQ65PS:00000017 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T07:25:25.0663129+07:00 0HLN64EJQ65PS:00000017 [INF] Request finished in 450.8242ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:25:25.0869923+07:00 0HLN64EJQ65PS:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:25:25.0965557+07:00 0HLN64EJQ65PS:00000018 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:25:25.1109566+07:00 0HLN64EJQ65PS:00000018 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:25:25.1166373+07:00 0HLN64EJQ65PS:00000018 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:25:25.1282004+07:00 0HLN64EJQ65PS:00000018 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:25:25.1369721+07:00 0HLN64EJQ65PS:00000018 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:25:25.1590747+07:00 0HLN64EJQ65PS:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:25:25.1691517+07:00 0HLN64EJQ65PS:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:25:25.1773950+07:00 0HLN64EJQ65PS:00000018 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 41.028ms. (50a9e262)
2019-06-01T07:25:25.1871854+07:00 0HLN64EJQ65PS:00000018 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:25:25.2002007+07:00 0HLN64EJQ65PS:00000018 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 76.4536ms (afa2e885)
2019-06-01T07:25:25.2298422+07:00 0HLN64EJQ65PS:00000018 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:25:25.2377277+07:00 0HLN64EJQ65PS:00000018 [INF] Request finished in 160.1405ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:36:19.0213919+07:00 0HLN654KMIBVL:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T07:36:19.1526430+07:00 0HLN654KMIBVL:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T07:36:19.2028630+07:00 0HLN654KMIBVL:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T07:36:19.2229265+07:00 0HLN654KMIBVL:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:36:19.2430693+07:00 0HLN654KMIBVL:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:36:19.3035336+07:00 0HLN654KMIBVL:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T07:36:19.3830174+07:00 0HLN654KMIBVL:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T07:36:19.4213198+07:00 0HLN654KMIBVL:00000001 [INF] Executed DbCommand ("27"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T07:36:19.5664314+07:00 0HLN654KMIBVL:00000001 [INF] Executed DbCommand ("51"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T07:36:19.5828269+07:00 0HLN654KMIBVL:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T07:36:19.6229913+07:00 0HLN654KMIBVL:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T07:36:19.6376424+07:00 0HLN654KMIBVL:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T07:36:19.6705766+07:00 0HLN654KMIBVL:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T07:36:19.6811641+07:00 0HLN654KMIBVL:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T07:36:19.6890094+07:00 0HLN654KMIBVL:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T07:36:19.6957343+07:00 0HLN654KMIBVL:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T07:36:19.7202249+07:00 0HLN654KMIBVL:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T07:36:19.7355110+07:00 0HLN654KMIBVL:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 499.7386ms. (50a9e262)
2019-06-01T07:36:19.7709178+07:00 0HLN654KMIBVL:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:36:19.9613616+07:00 0HLN654KMIBVL:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T07:36:19.9712536+07:00 0HLN654KMIBVL:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T07:36:20.0956056+07:00 0HLN654KMIBVL:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T07:36:20.0998702+07:00 0HLN654KMIBVL:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T07:36:20.1133979+07:00 0HLN654KMIBVL:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T07:36:20.1185840+07:00 0HLN654KMIBVL:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T07:36:20.2157367+07:00 0HLN654KMIBVL:00000001 [INF] Executed ViewResult - view "Index" executed in 417.3555ms. (f66409e9)
2019-06-01T07:36:20.2204248+07:00 0HLN654KMIBVL:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 1013.5532ms (afa2e885)
2019-06-01T07:36:20.2254828+07:00 0HLN654KMIBVL:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T07:36:20.2654922+07:00 0HLN654KMIBVL:00000001 [INF] Request finished in 1295.5554ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:36:20.4822104+07:00 0HLN654KMIBVP:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T07:36:20.4841259+07:00 0HLN654KMIBVN:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T07:36:20.4862464+07:00 0HLN654KMIBVO:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T07:36:20.4871494+07:00 0HLN654KMIBVL:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T07:36:20.5003117+07:00 0HLN654KMIBVP:00000001 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T07:36:20.5050699+07:00 0HLN654KMIBVN:00000001 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T07:36:20.5185464+07:00 0HLN654KMIBVO:00000001 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T07:36:20.5297098+07:00 0HLN654KMIBVL:00000002 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T07:36:20.8164218+07:00 0HLN654KMIBVM:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T07:36:20.8184144+07:00 0HLN654KMIBVL:00000002 [INF] Request finished in 337.4524ms 200 image/jpeg (791a596a)
2019-06-01T07:36:20.8265748+07:00 0HLN654KMIBVM:00000001 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T07:36:20.8365904+07:00 0HLN654KMIBVQ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T07:36:20.8770692+07:00 0HLN654KMIBVO:00000001 [INF] Request finished in 378.0185ms 200 image/jpeg (791a596a)
2019-06-01T07:36:20.8933653+07:00 0HLN654KMIBVM:00000001 [INF] Request finished in 66.8598ms 200 image/jpeg (791a596a)
2019-06-01T07:36:20.9492553+07:00 0HLN654KMIBVP:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T07:36:20.9737792+07:00 0HLN654KMIBVN:00000001 [INF] Request finished in 457.6829ms 200 image/jpeg (791a596a)
2019-06-01T07:36:20.9819626+07:00 0HLN654KMIBVL:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T07:36:21.0107244+07:00 0HLN654KMIBVQ:00000001 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T07:36:21.0180606+07:00 0HLN654KMIBVL:00000003 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T07:36:21.0730968+07:00 0HLN654KMIBVL:00000003 [INF] Request finished in 81.2922ms 200 image/jpeg (791a596a)
2019-06-01T07:36:21.0777479+07:00 0HLN654KMIBVN:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T07:36:21.0899149+07:00 0HLN654KMIBVP:00000001 [INF] Request finished in 603.9469ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T07:36:21.1168372+07:00 0HLN654KMIBVN:00000002 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T07:36:21.1200815+07:00 0HLN654KMIBVQ:00000001 [INF] Request finished in 276.4785ms 200 image/jpeg (791a596a)
2019-06-01T07:36:21.1714353+07:00 0HLN654KMIBVN:00000002 [INF] Request finished in 130.319ms 200 image/jpeg (791a596a)
2019-06-01T07:36:21.3112858+07:00 0HLN654KMIBVN:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:36:21.3183754+07:00 0HLN654KMIBVP:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T07:36:21.3331032+07:00 0HLN654KMIBVN:00000003 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:36:21.3381645+07:00 0HLN654KMIBVQ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T07:36:21.3486901+07:00 0HLN654KMIBVP:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T07:36:21.3525449+07:00 0HLN654KMIBVN:00000003 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:36:21.3600927+07:00 0HLN654KMIBVP:00000002 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T07:36:21.3635364+07:00 0HLN654KMIBVQ:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T07:36:21.3720989+07:00 0HLN654KMIBVP:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:36:21.3762974+07:00 0HLN654KMIBVQ:00000002 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T07:36:21.3834589+07:00 0HLN654KMIBVP:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:36:21.3853604+07:00 0HLN654KMIBVQ:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:36:21.4055709+07:00 0HLN654KMIBVQ:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:36:21.4134031+07:00 0HLN654KMIBVP:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T07:36:21.4229410+07:00 0HLN654KMIBVP:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 42.3236ms. (50a9e262)
2019-06-01T07:36:21.4383462+07:00 0HLN654KMIBVQ:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T07:36:21.4395987+07:00 0HLN654KMIBVP:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:36:21.4605538+07:00 0HLN654KMIBVQ:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 57.3693ms. (50a9e262)
2019-06-01T07:36:21.4728488+07:00 0HLN654KMIBVN:00000003 [INF] Request finished in 161.5165ms 200 application/json (791a596a)
2019-06-01T07:36:21.4795794+07:00 0HLN654KMIBVQ:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:36:21.5143654+07:00 0HLN654KMIBVQ:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 122.772ms (afa2e885)
2019-06-01T07:36:21.5172372+07:00 0HLN654KMIBVR:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=248UJNmN8igJuQfdHRXHgQ   (ca22a1cb)
2019-06-01T07:36:21.5192311+07:00 0HLN654KMIBVP:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 144.39ms (afa2e885)
2019-06-01T07:36:21.5275417+07:00 0HLN654KMIBVR:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:36:21.5296450+07:00 0HLN654KMIBVQ:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T07:36:21.5331462+07:00 0HLN654KMIBVP:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T07:36:21.5379351+07:00 0HLN654KMIBVR:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:36:21.5447945+07:00 0HLN654KMIBVQ:00000002 [INF] Request finished in 226.1786ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:36:21.5456355+07:00 0HLN654KMIBVP:00000002 [INF] Request finished in 230.7399ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:36:21.6099662+07:00 0HLN654KMIBVR:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:36:38.0239047+07:00 0HLN654KMIBVP:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T07:36:38.0290091+07:00 0HLN654KMIBVP:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T07:36:38.0363461+07:00 0HLN654KMIBVP:00000003 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T07:36:38.0493984+07:00 0HLN654KMIBVP:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:36:38.0592081+07:00 0HLN654KMIBVP:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3044ms. (50a9e262)
2019-06-01T07:36:38.0696183+07:00 0HLN654KMIBVP:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:36:38.1805192+07:00 0HLN654KMIBVP:00000003 [INF] Executed ViewResult - view "Index" executed in 38.4992ms. (f66409e9)
2019-06-01T07:36:38.2150676+07:00 0HLN654KMIBVP:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 144.2423ms (afa2e885)
2019-06-01T07:36:38.2210335+07:00 0HLN654KMIBVP:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T07:36:38.2340777+07:00 0HLN654KMIBVP:00000003 [INF] Request finished in 205.2933ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:36:38.2605342+07:00 0HLN654KMIBVR:00000001 [INF] Request finished in 16742.4207ms 101  (791a596a)
2019-06-01T07:36:40.8354962+07:00 0HLN654KMIBVP:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T07:36:40.8386326+07:00 0HLN654KMIBVP:00000004 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:36:40.8420340+07:00 0HLN654KMIBVP:00000004 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:36:40.8502527+07:00 0HLN654KMIBVP:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T07:36:40.8687434+07:00 0HLN654KMIBVP:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T07:36:40.9143967+07:00 0HLN654KMIBVP:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:36:44.4273534+07:00 0HLN654KMIBVP:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:36:44.8645719+07:00 0HLN654KMIBVP:00000004 [INF] Executed DbCommand ("401"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T07:36:45.4652680+07:00 0HLN654KMIBVP:00000004 [INF] Executed DbCommand ("17"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T07:36:45.5215773+07:00 0HLN654KMIBVP:00000004 [INF] Executed DbCommand ("22"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:36:45.5440113+07:00 0HLN654KMIBVP:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T07:36:45.5727203+07:00 0HLN654KMIBVP:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T07:36:45.5804917+07:00 0HLN654KMIBVP:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T07:36:45.5862054+07:00 0HLN654KMIBVP:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T07:36:45.5917561+07:00 0HLN654KMIBVP:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T07:36:45.5965861+07:00 0HLN654KMIBVP:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T07:36:45.6062542+07:00 0HLN654KMIBVP:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:36:45.6247083+07:00 0HLN654KMIBVP:00000004 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T07:36:45.6315493+07:00 0HLN654KMIBVP:00000004 [INF] User logged in. (fdce0db4)
2019-06-01T07:36:45.6384359+07:00 0HLN654KMIBVP:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4719.6195ms. (50a9e262)
2019-06-01T07:36:45.6472666+07:00 0HLN654KMIBVP:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T07:36:45.6586488+07:00 0HLN654KMIBVP:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 4785.4803ms (afa2e885)
2019-06-01T07:36:45.6634947+07:00 0HLN654KMIBVP:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T07:36:45.6702927+07:00 0HLN654KMIBVP:00000004 [INF] Request finished in 4832.5515ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:36:45.6892252+07:00 0HLN654KMIBVP:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T07:36:45.7053093+07:00 0HLN654KMIBVP:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T07:36:45.7117745+07:00 0HLN654KMIBVP:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T07:36:45.7283813+07:00 0HLN654KMIBVP:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:36:45.7338676+07:00 0HLN654KMIBVP:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:36:45.7381002+07:00 0HLN654KMIBVP:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.9669ms. (50a9e262)
2019-06-01T07:36:45.7448042+07:00 0HLN654KMIBVP:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:36:45.7594417+07:00 0HLN654KMIBVP:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:36:45.8085068+07:00 0HLN654KMIBVP:00000005 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:36:45.8323737+07:00 0HLN654KMIBVP:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:36:45.8662724+07:00 0HLN654KMIBVP:00000005 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:36:45.8703114+07:00 0HLN654KMIBVP:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:36:45.8889600+07:00 0HLN654KMIBVP:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:36:45.8940795+07:00 0HLN654KMIBVP:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:36:45.9110149+07:00 0HLN654KMIBVP:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:36:45.9146313+07:00 0HLN654KMIBVP:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:36:45.9626588+07:00 0HLN654KMIBVP:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:36:46.1046468+07:00 0HLN654KMIBVP:00000005 [INF] Executed ViewResult - view "Index" executed in 292.8969ms. (f66409e9)
2019-06-01T07:36:46.2262225+07:00 0HLN654KMIBVP:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 413.8228ms (afa2e885)
2019-06-01T07:36:46.2293671+07:00 0HLN654KMIBVQ:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=cnUNyT-R9OOamTlp4eZq5PXY3EWvo8_jAhp6jw3f2_E   (ca22a1cb)
2019-06-01T07:36:46.2367504+07:00 0HLN654KMIBVP:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T07:36:46.2500235+07:00 0HLN654KMIBVP:00000005 [INF] Request finished in 551.7698ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:36:46.2520267+07:00 0HLN654KMIBVQ:00000003 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T07:36:46.2691591+07:00 0HLN654KMIBVQ:00000003 [INF] Request finished in 44.7503ms 304 application/javascript (791a596a)
2019-06-01T07:36:46.6685323+07:00 0HLN654KMIBVN:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T07:36:46.6730409+07:00 0HLN654KMIBVQ:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:36:46.6828453+07:00 0HLN654KMIBVP:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:36:46.6862197+07:00 0HLN654KMIBVN:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T07:36:47.2098565+07:00 0HLN654KMIBVN:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T07:36:47.2287415+07:00 0HLN654KMIBVP:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:36:47.2493195+07:00 0HLN654KMIBVN:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:36:47.2511546+07:00 0HLN654KMIBVP:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:36:47.2523254+07:00 0HLN654KMIBVQ:00000004 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:36:47.2645839+07:00 0HLN654KMIBVN:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T07:36:47.2685138+07:00 0HLN654KMIBVP:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:36:47.2794786+07:00 0HLN654KMIBVQ:00000004 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:36:47.3089387+07:00 0HLN654KMIBVP:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:36:47.3132480+07:00 0HLN654KMIBVQ:00000004 [INF] Request finished in 723.2043ms 200 application/json (791a596a)
2019-06-01T07:36:47.3340193+07:00 0HLN654KMIBVS:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=DaRNkjrWHYC7Jr9winA0Wg   (ca22a1cb)
2019-06-01T07:36:47.3361925+07:00 0HLN654KMIBVP:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:36:47.3484837+07:00 0HLN654KMIBVS:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:36:47.3694260+07:00 0HLN654KMIBVS:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:36:47.3880439+07:00 0HLN654KMIBVP:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:36:47.4165829+07:00 0HLN654KMIBVS:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:36:47.4227967+07:00 0HLN654KMIBVP:00000006 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:36:47.4342576+07:00 0HLN654KMIBVP:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 118.0774ms. (50a9e262)
2019-06-01T07:36:47.4396944+07:00 0HLN654KMIBVP:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:36:47.4624935+07:00 0HLN654KMIBVP:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 201.3602ms (afa2e885)
2019-06-01T07:36:47.4677985+07:00 0HLN654KMIBVP:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:36:47.4849439+07:00 0HLN654KMIBVP:00000006 [INF] Request finished in 890.8636ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:36:47.4956836+07:00 0HLN654KMIBVN:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 225.0028ms. (50a9e262)
2019-06-01T07:36:47.5022026+07:00 0HLN654KMIBVN:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:36:47.5121964+07:00 0HLN654KMIBVN:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 294.0178ms (afa2e885)
2019-06-01T07:36:47.5162296+07:00 0HLN654KMIBVN:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T07:36:47.5243921+07:00 0HLN654KMIBVN:00000004 [INF] Request finished in 939.3543ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:37:00.9975597+07:00 0HLN654KMIBVN:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T07:37:01.0049160+07:00 0HLN654KMIBVN:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T07:37:01.0138543+07:00 0HLN654KMIBVN:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T07:37:01.0174592+07:00 0HLN654KMIBVN:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:37:01.0227314+07:00 0HLN654KMIBVN:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:37:01.0295531+07:00 0HLN654KMIBVN:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2711ms. (50a9e262)
2019-06-01T07:37:03.1300359+07:00 0HLN654KMIBVN:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:37:03.1493474+07:00 0HLN654KMIBVN:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:37:03.1586570+07:00 0HLN654KMIBVN:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:37:03.1626931+07:00 0HLN654KMIBVN:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:37:03.1698763+07:00 0HLN654KMIBVN:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:37:03.1762512+07:00 0HLN654KMIBVN:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:37:03.1843797+07:00 0HLN654KMIBVN:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:37:03.1883267+07:00 0HLN654KMIBVN:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:37:03.1969106+07:00 0HLN654KMIBVN:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:37:03.2119936+07:00 0HLN654KMIBVN:00000005 [INF] Executed ViewResult - view "Index" executed in 2169.2655ms. (f66409e9)
2019-06-01T07:37:03.2664772+07:00 0HLN654KMIBVN:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 2198.2386ms (afa2e885)
2019-06-01T07:37:03.2795107+07:00 0HLN654KMIBVS:00000001 [INF] Request finished in 15946.8968ms 101  (791a596a)
2019-06-01T07:37:03.2820772+07:00 0HLN654KMIBVN:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T07:37:03.2907923+07:00 0HLN654KMIBVN:00000005 [INF] Request finished in 2293.5365ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:37:03.5587658+07:00 0HLN654KMIBVN:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:37:03.5645070+07:00 0HLN654KMIBVP:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:37:03.5692454+07:00 0HLN654KMIBVQ:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:37:03.5709115+07:00 0HLN654KMIBVN:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:37:03.5785500+07:00 0HLN654KMIBVQ:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T07:37:03.5805545+07:00 0HLN654KMIBVN:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:37:03.5956630+07:00 0HLN654KMIBVN:00000006 [INF] Request finished in 32.9616ms 200 application/json (791a596a)
2019-06-01T07:37:03.5981869+07:00 0HLN654KMIBVQ:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T07:37:03.6053102+07:00 0HLN654KMIBVP:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:37:03.6063465+07:00 0HLN654KMIBVQ:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:37:03.6136334+07:00 0HLN654KMIBVP:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:37:03.6178624+07:00 0HLN654KMIBVQ:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:37:03.6227157+07:00 0HLN654KMIBVP:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:37:03.6460498+07:00 0HLN654KMIBVP:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:37:03.6498984+07:00 0HLN654KMIBVQ:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:37:03.6624420+07:00 0HLN654KMIBVP:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:37:03.6657564+07:00 0HLN654KMIBVT:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=lqvTBlaIqK0APaGwe35XFg   (ca22a1cb)
2019-06-01T07:37:03.6823657+07:00 0HLN654KMIBVP:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:37:03.6888469+07:00 0HLN654KMIBVT:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:37:03.7312637+07:00 0HLN654KMIBVP:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:37:03.7531152+07:00 0HLN654KMIBVT:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:37:03.7713941+07:00 0HLN654KMIBVQ:00000005 [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:37:03.7980727+07:00 0HLN654KMIBVP:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 85.428ms. (50a9e262)
2019-06-01T07:37:03.9434083+07:00 0HLN654KMIBVP:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:37:03.9622362+07:00 0HLN654KMIBVT:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:37:03.9792085+07:00 0HLN654KMIBVQ:00000005 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:37:03.9835753+07:00 0HLN654KMIBVP:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 332.5355ms (afa2e885)
2019-06-01T07:37:03.9898678+07:00 0HLN654KMIBVP:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:37:04.0125710+07:00 0HLN654KMIBVQ:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T07:37:04.0137254+07:00 0HLN654KMIBVP:00000007 [INF] Request finished in 434.183ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:37:04.0660400+07:00 0HLN654KMIBVQ:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T07:37:04.0834628+07:00 0HLN654KMIBVQ:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T07:37:04.0975383+07:00 0HLN654KMIBVQ:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T07:37:04.1179038+07:00 0HLN654KMIBVQ:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T07:37:04.1389668+07:00 0HLN654KMIBVQ:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T07:37:04.1497799+07:00 0HLN654KMIBVQ:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 521.7193ms. (50a9e262)
2019-06-01T07:37:04.1610705+07:00 0HLN654KMIBVQ:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:37:04.1679718+07:00 0HLN654KMIBVQ:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 563.1207ms (afa2e885)
2019-06-01T07:37:04.1722008+07:00 0HLN654KMIBVQ:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T07:37:04.1801909+07:00 0HLN654KMIBVQ:00000005 [INF] Request finished in 614.6222ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:37:04.1931993+07:00 0HLN654KMIBVQ:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:37:04.2011181+07:00 0HLN654KMIBVQ:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:37:04.2056899+07:00 0HLN654KMIBVQ:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:37:04.2114229+07:00 0HLN654KMIBVQ:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:37:04.2156769+07:00 0HLN654KMIBVQ:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:37:04.2198586+07:00 0HLN654KMIBVQ:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:37:04.2264798+07:00 0HLN654KMIBVQ:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:37:04.2319936+07:00 0HLN654KMIBVQ:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:37:04.2359172+07:00 0HLN654KMIBVQ:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.4426ms. (50a9e262)
2019-06-01T07:37:04.2429203+07:00 0HLN654KMIBVQ:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:37:04.2591139+07:00 0HLN654KMIBVQ:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 37.6184ms (afa2e885)
2019-06-01T07:37:04.2643660+07:00 0HLN654KMIBVQ:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:37:04.2726852+07:00 0HLN654KMIBVQ:00000006 [INF] Request finished in 80.1923ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:40:32.2080326+07:00 0HLN654KMIBVQ:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T07:40:32.2167538+07:00 0HLN654KMIBVQ:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T07:40:32.2228006+07:00 0HLN654KMIBVQ:00000007 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T07:40:32.2278607+07:00 0HLN654KMIBVQ:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:40:32.2320436+07:00 0HLN654KMIBVQ:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:40:32.2354237+07:00 0HLN654KMIBVQ:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0619ms. (50a9e262)
2019-06-01T07:40:32.5103819+07:00 0HLN654KMIBVQ:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:40:32.5309694+07:00 0HLN654KMIBVQ:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:40:32.5499461+07:00 0HLN654KMIBVQ:00000007 [INF] Executed DbCommand ("11"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:40:32.5553845+07:00 0HLN654KMIBVQ:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:40:32.5686066+07:00 0HLN654KMIBVQ:00000007 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:40:32.5732331+07:00 0HLN654KMIBVQ:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:40:32.5854185+07:00 0HLN654KMIBVQ:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:40:32.5896712+07:00 0HLN654KMIBVQ:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:40:32.5975773+07:00 0HLN654KMIBVQ:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:40:32.6053180+07:00 0HLN654KMIBVQ:00000007 [INF] Executed ViewResult - view "Index" executed in 363.493ms. (f66409e9)
2019-06-01T07:40:32.6111625+07:00 0HLN654KMIBVQ:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 382.7709ms (afa2e885)
2019-06-01T07:40:32.6157754+07:00 0HLN654KMIBVQ:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T07:40:32.6667517+07:00 0HLN654KMIBVT:00000001 [INF] Request finished in 208968.3536ms 101  (791a596a)
2019-06-01T07:40:32.6687513+07:00 0HLN654KMIBVQ:00000007 [INF] Request finished in 417.6841ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:40:32.6781269+07:00 0HLN654KMIBVQ:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=cnUNyT-R9OOamTlp4eZq5PXY3EWvo8_jAhp6jw3f2_E   (ca22a1cb)
2019-06-01T07:40:32.6831543+07:00 0HLN654KMIBVQ:00000008 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T07:40:32.6883989+07:00 0HLN654KMIBVQ:00000008 [INF] Request finished in 11.2996ms 304 application/javascript (791a596a)
2019-06-01T07:40:33.0541262+07:00 0HLN654KMIBVQ:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:40:33.0566711+07:00 0HLN654KMIBVP:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:40:33.0735912+07:00 0HLN654KMIBVN:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:40:33.0812868+07:00 0HLN654KMIBVQ:00000009 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:40:33.0863080+07:00 0HLN654KMIBVP:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:40:33.1030037+07:00 0HLN654KMIBVQ:00000009 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:40:33.1040852+07:00 0HLN654KMIBVP:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:40:33.1115846+07:00 0HLN654KMIBVN:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T07:40:33.1166669+07:00 0HLN654KMIBVP:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:40:33.1263046+07:00 0HLN654KMIBVQ:00000009 [INF] Request finished in 78.8282ms 200 application/json (791a596a)
2019-06-01T07:40:33.1366411+07:00 0HLN654KMIBVP:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:40:33.1422065+07:00 0HLN654KMIBVN:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T07:40:33.1502640+07:00 0HLN654KMIBVP:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:40:33.1632321+07:00 0HLN654KMIBVN:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:40:33.1704995+07:00 0HLN654KMIBVP:00000008 [INF] Executed DbCommand ("12"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:40:33.1724555+07:00 0HLN654KMIBVN:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:40:33.1830041+07:00 0HLN654KMIBVN:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:40:33.1860400+07:00 0HLN654KMIBVP:00000008 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:40:33.1957827+07:00 0HLN654KMIBVP:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 49.5125ms. (50a9e262)
2019-06-01T07:40:33.2015624+07:00 0HLN654KMIBVN:00000007 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:40:33.2025552+07:00 0HLN654KMIBVP:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:40:33.2129433+07:00 0HLN654KMIBVP:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 97.67ms (afa2e885)
2019-06-01T07:40:33.2187734+07:00 0HLN654KMIBVN:00000007 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:40:33.2208530+07:00 0HLN654KMIBVP:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:40:33.2286840+07:00 0HLN654KMIBVP:00000008 [INF] Request finished in 185.5912ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:40:33.2334972+07:00 0HLN654KMIBVN:00000007 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T07:40:33.2545088+07:00 0HLN654KMIBVN:00000007 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T07:40:33.2630212+07:00 0HLN654KMIBVU:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=5Wqd5CuINPFKoVbpA9cppg   (ca22a1cb)
2019-06-01T07:40:33.2709916+07:00 0HLN654KMIBVN:00000007 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T07:40:33.2718172+07:00 0HLN654KMIBVU:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:40:33.2795914+07:00 0HLN654KMIBVU:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:40:33.2970807+07:00 0HLN654KMIBVN:00000007 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T07:40:33.3327984+07:00 0HLN654KMIBVN:00000007 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T07:40:33.3647918+07:00 0HLN654KMIBVN:00000007 [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T07:40:33.3663955+07:00 0HLN654KMIBVP:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T07:40:33.3674195+07:00 0HLN654KMIBVU:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:40:33.3770384+07:00 0HLN654KMIBVN:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 194.063ms. (50a9e262)
2019-06-01T07:40:33.4030481+07:00 0HLN654KMIBVN:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:40:33.4153042+07:00 0HLN654KMIBVP:00000009 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T07:40:33.4272885+07:00 0HLN654KMIBVN:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 261.0135ms (afa2e885)
2019-06-01T07:40:33.4288939+07:00 0HLN654KMIBVP:00000009 [INF] Request finished in 66.8873ms 200 image/x-icon (791a596a)
2019-06-01T07:40:33.4334924+07:00 0HLN654KMIBVN:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T07:40:33.4379836+07:00 0HLN654KMIBVN:00000007 [INF] Request finished in 380.7352ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:40:33.4946034+07:00 0HLN654KMIBVN:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:40:33.5000988+07:00 0HLN654KMIBVN:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:40:33.5056750+07:00 0HLN654KMIBVN:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:40:33.5108635+07:00 0HLN654KMIBVN:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:40:33.5169074+07:00 0HLN654KMIBVN:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:40:33.5272553+07:00 0HLN654KMIBVN:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:40:33.5334990+07:00 0HLN654KMIBVN:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:40:33.5450882+07:00 0HLN654KMIBVN:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:40:33.5503153+07:00 0HLN654KMIBVN:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 28.3294ms. (50a9e262)
2019-06-01T07:40:33.5608504+07:00 0HLN654KMIBVN:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:40:33.5687202+07:00 0HLN654KMIBVN:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 55.3505ms (afa2e885)
2019-06-01T07:40:33.5772462+07:00 0HLN654KMIBVN:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:40:33.5833906+07:00 0HLN654KMIBVN:00000008 [INF] Request finished in 97.1597ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:40:59.3607656+07:00 0HLN654KMIBVU:00000001 [INF] Request finished in 26091.9117ms 101  (791a596a)
2019-06-01T07:48:56.7122184+07:00 0HLN65BMH0VEC:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T07:48:56.9768221+07:00 0HLN65BMH0VEC:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T07:48:57.0212040+07:00 0HLN65BMH0VEC:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T07:48:57.0531589+07:00 0HLN65BMH0VEC:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:48:57.1553040+07:00 0HLN65BMH0VEC:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:48:57.2176904+07:00 0HLN65BMH0VEC:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T07:48:57.2979529+07:00 0HLN65BMH0VEC:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T07:48:57.3162872+07:00 0HLN65BMH0VEC:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T07:48:57.3940460+07:00 0HLN65BMH0VEC:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T07:48:57.4133776+07:00 0HLN65BMH0VEC:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T07:48:57.4615782+07:00 0HLN65BMH0VEC:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T07:48:57.4749603+07:00 0HLN65BMH0VEC:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T07:48:57.5036561+07:00 0HLN65BMH0VEC:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T07:48:57.5171474+07:00 0HLN65BMH0VEC:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T07:48:57.5257813+07:00 0HLN65BMH0VEC:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T07:48:57.5363867+07:00 0HLN65BMH0VEC:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T07:48:57.5535675+07:00 0HLN65BMH0VEC:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T07:48:57.5678940+07:00 0HLN65BMH0VEC:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 502.699ms. (50a9e262)
2019-06-01T07:48:57.5986857+07:00 0HLN65BMH0VEC:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:48:57.7482331+07:00 0HLN65BMH0VEC:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T07:48:57.7558101+07:00 0HLN65BMH0VEC:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T07:48:57.8845009+07:00 0HLN65BMH0VEC:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T07:48:57.8901177+07:00 0HLN65BMH0VEC:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T07:48:57.9067089+07:00 0HLN65BMH0VEC:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T07:48:57.9129838+07:00 0HLN65BMH0VEC:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T07:48:58.1146128+07:00 0HLN65BMH0VEC:00000001 [INF] Executed ViewResult - view "Index" executed in 502.3331ms. (f66409e9)
2019-06-01T07:48:58.1558701+07:00 0HLN65BMH0VEC:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 1101.3705ms (afa2e885)
2019-06-01T07:48:58.2900838+07:00 0HLN65BMH0VEC:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T07:48:58.3157268+07:00 0HLN65BMH0VED:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T07:48:58.3502507+07:00 0HLN65BMH0VEG:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T07:48:58.3746138+07:00 0HLN65BMH0VEC:00000001 [INF] Request finished in 1685.6408ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:48:58.3804069+07:00 0HLN65BMH0VEG:00000001 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T07:48:58.3834532+07:00 0HLN65BMH0VED:00000001 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T07:48:58.3844714+07:00 0HLN65BMH0VEE:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T07:48:58.4800389+07:00 0HLN65BMH0VEE:00000001 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T07:48:58.6142764+07:00 0HLN65BMH0VEH:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T07:48:58.6315181+07:00 0HLN65BMH0VEH:00000001 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T07:48:58.6681737+07:00 0HLN65BMH0VEF:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T07:48:58.7011243+07:00 0HLN65BMH0VEF:00000001 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T07:48:58.7033909+07:00 0HLN65BMH0VEH:00000001 [INF] Request finished in 98.9755ms 200 image/jpeg (791a596a)
2019-06-01T07:48:58.7055235+07:00 0HLN65BMH0VED:00000001 [INF] Request finished in 387.4265ms 200 image/jpeg (791a596a)
2019-06-01T07:48:58.7385515+07:00 0HLN65BMH0VEC:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T07:48:58.7410102+07:00 0HLN65BMH0VEE:00000001 [INF] Request finished in 463.9996ms 200 image/jpeg (791a596a)
2019-06-01T07:48:58.7513408+07:00 0HLN65BMH0VEC:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T07:48:58.8024981+07:00 0HLN65BMH0VED:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T07:48:58.9742223+07:00 0HLN65BMH0VEF:00000001 [INF] Request finished in 115.9802ms 200 image/jpeg (791a596a)
2019-06-01T07:48:58.9827294+07:00 0HLN65BMH0VEC:00000002 [INF] Request finished in 77.0378ms 200 image/jpeg (791a596a)
2019-06-01T07:48:59.0062182+07:00 0HLN65BMH0VEF:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T07:48:59.0339318+07:00 0HLN65BMH0VEG:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T07:48:59.0463432+07:00 0HLN65BMH0VED:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T07:48:59.0612150+07:00 0HLN65BMH0VEF:00000002 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T07:48:59.1108483+07:00 0HLN65BMH0VEF:00000002 [INF] Request finished in 101.3878ms 200 image/jpeg (791a596a)
2019-06-01T07:48:59.1391449+07:00 0HLN65BMH0VEC:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:48:59.1733454+07:00 0HLN65BMH0VED:00000002 [INF] Request finished in 301.0865ms 200 image/jpeg (791a596a)
2019-06-01T07:48:59.2240760+07:00 0HLN65BMH0VEC:00000003 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:48:59.2489408+07:00 0HLN65BMH0VEH:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T07:48:59.3007943+07:00 0HLN65BMH0VEH:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T07:48:59.3033970+07:00 0HLN65BMH0VEG:00000001 [INF] Request finished in 971.9565ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T07:48:59.3134663+07:00 0HLN65BMH0VEC:00000003 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:48:59.3341190+07:00 0HLN65BMH0VEH:00000002 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T07:48:59.3727951+07:00 0HLN65BMH0VEE:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T07:48:59.3805747+07:00 0HLN65BMH0VEH:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:48:59.3977029+07:00 0HLN65BMH0VEE:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T07:48:59.4025247+07:00 0HLN65BMH0VEH:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:48:59.4150831+07:00 0HLN65BMH0VEE:00000002 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T07:48:59.4510214+07:00 0HLN65BMH0VEE:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:48:59.4643417+07:00 0HLN65BMH0VEH:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T07:48:59.4934341+07:00 0HLN65BMH0VEE:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:48:59.5072565+07:00 0HLN65BMH0VEH:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 84.6206ms. (50a9e262)
2019-06-01T07:48:59.5539424+07:00 0HLN65BMH0VEC:00000003 [INF] Request finished in 403.6862ms 200 application/json (791a596a)
2019-06-01T07:48:59.5568089+07:00 0HLN65BMH0VEH:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:48:59.5727761+07:00 0HLN65BMH0VEI:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=fCPVvLFUDgoEwr4vBznaOQ   (ca22a1cb)
2019-06-01T07:48:59.5782821+07:00 0HLN65BMH0VEE:00000002 [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T07:48:59.5901446+07:00 0HLN65BMH0VEI:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:48:59.5998140+07:00 0HLN65BMH0VEE:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 128.3629ms. (50a9e262)
2019-06-01T07:48:59.6110730+07:00 0HLN65BMH0VEI:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:48:59.6136679+07:00 0HLN65BMH0VEE:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:48:59.6319132+07:00 0HLN65BMH0VEH:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 281.5784ms (afa2e885)
2019-06-01T07:48:59.6359797+07:00 0HLN65BMH0VEE:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 203.4365ms (afa2e885)
2019-06-01T07:48:59.6516158+07:00 0HLN65BMH0VEH:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T07:48:59.6594238+07:00 0HLN65BMH0VEE:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T07:48:59.6717946+07:00 0HLN65BMH0VEH:00000002 [INF] Request finished in 495.8797ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:48:59.6746147+07:00 0HLN65BMH0VEE:00000002 [INF] Request finished in 377.4815ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:48:59.7715078+07:00 0HLN65BMH0VEI:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:49:05.3432558+07:00 0HLN65BMH0VEE:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T07:49:05.3486971+07:00 0HLN65BMH0VEE:00000003 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T07:49:05.3528657+07:00 0HLN65BMH0VEE:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T07:49:05.3584283+07:00 0HLN65BMH0VEE:00000003 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:49:05.3650679+07:00 0HLN65BMH0VEE:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:49:05.3722835+07:00 0HLN65BMH0VEE:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T07:49:05.3831475+07:00 0HLN65BMH0VEE:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T07:49:05.3922064+07:00 0HLN65BMH0VEE:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T07:49:05.3995450+07:00 0HLN65BMH0VEE:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T07:49:05.4078470+07:00 0HLN65BMH0VEE:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T07:49:05.4171783+07:00 0HLN65BMH0VEE:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T07:49:05.4239060+07:00 0HLN65BMH0VEE:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T07:49:05.4313070+07:00 0HLN65BMH0VEE:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T07:49:05.4394835+07:00 0HLN65BMH0VEE:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T07:49:05.4559921+07:00 0HLN65BMH0VEE:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T07:49:05.4687946+07:00 0HLN65BMH0VEE:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T07:49:05.4767658+07:00 0HLN65BMH0VEE:00000003 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 110.5586ms. (50a9e262)
2019-06-01T07:49:05.4816484+07:00 0HLN65BMH0VEE:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:49:05.4899195+07:00 0HLN65BMH0VEE:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T07:49:05.4979527+07:00 0HLN65BMH0VEE:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T07:49:05.5058498+07:00 0HLN65BMH0VEE:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T07:49:05.5133152+07:00 0HLN65BMH0VEE:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T07:49:05.6185918+07:00 0HLN65BMH0VEE:00000003 [INF] Executed ViewResult - view "Index" executed in 44.7166ms. (f66409e9)
2019-06-01T07:49:05.6335513+07:00 0HLN65BMH0VEC:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T07:49:05.6355682+07:00 0HLN65BMH0VEE:00000003 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 265.761ms (afa2e885)
2019-06-01T07:49:05.6380281+07:00 0HLN65BMH0VEH:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T07:49:05.6545831+07:00 0HLN65BMH0VEE:00000003 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T07:49:05.6627571+07:00 0HLN65BMH0VEC:00000004 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T07:49:05.6729347+07:00 0HLN65BMH0VEH:00000003 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T07:49:05.7108407+07:00 0HLN65BMH0VEH:00000003 [INF] Serving from cache (7e5e9bde)
2019-06-01T07:49:05.7093490+07:00 0HLN65BMH0VEE:00000003 [INF] Request finished in 329.1053ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:49:05.7207719+07:00 0HLN65BMH0VEG:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T07:49:05.7607102+07:00 0HLN65BMH0VEC:00000004 [INF] Serving from cache (7e5e9bde)
2019-06-01T07:49:05.7655061+07:00 0HLN65BMH0VEE:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T07:49:05.7671731+07:00 0HLN65BMH0VEI:00000001 [INF] Request finished in 6178.7789ms 101  (791a596a)
2019-06-01T07:49:05.7855870+07:00 0HLN65BMH0VEH:00000003 [INF] Request finished in 155.7065ms 200 image/jpeg (791a596a)
2019-06-01T07:49:05.7888571+07:00 0HLN65BMH0VEE:00000004 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T07:49:05.7977047+07:00 0HLN65BMH0VEG:00000002 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T07:49:05.8173042+07:00 0HLN65BMH0VEE:00000004 [INF] Serving from cache (7e5e9bde)
2019-06-01T07:49:05.8206609+07:00 0HLN65BMH0VEC:00000004 [INF] Request finished in 208.4199ms 200 image/jpeg (791a596a)
2019-06-01T07:49:05.8453358+07:00 0HLN65BMH0VEH:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T07:49:05.8486318+07:00 0HLN65BMH0VEE:00000004 [INF] Request finished in 79.4198ms 200 image/jpeg (791a596a)
2019-06-01T07:49:05.8731561+07:00 0HLN65BMH0VEC:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T07:49:05.8772627+07:00 0HLN65BMH0VEH:00000004 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T07:49:05.8976698+07:00 0HLN65BMH0VEC:00000005 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T07:49:05.9001370+07:00 0HLN65BMH0VEH:00000004 [INF] Serving from cache (7e5e9bde)
2019-06-01T07:49:05.9166617+07:00 0HLN65BMH0VEC:00000005 [INF] Serving from cache (7e5e9bde)
2019-06-01T07:49:05.9260361+07:00 0HLN65BMH0VEH:00000004 [INF] Request finished in 106.7473ms 200 image/jpeg (791a596a)
2019-06-01T07:49:05.9448865+07:00 0HLN65BMH0VEC:00000005 [INF] Request finished in 73.1199ms 200 image/jpeg (791a596a)
2019-06-01T07:49:05.9611248+07:00 0HLN65BMH0VEH:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T07:49:05.9788135+07:00 0HLN65BMH0VEC:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T07:49:05.9837480+07:00 0HLN65BMH0VEH:00000005 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T07:49:05.9954895+07:00 0HLN65BMH0VEC:00000006 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T07:49:05.9977599+07:00 0HLN65BMH0VEH:00000005 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T07:49:06.0146337+07:00 0HLN65BMH0VEC:00000006 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T07:49:06.0169718+07:00 0HLN65BMH0VEH:00000005 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:49:06.0622410+07:00 0HLN65BMH0VEC:00000006 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:49:06.0656749+07:00 0HLN65BMH0VEH:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:49:06.0746140+07:00 0HLN65BMH0VEE:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:49:06.0950595+07:00 0HLN65BMH0VEC:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:49:06.0998596+07:00 0HLN65BMH0VEH:00000005 [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T07:49:06.1033041+07:00 0HLN65BMH0VEE:00000005 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:49:06.1110447+07:00 0HLN65BMH0VEG:00000002 [INF] Serving from cache (7e5e9bde)
2019-06-01T07:49:06.1269926+07:00 0HLN65BMH0VEE:00000005 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:49:06.1305696+07:00 0HLN65BMH0VEC:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T07:49:06.1321885+07:00 0HLN65BMH0VEH:00000005 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 81.773ms. (50a9e262)
2019-06-01T07:49:06.1371260+07:00 0HLN65BMH0VED:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T07:49:06.1481429+07:00 0HLN65BMH0VEC:00000006 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 67.5273ms. (50a9e262)
2019-06-01T07:49:06.1505774+07:00 0HLN65BMH0VEE:00000005 [INF] Request finished in 94.8019ms 200 application/json (791a596a)
2019-06-01T07:49:06.1555813+07:00 0HLN65BMH0VEH:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:49:06.1703682+07:00 0HLN65BMH0VEC:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:49:06.1829627+07:00 0HLN65BMH0VEJ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=Cba4ujfH_ofWrzf9EfDqGQ   (ca22a1cb)
2019-06-01T07:49:06.1852970+07:00 0HLN65BMH0VEC:00000006 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 155.8521ms (afa2e885)
2019-06-01T07:49:06.1883710+07:00 0HLN65BMH0VEH:00000005 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 156.8532ms (afa2e885)
2019-06-01T07:49:06.2000219+07:00 0HLN65BMH0VEC:00000006 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T07:49:06.2028625+07:00 0HLN65BMH0VEJ:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:49:06.2144642+07:00 0HLN65BMH0VEC:00000006 [INF] Request finished in 245.5714ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:49:06.2171156+07:00 0HLN65BMH0VEJ:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:49:06.2244969+07:00 0HLN65BMH0VEH:00000005 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T07:49:06.2340518+07:00 0HLN65BMH0VED:00000003 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T07:49:06.2364034+07:00 0HLN65BMH0VEH:00000005 [INF] Request finished in 285.6412ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:49:06.2446832+07:00 0HLN65BMH0VED:00000003 [INF] Serving from cache (7e5e9bde)
2019-06-01T07:49:06.2589232+07:00 0HLN65BMH0VEF:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T07:49:06.2655668+07:00 0HLN65BMH0VED:00000003 [INF] Request finished in 626.4815ms 200 image/jpeg (791a596a)
2019-06-01T07:49:06.2805896+07:00 0HLN65BMH0VEF:00000003 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T07:49:06.3062180+07:00 0HLN65BMH0VEJ:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:49:06.3243664+07:00 0HLN65BMH0VEG:00000002 [INF] Request finished in 480.5989ms 200 image/jpeg (791a596a)
2019-06-01T07:49:06.3462852+07:00 0HLN65BMH0VEF:00000003 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T07:49:06.3986220+07:00 0HLN65BMH0VEF:00000003 [INF] Request finished in 775.6309ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T07:49:14.4558157+07:00 0HLN65BMH0VED:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T07:49:14.4629948+07:00 0HLN65BMH0VED:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T07:49:14.4725976+07:00 0HLN65BMH0VED:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T07:49:14.4817583+07:00 0HLN65BMH0VED:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:49:14.4873796+07:00 0HLN65BMH0VED:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3786ms. (50a9e262)
2019-06-01T07:49:14.5476006+07:00 0HLN65BMH0VED:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:49:14.6445692+07:00 0HLN65BMH0VED:00000004 [INF] Executed ViewResult - view "Index" executed in 147.9112ms. (f66409e9)
2019-06-01T07:49:14.7171903+07:00 0HLN65BMH0VED:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 172.1344ms (afa2e885)
2019-06-01T07:49:14.7363299+07:00 0HLN65BMH0VEJ:00000001 [INF] Request finished in 8539.8961ms 101  (791a596a)
2019-06-01T07:49:14.7425264+07:00 0HLN65BMH0VED:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T07:49:14.7540448+07:00 0HLN65BMH0VED:00000004 [INF] Request finished in 296.2217ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:49:18.8314265+07:00 0HLN65BMH0VED:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin?__RequestVerificationToken=CfDJ8B46AaGHBO1Lrf2B-BrOQ_dKW67V1f0j7QJzIRq-HY8j7Jz7jhAlkA_R8kw9hqfjYdRZKUPjYA-tgWN_KOSeHPsnJKLK7xGSLwsnpryNLIC9zaHpwzeuwYRktQdIEtTrtdK4JmVWTDne0mIEoVVBw8jrra6VxfhBBbA1FatSJfyQukiVl-JSe5EVWXwSkG1iCA&UserName=admin&Password=123654%24   (ca22a1cb)
2019-06-01T07:49:18.8398343+07:00 0HLN65BMH0VED:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T07:49:18.8483697+07:00 0HLN65BMH0VED:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T07:49:18.8571196+07:00 0HLN65BMH0VED:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:49:18.8666523+07:00 0HLN65BMH0VED:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0229ms. (50a9e262)
2019-06-01T07:49:18.8726646+07:00 0HLN65BMH0VED:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:49:18.8921879+07:00 0HLN65BMH0VED:00000005 [INF] Executed ViewResult - view "Index" executed in 6.8918ms. (f66409e9)
2019-06-01T07:49:18.9397390+07:00 0HLN65BMH0VED:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 43.9175ms (afa2e885)
2019-06-01T07:49:18.9478326+07:00 0HLN65BMH0VED:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T07:49:18.9538091+07:00 0HLN65BMH0VED:00000005 [INF] Request finished in 130.3034ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:49:21.1110665+07:00 0HLN65BMH0VED:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T07:49:21.1182952+07:00 0HLN65BMH0VED:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T07:49:21.1227965+07:00 0HLN65BMH0VED:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T07:49:21.1301852+07:00 0HLN65BMH0VED:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:49:21.1353081+07:00 0HLN65BMH0VED:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0324ms. (50a9e262)
2019-06-01T07:49:21.1408826+07:00 0HLN65BMH0VED:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:49:21.1526192+07:00 0HLN65BMH0VED:00000006 [INF] Executed ViewResult - view "Index" executed in 6.0094ms. (f66409e9)
2019-06-01T07:49:21.2204806+07:00 0HLN65BMH0VED:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 29.8777ms (afa2e885)
2019-06-01T07:49:21.2371304+07:00 0HLN65BMH0VED:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T07:49:21.3317633+07:00 0HLN65BMH0VED:00000006 [INF] Request finished in 134.1972ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:49:36.5800794+07:00 0HLN65BMH0VED:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T07:49:36.5839162+07:00 0HLN65BMH0VED:00000007 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:49:36.5883801+07:00 0HLN65BMH0VED:00000007 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:49:36.5938136+07:00 0HLN65BMH0VED:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T07:49:36.6129196+07:00 0HLN65BMH0VED:00000007 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T07:49:36.6503366+07:00 0HLN65BMH0VED:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:49:38.4036012+07:00 0HLN65BMH0VED:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:49:38.4786427+07:00 0HLN65BMH0VED:00000007 [INF] Executed DbCommand ("35"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T07:49:38.6505872+07:00 0HLN65BMH0VED:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T07:49:38.6875288+07:00 0HLN65BMH0VED:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:49:38.7077200+07:00 0HLN65BMH0VED:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T07:49:38.7325244+07:00 0HLN65BMH0VED:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T07:49:38.7391353+07:00 0HLN65BMH0VED:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T07:49:38.7447673+07:00 0HLN65BMH0VED:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T07:49:38.7495541+07:00 0HLN65BMH0VED:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T07:49:38.7550274+07:00 0HLN65BMH0VED:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T07:49:38.7617704+07:00 0HLN65BMH0VED:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:49:38.7753309+07:00 0HLN65BMH0VED:00000007 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T07:49:38.7836469+07:00 0HLN65BMH0VED:00000007 [INF] User logged in. (fdce0db4)
2019-06-01T07:49:38.7902577+07:00 0HLN65BMH0VED:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2135.526ms. (50a9e262)
2019-06-01T07:49:38.7985305+07:00 0HLN65BMH0VED:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T07:49:38.8091410+07:00 0HLN65BMH0VED:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 2188.3649ms (afa2e885)
2019-06-01T07:49:38.8151377+07:00 0HLN65BMH0VED:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T07:49:38.8397698+07:00 0HLN65BMH0VED:00000007 [INF] Request finished in 2239.1148ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:49:38.8502072+07:00 0HLN65BMH0VED:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T07:49:38.8560508+07:00 0HLN65BMH0VED:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T07:49:38.8617653+07:00 0HLN65BMH0VED:00000008 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T07:49:38.8764489+07:00 0HLN65BMH0VED:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:49:38.8811372+07:00 0HLN65BMH0VED:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:49:38.8851778+07:00 0HLN65BMH0VED:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3236ms. (50a9e262)
2019-06-01T07:49:38.8920213+07:00 0HLN65BMH0VED:00000008 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:49:38.9553796+07:00 0HLN65BMH0VED:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:49:39.0073020+07:00 0HLN65BMH0VED:00000008 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:49:39.0243941+07:00 0HLN65BMH0VED:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:49:39.0556508+07:00 0HLN65BMH0VED:00000008 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:49:39.0594481+07:00 0HLN65BMH0VED:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:49:39.0755055+07:00 0HLN65BMH0VED:00000008 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:49:39.0798969+07:00 0HLN65BMH0VED:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:49:39.0968527+07:00 0HLN65BMH0VED:00000008 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:49:39.1005803+07:00 0HLN65BMH0VED:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:49:39.1465511+07:00 0HLN65BMH0VED:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:49:39.2244961+07:00 0HLN65BMH0VED:00000008 [INF] Executed ViewResult - view "Index" executed in 325.6235ms. (f66409e9)
2019-06-01T07:49:39.3237305+07:00 0HLN65BMH0VED:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 365.5434ms (afa2e885)
2019-06-01T07:49:39.3306392+07:00 0HLN65BMH0VED:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T07:49:39.3497974+07:00 0HLN65BMH0VED:00000008 [INF] Request finished in 485.5651ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:49:39.4927150+07:00 0HLN65BMH0VED:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/common.js?v=y7DqmVon23ErVGJwRwyGN-e1OscQoN09ThbEz09BtJA   (ca22a1cb)
2019-06-01T07:49:39.4938682+07:00 0HLN65BMH0VEH:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=cnUNyT-R9OOamTlp4eZq5PXY3EWvo8_jAhp6jw3f2_E   (ca22a1cb)
2019-06-01T07:49:39.5115532+07:00 0HLN65BMH0VED:00000009 [INF] The file "/app/shared/common.js" was not modified (f1f8d725)
2019-06-01T07:49:39.5120434+07:00 0HLN65BMH0VEH:00000006 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T07:49:39.5459318+07:00 0HLN65BMH0VED:00000009 [INF] Request finished in 53.9179ms 304 application/javascript (791a596a)
2019-06-01T07:49:39.5459466+07:00 0HLN65BMH0VEH:00000006 [INF] Request finished in 28.2498ms 304 application/javascript (791a596a)
2019-06-01T07:49:39.8318438+07:00 0HLN65BMH0VEH:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:49:39.8421055+07:00 0HLN65BMH0VED:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:49:39.8439406+07:00 0HLN65BMH0VEH:00000007 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:49:39.8521436+07:00 0HLN65BMH0VED:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:49:39.8530294+07:00 0HLN65BMH0VEH:00000007 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:49:39.8640513+07:00 0HLN65BMH0VEH:00000007 [INF] Request finished in 26.9927ms 200 application/json (791a596a)
2019-06-01T07:49:39.8672595+07:00 0HLN65BMH0VED:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:49:39.8776341+07:00 0HLN65BMH0VED:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T07:49:39.8864616+07:00 0HLN65BMH0VEH:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T07:49:39.8889173+07:00 0HLN65BMH0VED:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:49:39.8973485+07:00 0HLN65BMH0VEH:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T07:49:39.9089830+07:00 0HLN65BMH0VED:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:49:39.9124787+07:00 0HLN65BMH0VEH:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T07:49:39.9244098+07:00 0HLN65BMH0VEH:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:49:39.9359979+07:00 0HLN65BMH0VEH:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T07:49:39.9889308+07:00 0HLN65BMH0VED:0000000A [INF] Executed DbCommand ("37"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:49:40.0068159+07:00 0HLN65BMH0VEK:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=_NyYVnGE8RATl9OG5FNBLA   (ca22a1cb)
2019-06-01T07:49:40.0213144+07:00 0HLN65BMH0VEK:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:49:40.0304024+07:00 0HLN65BMH0VEK:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:49:40.0506944+07:00 0HLN65BMH0VED:0000000A [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:49:40.0565972+07:00 0HLN65BMH0VEK:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:49:40.0661980+07:00 0HLN65BMH0VED:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 168.881ms. (50a9e262)
2019-06-01T07:49:40.0761053+07:00 0HLN65BMH0VED:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:49:40.1197138+07:00 0HLN65BMH0VED:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 235.8701ms (afa2e885)
2019-06-01T07:49:40.1344666+07:00 0HLN65BMH0VED:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:49:40.1726000+07:00 0HLN65BMH0VED:0000000A [INF] Request finished in 302.2557ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:49:40.2245909+07:00 0HLN65BMH0VEH:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 283.1234ms. (50a9e262)
2019-06-01T07:49:40.2358127+07:00 0HLN65BMH0VEH:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:49:40.2498454+07:00 0HLN65BMH0VEH:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 325.8873ms (afa2e885)
2019-06-01T07:49:40.2551025+07:00 0HLN65BMH0VEH:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T07:49:40.2671771+07:00 0HLN65BMH0VEH:00000008 [INF] Request finished in 381.3953ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:49:49.7555861+07:00 0HLN65BMH0VEH:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T07:49:49.7626405+07:00 0HLN65BMH0VEH:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T07:49:49.7681609+07:00 0HLN65BMH0VEH:00000009 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T07:49:49.7723098+07:00 0HLN65BMH0VEH:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:49:49.7778454+07:00 0HLN65BMH0VEH:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:49:49.7818598+07:00 0HLN65BMH0VEH:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.5534ms. (50a9e262)
2019-06-01T07:49:49.7890089+07:00 0HLN65BMH0VEH:00000009 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:49:49.7975341+07:00 0HLN65BMH0VEH:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:49:49.8101227+07:00 0HLN65BMH0VEH:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:49:49.8140526+07:00 0HLN65BMH0VEH:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:49:49.8226766+07:00 0HLN65BMH0VEH:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:49:49.8278561+07:00 0HLN65BMH0VEH:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:49:49.8352874+07:00 0HLN65BMH0VEH:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:49:49.8390978+07:00 0HLN65BMH0VEH:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:49:49.8448279+07:00 0HLN65BMH0VEH:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:49:49.8563787+07:00 0HLN65BMH0VEH:00000009 [INF] Executed ViewResult - view "Index" executed in 66.0089ms. (f66409e9)
2019-06-01T07:49:49.8630174+07:00 0HLN65BMH0VEH:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 88.3744ms (afa2e885)
2019-06-01T07:49:49.9213070+07:00 0HLN65BMH0VEK:00000001 [INF] Request finished in 9926.4398ms 101  (791a596a)
2019-06-01T07:49:49.9204865+07:00 0HLN65BMH0VEH:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T07:49:49.9282888+07:00 0HLN65BMH0VEH:00000009 [INF] Request finished in 174.1188ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:49:50.0944236+07:00 0HLN65BMH0VEH:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:49:50.0947408+07:00 0HLN65BMH0VED:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:49:50.1014140+07:00 0HLN65BMH0VEH:0000000A [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:49:50.1148638+07:00 0HLN65BMH0VEH:0000000A [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:49:50.1163621+07:00 0HLN65BMH0VED:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:49:50.1368268+07:00 0HLN65BMH0VEH:0000000A [INF] Request finished in 38.8151ms 200 application/json (791a596a)
2019-06-01T07:49:50.1412888+07:00 0HLN65BMH0VED:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:49:50.1485626+07:00 0HLN65BMH0VED:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T07:49:50.1572326+07:00 0HLN65BMH0VED:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:49:50.1668601+07:00 0HLN65BMH0VED:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:49:50.1811390+07:00 0HLN65BMH0VED:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:49:50.1955402+07:00 0HLN65BMH0VED:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:49:50.2201938+07:00 0HLN65BMH0VED:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 38.6711ms. (50a9e262)
2019-06-01T07:49:50.2345170+07:00 0HLN65BMH0VED:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:49:50.2830483+07:00 0HLN65BMH0VEL:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=HR1ReGoXHW0ZfeHKSjkMbw   (ca22a1cb)
2019-06-01T07:49:50.2858150+07:00 0HLN65BMH0VED:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 93.3061ms (afa2e885)
2019-06-01T07:49:50.3017264+07:00 0HLN65BMH0VEL:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:49:50.3104760+07:00 0HLN65BMH0VED:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:49:50.3349395+07:00 0HLN65BMH0VEL:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:49:50.3361013+07:00 0HLN65BMH0VED:0000000B [INF] Request finished in 225.0652ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:49:50.3575442+07:00 0HLN65BMH0VEL:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:50:38.9412857+07:00 0HLN65BMH0VED:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T07:50:38.9556812+07:00 0HLN65BMH0VED:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T07:50:38.9625845+07:00 0HLN65BMH0VED:0000000C [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T07:50:38.9666301+07:00 0HLN65BMH0VED:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T07:50:38.9703704+07:00 0HLN65BMH0VED:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:50:38.9740446+07:00 0HLN65BMH0VED:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0205ms. (50a9e262)
2019-06-01T07:50:41.5172795+07:00 0HLN65BMH0VED:0000000C [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:50:41.5307810+07:00 0HLN65BMH0VED:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:50:41.5489135+07:00 0HLN65BMH0VED:0000000C [INF] Executed DbCommand ("10"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:50:41.5536557+07:00 0HLN65BMH0VED:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T07:50:41.5683605+07:00 0HLN65BMH0VED:0000000C [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:50:41.5765176+07:00 0HLN65BMH0VED:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T07:50:41.5951002+07:00 0HLN65BMH0VED:0000000C [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:50:41.6008634+07:00 0HLN65BMH0VED:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T07:50:41.6091530+07:00 0HLN65BMH0VED:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:50:41.6191834+07:00 0HLN65BMH0VED:0000000C [INF] Executed ViewResult - view "Index" executed in 2636.3584ms. (f66409e9)
2019-06-01T07:50:41.6899165+07:00 0HLN65BMH0VED:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 2656.7645ms (afa2e885)
2019-06-01T07:50:41.6973520+07:00 0HLN65BMH0VEL:00000001 [INF] Request finished in 51393.726ms 101  (791a596a)
2019-06-01T07:50:41.7034303+07:00 0HLN65BMH0VED:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T07:50:41.7158586+07:00 0HLN65BMH0VED:0000000C [INF] Request finished in 2766.2996ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:50:41.8783110+07:00 0HLN65BMH0VED:0000000D [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:50:42.2049769+07:00 0HLN65BMH0VEH:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:50:42.2081011+07:00 0HLN65BMH0VED:0000000D [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:50:42.2152666+07:00 0HLN65BMH0VEC:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T07:50:42.2204760+07:00 0HLN65BMH0VED:0000000D [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:50:42.2215107+07:00 0HLN65BMH0VEH:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:50:42.2398479+07:00 0HLN65BMH0VED:0000000D [INF] Request finished in 350.0317ms 200 application/json (791a596a)
2019-06-01T07:50:42.2427181+07:00 0HLN65BMH0VEH:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:50:42.7238500+07:00 0HLN65BMH0VEH:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T07:50:42.7343747+07:00 0HLN65BMH0VEC:00000007 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T07:50:42.7375648+07:00 0HLN65BMH0VEH:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:50:42.7450036+07:00 0HLN65BMH0VEC:00000007 [INF] Request finished in 540.0122ms 200 image/x-icon (791a596a)
2019-06-01T07:50:42.7471152+07:00 0HLN65BMH0VEH:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:50:42.7488403+07:00 0HLN65BMH0VEM:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=iuAL_MV3vl53c6_bdQhfBA   (ca22a1cb)
2019-06-01T07:50:42.7542298+07:00 0HLN65BMH0VEM:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:50:42.7633022+07:00 0HLN65BMH0VEH:0000000B [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:50:42.7665421+07:00 0HLN65BMH0VEM:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:50:43.7941358+07:00 0HLN65BMH0VEH:0000000B [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:50:43.8031032+07:00 0HLN65BMH0VEM:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:50:43.8058520+07:00 0HLN65BMH0VEH:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1056.8056ms. (50a9e262)
2019-06-01T07:50:43.8289108+07:00 0HLN65BMH0VEH:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:50:43.8381387+07:00 0HLN65BMH0VEH:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 1586.3859ms (afa2e885)
2019-06-01T07:50:43.8445449+07:00 0HLN65BMH0VEH:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:50:43.8549141+07:00 0HLN65BMH0VEH:0000000B [INF] Request finished in 1964.8652ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:51:14.7740284+07:00 0HLN65BMH0VEH:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T07:51:14.7801962+07:00 0HLN65BMH0VEH:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T07:51:14.7865806+07:00 0HLN65BMH0VEH:0000000C [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T07:51:14.7925351+07:00 0HLN65BMH0VEH:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:14.7995234+07:00 0HLN65BMH0VEH:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:51:14.8043640+07:00 0HLN65BMH0VEH:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0484ms. (50a9e262)
2019-06-01T07:51:15.0222399+07:00 0HLN65BMH0VEH:0000000C [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:51:15.0341968+07:00 0HLN65BMH0VEH:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:51:15.0613229+07:00 0HLN65BMH0VEH:0000000C [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:51:15.0666197+07:00 0HLN65BMH0VEH:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:15.0802698+07:00 0HLN65BMH0VEH:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:51:15.0862103+07:00 0HLN65BMH0VEH:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:15.0968859+07:00 0HLN65BMH0VEH:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:51:15.1236819+07:00 0HLN65BMH0VEH:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:15.1307600+07:00 0HLN65BMH0VEH:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:51:15.1441684+07:00 0HLN65BMH0VEH:0000000C [INF] Executed ViewResult - view "Index" executed in 327.2785ms. (f66409e9)
2019-06-01T07:51:15.1989810+07:00 0HLN65BMH0VEH:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 358.0333ms (afa2e885)
2019-06-01T07:51:15.2021162+07:00 0HLN65BMH0VEM:00000001 [INF] Request finished in 32422.352ms 101  (791a596a)
2019-06-01T07:51:15.2080756+07:00 0HLN65BMH0VEH:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T07:51:15.2181572+07:00 0HLN65BMH0VEH:0000000C [INF] Request finished in 438.4693ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:51:15.3850605+07:00 0HLN65BMH0VEH:0000000D [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:51:15.3938141+07:00 0HLN65BMH0VEC:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:51:15.3972668+07:00 0HLN65BMH0VEH:0000000D [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:51:15.4084205+07:00 0HLN65BMH0VEH:0000000D [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:51:15.4232919+07:00 0HLN65BMH0VEC:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:51:15.4259015+07:00 0HLN65BMH0VEH:0000000D [INF] Request finished in 35.1737ms 200 application/json (791a596a)
2019-06-01T07:51:15.4343195+07:00 0HLN65BMH0VEC:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:51:15.4443893+07:00 0HLN65BMH0VEC:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:15.4547060+07:00 0HLN65BMH0VEC:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:51:15.4678961+07:00 0HLN65BMH0VEC:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:51:15.4824114+07:00 0HLN65BMH0VEC:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:51:15.5157070+07:00 0HLN65BMH0VEC:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:51:15.5268430+07:00 0HLN65BMH0VEC:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 61.1507ms. (50a9e262)
2019-06-01T07:51:15.5307946+07:00 0HLN65BMH0VEN:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=wmxlpCziD5xM4wWQ65giwQ   (ca22a1cb)
2019-06-01T07:51:15.5378998+07:00 0HLN65BMH0VEC:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:51:15.5462534+07:00 0HLN65BMH0VEN:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:51:15.5533283+07:00 0HLN65BMH0VEC:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 105.1133ms (afa2e885)
2019-06-01T07:51:15.5633484+07:00 0HLN65BMH0VEN:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:51:15.5708967+07:00 0HLN65BMH0VEC:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:51:15.5762841+07:00 0HLN65BMH0VEC:00000008 [INF] Request finished in 187.0632ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:51:15.6043756+07:00 0HLN65BMH0VEN:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:51:15.6267715+07:00 0HLN65BMH0VEC:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T07:51:15.6388531+07:00 0HLN65BMH0VEC:00000009 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T07:51:15.6465585+07:00 0HLN65BMH0VEC:00000009 [INF] Request finished in 17.1737ms 200 image/x-icon (791a596a)
2019-06-01T07:51:42.2168723+07:00 0HLN65BMH0VEC:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T07:51:42.2271078+07:00 0HLN65BMH0VEC:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T07:51:42.2323837+07:00 0HLN65BMH0VEC:0000000A [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T07:51:42.2365987+07:00 0HLN65BMH0VEC:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:42.2423308+07:00 0HLN65BMH0VEC:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:51:42.2479632+07:00 0HLN65BMH0VEC:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0324ms. (50a9e262)
2019-06-01T07:51:42.6836375+07:00 0HLN65BMH0VEC:0000000A [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:51:42.6899521+07:00 0HLN65BMH0VEC:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:51:42.7078257+07:00 0HLN65BMH0VEC:0000000A [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:51:42.7128617+07:00 0HLN65BMH0VEC:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:42.7246471+07:00 0HLN65BMH0VEC:0000000A [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:51:42.7327813+07:00 0HLN65BMH0VEC:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:42.7460924+07:00 0HLN65BMH0VEC:0000000A [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:51:42.7507656+07:00 0HLN65BMH0VEC:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:42.7572271+07:00 0HLN65BMH0VEC:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:51:42.7676161+07:00 0HLN65BMH0VEC:0000000A [INF] Executed ViewResult - view "Index" executed in 510.5124ms. (f66409e9)
2019-06-01T07:51:42.8273486+07:00 0HLN65BMH0VEC:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 535.2389ms (afa2e885)
2019-06-01T07:51:42.8393678+07:00 0HLN65BMH0VEN:00000001 [INF] Request finished in 27255.212ms 101  (791a596a)
2019-06-01T07:51:42.8415963+07:00 0HLN65BMH0VEC:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T07:51:43.3760139+07:00 0HLN65BMH0VEC:0000000A [INF] Request finished in 635.7672ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:51:43.3807147+07:00 0HLN65BMH0VEH:0000000E [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:51:44.6004831+07:00 0HLN65BMH0VED:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:51:44.6102808+07:00 0HLN65BMH0VEH:0000000E [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:51:44.6126935+07:00 0HLN65BMH0VEC:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T07:51:45.6245373+07:00 0HLN65BMH0VEH:0000000E [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:51:45.7000728+07:00 0HLN65BMH0VEC:0000000B [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T07:51:45.7088814+07:00 0HLN65BMH0VEH:0000000E [INF] Request finished in 2262.8223ms 200 application/json (791a596a)
2019-06-01T07:51:45.7135964+07:00 0HLN65BMH0VEC:0000000B [INF] Request finished in 1097.7636ms 200 image/x-icon (791a596a)
2019-06-01T07:51:45.7219329+07:00 0HLN65BMH0VED:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:51:45.7318458+07:00 0HLN65BMH0VEO:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=ZkxzYQNvyNc_QoIkkmjPfg   (ca22a1cb)
2019-06-01T07:51:45.7328080+07:00 0HLN65BMH0VED:0000000E [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:51:45.7387234+07:00 0HLN65BMH0VED:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:45.7416026+07:00 0HLN65BMH0VEO:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:51:45.7507073+07:00 0HLN65BMH0VED:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:51:45.7527677+07:00 0HLN65BMH0VEO:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:51:45.7596686+07:00 0HLN65BMH0VED:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:51:45.7667345+07:00 0HLN65BMH0VEO:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:51:45.7707615+07:00 0HLN65BMH0VED:0000000E [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:51:45.7802266+07:00 0HLN65BMH0VED:0000000E [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:51:45.7842118+07:00 0HLN65BMH0VED:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 29.6336ms. (50a9e262)
2019-06-01T07:51:45.7880128+07:00 0HLN65BMH0VED:0000000E [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:51:45.7949744+07:00 0HLN65BMH0VED:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 55.428ms (afa2e885)
2019-06-01T07:51:45.7990175+07:00 0HLN65BMH0VED:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:51:45.8038684+07:00 0HLN65BMH0VED:0000000E [INF] Request finished in 2430.6601ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:51:57.8653571+07:00 0HLN65BMH0VED:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/index   (ca22a1cb)
2019-06-01T07:51:57.8705341+07:00 0HLN65BMH0VED:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (500cc934)
2019-06-01T07:51:57.8806515+07:00 0HLN65BMH0VED:0000000F [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" (a44c0341)
2019-06-01T07:51:57.8846995+07:00 0HLN65BMH0VED:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:57.8899179+07:00 0HLN65BMH0VED:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:51:57.8962580+07:00 0HLN65BMH0VED:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:51:57.9092360+07:00 0HLN65BMH0VED:0000000F [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:51:57.9149357+07:00 0HLN65BMH0VED:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:57.9187761+07:00 0HLN65BMH0VED:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 25.2028ms. (50a9e262)
2019-06-01T07:51:57.9267179+07:00 0HLN65BMH0VED:0000000F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:51:57.9405735+07:00 0HLN65BMH0VED:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:51:57.9478564+07:00 0HLN65BMH0VED:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:57.9632008+07:00 0HLN65BMH0VED:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:51:57.9701517+07:00 0HLN65BMH0VED:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:57.9816081+07:00 0HLN65BMH0VED:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:51:57.9860807+07:00 0HLN65BMH0VED:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:58.0050419+07:00 0HLN65BMH0VED:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:51:58.0103252+07:00 0HLN65BMH0VED:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:58.0177821+07:00 0HLN65BMH0VED:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:51:58.0216852+07:00 0HLN65BMH0VED:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:58.0308905+07:00 0HLN65BMH0VED:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:51:58.0364200+07:00 0HLN65BMH0VED:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:58.0474677+07:00 0HLN65BMH0VED:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:51:58.0616175+07:00 0HLN65BMH0VED:0000000F [INF] Executed ViewResult - view "Index" executed in 134.1283ms. (f66409e9)
2019-06-01T07:51:58.1270713+07:00 0HLN65BMH0VED:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" in 181.176ms (afa2e885)
2019-06-01T07:51:58.1313245+07:00 0HLN65BMH0VEO:00000001 [INF] Request finished in 12416.0086ms 101  (791a596a)
2019-06-01T07:51:58.1402603+07:00 0HLN65BMH0VED:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (99874f2b)
2019-06-01T07:51:58.1476252+07:00 0HLN65BMH0VED:0000000F [INF] Request finished in 283.2022ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:51:58.3008292+07:00 0HLN65BMH0VED:00000010 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:51:58.3114688+07:00 0HLN65BMH0VEH:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:51:58.3125395+07:00 0HLN65BMH0VED:00000010 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:51:58.3211308+07:00 0HLN65BMH0VED:00000010 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:51:58.3355700+07:00 0HLN65BMH0VEH:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:51:58.3403533+07:00 0HLN65BMH0VED:00000010 [INF] Request finished in 25.46ms 200 application/json (791a596a)
2019-06-01T07:51:58.3747294+07:00 0HLN65BMH0VEH:0000000F [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:51:58.4204734+07:00 0HLN65BMH0VEH:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T07:51:58.5057246+07:00 0HLN65BMH0VEH:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:51:58.5186821+07:00 0HLN65BMH0VEP:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=_0OprnG6vr_B44VEWTFQ3Q   (ca22a1cb)
2019-06-01T07:51:58.5196413+07:00 0HLN65BMH0VEH:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:51:58.5400827+07:00 0HLN65BMH0VEP:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:51:58.5691679+07:00 0HLN65BMH0VEH:0000000F [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:51:58.5731289+07:00 0HLN65BMH0VEP:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:51:58.5895001+07:00 0HLN65BMH0VEH:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:51:58.6091797+07:00 0HLN65BMH0VEH:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 83.819ms. (50a9e262)
2019-06-01T07:51:58.6553437+07:00 0HLN65BMH0VEH:0000000F [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:51:58.6667624+07:00 0HLN65BMH0VEP:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:51:58.6904523+07:00 0HLN65BMH0VEH:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 280.8613ms (afa2e885)
2019-06-01T07:51:58.7049097+07:00 0HLN65BMH0VEH:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:51:58.7183140+07:00 0HLN65BMH0VEH:0000000F [INF] Request finished in 403.4068ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:52:49.2104753+07:00 0HLN65BMH0VEH:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/index   (ca22a1cb)
2019-06-01T07:52:49.2201860+07:00 0HLN65BMH0VEH:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (500cc934)
2019-06-01T07:52:49.2243574+07:00 0HLN65BMH0VEH:00000010 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" (a44c0341)
2019-06-01T07:52:49.2293101+07:00 0HLN65BMH0VEH:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:52:49.2354643+07:00 0HLN65BMH0VEH:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:52:49.2405609+07:00 0HLN65BMH0VEH:00000010 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:52:49.2617088+07:00 0HLN65BMH0VEH:00000010 [INF] Executed DbCommand ("11"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:52:49.2658040+07:00 0HLN65BMH0VEH:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:52:49.2700292+07:00 0HLN65BMH0VEH:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 30.363ms. (50a9e262)
2019-06-01T07:52:49.2958187+07:00 0HLN65BMH0VEH:00000010 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:52:49.3079135+07:00 0HLN65BMH0VEH:00000010 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:52:49.3135628+07:00 0HLN65BMH0VEH:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:52:49.3262224+07:00 0HLN65BMH0VEH:00000010 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:52:49.3305309+07:00 0HLN65BMH0VEH:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:52:49.3428398+07:00 0HLN65BMH0VEH:00000010 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:52:49.3472214+07:00 0HLN65BMH0VEH:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:52:49.3551840+07:00 0HLN65BMH0VEH:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:52:49.3600485+07:00 0HLN65BMH0VEH:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:52:49.3672103+07:00 0HLN65BMH0VEH:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:52:49.3715011+07:00 0HLN65BMH0VEH:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:52:49.3785978+07:00 0HLN65BMH0VEH:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:52:49.3836943+07:00 0HLN65BMH0VEH:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:52:49.3950511+07:00 0HLN65BMH0VEH:00000010 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:52:49.4039315+07:00 0HLN65BMH0VEH:00000010 [INF] Executed ViewResult - view "Index" executed in 127.1588ms. (f66409e9)
2019-06-01T07:52:49.4123704+07:00 0HLN65BMH0VEH:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" in 179.6421ms (afa2e885)
2019-06-01T07:52:49.5402193+07:00 0HLN65BMH0VEH:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (99874f2b)
2019-06-01T07:52:49.5572790+07:00 0HLN65BMH0VEC:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=cnUNyT-R9OOamTlp4eZq5PXY3EWvo8_jAhp6jw3f2_E   (ca22a1cb)
2019-06-01T07:52:49.5618001+07:00 0HLN65BMH0VED:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/user/index.js?v=FlbA_X4lOavcBTTmpgJmjC9wvlRAOhMWTMDxvyil9PU   (ca22a1cb)
2019-06-01T07:52:49.5714739+07:00 0HLN65BMH0VEC:0000000C [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T07:52:49.5723174+07:00 0HLN65BMH0VEP:00000001 [INF] Request finished in 51034.084ms 101  (791a596a)
2019-06-01T07:52:49.5751711+07:00 0HLN65BMH0VEH:00000010 [INF] Request finished in 359.8491ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:52:49.5871732+07:00 0HLN65BMH0VEC:0000000C [INF] Request finished in 35.4879ms 304 application/javascript (791a596a)
2019-06-01T07:52:49.5898205+07:00 0HLN65BMH0VED:00000011 [INF] Sending file. Request path: '"/app/controllers/user/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\user\index.js"' (27b0a520)
2019-06-01T07:52:49.6052868+07:00 0HLN65BMH0VED:00000011 [INF] Request finished in 53.764ms 200 application/javascript (791a596a)
2019-06-01T07:52:49.8844415+07:00 0HLN65BMH0VED:00000012 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:52:49.8929235+07:00 0HLN65BMH0VEC:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:52:49.8942097+07:00 0HLN65BMH0VED:00000012 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:52:49.9057461+07:00 0HLN65BMH0VED:00000012 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:52:49.9137324+07:00 0HLN65BMH0VEC:0000000D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:52:49.9207675+07:00 0HLN65BMH0VED:00000012 [INF] Request finished in 71.3919ms 200 application/json (791a596a)
2019-06-01T07:52:49.9231056+07:00 0HLN65BMH0VEC:0000000D [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:52:49.9332193+07:00 0HLN65BMH0VEC:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T07:52:49.9385829+07:00 0HLN65BMH0VEC:0000000D [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:52:49.9638559+07:00 0HLN65BMH0VEC:0000000D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:52:49.9840877+07:00 0HLN65BMH0VED:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:52:49.9982009+07:00 0HLN65BMH0VEC:0000000D [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:52:50.0669287+07:00 0HLN65BMH0VED:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:52:50.3727828+07:00 0HLN65BMH0VEC:0000000D [INF] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:52:50.4334211+07:00 0HLN65BMH0VEC:0000000D [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 434.32ms. (50a9e262)
2019-06-01T07:52:50.4456480+07:00 0HLN65BMH0VED:00000013 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:52:50.4537296+07:00 0HLN65BMH0VEC:0000000D [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:52:50.4781144+07:00 0HLN65BMH0VED:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:52:50.5064766+07:00 0HLN65BMH0VEC:0000000D [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 530.1829ms (afa2e885)
2019-06-01T07:52:50.5097456+07:00 0HLN65BMH0VED:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:52:50.5273836+07:00 0HLN65BMH0VEC:0000000D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:52:50.5475720+07:00 0HLN65BMH0VED:00000013 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:52:50.5635801+07:00 0HLN65BMH0VEH:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T07:52:50.5664425+07:00 0HLN65BMH0VEC:0000000D [INF] Request finished in 664.2993ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:52:50.5839141+07:00 0HLN65BMH0VED:00000013 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T07:52:50.5947276+07:00 0HLN65BMH0VEQ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=6oOyCUy-aBIuKB0YCf4IQQ   (ca22a1cb)
2019-06-01T07:52:50.5975773+07:00 0HLN65BMH0VEE:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:52:50.6128113+07:00 0HLN65BMH0VEQ:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:52:50.6151863+07:00 0HLN65BMH0VED:00000013 [WRN] Query: '"(from AppUser x in DbSet<AppUser> select new AppUserViewModel{ { 
    UserName = [x].UserName, , 
..."' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-06-01T07:52:50.6393545+07:00 0HLN65BMH0VEE:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:52:50.6454464+07:00 0HLN65BMH0VEQ:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:52:50.6526053+07:00 0HLN65BMH0VED:00000013 [INF] Executed DbCommand ("14"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T07:52:50.6638718+07:00 0HLN65BMH0VEE:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:52:50.6898102+07:00 0HLN65BMH0VED:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 162.9336ms. (50a9e262)
2019-06-01T07:52:50.7001081+07:00 0HLN65BMH0VEQ:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:52:50.7166012+07:00 0HLN65BMH0VEE:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:52:50.7208486+07:00 0HLN65BMH0VED:00000013 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:52:50.7347509+07:00 0HLN65BMH0VEH:00000011 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T07:52:50.7420932+07:00 0HLN65BMH0VEE:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:52:50.7541712+07:00 0HLN65BMH0VED:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 290.7837ms (afa2e885)
2019-06-01T07:52:50.7596666+07:00 0HLN65BMH0VEE:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:52:50.7675751+07:00 0HLN65BMH0VED:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:52:50.7835644+07:00 0HLN65BMH0VEE:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:52:50.7886979+07:00 0HLN65BMH0VED:00000013 [INF] Request finished in 807.242ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:52:50.7916350+07:00 0HLN65BMH0VEH:00000011 [INF] Request finished in 668.5352ms 200 image/x-icon (791a596a)
2019-06-01T07:52:50.8051566+07:00 0HLN65BMH0VEE:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:52:50.8179594+07:00 0HLN65BMH0VED:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/null   (ca22a1cb)
2019-06-01T07:52:50.8200030+07:00 0HLN65BMH0VEE:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 63.3123ms. (50a9e262)
2019-06-01T07:52:50.8252160+07:00 0HLN65BMH0VEH:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:52:50.8323524+07:00 0HLN65BMH0VEE:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:52:50.8488439+07:00 0HLN65BMH0VED:00000014 [INF] Request finished in 23.065ms 404  (791a596a)
2019-06-01T07:52:50.8523857+07:00 0HLN65BMH0VEE:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 168.8458ms (afa2e885)
2019-06-01T07:52:50.8580686+07:00 0HLN65BMH0VEH:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:52:50.8633621+07:00 0HLN65BMH0VEE:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:52:50.8695491+07:00 0HLN65BMH0VEH:00000012 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:52:50.8749678+07:00 0HLN65BMH0VEE:00000006 [INF] Request finished in 365.0774ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:52:50.8819672+07:00 0HLN65BMH0VEH:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:52:50.8869304+07:00 0HLN65BMH0VEH:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:52:50.8913477+07:00 0HLN65BMH0VEH:00000012 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:52:50.8976189+07:00 0HLN65BMH0VEH:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T07:52:50.9031278+07:00 0HLN65BMH0VEH:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T07:52:50.9074071+07:00 0HLN65BMH0VEH:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.2974ms. (50a9e262)
2019-06-01T07:52:50.9118691+07:00 0HLN65BMH0VEH:00000012 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:52:50.9197575+07:00 0HLN65BMH0VEH:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 42.7388ms (afa2e885)
2019-06-01T07:52:50.9238772+07:00 0HLN65BMH0VEH:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:52:50.9305218+07:00 0HLN65BMH0VEH:00000012 [INF] Request finished in 108.374ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:52:50.9399376+07:00 0HLN65BMH0VEH:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/null   (ca22a1cb)
2019-06-01T07:52:50.9502194+07:00 0HLN65BMH0VEH:00000013 [INF] Request finished in 7.0654ms 404  (791a596a)
2019-06-01T07:53:01.2671828+07:00 0HLN65BMH0VEH:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Role/GetById?id=8630615b-b7ac-492d-b89d-08d6bb8864e4   (ca22a1cb)
2019-06-01T07:53:01.2681511+07:00 0HLN65BMH0VEE:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/User/GetById?id=8630615b-b7ac-492d-b89d-08d6bb8864e4   (ca22a1cb)
2019-06-01T07:53:01.2801162+07:00 0HLN65BMH0VEE:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)"' (500cc934)
2019-06-01T07:53:01.2884956+07:00 0HLN65BMH0VEH:00000014 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)"' (500cc934)
2019-06-01T07:53:01.2937797+07:00 0HLN65BMH0VEE:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetById\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)" (a44c0341)
2019-06-01T07:53:01.3005075+07:00 0HLN65BMH0VEE:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:53:01.3109917+07:00 0HLN65BMH0VEH:00000014 [INF] Route matched with "{area = \"Admin\", action = \"GetById\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)" (a44c0341)
2019-06-01T07:53:01.3128587+07:00 0HLN65BMH0VEE:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)" with arguments (["8630615b-b7ac-492d-b89d-08d6bb8864e4"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:53:01.3163286+07:00 0HLN65BMH0VEH:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:53:01.3226175+07:00 0HLN65BMH0VEH:00000014 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)" with arguments (["8630615b-b7ac-492d-b89d-08d6bb8864e4"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:53:01.3302564+07:00 0HLN65BMH0VEE:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:53:01.3396374+07:00 0HLN65BMH0VEH:00000014 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:53:01.3596775+07:00 0HLN65BMH0VEE:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[Balance], [e].[BirthDay], [e].[ConcurrencyStamp], [e].[DateCreated], [e].[DateModified], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[Status], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2019-06-01T07:53:01.3667188+07:00 0HLN65BMH0VEH:00000014 [INF] Executed DbCommand ("4"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConcurrencyStamp], [u].[Description], [u].[Name], [u].[NormalizedName]
FROM [AspNetRoles] AS [u]
WHERE [u].[Id] = @__roleId_0" (0723d8ff)
2019-06-01T07:53:01.3860911+07:00 0HLN65BMH0VEE:00000007 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:53:01.4035795+07:00 0HLN65BMH0VEH:00000014 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 71.5523ms. (50a9e262)
2019-06-01T07:53:01.4056028+07:00 0HLN65BMH0VEE:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 84.9722ms. (50a9e262)
2019-06-01T07:53:01.4114486+07:00 0HLN65BMH0VEH:00000014 [INF] Executing ObjectResult, writing value of type '"null"'. (8a1b66c8)
2019-06-01T07:53:01.4126478+07:00 0HLN65BMH0VEE:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Application.ViewModels.System.AppUserViewModel"'. (8a1b66c8)
2019-06-01T07:53:01.4207925+07:00 0HLN65BMH0VEE:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)" in 119.1797ms (afa2e885)
2019-06-01T07:53:01.4230621+07:00 0HLN65BMH0VEH:00000014 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)" in 101.622ms (afa2e885)
2019-06-01T07:53:01.4286355+07:00 0HLN65BMH0VEE:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)"' (99874f2b)
2019-06-01T07:53:01.4373444+07:00 0HLN65BMH0VEH:00000014 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)"' (99874f2b)
2019-06-01T07:53:01.4582285+07:00 0HLN65BMH0VEE:00000007 [INF] Request finished in 168.8663ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:53:01.4624594+07:00 0HLN65BMH0VEH:00000014 [INF] Request finished in 179.0718ms 204  (791a596a)
2019-06-01T07:53:01.4736886+07:00 0HLN65BMH0VEE:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Role/GetAll   (ca22a1cb)
2019-06-01T07:53:01.4745140+07:00 0HLN65BMH0VEH:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Role/GetById?id=8630615b-b7ac-492d-b89d-08d6bb8864e4   (ca22a1cb)
2019-06-01T07:53:01.4837406+07:00 0HLN65BMH0VEE:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)"' (500cc934)
2019-06-01T07:53:01.4855613+07:00 0HLN65BMH0VEH:00000015 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)"' (500cc934)
2019-06-01T07:53:01.4947359+07:00 0HLN65BMH0VEH:00000015 [INF] Route matched with "{area = \"Admin\", action = \"GetById\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)" (a44c0341)
2019-06-01T07:53:01.5010673+07:00 0HLN65BMH0VEE:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" (a44c0341)
2019-06-01T07:53:01.5020627+07:00 0HLN65BMH0VEH:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:53:01.5111330+07:00 0HLN65BMH0VEE:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:53:01.5134591+07:00 0HLN65BMH0VEH:00000015 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)" with arguments (["8630615b-b7ac-492d-b89d-08d6bb8864e4"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:53:01.5205824+07:00 0HLN65BMH0VEE:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:53:01.5226227+07:00 0HLN65BMH0VEH:00000015 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:53:01.5382584+07:00 0HLN65BMH0VEE:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:53:01.5405533+07:00 0HLN65BMH0VEH:00000015 [INF] Executed DbCommand ("3"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConcurrencyStamp], [u].[Description], [u].[Name], [u].[NormalizedName]
FROM [AspNetRoles] AS [u]
WHERE [u].[Id] = @__roleId_0" (0723d8ff)
2019-06-01T07:53:01.5465369+07:00 0HLN65BMH0VEH:00000015 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 28.027ms. (50a9e262)
2019-06-01T07:53:01.5720334+07:00 0HLN65BMH0VEH:00000015 [INF] Executing ObjectResult, writing value of type '"null"'. (8a1b66c8)
2019-06-01T07:53:01.5775256+07:00 0HLN65BMH0VEH:00000015 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)" in 77.8173ms (afa2e885)
2019-06-01T07:53:01.5823477+07:00 0HLN65BMH0VEH:00000015 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)"' (99874f2b)
2019-06-01T07:53:01.6097245+07:00 0HLN65BMH0VEH:00000015 [INF] Request finished in 116.0897ms 204  (791a596a)
2019-06-01T07:53:01.6169783+07:00 0HLN65BMH0VEE:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]" (0723d8ff)
2019-06-01T07:53:01.6231260+07:00 0HLN65BMH0VEE:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 98.4647ms. (50a9e262)
2019-06-01T07:53:01.6283592+07:00 0HLN65BMH0VEE:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:53:01.6376211+07:00 0HLN65BMH0VEE:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" in 130.8199ms (afa2e885)
2019-06-01T07:53:01.6429618+07:00 0HLN65BMH0VEE:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)"' (99874f2b)
2019-06-01T07:53:01.6710787+07:00 0HLN65BMH0VEE:00000008 [INF] Request finished in 178.616ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:53:08.2620268+07:00 0HLN65BMH0VEE:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/User/Delete application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T07:53:08.2668797+07:00 0HLN65BMH0VEE:00000009 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:53:08.2711488+07:00 0HLN65BMH0VEE:00000009 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:53:08.2774479+07:00 0HLN65BMH0VEE:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.Delete (Shop3)"' (500cc934)
2019-06-01T07:53:08.2860275+07:00 0HLN65BMH0VEE:00000009 [INF] Route matched with "{area = \"Admin\", action = \"Delete\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.Delete (Shop3)" (a44c0341)
2019-06-01T07:53:08.2912612+07:00 0HLN65BMH0VEE:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:53:08.2987160+07:00 0HLN65BMH0VEE:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.Delete (Shop3)" with arguments (["8630615b-b7ac-492d-b89d-08d6bb8864e4"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:53:08.3099447+07:00 0HLN65BMH0VEE:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:53:08.3189961+07:00 0HLN65BMH0VEE:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[Balance], [e].[BirthDay], [e].[ConcurrencyStamp], [e].[DateCreated], [e].[DateModified], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[Status], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2019-06-01T07:53:08.6857553+07:00 0HLN65BMH0VEE:00000009 [INF] Executed DbCommand ("250"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [AspNetUsers]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T07:53:08.7054840+07:00 0HLN65BMH0VEE:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.Delete (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 401.9446ms. (50a9e262)
2019-06-01T07:53:08.7135033+07:00 0HLN65BMH0VEE:00000009 [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-06-01T07:53:08.7202495+07:00 0HLN65BMH0VEE:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.Delete (Shop3)" in 427.8244ms (afa2e885)
2019-06-01T07:53:08.7266356+07:00 0HLN65BMH0VEE:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.Delete (Shop3)"' (99874f2b)
2019-06-01T07:53:08.7345252+07:00 0HLN65BMH0VEE:00000009 [INF] Request finished in 469.954ms 200 text/plain; charset=utf-8 (791a596a)
2019-06-01T07:53:08.7488903+07:00 0HLN65BMH0VEE:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:53:08.7539673+07:00 0HLN65BMH0VEE:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:53:08.7604867+07:00 0HLN65BMH0VEE:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:53:08.7664235+07:00 0HLN65BMH0VEE:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T07:53:08.7724435+07:00 0HLN65BMH0VEE:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:53:08.7784226+07:00 0HLN65BMH0VEE:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:53:08.7991849+07:00 0HLN65BMH0VEE:0000000A [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T07:53:08.8067779+07:00 0HLN65BMH0VEE:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T07:53:08.8130847+07:00 0HLN65BMH0VEE:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 34.4877ms. (50a9e262)
2019-06-01T07:53:08.8183602+07:00 0HLN65BMH0VEE:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:53:08.8319110+07:00 0HLN65BMH0VEE:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 58.2325ms (afa2e885)
2019-06-01T07:53:08.8375262+07:00 0HLN65BMH0VEE:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:53:08.8472407+07:00 0HLN65BMH0VEE:0000000A [INF] Request finished in 93.3431ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:53:08.8592730+07:00 0HLN65BMH0VEE:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/null   (ca22a1cb)
2019-06-01T07:53:08.8700734+07:00 0HLN65BMH0VEE:0000000B [INF] Request finished in 9.3624ms 404  (791a596a)
2019-06-01T07:53:11.3020706+07:00 0HLN65BMH0VEE:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Role/GetById?id=45235cd4-ace9-4e68-b8a3-08d6bb62e6cb   (ca22a1cb)
2019-06-01T07:53:11.3055725+07:00 0HLN65BMH0VEH:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Role/GetById?id=45235cd4-ace9-4e68-b8a3-08d6bb62e6cb   (ca22a1cb)
2019-06-01T07:53:11.3129642+07:00 0HLN65BMH0VEE:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)"' (500cc934)
2019-06-01T07:53:11.3190302+07:00 0HLN65BMH0VEH:00000016 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)"' (500cc934)
2019-06-01T07:53:11.3218815+07:00 0HLN65BMH0VEE:0000000C [INF] Route matched with "{area = \"Admin\", action = \"GetById\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)" (a44c0341)
2019-06-01T07:53:11.3283127+07:00 0HLN65BMH0VEH:00000016 [INF] Route matched with "{area = \"Admin\", action = \"GetById\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)" (a44c0341)
2019-06-01T07:53:11.3321309+07:00 0HLN65BMH0VEE:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T07:53:11.3410597+07:00 0HLN65BMH0VEH:00000016 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:53:11.3441522+07:00 0HLN65BMH0VEE:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)" with arguments (["45235cd4-ace9-4e68-b8a3-08d6bb62e6cb"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:53:11.3524587+07:00 0HLN65BMH0VEH:00000016 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)" with arguments (["45235cd4-ace9-4e68-b8a3-08d6bb62e6cb"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:53:11.3559028+07:00 0HLN65BMH0VEE:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:53:11.3599220+07:00 0HLN65BMH0VED:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/User/GetById?id=45235cd4-ace9-4e68-b8a3-08d6bb62e6cb   (ca22a1cb)
2019-06-01T07:53:11.3721189+07:00 0HLN65BMH0VEH:00000016 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:53:11.3767209+07:00 0HLN65BMH0VEE:0000000C [INF] Executed DbCommand ("5"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConcurrencyStamp], [u].[Description], [u].[Name], [u].[NormalizedName]
FROM [AspNetRoles] AS [u]
WHERE [u].[Id] = @__roleId_0" (0723d8ff)
2019-06-01T07:53:11.3798466+07:00 0HLN65BMH0VED:00000015 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)"' (500cc934)
2019-06-01T07:53:11.3890359+07:00 0HLN65BMH0VEH:00000016 [INF] Executed DbCommand ("4"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConcurrencyStamp], [u].[Description], [u].[Name], [u].[NormalizedName]
FROM [AspNetRoles] AS [u]
WHERE [u].[Id] = @__roleId_0" (0723d8ff)
2019-06-01T07:53:11.3914581+07:00 0HLN65BMH0VEE:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 32.9045ms. (50a9e262)
2019-06-01T07:53:11.3997969+07:00 0HLN65BMH0VEH:00000016 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 36.8561ms. (50a9e262)
2019-06-01T07:53:11.4021637+07:00 0HLN65BMH0VEE:0000000C [INF] Executing ObjectResult, writing value of type '"null"'. (8a1b66c8)
2019-06-01T07:53:11.4081391+07:00 0HLN65BMH0VEH:00000016 [INF] Executing ObjectResult, writing value of type '"null"'. (8a1b66c8)
2019-06-01T07:53:11.4115520+07:00 0HLN65BMH0VEE:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)" in 80.4036ms (afa2e885)
2019-06-01T07:53:11.4165945+07:00 0HLN65BMH0VEH:00000016 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)" in 80.3802ms (afa2e885)
2019-06-01T07:53:11.4206876+07:00 0HLN65BMH0VEE:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)"' (99874f2b)
2019-06-01T07:53:11.4311203+07:00 0HLN65BMH0VEH:00000016 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)"' (99874f2b)
2019-06-01T07:53:11.4375638+07:00 0HLN65BMH0VEE:0000000C [INF] Request finished in 126.5258ms 204  (791a596a)
2019-06-01T07:53:11.4469038+07:00 0HLN65BMH0VEH:00000016 [INF] Request finished in 136.1155ms 204  (791a596a)
2019-06-01T07:53:11.4516135+07:00 0HLN65BMH0VED:00000015 [INF] Route matched with "{area = \"Admin\", action = \"GetById\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)" (a44c0341)
2019-06-01T07:53:11.4566650+07:00 0HLN65BMH0VED:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:53:11.4664217+07:00 0HLN65BMH0VED:00000015 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)" with arguments (["45235cd4-ace9-4e68-b8a3-08d6bb62e6cb"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:53:11.4726428+07:00 0HLN65BMH0VED:00000015 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:53:11.4832914+07:00 0HLN65BMH0VED:00000015 [INF] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[Balance], [e].[BirthDay], [e].[ConcurrencyStamp], [e].[DateCreated], [e].[DateModified], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[Status], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2019-06-01T07:53:11.4895781+07:00 0HLN65BMH0VED:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T07:53:11.4974608+07:00 0HLN65BMH0VED:00000015 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 24.5681ms. (50a9e262)
2019-06-01T07:53:11.5016249+07:00 0HLN65BMH0VED:00000015 [INF] Executing ObjectResult, writing value of type '"Shop3.Application.ViewModels.System.AppUserViewModel"'. (8a1b66c8)
2019-06-01T07:53:11.5088590+07:00 0HLN65BMH0VED:00000015 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)" in 50.3031ms (afa2e885)
2019-06-01T07:53:11.5138230+07:00 0HLN65BMH0VED:00000015 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)"' (99874f2b)
2019-06-01T07:53:11.5211843+07:00 0HLN65BMH0VED:00000015 [INF] Request finished in 218.7411ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:53:11.5283375+07:00 0HLN65BMH0VED:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Role/GetAll   (ca22a1cb)
2019-06-01T07:53:11.5336462+07:00 0HLN65BMH0VED:00000016 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)"' (500cc934)
2019-06-01T07:53:11.5381730+07:00 0HLN65BMH0VED:00000016 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" (a44c0341)
2019-06-01T07:53:11.5437566+07:00 0HLN65BMH0VED:00000016 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:53:11.5515031+07:00 0HLN65BMH0VED:00000016 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:53:11.5574071+07:00 0HLN65BMH0VED:00000016 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:53:11.5650382+07:00 0HLN65BMH0VED:00000016 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]" (0723d8ff)
2019-06-01T07:53:11.5699273+07:00 0HLN65BMH0VED:00000016 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 13.7181ms. (50a9e262)
2019-06-01T07:53:11.5743211+07:00 0HLN65BMH0VED:00000016 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:53:11.5822345+07:00 0HLN65BMH0VED:00000016 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" in 36.7289ms (afa2e885)
2019-06-01T07:53:11.5866743+07:00 0HLN65BMH0VED:00000016 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)"' (99874f2b)
2019-06-01T07:53:11.5929594+07:00 0HLN65BMH0VED:00000016 [INF] Request finished in 63.9285ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T07:58:52.0569992+07:00 0HLN65BMH0VER:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T07:58:52.0643650+07:00 0HLN65BMH0VER:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T07:58:52.0716782+07:00 0HLN65BMH0VER:00000001 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T07:58:52.0760458+07:00 0HLN65BMH0VER:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:58:52.0818603+07:00 0HLN65BMH0VER:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T07:58:52.0864667+07:00 0HLN65BMH0VER:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0283ms. (50a9e262)
2019-06-01T07:58:52.3809280+07:00 0HLN65BMH0VER:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T07:58:52.3886532+07:00 0HLN65BMH0VER:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:58:52.5071880+07:00 0HLN65BMH0VER:00000001 [INF] Executed DbCommand ("98"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:58:52.5117951+07:00 0HLN65BMH0VER:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:58:52.5265184+07:00 0HLN65BMH0VER:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:58:52.5306576+07:00 0HLN65BMH0VER:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:58:52.5440897+07:00 0HLN65BMH0VER:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T07:58:52.5482579+07:00 0HLN65BMH0VER:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:58:52.5555043+07:00 0HLN65BMH0VER:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T07:58:52.5638173+07:00 0HLN65BMH0VER:00000001 [INF] Executed ViewResult - view "Index" executed in 470.3327ms. (f66409e9)
2019-06-01T07:58:52.6125955+07:00 0HLN65BMH0VER:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 492.2679ms (afa2e885)
2019-06-01T07:58:52.6258873+07:00 0HLN65BMH0VER:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T07:58:52.6363411+07:00 0HLN65BMH0VEQ:00000001 [INF] Request finished in 362198.9602ms 101  (791a596a)
2019-06-01T07:58:52.6372076+07:00 0HLN65BMH0VER:00000001 [INF] Request finished in 577.3985ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T07:58:52.6782135+07:00 0HLN65BMH0VER:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=cnUNyT-R9OOamTlp4eZq5PXY3EWvo8_jAhp6jw3f2_E   (ca22a1cb)
2019-06-01T07:58:52.6833109+07:00 0HLN65BMH0VER:00000002 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T07:58:52.6892232+07:00 0HLN65BMH0VER:00000002 [INF] Request finished in 10.6112ms 304 application/javascript (791a596a)
2019-06-01T07:58:52.8668271+07:00 0HLN65BMH0VER:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T07:58:52.8744931+07:00 0HLN65BMH0VES:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T07:58:52.8961202+07:00 0HLN65BMH0VER:00000003 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:58:52.9011134+07:00 0HLN65BMH0VER:00000003 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:58:52.9154113+07:00 0HLN65BMH0VER:00000003 [INF] Request finished in 46.4836ms 200 application/json (791a596a)
2019-06-01T07:58:52.9164989+07:00 0HLN65BMH0VES:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T07:58:52.9323507+07:00 0HLN65BMH0VES:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T07:58:52.9378601+07:00 0HLN65BMH0VES:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T07:58:52.9420349+07:00 0HLN65BMH0VES:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T07:58:52.9628147+07:00 0HLN65BMH0VES:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T07:58:52.9978641+07:00 0HLN65BMH0VET:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=9BcnC2d244V3m2AGQW9lDg   (ca22a1cb)
2019-06-01T07:58:53.0025657+07:00 0HLN65BMH0VET:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T07:58:53.0074255+07:00 0HLN65BMH0VET:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T07:58:53.0571633+07:00 0HLN65BMH0VES:00000001 [INF] Executed DbCommand ("87"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T07:58:53.0752847+07:00 0HLN65BMH0VES:00000001 [INF] Executed DbCommand ("12"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T07:58:53.1325069+07:00 0HLN65BMH0VES:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 135.2704ms. (50a9e262)
2019-06-01T07:58:53.1390291+07:00 0HLN65BMH0VET:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T07:58:53.1430516+07:00 0HLN65BMH0VES:00000001 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T07:58:53.1499206+07:00 0HLN65BMH0VES:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 211.0344ms (afa2e885)
2019-06-01T07:58:53.1541261+07:00 0HLN65BMH0VES:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T07:58:53.1705991+07:00 0HLN65BMH0VES:00000001 [INF] Request finished in 286.675ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:17:28.1001697+07:00 0HLN65RKCOJTB:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T08:17:28.2484140+07:00 0HLN65RKCOJTB:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T08:17:28.2960944+07:00 0HLN65RKCOJTB:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T08:17:28.3174319+07:00 0HLN65RKCOJTB:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:17:28.3449440+07:00 0HLN65RKCOJTB:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:17:28.4023121+07:00 0HLN65RKCOJTB:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T08:17:28.4813209+07:00 0HLN65RKCOJTB:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T08:17:28.5362768+07:00 0HLN65RKCOJTB:00000001 [INF] Executed DbCommand ("42"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T08:17:28.5998304+07:00 0HLN65RKCOJTB:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T08:17:28.6167198+07:00 0HLN65RKCOJTB:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T08:17:28.6577434+07:00 0HLN65RKCOJTB:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T08:17:28.6690508+07:00 0HLN65RKCOJTB:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T08:17:28.6975850+07:00 0HLN65RKCOJTB:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T08:17:28.7094804+07:00 0HLN65RKCOJTB:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T08:17:28.7198418+07:00 0HLN65RKCOJTB:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T08:17:28.7258964+07:00 0HLN65RKCOJTB:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T08:17:28.7484822+07:00 0HLN65RKCOJTB:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T08:17:28.7587599+07:00 0HLN65RKCOJTB:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 433.8047ms. (50a9e262)
2019-06-01T08:17:28.7886340+07:00 0HLN65RKCOJTB:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:17:28.9234215+07:00 0HLN65RKCOJTB:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T08:17:28.9331051+07:00 0HLN65RKCOJTB:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T08:17:29.0537156+07:00 0HLN65RKCOJTB:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T08:17:29.0594038+07:00 0HLN65RKCOJTB:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T08:17:29.0800458+07:00 0HLN65RKCOJTB:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T08:17:29.0885336+07:00 0HLN65RKCOJTB:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T08:17:29.2203656+07:00 0HLN65RKCOJTB:00000001 [INF] Executed ViewResult - view "Index" executed in 373.5393ms. (f66409e9)
2019-06-01T08:17:29.2255181+07:00 0HLN65RKCOJTB:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 924.3241ms (afa2e885)
2019-06-01T08:17:29.2322959+07:00 0HLN65RKCOJTB:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T08:17:29.2499164+07:00 0HLN65RKCOJTB:00000001 [INF] Request finished in 1198.4474ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:17:29.4710805+07:00 0HLN65RKCOJTE:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T08:17:29.4742178+07:00 0HLN65RKCOJTB:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T08:17:29.4791761+07:00 0HLN65RKCOJTC:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T08:17:29.4815617+07:00 0HLN65RKCOJTD:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T08:17:29.4913377+07:00 0HLN65RKCOJTB:00000002 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T08:17:29.4962218+07:00 0HLN65RKCOJTC:00000001 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T08:17:29.5001947+07:00 0HLN65RKCOJTE:00000001 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T08:17:29.5026206+07:00 0HLN65RKCOJTD:00000001 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T08:17:29.7843270+07:00 0HLN65RKCOJTF:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T08:17:29.7903816+07:00 0HLN65RKCOJTF:00000001 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T08:17:29.7935279+07:00 0HLN65RKCOJTD:00000001 [INF] Request finished in 356.2639ms 200 image/jpeg (791a596a)
2019-06-01T08:17:29.8050671+07:00 0HLN65RKCOJTB:00000002 [INF] Request finished in 342.0497ms 200 image/jpeg (791a596a)
2019-06-01T08:17:29.8151098+07:00 0HLN65RKCOJTC:00000001 [INF] Request finished in 358.8033ms 200 image/jpeg (791a596a)
2019-06-01T08:17:29.9044020+07:00 0HLN65RKCOJTB:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T08:17:29.9671396+07:00 0HLN65RKCOJTG:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T08:17:29.9750145+07:00 0HLN65RKCOJTD:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T08:17:29.9813443+07:00 0HLN65RKCOJTG:00000001 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T08:17:29.9836237+07:00 0HLN65RKCOJTD:00000002 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T08:17:29.9904557+07:00 0HLN65RKCOJTF:00000001 [INF] Request finished in 198.5598ms 200 image/jpeg (791a596a)
2019-06-01T08:17:29.9940934+07:00 0HLN65RKCOJTE:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T08:17:29.9995958+07:00 0HLN65RKCOJTB:00000003 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T08:17:30.0171617+07:00 0HLN65RKCOJTG:00000001 [INF] Request finished in 63.3903ms 200 image/jpeg (791a596a)
2019-06-01T08:17:30.0218362+07:00 0HLN65RKCOJTB:00000003 [INF] Request finished in 161.6856ms 200 image/jpeg (791a596a)
2019-06-01T08:17:30.0898833+07:00 0HLN65RKCOJTD:00000002 [INF] Request finished in 133.3291ms 200 image/jpeg (791a596a)
2019-06-01T08:17:30.0992774+07:00 0HLN65RKCOJTE:00000001 [INF] Request finished in 674.9057ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T08:17:30.3746634+07:00 0HLN65RKCOJTD:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T08:17:30.3822626+07:00 0HLN65RKCOJTE:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T08:17:30.3872973+07:00 0HLN65RKCOJTB:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T08:17:30.4202781+07:00 0HLN65RKCOJTE:00000002 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:17:30.4557981+07:00 0HLN65RKCOJTD:00000003 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T08:17:30.4601710+07:00 0HLN65RKCOJTE:00000002 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:17:30.4719424+07:00 0HLN65RKCOJTB:00000004 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T08:17:30.4832496+07:00 0HLN65RKCOJTD:00000003 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T08:17:30.4926502+07:00 0HLN65RKCOJTB:00000004 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T08:17:30.4960602+07:00 0HLN65RKCOJTD:00000003 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:17:30.5324311+07:00 0HLN65RKCOJTB:00000004 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:17:30.5342227+07:00 0HLN65RKCOJTD:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:17:30.5498547+07:00 0HLN65RKCOJTB:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:17:30.5600437+07:00 0HLN65RKCOJTD:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T08:17:30.5719067+07:00 0HLN65RKCOJTD:00000003 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 66.0573ms. (50a9e262)
2019-06-01T08:17:30.5846952+07:00 0HLN65RKCOJTB:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T08:17:30.5937430+07:00 0HLN65RKCOJTE:00000002 [INF] Request finished in 227.5304ms 200 application/json (791a596a)
2019-06-01T08:17:30.6029533+07:00 0HLN65RKCOJTD:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:17:30.6039817+07:00 0HLN65RKCOJTB:00000004 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 53.3148ms. (50a9e262)
2019-06-01T08:17:30.6150771+07:00 0HLN65RKCOJTB:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:17:30.6159387+07:00 0HLN65RKCOJTH:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=PSuHEKhIPL78K9RgtvZvYg   (ca22a1cb)
2019-06-01T08:17:30.6212146+07:00 0HLN65RKCOJTH:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:17:30.6271809+07:00 0HLN65RKCOJTH:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:17:30.6696429+07:00 0HLN65RKCOJTB:00000004 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 160.7055ms (afa2e885)
2019-06-01T08:17:30.6848691+07:00 0HLN65RKCOJTD:00000003 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 170.2398ms (afa2e885)
2019-06-01T08:17:30.6898422+07:00 0HLN65RKCOJTB:00000004 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T08:17:30.6920662+07:00 0HLN65RKCOJTD:00000003 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T08:17:30.7011366+07:00 0HLN65RKCOJTB:00000004 [INF] Request finished in 370.462ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:17:30.7031780+07:00 0HLN65RKCOJTD:00000003 [INF] Request finished in 368.7406ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:17:30.7380539+07:00 0HLN65RKCOJTH:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T08:17:34.5340556+07:00 0HLN65RKCOJTD:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T08:17:34.5455039+07:00 0HLN65RKCOJTD:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T08:17:34.5533328+07:00 0HLN65RKCOJTD:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T08:17:34.5627165+07:00 0HLN65RKCOJTD:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:17:34.5684105+07:00 0HLN65RKCOJTD:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.5874ms. (50a9e262)
2019-06-01T08:17:34.5800269+07:00 0HLN65RKCOJTD:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:17:34.6878886+07:00 0HLN65RKCOJTD:00000004 [INF] Executed ViewResult - view "Index" executed in 39.1659ms. (f66409e9)
2019-06-01T08:17:34.7196986+07:00 0HLN65RKCOJTD:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 134.863ms (afa2e885)
2019-06-01T08:17:34.7472850+07:00 0HLN65RKCOJTD:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T08:17:34.7514958+07:00 0HLN65RKCOJTH:00000001 [INF] Request finished in 4127.7123ms 101  (791a596a)
2019-06-01T08:17:34.7601958+07:00 0HLN65RKCOJTD:00000004 [INF] Request finished in 221.2814ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:17:36.2754060+07:00 0HLN65RKCOJTD:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T08:17:36.2804813+07:00 0HLN65RKCOJTD:00000005 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:17:36.2854376+07:00 0HLN65RKCOJTD:00000005 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:17:36.2906060+07:00 0HLN65RKCOJTD:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T08:17:36.3140809+07:00 0HLN65RKCOJTD:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T08:17:36.3576944+07:00 0HLN65RKCOJTD:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T08:17:38.9225640+07:00 0HLN65RKCOJTD:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:17:39.0250842+07:00 0HLN65RKCOJTD:00000005 [INF] Executed DbCommand ("56"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T08:17:39.2151772+07:00 0HLN65RKCOJTD:00000005 [INF] Executed DbCommand ("11"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T08:17:39.2533220+07:00 0HLN65RKCOJTD:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T08:17:39.2744309+07:00 0HLN65RKCOJTD:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T08:17:39.3021490+07:00 0HLN65RKCOJTD:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T08:17:39.3096440+07:00 0HLN65RKCOJTD:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T08:17:39.3181449+07:00 0HLN65RKCOJTD:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T08:17:39.3247919+07:00 0HLN65RKCOJTD:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T08:17:39.3384796+07:00 0HLN65RKCOJTD:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T08:17:39.3465333+07:00 0HLN65RKCOJTD:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T08:17:39.3647483+07:00 0HLN65RKCOJTD:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T08:17:39.3711446+07:00 0HLN65RKCOJTD:00000005 [INF] User logged in. (fdce0db4)
2019-06-01T08:17:39.3775040+07:00 0HLN65RKCOJTD:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3015.9794ms. (50a9e262)
2019-06-01T08:17:39.3876780+07:00 0HLN65RKCOJTD:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T08:17:39.3993579+07:00 0HLN65RKCOJTD:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 3079.8128ms (afa2e885)
2019-06-01T08:17:39.4046026+07:00 0HLN65RKCOJTD:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T08:17:39.4137521+07:00 0HLN65RKCOJTD:00000005 [INF] Request finished in 3135.0919ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:17:39.4326782+07:00 0HLN65RKCOJTD:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T08:17:39.4392110+07:00 0HLN65RKCOJTD:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T08:17:39.4473595+07:00 0HLN65RKCOJTD:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T08:17:39.4626752+07:00 0HLN65RKCOJTD:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:17:39.4677911+07:00 0HLN65RKCOJTD:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:17:39.4725808+07:00 0HLN65RKCOJTD:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3561ms. (50a9e262)
2019-06-01T08:17:39.4813095+07:00 0HLN65RKCOJTD:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:17:39.4964249+07:00 0HLN65RKCOJTD:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:17:39.5699691+07:00 0HLN65RKCOJTD:00000006 [INF] Executed DbCommand ("30"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:17:39.5902284+07:00 0HLN65RKCOJTD:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:17:39.6206660+07:00 0HLN65RKCOJTD:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:17:39.6260113+07:00 0HLN65RKCOJTD:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:17:39.6486906+07:00 0HLN65RKCOJTD:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:17:39.6534836+07:00 0HLN65RKCOJTD:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:17:39.6730828+07:00 0HLN65RKCOJTD:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:17:39.6800567+07:00 0HLN65RKCOJTD:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:17:39.7313560+07:00 0HLN65RKCOJTD:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:17:39.9969636+07:00 0HLN65RKCOJTD:00000006 [INF] Executed ViewResult - view "Index" executed in 360.0288ms. (f66409e9)
2019-06-01T08:17:40.0603006+07:00 0HLN65RKCOJTB:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=qC_J7eLfGY_5AzbRqmRYofiSEy5Mxq4RMTkWN3BXa40   (ca22a1cb)
2019-06-01T08:17:40.0693721+07:00 0HLN65RKCOJTD:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 558.6358ms (afa2e885)
2019-06-01T08:17:40.1429585+07:00 0HLN65RKCOJTD:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T08:17:40.1782439+07:00 0HLN65RKCOJTD:00000006 [INF] Request finished in 720.2615ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:17:40.1927739+07:00 0HLN65RKCOJTB:00000005 [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T08:17:40.2042697+07:00 0HLN65RKCOJTB:00000005 [INF] Request finished in 192.8236ms 200 application/javascript (791a596a)
2019-06-01T08:17:40.2504554+07:00 0HLN65RKCOJTB:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T08:17:40.2559451+07:00 0HLN65RKCOJTD:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T08:17:40.2903758+07:00 0HLN65RKCOJTB:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:17:40.2957297+07:00 0HLN65RKCOJTD:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T08:17:40.3105814+07:00 0HLN65RKCOJTB:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:17:40.3333186+07:00 0HLN65RKCOJTE:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T08:17:40.3380378+07:00 0HLN65RKCOJTB:00000006 [INF] Request finished in 78.9066ms 200 application/json (791a596a)
2019-06-01T08:17:40.3497441+07:00 0HLN65RKCOJTE:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T08:17:40.3560037+07:00 0HLN65RKCOJTD:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T08:17:40.3745239+07:00 0HLN65RKCOJTE:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T08:17:40.4023475+07:00 0HLN65RKCOJTD:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:17:40.4283347+07:00 0HLN65RKCOJTE:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:17:40.4366071+07:00 0HLN65RKCOJTD:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T08:17:40.4520808+07:00 0HLN65RKCOJTE:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T08:17:40.4588286+07:00 0HLN65RKCOJTI:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=6_GEY7N-U_mmrhNoInauQQ   (ca22a1cb)
2019-06-01T08:17:40.4628434+07:00 0HLN65RKCOJTD:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:17:40.4935154+07:00 0HLN65RKCOJTI:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:17:40.5172556+07:00 0HLN65RKCOJTI:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:17:40.5525800+07:00 0HLN65RKCOJTI:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T08:17:40.5561631+07:00 0HLN65RKCOJTD:00000007 [INF] Executed DbCommand ("12"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T08:17:40.6375929+07:00 0HLN65RKCOJTD:00000007 [INF] Executed DbCommand ("53"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T08:17:40.6560256+07:00 0HLN65RKCOJTD:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 204.7518ms. (50a9e262)
2019-06-01T08:17:40.6697725+07:00 0HLN65RKCOJTD:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:17:40.7073495+07:00 0HLN65RKCOJTD:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 335.0401ms (afa2e885)
2019-06-01T08:17:40.7207132+07:00 0HLN65RKCOJTD:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T08:17:40.7392489+07:00 0HLN65RKCOJTD:00000007 [INF] Request finished in 486.1103ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:17:40.7425495+07:00 0HLN65RKCOJTE:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 270.2455ms. (50a9e262)
2019-06-01T08:17:40.7695993+07:00 0HLN65RKCOJTE:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:17:40.7724321+07:00 0HLN65RKCOJTD:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/images/users.png   (ca22a1cb)
2019-06-01T08:17:40.7916526+07:00 0HLN65RKCOJTE:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 398.1358ms (afa2e885)
2019-06-01T08:17:40.7937974+07:00 0HLN65RKCOJTD:00000008 [INF] The file "/admin-side/images/users.png" was not modified (f1f8d725)
2019-06-01T08:17:40.8233465+07:00 0HLN65RKCOJTE:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T08:17:40.8271196+07:00 0HLN65RKCOJTD:00000008 [INF] Request finished in 51.5942ms 304 image/png (791a596a)
2019-06-01T08:17:40.8375545+07:00 0HLN65RKCOJTE:00000003 [INF] Request finished in 516.6395ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:17:45.7757187+07:00 0HLN65RKCOJTE:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T08:17:45.7821798+07:00 0HLN65RKCOJTE:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T08:17:45.7891603+07:00 0HLN65RKCOJTE:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T08:17:45.7944046+07:00 0HLN65RKCOJTE:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:17:45.8010655+07:00 0HLN65RKCOJTE:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:17:45.8052435+07:00 0HLN65RKCOJTE:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2235ms. (50a9e262)
2019-06-01T08:17:45.8132677+07:00 0HLN65RKCOJTE:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:17:45.8697017+07:00 0HLN65RKCOJTE:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:17:45.8808525+07:00 0HLN65RKCOJTE:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:17:45.8854129+07:00 0HLN65RKCOJTE:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:17:45.8933370+07:00 0HLN65RKCOJTE:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:17:45.8992574+07:00 0HLN65RKCOJTE:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:17:45.9068570+07:00 0HLN65RKCOJTE:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:17:45.9121431+07:00 0HLN65RKCOJTE:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:17:45.9205448+07:00 0HLN65RKCOJTE:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:17:45.9312036+07:00 0HLN65RKCOJTE:00000004 [INF] Executed ViewResult - view "Index" executed in 117.3545ms. (f66409e9)
2019-06-01T08:17:45.9593370+07:00 0HLN65RKCOJTE:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 142.2333ms (afa2e885)
2019-06-01T08:17:45.9904849+07:00 0HLN65RKCOJTE:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T08:17:46.0074268+07:00 0HLN65RKCOJTI:00000001 [INF] Request finished in 5530.571ms 101  (791a596a)
2019-06-01T08:17:46.0257119+07:00 0HLN65RKCOJTE:00000004 [INF] Request finished in 248.547ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:17:46.1165623+07:00 0HLN65RKCOJTE:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T08:17:46.1195760+07:00 0HLN65RKCOJTD:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T08:17:46.1367432+07:00 0HLN65RKCOJTE:00000005 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:17:46.1384749+07:00 0HLN65RKCOJTD:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T08:17:46.1716285+07:00 0HLN65RKCOJTE:00000005 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:17:46.1801671+07:00 0HLN65RKCOJTD:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T08:17:46.2394442+07:00 0HLN65RKCOJTE:00000005 [INF] Request finished in 70.5968ms 200 application/json (791a596a)
2019-06-01T08:17:46.2395739+07:00 0HLN65RKCOJTD:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:17:46.2615197+07:00 0HLN65RKCOJTJ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=1oSmViT9qS5_YmXz_CVtmg   (ca22a1cb)
2019-06-01T08:17:46.2703968+07:00 0HLN65RKCOJTD:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T08:17:46.2828793+07:00 0HLN65RKCOJTJ:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:17:46.2881675+07:00 0HLN65RKCOJTD:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:17:46.3392874+07:00 0HLN65RKCOJTJ:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:17:46.3417350+07:00 0HLN65RKCOJTD:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T08:17:46.3678519+07:00 0HLN65RKCOJTD:00000009 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T08:17:46.3701674+07:00 0HLN65RKCOJTJ:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T08:17:46.3754478+07:00 0HLN65RKCOJTD:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 97.5256ms. (50a9e262)
2019-06-01T08:17:46.3855799+07:00 0HLN65RKCOJTD:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:17:46.3941899+07:00 0HLN65RKCOJTD:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 205.7257ms (afa2e885)
2019-06-01T08:17:46.4097443+07:00 0HLN65RKCOJTD:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T08:17:46.4319348+07:00 0HLN65RKCOJTD:00000009 [INF] Request finished in 304.6048ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:18:03.1717237+07:00 0HLN65RKCOJTD:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T08:18:03.1852765+07:00 0HLN65RKCOJTD:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T08:18:03.1922472+07:00 0HLN65RKCOJTD:0000000A [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T08:18:03.1989068+07:00 0HLN65RKCOJTD:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T08:18:03.2033819+07:00 0HLN65RKCOJTD:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:18:03.2089696+07:00 0HLN65RKCOJTD:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0151ms. (50a9e262)
2019-06-01T08:18:03.2164448+07:00 0HLN65RKCOJTD:0000000A [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:18:03.2217343+07:00 0HLN65RKCOJTD:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:18:03.2397581+07:00 0HLN65RKCOJTD:0000000A [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:18:03.2443906+07:00 0HLN65RKCOJTD:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T08:18:03.2582840+07:00 0HLN65RKCOJTD:0000000A [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:18:03.2647985+07:00 0HLN65RKCOJTD:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T08:18:03.2785765+07:00 0HLN65RKCOJTD:0000000A [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:18:03.2845096+07:00 0HLN65RKCOJTD:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T08:18:03.2932320+07:00 0HLN65RKCOJTD:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:18:03.3474688+07:00 0HLN65RKCOJTD:0000000A [INF] Executed ViewResult - view "Index" executed in 85.2946ms. (f66409e9)
2019-06-01T08:18:03.3842498+07:00 0HLN65RKCOJTJ:00000001 [INF] Request finished in 17120.132ms 101  (791a596a)
2019-06-01T08:18:03.3861506+07:00 0HLN65RKCOJTD:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 156.5976ms (afa2e885)
2019-06-01T08:18:03.3975987+07:00 0HLN65RKCOJTD:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T08:18:03.4053575+07:00 0HLN65RKCOJTD:0000000A [INF] Request finished in 232.2303ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:18:03.6681745+07:00 0HLN65RKCOJTD:0000000B [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T08:18:03.6691304+07:00 0HLN65RKCOJTE:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T08:18:03.6746332+07:00 0HLN65RKCOJTD:0000000B [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:18:03.6829757+07:00 0HLN65RKCOJTE:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T08:18:03.6904248+07:00 0HLN65RKCOJTD:0000000B [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:18:03.6995887+07:00 0HLN65RKCOJTE:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T08:18:03.7094758+07:00 0HLN65RKCOJTD:0000000B [INF] Request finished in 36.3749ms 200 application/json (791a596a)
2019-06-01T08:18:03.7118299+07:00 0HLN65RKCOJTE:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:18:03.7249765+07:00 0HLN65RKCOJTE:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T08:18:03.7316288+07:00 0HLN65RKCOJTE:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:18:03.7467993+07:00 0HLN65RKCOJTE:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T08:18:03.8166802+07:00 0HLN65RKCOJTE:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T08:18:03.8499266+07:00 0HLN65RKCOJTE:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 93.1621ms. (50a9e262)
2019-06-01T08:18:03.8516102+07:00 0HLN65RKCOJTK:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=BvZPpkKWFWFQFRzlQ-QNkQ   (ca22a1cb)
2019-06-01T08:18:03.8635643+07:00 0HLN65RKCOJTE:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:18:03.8868037+07:00 0HLN65RKCOJTK:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:18:03.8887036+07:00 0HLN65RKCOJTE:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 163.7541ms (afa2e885)
2019-06-01T08:18:03.9045317+07:00 0HLN65RKCOJTK:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:18:03.9072992+07:00 0HLN65RKCOJTE:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T08:18:03.9112123+07:00 0HLN65RKCOJTD:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T08:18:03.9192496+07:00 0HLN65RKCOJTE:00000006 [INF] Request finished in 250.8449ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:18:03.9337571+07:00 0HLN65RKCOJTD:0000000C [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T08:18:03.9384488+07:00 0HLN65RKCOJTD:0000000C [INF] Request finished in 97.1154ms 200 image/x-icon (791a596a)
2019-06-01T08:18:03.9861771+07:00 0HLN65RKCOJTK:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T08:20:32.9239568+07:00 0HLN65RKCOJTD:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T08:20:32.9361288+07:00 0HLN65RKCOJTD:0000000D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T08:20:32.9430248+07:00 0HLN65RKCOJTD:0000000D [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T08:20:32.9488693+07:00 0HLN65RKCOJTD:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T08:20:32.9528139+07:00 0HLN65RKCOJTD:0000000D [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:20:32.9566543+07:00 0HLN65RKCOJTD:0000000D [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.018ms. (50a9e262)
2019-06-01T08:20:35.0357492+07:00 0HLN65RKCOJTD:0000000D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:20:35.0532516+07:00 0HLN65RKCOJTD:0000000D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:20:35.0681332+07:00 0HLN65RKCOJTD:0000000D [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:20:35.0732704+07:00 0HLN65RKCOJTD:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T08:20:35.0870973+07:00 0HLN65RKCOJTD:0000000D [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:20:35.0915034+07:00 0HLN65RKCOJTD:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T08:20:35.1038008+07:00 0HLN65RKCOJTD:0000000D [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:20:35.1084006+07:00 0HLN65RKCOJTD:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T08:20:35.1163436+07:00 0HLN65RKCOJTD:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:20:35.1345065+07:00 0HLN65RKCOJTD:0000000D [INF] Executed ViewResult - view "Index" executed in 2163.8283ms. (f66409e9)
2019-06-01T08:20:35.1944617+07:00 0HLN65RKCOJTD:0000000D [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 2191.6445ms (afa2e885)
2019-06-01T08:20:35.2017167+07:00 0HLN65RKCOJTK:00000001 [INF] Request finished in 151302.1921ms 101  (791a596a)
2019-06-01T08:20:35.2033215+07:00 0HLN65RKCOJTE:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/function/index.js?v=N-du8vagmBz7igw6qdxQ7FfXnfPUVFvT9C-JgXIswI8   (ca22a1cb)
2019-06-01T08:20:35.2156641+07:00 0HLN65RKCOJTD:0000000D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T08:20:35.2249323+07:00 0HLN65RKCOJTE:00000007 [INF] Sending file. Request path: '"/app/controllers/function/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\function\index.js"' (27b0a520)
2019-06-01T08:20:35.2304034+07:00 0HLN65RKCOJTB:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=qC_J7eLfGY_5AzbRqmRYofiSEy5Mxq4RMTkWN3BXa40   (ca22a1cb)
2019-06-01T08:20:35.2334381+07:00 0HLN65RKCOJTD:0000000D [INF] Request finished in 2295.6182ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:20:35.2402910+07:00 0HLN65RKCOJTE:00000007 [INF] Request finished in 40.7207ms 200 application/javascript (791a596a)
2019-06-01T08:20:35.2519689+07:00 0HLN65RKCOJTB:00000007 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T08:20:35.2630938+07:00 0HLN65RKCOJTB:00000007 [INF] Request finished in 63.6167ms 304 application/javascript (791a596a)
2019-06-01T08:20:35.5375273+07:00 0HLN65RKCOJTB:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T08:20:35.5379162+07:00 0HLN65RKCOJTD:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T08:20:35.5538099+07:00 0HLN65RKCOJTB:00000008 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:20:35.5589607+07:00 0HLN65RKCOJTD:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T08:20:35.6136684+07:00 0HLN65RKCOJTB:00000008 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:20:35.6156466+07:00 0HLN65RKCOJTD:0000000E [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T08:20:35.6538463+07:00 0HLN65RKCOJTB:00000008 [INF] Request finished in 97.9334ms 200 application/json (791a596a)
2019-06-01T08:20:35.6539152+07:00 0HLN65RKCOJTD:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T08:20:35.7007788+07:00 0HLN65RKCOJTD:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T08:20:35.7049565+07:00 0HLN65RKCOJTL:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=WkTJaB3Ji9RPev9-4GVkYA   (ca22a1cb)
2019-06-01T08:20:35.7201626+07:00 0HLN65RKCOJTD:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:20:35.7237494+07:00 0HLN65RKCOJTL:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:20:35.7588116+07:00 0HLN65RKCOJTD:0000000E [INF] Executed DbCommand ("16"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T08:20:35.7677876+07:00 0HLN65RKCOJTB:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T08:20:35.7708674+07:00 0HLN65RKCOJTL:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:20:35.7933835+07:00 0HLN65RKCOJTD:0000000E [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T08:20:35.8138269+07:00 0HLN65RKCOJTB:00000009 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T08:20:35.8173494+07:00 0HLN65RKCOJTD:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 92.6698ms. (50a9e262)
2019-06-01T08:20:35.8268001+07:00 0HLN65RKCOJTB:00000009 [INF] Request finished in 73.0789ms 200 image/x-icon (791a596a)
2019-06-01T08:20:35.8291250+07:00 0HLN65RKCOJTD:0000000E [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:20:35.8507484+07:00 0HLN65RKCOJTD:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 213.7922ms (afa2e885)
2019-06-01T08:20:35.8578675+07:00 0HLN65RKCOJTL:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T08:20:35.8634126+07:00 0HLN65RKCOJTD:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T08:20:35.8813083+07:00 0HLN65RKCOJTD:0000000E [INF] Request finished in 343.7642ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:20:43.5252676+07:00 0HLN65RKCOJTD:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T08:20:43.5309853+07:00 0HLN65RKCOJTD:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T08:20:43.5354588+07:00 0HLN65RKCOJTD:0000000F [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T08:20:43.5393808+07:00 0HLN65RKCOJTD:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T08:20:43.5425172+07:00 0HLN65RKCOJTD:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:20:43.5473586+07:00 0HLN65RKCOJTD:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0943ms. (50a9e262)
2019-06-01T08:20:43.5507014+07:00 0HLN65RKCOJTD:0000000F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:20:43.5547863+07:00 0HLN65RKCOJTD:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:20:43.5631375+07:00 0HLN65RKCOJTD:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:20:43.5675826+07:00 0HLN65RKCOJTD:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T08:20:43.5745081+07:00 0HLN65RKCOJTD:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:20:43.5787715+07:00 0HLN65RKCOJTD:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T08:20:43.5856256+07:00 0HLN65RKCOJTD:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:20:43.5897823+07:00 0HLN65RKCOJTD:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T08:20:43.5958386+07:00 0HLN65RKCOJTD:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:20:43.6069663+07:00 0HLN65RKCOJTD:0000000F [INF] Executed ViewResult - view "Index" executed in 49.9585ms. (f66409e9)
2019-06-01T08:20:43.6603645+07:00 0HLN65RKCOJTD:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 71.6011ms (afa2e885)
2019-06-01T08:20:43.6697229+07:00 0HLN65RKCOJTD:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T08:20:43.6746717+07:00 0HLN65RKCOJTL:00000001 [INF] Request finished in 7988.2818ms 101  (791a596a)
2019-06-01T08:20:43.6794418+07:00 0HLN65RKCOJTG:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap-daterangepicker/daterangepicker.css   (ca22a1cb)
2019-06-01T08:20:43.6848621+07:00 0HLN65RKCOJTD:0000000F [INF] Request finished in 148.0187ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:20:43.6968690+07:00 0HLN65RKCOJTG:00000002 [INF] Sending file. Request path: '"/lib/bootstrap-daterangepicker/daterangepicker.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap-daterangepicker\daterangepicker.css"' (27b0a520)
2019-06-01T08:20:43.7006139+07:00 0HLN65RKCOJTC:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/styles/metro/notify-metro.css   (ca22a1cb)
2019-06-01T08:20:43.7053043+07:00 0HLN65RKCOJTF:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/nprogress/nprogress.css   (ca22a1cb)
2019-06-01T08:20:43.7069552+07:00 0HLN65RKCOJTB:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css   (ca22a1cb)
2019-06-01T08:20:43.7111882+07:00 0HLN65RKCOJTG:00000002 [INF] Request finished in 36.8623ms 200 text/css (791a596a)
2019-06-01T08:20:43.7144998+07:00 0HLN65RKCOJTC:00000002 [INF] Sending file. Request path: '"/lib/notifyjs/dist/styles/metro/notify-metro.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\styles\metro\notify-metro.css"' (27b0a520)
2019-06-01T08:20:43.7255530+07:00 0HLN65RKCOJTC:00000002 [INF] Request finished in 24.939ms 200 text/css (791a596a)
2019-06-01T08:20:43.7341929+07:00 0HLN65RKCOJTE:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/font-awesome/css/font-awesome.css   (ca22a1cb)
2019-06-01T08:20:43.7532551+07:00 0HLN65RKCOJTF:00000002 [INF] Sending file. Request path: '"/lib/nprogress/nprogress.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\nprogress\nprogress.css"' (27b0a520)
2019-06-01T08:20:43.7553692+07:00 0HLN65RKCOJTD:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/iCheck/skins/flat/green.css   (ca22a1cb)
2019-06-01T08:20:43.7579586+07:00 0HLN65RKCOJTE:00000008 [INF] Sending file. Request path: '"/lib/font-awesome/css/font-awesome.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\font-awesome\css\font-awesome.css"' (27b0a520)
2019-06-01T08:20:43.7661740+07:00 0HLN65RKCOJTF:00000002 [INF] Request finished in 93.2528ms 200 text/css (791a596a)
2019-06-01T08:20:43.7686540+07:00 0HLN65RKCOJTE:00000008 [INF] Request finished in 39.2327ms 200 text/css (791a596a)
2019-06-01T08:20:43.7859771+07:00 0HLN65RKCOJTD:00000010 [INF] Sending file. Request path: '"/lib/iCheck/skins/flat/green.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\iCheck\skins\flat\green.css"' (27b0a520)
2019-06-01T08:20:43.8070798+07:00 0HLN65RKCOJTG:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/skins/moono/editor.css   (ca22a1cb)
2019-06-01T08:20:43.8244382+07:00 0HLN65RKCOJTD:00000010 [INF] Request finished in 42.8085ms 200 text/css (791a596a)
2019-06-01T08:20:43.8343968+07:00 0HLN65RKCOJTC:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/css/custom.css   (ca22a1cb)
2019-06-01T08:20:43.8431139+07:00 0HLN65RKCOJTF:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js   (ca22a1cb)
2019-06-01T08:20:43.8516809+07:00 0HLN65RKCOJTG:00000003 [INF] Sending file. Request path: '"/lib/ckeditor/skins/moono/editor.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\skins\moono\editor.css"' (27b0a520)
2019-06-01T08:20:43.8693321+07:00 0HLN65RKCOJTG:00000003 [INF] Request finished in 73.5129ms 200 text/css (791a596a)
2019-06-01T08:20:43.8722195+07:00 0HLN65RKCOJTD:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/signalr/signalr.js   (ca22a1cb)
2019-06-01T08:20:43.8811049+07:00 0HLN65RKCOJTE:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/images/img.jpg   (ca22a1cb)
2019-06-01T08:20:47.0935227+07:00 0HLN65RKCOJTG:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.js   (ca22a1cb)
2019-06-01T08:20:47.0928162+07:00 0HLN65RKCOJTC:00000003 [INF] Sending file. Request path: '"/admin-side/css/custom.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\css\custom.css"' (27b0a520)
2019-06-01T08:20:48.5934796+07:00 0HLN65RKCOJTF:00000003 [INF] Sending file. Request path: '"/lib/jquery/dist/jquery.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery\dist\jquery.js"' (27b0a520)
2019-06-01T08:20:48.5974849+07:00 0HLN65RKCOJTE:00000009 [INF] Sending file. Request path: '"/admin-side/images/img.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\images\img.jpg"' (27b0a520)
2019-06-01T08:20:48.6056162+07:00 0HLN65RKCOJTF:00000003 [INF] Request finished in 4759.1472ms 200 application/javascript (791a596a)
2019-06-01T08:20:48.6075871+07:00 0HLN65RKCOJTC:00000003 [INF] Request finished in 4812.2639ms 200 text/css (791a596a)
2019-06-01T08:20:48.6146136+07:00 0HLN65RKCOJTE:00000009 [INF] Request finished in 4743.2059ms 200 image/jpeg (791a596a)
2019-06-01T08:20:48.6223038+07:00 0HLN65RKCOJTF:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2   (ca22a1cb)
2019-06-01T08:20:48.6290567+07:00 0HLN65RKCOJTE:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0   (ca22a1cb)
2019-06-01T08:20:48.6639415+07:00 0HLN65RKCOJTB:0000000A [INF] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\css\bootstrap.css"' (27b0a520)
2019-06-01T08:20:48.6855546+07:00 0HLN65RKCOJTF:00000004 [INF] Sending file. Request path: '"/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\fonts\glyphicons-halflings-regular.woff2"' (27b0a520)
2019-06-01T08:20:48.6910160+07:00 0HLN65RKCOJTB:0000000A [INF] Request finished in 4971.7825ms 200 text/css (791a596a)
2019-06-01T08:20:48.6988346+07:00 0HLN65RKCOJTF:00000004 [INF] Request finished in 74.9816ms 200 font/woff2 (791a596a)
2019-06-01T08:20:48.7071005+07:00 0HLN65RKCOJTB:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/nprogress/nprogress.js   (ca22a1cb)
2019-06-01T08:20:48.7265396+07:00 0HLN65RKCOJTF:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/mustache/mustache.js   (ca22a1cb)
2019-06-01T08:20:48.7312017+07:00 0HLN65RKCOJTB:0000000B [INF] Sending file. Request path: '"/lib/nprogress/nprogress.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\nprogress\nprogress.js"' (27b0a520)
2019-06-01T08:20:48.7350364+07:00 0HLN65RKCOJTD:00000011 [INF] Sending file. Request path: '"/lib/signalr/signalr.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\signalr\signalr.js"' (27b0a520)
2019-06-01T08:20:48.7463968+07:00 0HLN65RKCOJTB:0000000B [INF] Request finished in 35.5626ms 200 application/javascript (791a596a)
2019-06-01T08:20:48.7494737+07:00 0HLN65RKCOJTD:00000011 [INF] Request finished in 4878.0653ms 200 application/javascript (791a596a)
2019-06-01T08:20:48.7693568+07:00 0HLN65RKCOJTB:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/twbs-pagination/jquery.twbsPagination.js   (ca22a1cb)
2019-06-01T08:20:48.7748862+07:00 0HLN65RKCOJTF:00000005 [INF] Sending file. Request path: '"/lib/mustache/mustache.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\mustache\mustache.js"' (27b0a520)
2019-06-01T08:20:48.7810495+07:00 0HLN65RKCOJTB:0000000C [INF] Sending file. Request path: '"/lib/twbs-pagination/jquery.twbsPagination.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\twbs-pagination\jquery.twbsPagination.js"' (27b0a520)
2019-06-01T08:20:48.7839041+07:00 0HLN65RKCOJTF:00000005 [INF] Request finished in 70.3105ms 200 application/javascript (791a596a)
2019-06-01T08:20:48.7902954+07:00 0HLN65RKCOJTB:0000000C [INF] Request finished in 30.0672ms 200 application/javascript (791a596a)
2019-06-01T08:20:48.7986110+07:00 0HLN65RKCOJTF:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-sparkline/dist/jquery.sparkline.js   (ca22a1cb)
2019-06-01T08:20:48.8078918+07:00 0HLN65RKCOJTB:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/jquery.validate.js   (ca22a1cb)
2019-06-01T08:20:48.8100518+07:00 0HLN65RKCOJTD:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/iCheck/icheck.min.js   (ca22a1cb)
2019-06-01T08:20:48.8284850+07:00 0HLN65RKCOJTE:0000000A [INF] Sending file. Request path: '"/lib/font-awesome/fonts/fontawesome-webfont.woff2"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\font-awesome\fonts\fontawesome-webfont.woff2"' (27b0a520)
2019-06-01T08:20:48.8358971+07:00 0HLN65RKCOJTB:0000000D [INF] Sending file. Request path: '"/lib/jquery-validation/dist/jquery.validate.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\jquery.validate.js"' (27b0a520)
2019-06-01T08:20:48.8425670+07:00 0HLN65RKCOJTD:00000012 [INF] Sending file. Request path: '"/lib/iCheck/icheck.min.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\iCheck\icheck.min.js"' (27b0a520)
2019-06-01T08:20:48.8445945+07:00 0HLN65RKCOJTB:0000000D [INF] Request finished in 39.2779ms 200 application/javascript (791a596a)
2019-06-01T08:20:48.8522145+07:00 0HLN65RKCOJTD:00000012 [INF] Request finished in 86.6969ms 200 application/javascript (791a596a)
2019-06-01T08:20:48.8580049+07:00 0HLN65RKCOJTB:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/additional-methods.js   (ca22a1cb)
2019-06-01T08:20:48.8680419+07:00 0HLN65RKCOJTE:0000000A [INF] Request finished in 207.3192ms 200 font/woff2 (791a596a)
2019-06-01T08:20:48.8710967+07:00 0HLN65RKCOJTD:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/signalr/signalr.js.map   (ca22a1cb)
2019-06-01T08:20:48.8795376+07:00 0HLN65RKCOJTB:0000000E [INF] Sending file. Request path: '"/lib/jquery-validation/dist/additional-methods.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\additional-methods.js"' (27b0a520)
2019-06-01T08:20:48.8886363+07:00 0HLN65RKCOJTE:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/Chart.js/dist/Chart.js   (ca22a1cb)
2019-06-01T08:20:48.8917624+07:00 0HLN65RKCOJTB:0000000E [INF] Request finished in 29.4247ms 200 application/javascript (791a596a)
2019-06-01T08:20:48.8979857+07:00 0HLN65RKCOJTG:00000004 [INF] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\js\bootstrap.js"' (27b0a520)
2019-06-01T08:20:48.9088948+07:00 0HLN65RKCOJTG:00000004 [INF] Request finished in 5012.0061ms 200 application/javascript (791a596a)
2019-06-01T08:20:48.9114916+07:00 0HLN65RKCOJTB:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/localization/messages_vi.js   (ca22a1cb)
2019-06-01T08:20:48.9298433+07:00 0HLN65RKCOJTC:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/fastclick/lib/fastclick.js   (ca22a1cb)
2019-06-01T08:20:48.9383999+07:00 0HLN65RKCOJTD:00000013 [INF] Sending file. Request path: '"/lib/signalr/signalr.js.map"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\signalr\signalr.js.map"' (27b0a520)
2019-06-01T08:20:48.9402929+07:00 0HLN65RKCOJTB:0000000F [INF] Sending file. Request path: '"/lib/jquery-validation/dist/localization/messages_vi.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\localization\messages_vi.js"' (27b0a520)
2019-06-01T08:20:48.9507327+07:00 0HLN65RKCOJTD:00000013 [INF] Request finished in 82.6013ms 200 text/plain (791a596a)
2019-06-01T08:20:48.9517911+07:00 0HLN65RKCOJTB:0000000F [INF] Request finished in 40.4278ms 200 application/javascript (791a596a)
2019-06-01T08:20:48.9634908+07:00 0HLN65RKCOJTD:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/ckeditor.js   (ca22a1cb)
2019-06-01T08:20:48.9668159+07:00 0HLN65RKCOJTB:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/moment/moment.js   (ca22a1cb)
2019-06-01T08:20:48.9793476+07:00 0HLN65RKCOJTE:0000000B [INF] Sending file. Request path: '"/lib/Chart.js/dist/Chart.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\Chart.js\dist\Chart.js"' (27b0a520)
2019-06-01T08:20:48.9818486+07:00 0HLN65RKCOJTG:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css.map   (ca22a1cb)
2019-06-01T08:20:48.9869135+07:00 0HLN65RKCOJTF:00000006 [INF] Sending file. Request path: '"/lib/jquery-sparkline/dist/jquery.sparkline.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-sparkline\dist\jquery.sparkline.js"' (27b0a520)
2019-06-01T08:20:48.9886929+07:00 0HLN65RKCOJTE:0000000B [INF] Request finished in 102.1254ms 200 application/javascript (791a596a)
2019-06-01T08:20:49.0108762+07:00 0HLN65RKCOJTB:00000010 [INF] Sending file. Request path: '"/lib/moment/moment.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\moment\moment.js"' (27b0a520)
2019-06-01T08:20:49.0203540+07:00 0HLN65RKCOJTE:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap-daterangepicker/daterangepicker.js   (ca22a1cb)
2019-06-01T08:20:49.0257164+07:00 0HLN65RKCOJTB:00000010 [INF] Request finished in 54.4052ms 200 application/javascript (791a596a)
2019-06-01T08:20:49.0325484+07:00 0HLN65RKCOJTF:00000006 [INF] Request finished in 198.2176ms 200 application/javascript (791a596a)
2019-06-01T08:20:49.0589541+07:00 0HLN65RKCOJTG:00000005 [INF] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.css.map"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\css\bootstrap.css.map"' (27b0a520)
2019-06-01T08:20:49.0623917+07:00 0HLN65RKCOJTB:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/notify.js   (ca22a1cb)
2019-06-01T08:20:49.0749221+07:00 0HLN65RKCOJTG:00000005 [INF] Request finished in 144.6653ms 200 text/plain (791a596a)
2019-06-01T08:20:49.0775744+07:00 0HLN65RKCOJTE:0000000C [INF] Sending file. Request path: '"/lib/bootstrap-daterangepicker/daterangepicker.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap-daterangepicker\daterangepicker.js"' (27b0a520)
2019-06-01T08:20:49.0890452+07:00 0HLN65RKCOJTE:0000000C [INF] Request finished in 71.9482ms 200 application/javascript (791a596a)
2019-06-01T08:20:49.0912950+07:00 0HLN65RKCOJTG:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/js/custom.js?v=hK7rQw3KRGvTBoFU9qYrRZAOVWKo8ugfIfdqn7el8ko   (ca22a1cb)
2019-06-01T08:20:49.0959978+07:00 0HLN65RKCOJTD:00000014 [INF] Sending file. Request path: '"/lib/ckeditor/ckeditor.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\ckeditor.js"' (27b0a520)
2019-06-01T08:20:49.1022911+07:00 0HLN65RKCOJTE:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/common.js?v=y7DqmVon23ErVGJwRwyGN-e1OscQoN09ThbEz09BtJA   (ca22a1cb)
2019-06-01T08:20:49.1050390+07:00 0HLN65RKCOJTD:00000014 [INF] Request finished in 141.5297ms 200 application/javascript (791a596a)
2019-06-01T08:20:49.1175998+07:00 0HLN65RKCOJTF:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation-unobtrusive/src/jquery.validate.unobtrusive.js   (ca22a1cb)
2019-06-01T08:20:49.1190829+07:00 0HLN65RKCOJTD:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootbox/src/bootbox.js   (ca22a1cb)
2019-06-01T08:20:49.1310119+07:00 0HLN65RKCOJTB:00000011 [INF] Sending file. Request path: '"/lib/notifyjs/dist/notify.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\notify.js"' (27b0a520)
2019-06-01T08:20:49.1339928+07:00 0HLN65RKCOJTD:00000015 [INF] Sending file. Request path: '"/lib/bootbox/src/bootbox.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootbox\src\bootbox.js"' (27b0a520)
2019-06-01T08:20:49.1415153+07:00 0HLN65RKCOJTB:00000011 [INF] Request finished in 93.0325ms 200 application/javascript (791a596a)
2019-06-01T08:20:49.1464703+07:00 0HLN65RKCOJTD:00000015 [INF] Request finished in 26.1542ms 200 application/javascript (791a596a)
2019-06-01T08:20:49.1559801+07:00 0HLN65RKCOJTC:00000004 [INF] Sending file. Request path: '"/lib/fastclick/lib/fastclick.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\fastclick\lib\fastclick.js"' (27b0a520)
2019-06-01T08:20:49.1682304+07:00 0HLN65RKCOJTB:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/signalR/signalR.js?v=Nfk6vVike0aJRdJYX_p4XmzuQFtluTkuSqYJJ4Uiqm4   (ca22a1cb)
2019-06-01T08:20:49.1741462+07:00 0HLN65RKCOJTF:00000007 [INF] Sending file. Request path: '"/lib/jquery-validation-unobtrusive/src/jquery.validate.unobtrusive.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation-unobtrusive\src\jquery.validate.unobtrusive.js"' (27b0a520)
2019-06-01T08:20:49.1760178+07:00 0HLN65RKCOJTC:00000004 [INF] Request finished in 534.9004ms 200 application/javascript (791a596a)
2019-06-01T08:20:49.1869281+07:00 0HLN65RKCOJTB:00000012 [INF] Sending file. Request path: '"/app/shared/signalR/signalR.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\shared\signalR\signalR.js"' (27b0a520)
2019-06-01T08:20:49.1886771+07:00 0HLN65RKCOJTF:00000007 [INF] Request finished in 66.7888ms 200 application/javascript (791a596a)
2019-06-01T08:20:49.1988736+07:00 0HLN65RKCOJTB:00000012 [INF] Request finished in 38.6933ms 200 application/javascript (791a596a)
2019-06-01T08:20:49.2048818+07:00 0HLN65RKCOJTC:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/styles/metro/notify-metro.js   (ca22a1cb)
2019-06-01T08:20:49.2084378+07:00 0HLN65RKCOJTD:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=qC_J7eLfGY_5AzbRqmRYofiSEy5Mxq4RMTkWN3BXa40   (ca22a1cb)
2019-06-01T08:20:49.2119776+07:00 0HLN65RKCOJTF:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/function/index.js?v=N-du8vagmBz7igw6qdxQ7FfXnfPUVFvT9C-JgXIswI8   (ca22a1cb)
2019-06-01T08:20:49.2202320+07:00 0HLN65RKCOJTG:00000006 [INF] Sending file. Request path: '"/admin-side/js/custom.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\js\custom.js"' (27b0a520)
2019-06-01T08:20:49.2236157+07:00 0HLN65RKCOJTF:00000008 [INF] Sending file. Request path: '"/app/controllers/function/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\function\index.js"' (27b0a520)
2019-06-01T08:20:49.2361667+07:00 0HLN65RKCOJTG:00000006 [INF] Request finished in 138.5758ms 200 application/javascript (791a596a)
2019-06-01T08:20:49.2379865+07:00 0HLN65RKCOJTD:00000016 [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T08:20:49.2513433+07:00 0HLN65RKCOJTF:00000008 [INF] Request finished in 29.3279ms 200 application/javascript (791a596a)
2019-06-01T08:20:49.2608584+07:00 0HLN65RKCOJTD:00000016 [INF] Request finished in 45.0022ms 200 application/javascript (791a596a)
2019-06-01T08:20:49.2657798+07:00 0HLN65RKCOJTE:0000000D [INF] Sending file. Request path: '"/app/shared/common.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\shared\common.js"' (27b0a520)
2019-06-01T08:20:49.2851156+07:00 0HLN65RKCOJTE:0000000D [INF] Request finished in 172.5446ms 200 application/javascript (791a596a)
2019-06-01T08:20:49.2924633+07:00 0HLN65RKCOJTC:00000005 [INF] Sending file. Request path: '"/lib/notifyjs/dist/styles/metro/notify-metro.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\styles\metro\notify-metro.js"' (27b0a520)
2019-06-01T08:20:49.3004431+07:00 0HLN65RKCOJTC:00000005 [INF] Request finished in 100.2214ms 200 application/javascript (791a596a)
2019-06-01T08:20:49.3250044+07:00 0HLN65RKCOJTC:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T08:20:49.3351611+07:00 0HLN65RKCOJTE:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T08:20:49.3399602+07:00 0HLN65RKCOJTC:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:20:49.3495730+07:00 0HLN65RKCOJTE:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T08:20:49.3523750+07:00 0HLN65RKCOJTC:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:20:49.3691270+07:00 0HLN65RKCOJTE:0000000E [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T08:20:49.3946071+07:00 0HLN65RKCOJTC:00000006 [INF] Request finished in 47.451ms 200 application/json (791a596a)
2019-06-01T08:20:49.3959983+07:00 0HLN65RKCOJTE:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T08:20:49.4203672+07:00 0HLN65RKCOJTM:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=DwU3yx6UhAvQooCD2PrU7Q   (ca22a1cb)
2019-06-01T08:20:49.4266998+07:00 0HLN65RKCOJTE:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T08:20:49.4367433+07:00 0HLN65RKCOJTM:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:20:49.4387704+07:00 0HLN65RKCOJTE:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:20:49.4490740+07:00 0HLN65RKCOJTM:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:20:49.4616102+07:00 0HLN65RKCOJTE:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T08:20:49.4721058+07:00 0HLN65RKCOJTC:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T08:20:49.4778822+07:00 0HLN65RKCOJTM:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T08:20:49.4904758+07:00 0HLN65RKCOJTE:0000000E [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T08:20:49.4990268+07:00 0HLN65RKCOJTC:00000007 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T08:20:49.5042112+07:00 0HLN65RKCOJTE:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 63.9642ms. (50a9e262)
2019-06-01T08:20:49.5128655+07:00 0HLN65RKCOJTC:00000007 [INF] Request finished in 52.9267ms 200 image/x-icon (791a596a)
2019-06-01T08:20:49.5178193+07:00 0HLN65RKCOJTE:0000000E [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:20:49.5316984+07:00 0HLN65RKCOJTE:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 148.8987ms (afa2e885)
2019-06-01T08:20:49.5405472+07:00 0HLN65RKCOJTE:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T08:20:49.5530481+07:00 0HLN65RKCOJTE:0000000E [INF] Request finished in 220.0457ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:20:49.5612307+07:00 0HLN65RKCOJTE:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/images/users.png   (ca22a1cb)
2019-06-01T08:20:49.6100963+07:00 0HLN65RKCOJTE:0000000F [INF] Sending file. Request path: '"/admin-side/images/users.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\images\users.png"' (27b0a520)
2019-06-01T08:20:49.6157089+07:00 0HLN65RKCOJTE:0000000F [INF] Request finished in 53.7989ms 200 image/png (791a596a)
2019-06-01T08:23:02.1478078+07:00 0HLN65RKCOJTE:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T08:23:02.1539526+07:00 0HLN65RKCOJTE:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T08:23:02.1588548+07:00 0HLN65RKCOJTE:00000010 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T08:23:02.1633249+07:00 0HLN65RKCOJTE:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:23:02.1676482+07:00 0HLN65RKCOJTE:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:23:02.1719206+07:00 0HLN65RKCOJTE:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0406ms. (50a9e262)
2019-06-01T08:23:02.1755595+07:00 0HLN65RKCOJTE:00000010 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:23:02.1824962+07:00 0HLN65RKCOJTE:00000010 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:23:02.2038857+07:00 0HLN65RKCOJTE:00000010 [INF] Executed DbCommand ("14"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:23:02.2076601+07:00 0HLN65RKCOJTE:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:23:02.2342339+07:00 0HLN65RKCOJTE:00000010 [INF] Executed DbCommand ("11"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:23:02.2397519+07:00 0HLN65RKCOJTE:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:23:02.2551476+07:00 0HLN65RKCOJTE:00000010 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:23:02.2585650+07:00 0HLN65RKCOJTE:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:23:02.2685498+07:00 0HLN65RKCOJTE:00000010 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:23:02.2794705+07:00 0HLN65RKCOJTE:00000010 [INF] Executed ViewResult - view "Index" executed in 98.9238ms. (f66409e9)
2019-06-01T08:23:02.2883648+07:00 0HLN65RKCOJTE:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 121.3816ms (afa2e885)
2019-06-01T08:23:02.2974544+07:00 0HLN65RKCOJTE:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T08:23:02.3829231+07:00 0HLN65RKCOJTM:00000001 [INF] Request finished in 132902.9473ms 101  (791a596a)
2019-06-01T08:23:02.3903881+07:00 0HLN65RKCOJTE:00000010 [INF] Request finished in 157.8895ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:23:02.4234884+07:00 0HLN65RKCOJTE:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=qC_J7eLfGY_5AzbRqmRYofiSEy5Mxq4RMTkWN3BXa40   (ca22a1cb)
2019-06-01T08:23:02.4254995+07:00 0HLN65RKCOJTC:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/function/index.js?v=Y8A8-_c7h69-g-MnxkrP-GYQ8MVcZcaS0A3_ecbJ7jU   (ca22a1cb)
2019-06-01T08:23:02.4366900+07:00 0HLN65RKCOJTE:00000011 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T08:23:02.4468332+07:00 0HLN65RKCOJTC:00000008 [INF] Sending file. Request path: '"/app/controllers/function/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\function\index.js"' (27b0a520)
2019-06-01T08:23:02.4505193+07:00 0HLN65RKCOJTE:00000011 [INF] Request finished in 29.202ms 304 application/javascript (791a596a)
2019-06-01T08:23:02.4579634+07:00 0HLN65RKCOJTC:00000008 [INF] Request finished in 38.0656ms 200 application/javascript (791a596a)
2019-06-01T08:23:02.8063910+07:00 0HLN65RKCOJTE:00000012 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T08:23:02.8174318+07:00 0HLN65RKCOJTC:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T08:23:02.8328936+07:00 0HLN65RKCOJTE:00000012 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:23:02.8350667+07:00 0HLN65RKCOJTC:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T08:23:02.8440755+07:00 0HLN65RKCOJTE:00000012 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:23:02.8529900+07:00 0HLN65RKCOJTC:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T08:23:02.8622732+07:00 0HLN65RKCOJTE:00000012 [INF] Request finished in 66.6284ms 200 application/json (791a596a)
2019-06-01T08:23:02.8655795+07:00 0HLN65RKCOJTC:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:23:02.8741777+07:00 0HLN65RKCOJTC:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T08:23:02.8808185+07:00 0HLN65RKCOJTC:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:23:02.9081058+07:00 0HLN65RKCOJTC:00000009 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T08:23:02.9178321+07:00 0HLN65RKCOJTE:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T08:23:02.9321994+07:00 0HLN65RKCOJTC:00000009 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T08:23:02.9337465+07:00 0HLN65RKCOJTE:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T08:23:02.9402498+07:00 0HLN65RKCOJTC:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 58.1472ms. (50a9e262)
2019-06-01T08:23:02.9483873+07:00 0HLN65RKCOJTC:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:23:02.9700532+07:00 0HLN65RKCOJTE:00000013 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T08:23:02.9761201+07:00 0HLN65RKCOJTC:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 97.8251ms (afa2e885)
2019-06-01T08:23:03.0211051+07:00 0HLN65RKCOJTE:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:23:03.0214177+07:00 0HLN65RKCOJTC:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T08:23:03.0712954+07:00 0HLN65RKCOJTE:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:23:03.0738681+07:00 0HLN65RKCOJTD:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T08:23:03.0762870+07:00 0HLN65RKCOJTC:00000009 [INF] Request finished in 258.8978ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:23:03.0819047+07:00 0HLN65RKCOJTN:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=09KOYqP9DfIewG2mNVD0mA   (ca22a1cb)
2019-06-01T08:23:03.1033782+07:00 0HLN65RKCOJTD:00000017 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T08:23:03.1083017+07:00 0HLN65RKCOJTN:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:23:03.1229992+07:00 0HLN65RKCOJTD:00000017 [INF] Request finished in 54.2403ms 200 image/x-icon (791a596a)
2019-06-01T08:23:03.1239449+07:00 0HLN65RKCOJTN:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:23:06.5474235+07:00 0HLN65RKCOJTN:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T08:23:06.5676183+07:00 0HLN65RKCOJTE:00000013 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:23:06.5832470+07:00 0HLN65RKCOJTE:00000013 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:23:06.5916774+07:00 0HLN65RKCOJTE:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 3513.0596ms. (50a9e262)
2019-06-01T08:23:06.5977360+07:00 0HLN65RKCOJTE:00000013 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:23:06.6401483+07:00 0HLN65RKCOJTE:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 3631.9428ms (afa2e885)
2019-06-01T08:23:06.6436966+07:00 0HLN65RKCOJTE:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T08:23:06.6505438+07:00 0HLN65RKCOJTE:00000013 [INF] Request finished in 3746.8908ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:23:49.4017977+07:00 0HLN65RKCOJTE:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T08:23:49.4068779+07:00 0HLN65RKCOJTE:00000014 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T08:23:49.4111261+07:00 0HLN65RKCOJTE:00000014 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T08:23:49.4165005+07:00 0HLN65RKCOJTE:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:23:49.4200016+07:00 0HLN65RKCOJTE:00000014 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:23:49.4236795+07:00 0HLN65RKCOJTE:00000014 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0168ms. (50a9e262)
2019-06-01T08:23:49.4288688+07:00 0HLN65RKCOJTE:00000014 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:23:49.4344258+07:00 0HLN65RKCOJTE:00000014 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:23:49.4508643+07:00 0HLN65RKCOJTE:00000014 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:23:49.4540245+07:00 0HLN65RKCOJTE:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:23:49.4661878+07:00 0HLN65RKCOJTE:00000014 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:23:49.4692093+07:00 0HLN65RKCOJTE:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:23:49.4818296+07:00 0HLN65RKCOJTE:00000014 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:23:49.4849738+07:00 0HLN65RKCOJTE:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:23:49.4913217+07:00 0HLN65RKCOJTE:00000014 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:23:49.5601135+07:00 0HLN65RKCOJTE:00000014 [INF] Executed ViewResult - view "Index" executed in 68.7334ms. (f66409e9)
2019-06-01T08:23:50.9057851+07:00 0HLN65RKCOJTN:00000001 [INF] Request finished in 46561.7062ms 101  (791a596a)
2019-06-01T08:23:50.9110806+07:00 0HLN65RKCOJTE:00000014 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 812.5416ms (afa2e885)
2019-06-01T08:23:51.7533987+07:00 0HLN65RKCOJTF:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T08:23:51.7555411+07:00 0HLN65RKCOJTE:00000014 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T08:23:51.7579582+07:00 0HLN65RKCOJTC:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T08:23:51.7716083+07:00 0HLN65RKCOJTF:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T08:23:51.7737276+07:00 0HLN65RKCOJTE:00000014 [INF] Request finished in 2361.4397ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:23:51.7842462+07:00 0HLN65RKCOJTF:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T08:23:51.7854577+07:00 0HLN65RKCOJTC:0000000A [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:23:51.8041543+07:00 0HLN65RKCOJTF:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:23:51.8076936+07:00 0HLN65RKCOJTC:0000000A [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:23:51.8501419+07:00 0HLN65RKCOJTF:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T08:23:51.8520476+07:00 0HLN65RKCOJTC:0000000A [INF] Request finished in 83.0588ms 200 application/json (791a596a)
2019-06-01T08:23:51.8537638+07:00 0HLN65RKCOJTD:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/function/index.js?v=Y8A8-_c7h69-g-MnxkrP-GYQ8MVcZcaS0A3_ecbJ7jU   (ca22a1cb)
2019-06-01T08:23:51.8597157+07:00 0HLN65RKCOJTF:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:23:51.8752853+07:00 0HLN65RKCOJTD:00000018 [INF] The file "/app/controllers/function/index.js" was not modified (f1f8d725)
2019-06-01T08:23:51.8782511+07:00 0HLN65RKCOJTF:00000009 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T08:23:52.6337221+07:00 0HLN65RKCOJTO:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=KJ_P8xzVjWl2zV7ZyM5lTA   (ca22a1cb)
2019-06-01T08:23:52.6411460+07:00 0HLN65RKCOJTD:00000018 [INF] Request finished in 1645.9838ms 304 application/javascript (791a596a)
2019-06-01T08:23:53.3295947+07:00 0HLN65RKCOJTF:00000009 [INF] Executed DbCommand ("749"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T08:23:53.3455935+07:00 0HLN65RKCOJTF:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1478.729ms. (50a9e262)
2019-06-01T08:23:53.3481965+07:00 0HLN65RKCOJTD:00000019 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T08:23:53.3547680+07:00 0HLN65RKCOJTF:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:23:53.3575832+07:00 0HLN65RKCOJTD:00000019 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T08:23:53.3647877+07:00 0HLN65RKCOJTC:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T08:23:53.4160537+07:00 0HLN65RKCOJTF:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 1571.5146ms (afa2e885)
2019-06-01T08:23:53.4221624+07:00 0HLN65RKCOJTD:00000019 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T08:23:53.4329452+07:00 0HLN65RKCOJTF:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T08:23:53.4428820+07:00 0HLN65RKCOJTD:00000019 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:23:53.4455844+07:00 0HLN65RKCOJTF:00000009 [INF] Request finished in 1705.5756ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:23:53.4525369+07:00 0HLN65RKCOJTD:00000019 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:23:53.4567273+07:00 0HLN65RKCOJTC:0000000B [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T08:23:56.6016117+07:00 0HLN65RKCOJTC:0000000B [INF] Request finished in 825.4963ms 200 image/x-icon (791a596a)
2019-06-01T08:23:56.6035994+07:00 0HLN65RKCOJTD:00000019 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:23:56.6070579+07:00 0HLN65RKCOJTO:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:23:56.6809060+07:00 0HLN65RKCOJTO:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:23:56.6942475+07:00 0HLN65RKCOJTD:00000019 [INF] Executed DbCommand ("70"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:23:56.7655348+07:00 0HLN65RKCOJTO:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T08:24:06.8915647+07:00 0HLN65RKCOJTD:00000019 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 13432.8152ms. (50a9e262)
2019-06-01T08:24:06.8957399+07:00 0HLN65RKCOJTD:00000019 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:24:06.9037743+07:00 0HLN65RKCOJTD:00000019 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 13473.9922ms (afa2e885)
2019-06-01T08:24:06.9098568+07:00 0HLN65RKCOJTD:00000019 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T08:24:06.9173243+07:00 0HLN65RKCOJTD:00000019 [INF] Request finished in 13578.1061ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:26:03.3420931+07:00 0HLN65RKCOJTD:0000001A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T08:26:03.3506150+07:00 0HLN65RKCOJTD:0000001A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T08:26:03.3551906+07:00 0HLN65RKCOJTD:0000001A [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T08:26:03.3599709+07:00 0HLN65RKCOJTD:0000001A [INF] Authorization was successful. (0d575a54)
2019-06-01T08:26:03.3662293+07:00 0HLN65RKCOJTD:0000001A [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:26:03.3702330+07:00 0HLN65RKCOJTD:0000001A [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0463ms. (50a9e262)
2019-06-01T08:26:03.3774856+07:00 0HLN65RKCOJTD:0000001A [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:26:03.3842847+07:00 0HLN65RKCOJTD:0000001A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:26:03.3999060+07:00 0HLN65RKCOJTD:0000001A [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:26:03.4050732+07:00 0HLN65RKCOJTD:0000001A [INF] Authorization was successful. (0d575a54)
2019-06-01T08:26:03.4199499+07:00 0HLN65RKCOJTD:0000001A [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:26:03.4235319+07:00 0HLN65RKCOJTD:0000001A [INF] Authorization was successful. (0d575a54)
2019-06-01T08:26:03.4348431+07:00 0HLN65RKCOJTD:0000001A [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:26:03.4382933+07:00 0HLN65RKCOJTD:0000001A [INF] Authorization was successful. (0d575a54)
2019-06-01T08:26:03.4447671+07:00 0HLN65RKCOJTD:0000001A [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:26:03.4639281+07:00 0HLN65RKCOJTD:0000001A [INF] Executed ViewResult - view "Index" executed in 78.0483ms. (f66409e9)
2019-06-01T08:26:03.5367453+07:00 0HLN65RKCOJTO:00000001 [INF] Request finished in 131609.6466ms 101  (791a596a)
2019-06-01T08:26:03.5399884+07:00 0HLN65RKCOJTD:0000001A [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 108.9385ms (afa2e885)
2019-06-01T08:26:03.5483843+07:00 0HLN65RKCOJTD:0000001A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T08:26:03.5529705+07:00 0HLN65RKCOJTF:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=-NTPIAAUoLME9zXM3rOh6LLVj8Oq8-uW2W7i4qSZEpM   (ca22a1cb)
2019-06-01T08:26:03.5605377+07:00 0HLN65RKCOJTD:0000001A [INF] Request finished in 212.0498ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:26:03.5615994+07:00 0HLN65RKCOJTC:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/function/index.js?v=Y8A8-_c7h69-g-MnxkrP-GYQ8MVcZcaS0A3_ecbJ7jU   (ca22a1cb)
2019-06-01T08:26:03.5713024+07:00 0HLN65RKCOJTF:0000000A [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T08:26:03.5729164+07:00 0HLN65RKCOJTC:0000000C [INF] The file "/app/controllers/function/index.js" was not modified (f1f8d725)
2019-06-01T08:26:03.5797377+07:00 0HLN65RKCOJTF:0000000A [INF] Request finished in 37.2955ms 200 application/javascript (791a596a)
2019-06-01T08:26:03.5828101+07:00 0HLN65RKCOJTC:0000000C [INF] Request finished in 37.8797ms 304 application/javascript (791a596a)
2019-06-01T08:26:03.8116169+07:00 0HLN65RKCOJTC:0000000D [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T08:26:03.8178043+07:00 0HLN65RKCOJTC:0000000D [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:26:03.8213748+07:00 0HLN65RKCOJTC:0000000D [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:26:03.8315323+07:00 0HLN65RKCOJTC:0000000D [INF] Request finished in 15.8662ms 200 application/json (791a596a)
2019-06-01T08:26:03.8830060+07:00 0HLN65RKCOJTC:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T08:26:03.8854481+07:00 0HLN65RKCOJTF:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T08:26:03.9162223+07:00 0HLN65RKCOJTC:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T08:26:03.9209103+07:00 0HLN65RKCOJTF:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T08:26:03.9236295+07:00 0HLN65RKCOJTC:0000000E [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T08:26:03.9322001+07:00 0HLN65RKCOJTF:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T08:26:03.9332131+07:00 0HLN65RKCOJTC:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T08:26:03.9382211+07:00 0HLN65RKCOJTF:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T08:26:03.9408057+07:00 0HLN65RKCOJTC:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T08:26:03.9475565+07:00 0HLN65RKCOJTF:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:26:03.9501501+07:00 0HLN65RKCOJTC:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:26:08.2208022+07:00 0HLN65RKCOJTF:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:26:08.2228925+07:00 0HLN65RKCOJTD:0000001B [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T08:26:08.2589182+07:00 0HLN65RKCOJTP:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=vtyX7rb31_WKfp0z4CMvFg   (ca22a1cb)
2019-06-01T08:26:08.2918532+07:00 0HLN65RKCOJTD:0000001B [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T08:26:08.3019328+07:00 0HLN65RKCOJTP:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:26:08.3242425+07:00 0HLN65RKCOJTD:0000001B [INF] Request finished in 93.709ms 200 image/x-icon (791a596a)
2019-06-01T08:26:08.3334963+07:00 0HLN65RKCOJTP:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:26:08.3463902+07:00 0HLN65RKCOJTC:0000000E [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T08:26:08.3533358+07:00 0HLN65RKCOJTF:0000000B [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:26:08.3551393+07:00 0HLN65RKCOJTP:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T08:26:08.3822630+07:00 0HLN65RKCOJTC:0000000E [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T08:26:08.4244734+07:00 0HLN65RKCOJTC:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4464.4947ms. (50a9e262)
2019-06-01T08:26:08.4480053+07:00 0HLN65RKCOJTC:0000000E [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:26:08.4718875+07:00 0HLN65RKCOJTF:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 4496.0964ms. (50a9e262)
2019-06-01T08:26:08.4757209+07:00 0HLN65RKCOJTC:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 4524.7335ms (afa2e885)
2019-06-01T08:26:08.4940417+07:00 0HLN65RKCOJTF:0000000B [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:26:08.5013877+07:00 0HLN65RKCOJTC:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T08:26:08.5476618+07:00 0HLN65RKCOJTF:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 4562.4426ms (afa2e885)
2019-06-01T08:26:08.5505886+07:00 0HLN65RKCOJTC:0000000E [INF] Request finished in 4631.7561ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:26:08.5578075+07:00 0HLN65RKCOJTF:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T08:26:08.5757878+07:00 0HLN65RKCOJTF:0000000B [INF] Request finished in 4683.2236ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:26:27.4641981+07:00 0HLN65RKCOJTF:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T08:26:27.4875815+07:00 0HLN65RKCOJTF:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T08:26:27.4914530+07:00 0HLN65RKCOJTF:0000000C [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T08:26:27.4953209+07:00 0HLN65RKCOJTF:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T08:26:27.5011482+07:00 0HLN65RKCOJTF:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:26:27.5049541+07:00 0HLN65RKCOJTF:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0402ms. (50a9e262)
2019-06-01T08:26:27.5087872+07:00 0HLN65RKCOJTF:0000000C [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:26:27.5136281+07:00 0HLN65RKCOJTF:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:26:27.5228680+07:00 0HLN65RKCOJTF:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:26:27.5266961+07:00 0HLN65RKCOJTF:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T08:26:27.5359638+07:00 0HLN65RKCOJTF:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:26:27.5400048+07:00 0HLN65RKCOJTF:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T08:26:27.5480404+07:00 0HLN65RKCOJTF:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:26:27.5519162+07:00 0HLN65RKCOJTF:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T08:26:27.5571473+07:00 0HLN65RKCOJTF:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:26:27.5675157+07:00 0HLN65RKCOJTF:0000000C [INF] Executed ViewResult - view "Index" executed in 53.5416ms. (f66409e9)
2019-06-01T08:26:27.6297351+07:00 0HLN65RKCOJTF:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 76.2522ms (afa2e885)
2019-06-01T08:26:27.6714529+07:00 0HLN65RKCOJTP:00000001 [INF] Request finished in 19433.9102ms 101  (791a596a)
2019-06-01T08:26:27.6766049+07:00 0HLN65RKCOJTD:0000001C [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/function/index.js?v=Y8A8-_c7h69-g-MnxkrP-GYQ8MVcZcaS0A3_ecbJ7jU   (ca22a1cb)
2019-06-01T08:26:27.6972113+07:00 0HLN65RKCOJTF:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T08:26:27.7007759+07:00 0HLN65RKCOJTD:0000001C [INF] The file "/app/controllers/function/index.js" was not modified (f1f8d725)
2019-06-01T08:26:27.7086401+07:00 0HLN65RKCOJTF:0000000C [INF] Request finished in 238.0851ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:26:27.7111907+07:00 0HLN65RKCOJTD:0000001C [INF] Request finished in 49.4264ms 304 application/javascript (791a596a)
2019-06-01T08:26:27.7267697+07:00 0HLN65RKCOJTC:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=-NTPIAAUoLME9zXM3rOh6LLVj8Oq8-uW2W7i4qSZEpM   (ca22a1cb)
2019-06-01T08:26:27.7350898+07:00 0HLN65RKCOJTC:0000000F [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T08:26:27.7478159+07:00 0HLN65RKCOJTC:0000000F [INF] Request finished in 81.2856ms 304 application/javascript (791a596a)
2019-06-01T08:26:27.9901295+07:00 0HLN65RKCOJTC:00000010 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T08:26:28.0035691+07:00 0HLN65RKCOJTD:0000001D [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T08:26:28.0364750+07:00 0HLN65RKCOJTC:00000010 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:26:28.0515170+07:00 0HLN65RKCOJTD:0000001D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T08:26:28.0655838+07:00 0HLN65RKCOJTC:00000010 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:26:28.0806657+07:00 0HLN65RKCOJTD:0000001D [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T08:26:28.1021434+07:00 0HLN65RKCOJTC:00000010 [INF] Request finished in 95.0505ms 200 application/json (791a596a)
2019-06-01T08:26:28.1059162+07:00 0HLN65RKCOJTD:0000001D [INF] Authorization was successful. (0d575a54)
2019-06-01T08:26:28.1222336+07:00 0HLN65RKCOJTD:0000001D [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T08:26:28.1345734+07:00 0HLN65RKCOJTD:0000001D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:26:28.1492810+07:00 0HLN65RKCOJTD:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T08:26:28.1825425+07:00 0HLN65RKCOJTD:0000001D [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T08:26:28.1901376+07:00 0HLN65RKCOJTD:0000001D [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 60.3905ms. (50a9e262)
2019-06-01T08:26:28.2016219+07:00 0HLN65RKCOJTD:0000001D [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:26:28.2141023+07:00 0HLN65RKCOJTD:0000001D [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 121.1379ms (afa2e885)
2019-06-01T08:26:28.2224272+07:00 0HLN65RKCOJTD:0000001D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T08:26:28.2358016+07:00 0HLN65RKCOJTD:0000001D [INF] Request finished in 250.6254ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:26:29.9824975+07:00 0HLN65RKCOJTD:0000001E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T08:26:29.9914723+07:00 0HLN65RKCOJTD:0000001E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T08:26:29.9973702+07:00 0HLN65RKCOJTD:0000001E [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T08:26:30.0018092+07:00 0HLN65RKCOJTD:0000001E [INF] Authorization was successful. (0d575a54)
2019-06-01T08:26:30.0078740+07:00 0HLN65RKCOJTD:0000001E [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:26:42.0369508+07:00 0HLN65RKCOJTD:0000001E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:26:42.0544192+07:00 0HLN65RKCOJTD:0000001E [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:26:42.0587826+07:00 0HLN65RKCOJTD:0000001E [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 12046.8651ms. (50a9e262)
2019-06-01T08:26:42.0636831+07:00 0HLN65RKCOJTD:0000001E [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:26:42.0719740+07:00 0HLN65RKCOJTD:0000001E [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 12066.8618ms (afa2e885)
2019-06-01T08:26:42.0766566+07:00 0HLN65RKCOJTD:0000001E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T08:26:42.0827416+07:00 0HLN65RKCOJTD:0000001E [INF] Request finished in 12109.5551ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:27:00.1736719+07:00 0HLN65RKCOJTQ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=GWZFLlj5nVrcZA_JSHfIkQ   (ca22a1cb)
2019-06-01T08:27:00.1856100+07:00 0HLN65RKCOJTQ:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:27:00.1944453+07:00 0HLN65RKCOJTQ:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:28:55.5989607+07:00 0HLN65RKCOJTQ:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T08:28:55.6592396+07:00 0HLN65RKCOJTD:0000001F [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T08:28:55.6753203+07:00 0HLN65RKCOJTD:0000001F [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T08:28:55.6810992+07:00 0HLN65RKCOJTD:0000001F [INF] Request finished in 23.1651ms 200 image/x-icon (791a596a)
2019-06-01T08:28:57.2656805+07:00 0HLN65RKCOJTD:00000020 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T08:28:57.2762097+07:00 0HLN65RKCOJTD:00000020 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T08:28:57.2820037+07:00 0HLN65RKCOJTD:00000020 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T08:28:57.2858084+07:00 0HLN65RKCOJTD:00000020 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:28:57.2896583+07:00 0HLN65RKCOJTD:00000020 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:28:57.2935135+07:00 0HLN65RKCOJTD:00000020 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0385ms. (50a9e262)
2019-06-01T08:28:57.2984752+07:00 0HLN65RKCOJTD:00000020 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:28:57.3038519+07:00 0HLN65RKCOJTD:00000020 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:28:57.3214511+07:00 0HLN65RKCOJTD:00000020 [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:28:57.3251988+07:00 0HLN65RKCOJTD:00000020 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:28:57.3377149+07:00 0HLN65RKCOJTD:00000020 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:28:57.3411890+07:00 0HLN65RKCOJTD:00000020 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:28:57.3531414+07:00 0HLN65RKCOJTD:00000020 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:28:57.3569231+07:00 0HLN65RKCOJTD:00000020 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:28:57.3639775+07:00 0HLN65RKCOJTD:00000020 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:28:57.3755975+07:00 0HLN65RKCOJTD:00000020 [INF] Executed ViewResult - view "Index" executed in 72.5948ms. (f66409e9)
2019-06-01T08:28:57.4103438+07:00 0HLN65RKCOJTD:00000020 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 93.9892ms (afa2e885)
2019-06-01T08:28:57.4539039+07:00 0HLN65RKCOJTQ:00000001 [INF] Request finished in 117244.8752ms 101  (791a596a)
2019-06-01T08:28:57.4623929+07:00 0HLN65RKCOJTD:00000020 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T08:28:57.5391199+07:00 0HLN65RKCOJTD:00000020 [INF] Request finished in 203.7692ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:28:57.5413447+07:00 0HLN65RKCOJTC:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=-NTPIAAUoLME9zXM3rOh6LLVj8Oq8-uW2W7i4qSZEpM   (ca22a1cb)
2019-06-01T08:28:57.5499868+07:00 0HLN65RKCOJTF:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/function/index.js?v=vD7QkXBWOBSQGmf0bTWp6AVNkaXdnZf2rRSu-tgekps   (ca22a1cb)
2019-06-01T08:28:57.5522964+07:00 0HLN65RKCOJTC:00000011 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T08:28:57.5646952+07:00 0HLN65RKCOJTC:00000011 [INF] Request finished in 57.1872ms 304 application/javascript (791a596a)
2019-06-01T08:28:57.5658366+07:00 0HLN65RKCOJTF:0000000D [INF] Sending file. Request path: '"/app/controllers/function/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\function\index.js"' (27b0a520)
2019-06-01T08:28:57.5730324+07:00 0HLN65RKCOJTF:0000000D [INF] Request finished in 50.7568ms 200 application/javascript (791a596a)
2019-06-01T08:28:57.7818819+07:00 0HLN65RKCOJTF:0000000E [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T08:28:57.7942733+07:00 0HLN65RKCOJTC:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T08:28:57.8073634+07:00 0HLN65RKCOJTF:0000000E [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:28:57.8221982+07:00 0HLN65RKCOJTC:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T08:28:57.8331393+07:00 0HLN65RKCOJTF:0000000E [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:28:57.8360932+07:00 0HLN65RKCOJTC:00000012 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T08:28:57.8585961+07:00 0HLN65RKCOJTF:0000000E [INF] Request finished in 74.2161ms 200 application/json (791a596a)
2019-06-01T08:28:57.8867545+07:00 0HLN65RKCOJTC:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:28:57.9089149+07:00 0HLN65RKCOJTC:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T08:28:57.9169009+07:00 0HLN65RKCOJTF:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T08:28:57.9288697+07:00 0HLN65RKCOJTC:00000012 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:28:57.9412725+07:00 0HLN65RKCOJTF:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T08:28:57.9475627+07:00 0HLN65RKCOJTC:00000012 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T08:28:57.9486531+07:00 0HLN65RKCOJTF:0000000F [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T08:28:57.9534001+07:00 0HLN65RKCOJTF:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T08:28:57.9606884+07:00 0HLN65RKCOJTF:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:29:00.2253412+07:00 0HLN65RKCOJTC:00000012 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T08:29:00.2432132+07:00 0HLN65RKCOJTC:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2316.5388ms. (50a9e262)
2019-06-01T08:29:00.2606795+07:00 0HLN65RKCOJTD:00000021 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T08:29:00.2855845+07:00 0HLN65RKCOJTC:00000012 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:29:00.2945994+07:00 0HLN65RKCOJTF:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:29:00.3028099+07:00 0HLN65RKCOJTD:00000021 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T08:29:00.3047259+07:00 0HLN65RKCOJTC:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 2450.9341ms (afa2e885)
2019-06-01T08:29:00.3103090+07:00 0HLN65RKCOJTF:0000000F [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:29:00.3147578+07:00 0HLN65RKCOJTC:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T08:29:00.3431446+07:00 0HLN65RKCOJTF:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2350.6766ms. (50a9e262)
2019-06-01T08:29:00.3448985+07:00 0HLN65RKCOJTD:00000021 [INF] Request finished in 74.1439ms 200 image/x-icon (791a596a)
2019-06-01T08:29:00.3477030+07:00 0HLN65RKCOJTC:00000012 [INF] Request finished in 2548.2908ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:29:00.3532160+07:00 0HLN65RKCOJTF:0000000F [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:29:00.3626441+07:00 0HLN65RKCOJTR:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=tcadDkkUTXYMU4B-5KhmmQ   (ca22a1cb)
2019-06-01T08:29:00.3637699+07:00 0HLN65RKCOJTF:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 2406.288ms (afa2e885)
2019-06-01T08:29:00.3695135+07:00 0HLN65RKCOJTR:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:29:00.3723290+07:00 0HLN65RKCOJTF:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T08:29:00.3781673+07:00 0HLN65RKCOJTR:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:29:00.3804582+07:00 0HLN65RKCOJTF:0000000F [INF] Request finished in 2479.8482ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:29:00.3946261+07:00 0HLN65RKCOJTR:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T08:29:32.7971221+07:00 0HLN65RKCOJTF:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T08:29:32.8015430+07:00 0HLN65RKCOJTF:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T08:29:32.8065359+07:00 0HLN65RKCOJTF:00000010 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T08:29:32.8101551+07:00 0HLN65RKCOJTF:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:29:32.8169720+07:00 0HLN65RKCOJTF:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:29:32.8224927+07:00 0HLN65RKCOJTF:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0205ms. (50a9e262)
2019-06-01T08:29:32.8265482+07:00 0HLN65RKCOJTF:00000010 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:29:32.8314495+07:00 0HLN65RKCOJTF:00000010 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:29:32.8409768+07:00 0HLN65RKCOJTF:00000010 [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:29:32.8443245+07:00 0HLN65RKCOJTF:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:29:32.8509830+07:00 0HLN65RKCOJTF:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:29:32.8539672+07:00 0HLN65RKCOJTF:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:29:32.8601597+07:00 0HLN65RKCOJTF:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:29:32.8631738+07:00 0HLN65RKCOJTF:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:29:32.8684894+07:00 0HLN65RKCOJTF:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:29:32.8755081+07:00 0HLN65RKCOJTF:00000010 [INF] Executed ViewResult - view "Index" executed in 46.9546ms. (f66409e9)
2019-06-01T08:29:32.8802679+07:00 0HLN65RKCOJTF:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 69.1224ms (afa2e885)
2019-06-01T08:29:32.9058559+07:00 0HLN65RKCOJTF:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T08:29:32.9068308+07:00 0HLN65RKCOJTR:00000001 [INF] Request finished in 32601.7229ms 101  (791a596a)
2019-06-01T08:29:32.9152123+07:00 0HLN65RKCOJTF:00000010 [INF] Request finished in 113.5658ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:29:32.9860065+07:00 0HLN65RKCOJTC:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/function/index.js?v=vD7QkXBWOBSQGmf0bTWp6AVNkaXdnZf2rRSu-tgekps   (ca22a1cb)
2019-06-01T08:29:33.0169111+07:00 0HLN65RKCOJTF:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=-NTPIAAUoLME9zXM3rOh6LLVj8Oq8-uW2W7i4qSZEpM   (ca22a1cb)
2019-06-01T08:29:33.0179121+07:00 0HLN65RKCOJTC:00000013 [INF] The file "/app/controllers/function/index.js" was not modified (f1f8d725)
2019-06-01T08:29:33.0315026+07:00 0HLN65RKCOJTF:00000011 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T08:29:33.0347781+07:00 0HLN65RKCOJTC:00000013 [INF] Request finished in 66.5587ms 304 application/javascript (791a596a)
2019-06-01T08:29:33.0515884+07:00 0HLN65RKCOJTF:00000011 [INF] Request finished in 64.3224ms 304 application/javascript (791a596a)
2019-06-01T08:29:33.2989982+07:00 0HLN65RKCOJTF:00000012 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T08:29:33.3078138+07:00 0HLN65RKCOJTF:00000012 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:29:33.3117666+07:00 0HLN65RKCOJTC:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T08:29:33.3172247+07:00 0HLN65RKCOJTF:00000012 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:29:33.3290802+07:00 0HLN65RKCOJTC:00000014 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T08:29:33.3313428+07:00 0HLN65RKCOJTF:00000012 [INF] Request finished in 35.6024ms 200 application/json (791a596a)
2019-06-01T08:29:33.3361806+07:00 0HLN65RKCOJTC:00000014 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T08:29:33.3397805+07:00 0HLN65RKCOJTC:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:29:33.3502929+07:00 0HLN65RKCOJTC:00000014 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T08:29:33.3579656+07:00 0HLN65RKCOJTC:00000014 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:29:33.3647868+07:00 0HLN65RKCOJTC:00000014 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T08:29:33.3706031+07:00 0HLN65RKCOJTC:00000014 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T08:29:33.3744353+07:00 0HLN65RKCOJTC:00000014 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 20.3765ms. (50a9e262)
2019-06-01T08:29:33.3787635+07:00 0HLN65RKCOJTC:00000014 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:29:33.3857456+07:00 0HLN65RKCOJTC:00000014 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 42.8844ms (afa2e885)
2019-06-01T08:29:33.3895778+07:00 0HLN65RKCOJTC:00000014 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T08:29:33.3939803+07:00 0HLN65RKCOJTC:00000014 [INF] Request finished in 88.3818ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:29:35.2326656+07:00 0HLN65RKCOJTC:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T08:29:35.2371341+07:00 0HLN65RKCOJTC:00000015 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T08:29:35.2470463+07:00 0HLN65RKCOJTC:00000015 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T08:29:35.2513416+07:00 0HLN65RKCOJTC:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:29:35.2555578+07:00 0HLN65RKCOJTC:00000015 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:29:40.2175931+07:00 0HLN65RKCOJTC:00000015 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:29:40.2240846+07:00 0HLN65RKCOJTC:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:29:40.2281429+07:00 0HLN65RKCOJTC:00000015 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 4968.9214ms. (50a9e262)
2019-06-01T08:29:40.2343956+07:00 0HLN65RKCOJTC:00000015 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:29:40.2395816+07:00 0HLN65RKCOJTC:00000015 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 4987.6455ms (afa2e885)
2019-06-01T08:29:40.2434032+07:00 0HLN65RKCOJTC:00000015 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T08:29:40.2478549+07:00 0HLN65RKCOJTC:00000015 [INF] Request finished in 5016.1046ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:29:52.9478723+07:00 0HLN65RKCOJTS:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=MO-eZhqUyc8gMCwRobFsrw   (ca22a1cb)
2019-06-01T08:29:52.9539995+07:00 0HLN65RKCOJTS:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:29:52.9592082+07:00 0HLN65RKCOJTS:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:31:09.1511998+07:00 0HLN65RKCOJTS:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T08:31:11.4567930+07:00 0HLN65RKCOJTC:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T08:31:11.4690358+07:00 0HLN65RKCOJTC:00000016 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T08:31:11.4734465+07:00 0HLN65RKCOJTC:00000016 [INF] Request finished in 17.1031ms 200 image/x-icon (791a596a)
2019-06-01T08:33:14.7753150+07:00 0HLN65RKCOJTC:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T08:33:14.7834623+07:00 0HLN65RKCOJTC:00000017 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T08:33:14.7879295+07:00 0HLN65RKCOJTC:00000017 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T08:33:14.7949757+07:00 0HLN65RKCOJTC:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:33:14.8047680+07:00 0HLN65RKCOJTC:00000017 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:33:14.8103168+07:00 0HLN65RKCOJTC:00000017 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0713ms. (50a9e262)
2019-06-01T08:33:14.8177051+07:00 0HLN65RKCOJTC:00000017 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:33:14.8609887+07:00 0HLN65RKCOJTC:00000017 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:33:14.9478149+07:00 0HLN65RKCOJTC:00000017 [INF] Executed DbCommand ("42"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:33:14.9560028+07:00 0HLN65RKCOJTC:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:33:15.1542853+07:00 0HLN65RKCOJTC:00000017 [INF] Executed DbCommand ("139"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:33:15.1763624+07:00 0HLN65RKCOJTC:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:33:15.1943813+07:00 0HLN65RKCOJTC:00000017 [INF] Executed DbCommand ("10"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:33:15.2008519+07:00 0HLN65RKCOJTC:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:33:15.3251836+07:00 0HLN65RKCOJTC:00000017 [INF] Executed DbCommand ("109"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:33:16.6234287+07:00 0HLN65RKCOJTC:00000017 [INF] Executed ViewResult - view "Index" executed in 521.9507ms. (f66409e9)
2019-06-01T08:33:16.6438644+07:00 0HLN65RKCOJTF:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T08:33:16.6552584+07:00 0HLN65RKCOJTC:00000017 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 1836.5892ms (afa2e885)
2019-06-01T08:33:16.6646004+07:00 0HLN65RKCOJTF:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T08:33:16.6659231+07:00 0HLN65RKCOJTC:00000017 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T08:33:16.6804223+07:00 0HLN65RKCOJTT:00000001 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T08:33:16.6852666+07:00 0HLN65RKCOJTC:00000017 [INF] Request finished in 1911.9787ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:33:16.6993844+07:00 0HLN65RKCOJTT:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:33:16.7112958+07:00 0HLN65RKCOJTF:00000013 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T08:33:16.7149019+07:00 0HLN65RKCOJTT:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:33:16.7310742+07:00 0HLN65RKCOJTF:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:33:16.7358734+07:00 0HLN65RKCOJTT:00000001 [INF] Request finished in 51.6926ms 200 application/json (791a596a)
2019-06-01T08:33:16.7665318+07:00 0HLN65RKCOJTF:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:33:16.7762307+07:00 0HLN65RKCOJTU:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/function/index.js?v=ZXVpCklJintia9bWa9cVvYVIEEXHcP_PRG0FSc49hoU   (ca22a1cb)
2019-06-01T08:33:16.7803562+07:00 0HLN65RKCOJTF:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0184ms. (50a9e262)
2019-06-01T08:33:16.8659208+07:00 0HLN65RKCOJTS:00000001 [INF] Request finished in 203686.3723ms 101  (791a596a)
2019-06-01T08:33:16.8857394+07:00 0HLN65RKCOJTF:00000013 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:33:16.9086461+07:00 0HLN65RKCOJTF:00000013 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:33:16.9234002+07:00 0HLN65RKCOJTD:00000022 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=-NTPIAAUoLME9zXM3rOh6LLVj8Oq8-uW2W7i4qSZEpM   (ca22a1cb)
2019-06-01T08:33:16.9432487+07:00 0HLN65RKCOJTF:00000013 [INF] Executed DbCommand ("14"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:33:16.9944138+07:00 0HLN65RKCOJTD:00000022 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T08:33:17.6631583+07:00 0HLN65RKCOJTF:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:33:17.7242545+07:00 0HLN65RKCOJTT:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T08:33:17.7291746+07:00 0HLN65RKCOJTV:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=lGbFuLwN9ePHK8v0thq66A   (ca22a1cb)
2019-06-01T08:33:17.7753818+07:00 0HLN65RKCOJTF:00000013 [INF] Executed DbCommand ("43"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:33:17.7825289+07:00 0HLN65RKCOJTV:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:33:17.7924616+07:00 0HLN65RKCOJTF:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:33:17.8180739+07:00 0HLN65RKCOJTV:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:33:17.8504394+07:00 0HLN65RKCOJTD:00000022 [INF] Request finished in 413.7994ms 304 application/javascript (791a596a)
2019-06-01T08:33:17.9002814+07:00 0HLN65RKCOJTF:00000013 [INF] Executed DbCommand ("23"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:33:17.9022970+07:00 0HLN65RKCOJTV:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T08:33:17.9120931+07:00 0HLN65RKCOJTF:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:33:17.9217378+07:00 0HLN65RKCOJTD:00000023 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T08:33:17.9340143+07:00 0HLN65RKCOJTF:00000013 [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:33:18.0825578+07:00 0HLN65RKCOJTD:00000023 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T08:33:18.1175038+07:00 0HLN65RKCOJTF:00000013 [INF] Executed ViewResult - view "Index" executed in 1154.8306ms. (f66409e9)
2019-06-01T08:33:18.1219202+07:00 0HLN65RKCOJTC:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/font-awesome/css/font-awesome.css   (ca22a1cb)
2019-06-01T08:33:18.1379042+07:00 0HLN65RKCOJTF:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 1406.2868ms (afa2e885)
2019-06-01T08:33:18.1926180+07:00 0HLN65RKCOJTD:00000023 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T08:33:18.2022332+07:00 0HLN65RKCOJTF:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T08:33:18.2044243+07:00 0HLN65RKCOJTD:00000023 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:33:18.2138656+07:00 0HLN65RKCOJTF:00000013 [INF] Request finished in 2492.4393ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:33:18.2183870+07:00 0HLN65RKCOJTD:00000023 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T08:33:18.2251164+07:00 0HLN65RKCOJTT:00000002 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T08:33:18.2285052+07:00 0HLN65RKCOJTD:00000023 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:33:18.2329999+07:00 0HLN65RKCOJTU:00000001 [INF] Sending file. Request path: '"/app/controllers/function/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\function\index.js"' (27b0a520)
2019-06-01T08:33:18.2387435+07:00 0HLN65RKCOJTT:00000002 [INF] Request finished in 692.9155ms 200 image/x-icon (791a596a)
2019-06-01T08:33:18.2473248+07:00 0HLN65RKCOJTD:00000023 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T08:33:18.2495681+07:00 0HLN65RKCOJTF:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/nprogress/nprogress.css   (ca22a1cb)
2019-06-01T08:33:18.2662885+07:00 0HLN65RKCOJTD:00000023 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T08:33:18.2691849+07:00 0HLN65RKCOJTF:00000014 [INF] Sending file. Request path: '"/lib/nprogress/nprogress.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\nprogress\nprogress.css"' (27b0a520)
2019-06-01T08:33:18.2775348+07:00 0HLN65RKCOJTD:00000023 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 48.0422ms. (50a9e262)
2019-06-01T08:33:18.2804201+07:00 0HLN65RKCOJTF:00000014 [INF] Request finished in 32.3909ms 200 text/css (791a596a)
2019-06-01T08:33:18.2852887+07:00 0HLN65RKCOJTD:00000023 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:33:18.2902085+07:00 0HLN65RKCOJTT:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css   (ca22a1cb)
2019-06-01T08:33:18.2970303+07:00 0HLN65RKCOJTU:00000001 [INF] Request finished in 1575.5982ms 200 application/javascript (791a596a)
2019-06-01T08:33:18.2994409+07:00 0HLN65RKCOJTD:00000023 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 95.2503ms (afa2e885)
2019-06-01T08:33:18.3169900+07:00 0HLN65RKCOJTD:00000023 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T08:33:18.3193756+07:00 0HLN65RKCOJTU:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T08:33:18.3283221+07:00 0HLN65RKCOJU0:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap-daterangepicker/daterangepicker.css   (ca22a1cb)
2019-06-01T08:33:18.3320320+07:00 0HLN65RKCOJTD:00000023 [INF] Request finished in 448.0324ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:33:18.3414310+07:00 0HLN65RKCOJU1:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/styles/metro/notify-metro.css   (ca22a1cb)
2019-06-01T08:33:18.3434417+07:00 0HLN65RKCOJU0:00000001 [INF] Sending file. Request path: '"/lib/bootstrap-daterangepicker/daterangepicker.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap-daterangepicker\daterangepicker.css"' (27b0a520)
2019-06-01T08:33:18.3537498+07:00 0HLN65RKCOJU0:00000001 [INF] Request finished in 26.2645ms 200 text/css (791a596a)
2019-06-01T08:33:18.3614807+07:00 0HLN65RKCOJU2:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/iCheck/skins/flat/green.css   (ca22a1cb)
2019-06-01T08:33:18.3770880+07:00 0HLN65RKCOJTU:00000002 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T08:33:18.3797227+07:00 0HLN65RKCOJU1:00000001 [INF] Sending file. Request path: '"/lib/notifyjs/dist/styles/metro/notify-metro.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\styles\metro\notify-metro.css"' (27b0a520)
2019-06-01T08:33:18.3867413+07:00 0HLN65RKCOJTF:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/skins/moono/editor.css   (ca22a1cb)
2019-06-01T08:33:18.3876619+07:00 0HLN65RKCOJU2:00000001 [INF] Sending file. Request path: '"/lib/iCheck/skins/flat/green.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\iCheck\skins\flat\green.css"' (27b0a520)
2019-06-01T08:33:18.3966289+07:00 0HLN65RKCOJU1:00000001 [INF] Request finished in 62.845ms 200 text/css (791a596a)
2019-06-01T08:33:18.3993358+07:00 0HLN65RKCOJU2:00000001 [INF] Request finished in 43.0338ms 200 text/css (791a596a)
2019-06-01T08:33:18.4192858+07:00 0HLN65RKCOJTF:00000015 [INF] Sending file. Request path: '"/lib/ckeditor/skins/moono/editor.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\skins\moono\editor.css"' (27b0a520)
2019-06-01T08:33:18.4256533+07:00 0HLN65RKCOJU0:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js   (ca22a1cb)
2019-06-01T08:33:18.4277735+07:00 0HLN65RKCOJTF:00000015 [INF] Request finished in 42.2198ms 200 text/css (791a596a)
2019-06-01T08:33:18.4306830+07:00 0HLN65RKCOJU1:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/css/custom.css   (ca22a1cb)
2019-06-01T08:33:18.4409731+07:00 0HLN65RKCOJTU:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T08:33:18.4564693+07:00 0HLN65RKCOJTT:00000003 [INF] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\css\bootstrap.css"' (27b0a520)
2019-06-01T08:33:18.4667556+07:00 0HLN65RKCOJU2:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/signalr/signalr.js   (ca22a1cb)
2019-06-01T08:33:18.4738530+07:00 0HLN65RKCOJTT:00000003 [INF] Request finished in 203.6519ms 200 text/css (791a596a)
2019-06-01T08:33:18.4887913+07:00 0HLN65RKCOJU1:00000002 [INF] Sending file. Request path: '"/admin-side/css/custom.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\css\custom.css"' (27b0a520)
2019-06-01T08:33:18.5103022+07:00 0HLN65RKCOJTF:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.js   (ca22a1cb)
2019-06-01T08:33:18.5621730+07:00 0HLN65RKCOJU1:00000002 [INF] Request finished in 85.7948ms 200 text/css (791a596a)
2019-06-01T08:33:18.7222672+07:00 0HLN65RKCOJTT:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/fastclick/lib/fastclick.js   (ca22a1cb)
2019-06-01T08:33:18.7306779+07:00 0HLN65RKCOJTV:00000001 [INF] Request finished in 952.3906ms 101  (791a596a)
2019-06-01T08:33:18.7369860+07:00 0HLN65RKCOJTF:00000016 [INF] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\js\bootstrap.js"' (27b0a520)
2019-06-01T08:33:18.7428649+07:00 0HLN65RKCOJU2:00000002 [INF] Sending file. Request path: '"/lib/signalr/signalr.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\signalr\signalr.js"' (27b0a520)
2019-06-01T08:33:18.7508669+07:00 0HLN65RKCOJTT:00000004 [INF] Sending file. Request path: '"/lib/fastclick/lib/fastclick.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\fastclick\lib\fastclick.js"' (27b0a520)
2019-06-01T08:33:18.7672596+07:00 0HLN65RKCOJU2:00000002 [INF] Request finished in 304.8534ms 200 application/javascript (791a596a)
2019-06-01T08:33:18.7696140+07:00 0HLN65RKCOJTT:00000004 [INF] Request finished in 242.0342ms 200 application/javascript (791a596a)
2019-06-01T08:33:18.8145904+07:00 0HLN65RKCOJTC:00000018 [INF] Sending file. Request path: '"/lib/font-awesome/css/font-awesome.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\font-awesome\css\font-awesome.css"' (27b0a520)
2019-06-01T08:33:18.8191623+07:00 0HLN65RKCOJU0:00000002 [INF] Sending file. Request path: '"/lib/jquery/dist/jquery.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery\dist\jquery.js"' (27b0a520)
2019-06-01T08:33:18.8507126+07:00 0HLN65RKCOJTC:00000018 [INF] Request finished in 742.1462ms 200 text/css (791a596a)
2019-06-01T08:33:18.8529707+07:00 0HLN65RKCOJU0:00000002 [INF] Request finished in 408.5535ms 200 application/javascript (791a596a)
2019-06-01T08:33:18.8593842+07:00 0HLN65RKCOJTF:00000016 [INF] Request finished in 251.5997ms 200 application/javascript (791a596a)
2019-06-01T08:33:18.8874568+07:00 0HLN65RKCOJU2:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/nprogress/nprogress.js   (ca22a1cb)
2019-06-01T08:33:18.8922179+07:00 0HLN65RKCOJU1:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/Chart.js/dist/Chart.js   (ca22a1cb)
2019-06-01T08:33:18.9117255+07:00 0HLN65RKCOJTU:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:33:19.0250694+07:00 0HLN65RKCOJTF:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/mustache/mustache.js   (ca22a1cb)
2019-06-01T08:33:19.0586234+07:00 0HLN65RKCOJU2:00000003 [INF] Sending file. Request path: '"/lib/nprogress/nprogress.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\nprogress\nprogress.js"' (27b0a520)
2019-06-01T08:33:19.0700442+07:00 0HLN65RKCOJTC:00000019 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-sparkline/dist/jquery.sparkline.js   (ca22a1cb)
2019-06-01T08:33:19.0730551+07:00 0HLN65RKCOJU0:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0   (ca22a1cb)
2019-06-01T08:33:19.0948327+07:00 0HLN65RKCOJU2:00000003 [INF] Request finished in 197.5054ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.0989085+07:00 0HLN65RKCOJTF:00000017 [INF] Sending file. Request path: '"/lib/mustache/mustache.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\mustache\mustache.js"' (27b0a520)
2019-06-01T08:33:19.1313295+07:00 0HLN65RKCOJTC:00000019 [INF] Sending file. Request path: '"/lib/jquery-sparkline/dist/jquery.sparkline.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-sparkline\dist\jquery.sparkline.js"' (27b0a520)
2019-06-01T08:33:19.1338218+07:00 0HLN65RKCOJU0:00000003 [INF] Sending file. Request path: '"/lib/font-awesome/fonts/fontawesome-webfont.woff2"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\font-awesome\fonts\fontawesome-webfont.woff2"' (27b0a520)
2019-06-01T08:33:19.1422102+07:00 0HLN65RKCOJTC:00000019 [INF] Request finished in 105.0559ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.1454632+07:00 0HLN65RKCOJU0:00000003 [INF] Request finished in 107.2987ms 200 font/woff2 (791a596a)
2019-06-01T08:33:19.1583789+07:00 0HLN65RKCOJTC:0000001A [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/jquery.validate.js   (ca22a1cb)
2019-06-01T08:33:19.1605433+07:00 0HLN65RKCOJU0:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/iCheck/icheck.min.js   (ca22a1cb)
2019-06-01T08:33:19.1786607+07:00 0HLN65RKCOJU2:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2   (ca22a1cb)
2019-06-01T08:33:19.1821893+07:00 0HLN65RKCOJTF:00000017 [INF] Request finished in 230.0609ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.2005290+07:00 0HLN65RKCOJU0:00000004 [INF] Sending file. Request path: '"/lib/iCheck/icheck.min.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\iCheck\icheck.min.js"' (27b0a520)
2019-06-01T08:33:19.2034709+07:00 0HLN65RKCOJU2:00000004 [INF] Sending file. Request path: '"/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\fonts\glyphicons-halflings-regular.woff2"' (27b0a520)
2019-06-01T08:33:19.2149359+07:00 0HLN65RKCOJU0:00000004 [INF] Request finished in 48.5378ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.2230763+07:00 0HLN65RKCOJU2:00000004 [INF] Request finished in 89.4432ms 200 font/woff2 (791a596a)
2019-06-01T08:33:19.2547500+07:00 0HLN65RKCOJU0:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation-unobtrusive/src/jquery.validate.unobtrusive.js   (ca22a1cb)
2019-06-01T08:33:19.2590003+07:00 0HLN65RKCOJU2:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/ckeditor.js   (ca22a1cb)
2019-06-01T08:33:19.2892251+07:00 0HLN65RKCOJU0:00000005 [INF] Sending file. Request path: '"/lib/jquery-validation-unobtrusive/src/jquery.validate.unobtrusive.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation-unobtrusive\src\jquery.validate.unobtrusive.js"' (27b0a520)
2019-06-01T08:33:19.2946684+07:00 0HLN65RKCOJTF:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/images/img.jpg   (ca22a1cb)
2019-06-01T08:33:19.3190955+07:00 0HLN65RKCOJTT:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/twbs-pagination/jquery.twbsPagination.js   (ca22a1cb)
2019-06-01T08:33:19.3247176+07:00 0HLN65RKCOJU0:00000005 [INF] Request finished in 61.2471ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.3462708+07:00 0HLN65RKCOJTT:00000005 [INF] Sending file. Request path: '"/lib/twbs-pagination/jquery.twbsPagination.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\twbs-pagination\jquery.twbsPagination.js"' (27b0a520)
2019-06-01T08:33:19.3564944+07:00 0HLN65RKCOJU0:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/moment/moment.js   (ca22a1cb)
2019-06-01T08:33:19.3619163+07:00 0HLN65RKCOJTT:00000005 [INF] Request finished in 328.3ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.3684271+07:00 0HLN65RKCOJTF:00000018 [INF] Sending file. Request path: '"/admin-side/images/img.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\images\img.jpg"' (27b0a520)
2019-06-01T08:33:19.3871442+07:00 0HLN65RKCOJTF:00000018 [INF] Request finished in 97.6946ms 200 image/jpeg (791a596a)
2019-06-01T08:33:19.3891807+07:00 0HLN65RKCOJTT:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/notify.js   (ca22a1cb)
2019-06-01T08:33:19.4038789+07:00 0HLN65RKCOJTT:00000006 [INF] Sending file. Request path: '"/lib/notifyjs/dist/notify.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\notify.js"' (27b0a520)
2019-06-01T08:33:19.4056586+07:00 0HLN65RKCOJTF:00000019 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap-daterangepicker/daterangepicker.js   (ca22a1cb)
2019-06-01T08:33:19.4148865+07:00 0HLN65RKCOJU0:00000006 [INF] Sending file. Request path: '"/lib/moment/moment.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\moment\moment.js"' (27b0a520)
2019-06-01T08:33:19.4177120+07:00 0HLN65RKCOJTT:00000006 [INF] Request finished in 32.0364ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.4257087+07:00 0HLN65RKCOJU0:00000006 [INF] Request finished in 70.8471ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.4326367+07:00 0HLN65RKCOJTT:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/common.js?v=y7DqmVon23ErVGJwRwyGN-e1OscQoN09ThbEz09BtJA   (ca22a1cb)
2019-06-01T08:33:19.4354285+07:00 0HLN65RKCOJTF:00000019 [INF] Sending file. Request path: '"/lib/bootstrap-daterangepicker/daterangepicker.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap-daterangepicker\daterangepicker.js"' (27b0a520)
2019-06-01T08:33:19.4493620+07:00 0HLN65RKCOJTF:00000019 [INF] Request finished in 44.1849ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.4513821+07:00 0HLN65RKCOJTT:00000007 [INF] Sending file. Request path: '"/app/shared/common.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\shared\common.js"' (27b0a520)
2019-06-01T08:33:19.4617451+07:00 0HLN65RKCOJTT:00000007 [INF] Request finished in 28.811ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.4641570+07:00 0HLN65RKCOJTF:0000001A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/js/custom.js?v=hK7rQw3KRGvTBoFU9qYrRZAOVWKo8ugfIfdqn7el8ko   (ca22a1cb)
2019-06-01T08:33:19.4788459+07:00 0HLN65RKCOJU0:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootbox/src/bootbox.js   (ca22a1cb)
2019-06-01T08:33:19.4867413+07:00 0HLN65RKCOJTT:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/signalR/signalR.js?v=Nfk6vVike0aJRdJYX_p4XmzuQFtluTkuSqYJJ4Uiqm4   (ca22a1cb)
2019-06-01T08:33:19.5059294+07:00 0HLN65RKCOJU0:00000007 [INF] Sending file. Request path: '"/lib/bootbox/src/bootbox.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootbox\src\bootbox.js"' (27b0a520)
2019-06-01T08:33:19.5080286+07:00 0HLN65RKCOJTF:0000001A [INF] Sending file. Request path: '"/admin-side/js/custom.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\js\custom.js"' (27b0a520)
2019-06-01T08:33:19.5160709+07:00 0HLN65RKCOJU0:00000007 [INF] Request finished in 64.8097ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.5180290+07:00 0HLN65RKCOJTF:0000001A [INF] Request finished in 53.7332ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.5311125+07:00 0HLN65RKCOJU0:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/function/index.js?v=ZXVpCklJintia9bWa9cVvYVIEEXHcP_PRG0FSc49hoU   (ca22a1cb)
2019-06-01T08:33:19.5352142+07:00 0HLN65RKCOJTF:0000001B [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=-NTPIAAUoLME9zXM3rOh6LLVj8Oq8-uW2W7i4qSZEpM   (ca22a1cb)
2019-06-01T08:33:19.5442152+07:00 0HLN65RKCOJU2:00000005 [INF] Sending file. Request path: '"/lib/ckeditor/ckeditor.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\ckeditor.js"' (27b0a520)
2019-06-01T08:33:19.5465939+07:00 0HLN65RKCOJTF:0000001B [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T08:33:19.5538994+07:00 0HLN65RKCOJU2:00000005 [INF] Request finished in 313.4143ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.5558862+07:00 0HLN65RKCOJTF:0000001B [INF] Request finished in 23.4838ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.5663917+07:00 0HLN65RKCOJU2:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/styles/metro/notify-metro.js   (ca22a1cb)
2019-06-01T08:33:19.5690730+07:00 0HLN65RKCOJU1:00000003 [INF] Sending file. Request path: '"/lib/Chart.js/dist/Chart.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\Chart.js\dist\Chart.js"' (27b0a520)
2019-06-01T08:33:19.5774033+07:00 0HLN65RKCOJTU:00000002 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:33:19.5834858+07:00 0HLN65RKCOJU1:00000003 [INF] Request finished in 707.9399ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.5949537+07:00 0HLN65RKCOJTT:00000008 [INF] Sending file. Request path: '"/app/shared/signalR/signalR.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\shared\signalR\signalR.js"' (27b0a520)
2019-06-01T08:33:19.6042583+07:00 0HLN65RKCOJTU:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:33:19.6108326+07:00 0HLN65RKCOJU1:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/additional-methods.js   (ca22a1cb)
2019-06-01T08:33:19.6147050+07:00 0HLN65RKCOJTT:00000008 [INF] Request finished in 128.9713ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.6340778+07:00 0HLN65RKCOJU1:00000004 [INF] Sending file. Request path: '"/lib/jquery-validation/dist/additional-methods.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\additional-methods.js"' (27b0a520)
2019-06-01T08:33:19.6390611+07:00 0HLN65RKCOJTU:00000002 [INF] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:33:19.6508576+07:00 0HLN65RKCOJU1:00000004 [INF] Request finished in 41.917ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.6532412+07:00 0HLN65RKCOJTU:00000002 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 64.5468ms. (50a9e262)
2019-06-01T08:33:19.6613220+07:00 0HLN65RKCOJU0:00000008 [INF] Sending file. Request path: '"/app/controllers/function/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\function\index.js"' (27b0a520)
2019-06-01T08:33:19.6705938+07:00 0HLN65RKCOJTU:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:33:19.6741860+07:00 0HLN65RKCOJU2:00000006 [INF] Sending file. Request path: '"/lib/notifyjs/dist/styles/metro/notify-metro.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\styles\metro\notify-metro.js"' (27b0a520)
2019-06-01T08:33:19.6840174+07:00 0HLN65RKCOJTU:00000002 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 1229.864ms (afa2e885)
2019-06-01T08:33:19.6869987+07:00 0HLN65RKCOJU2:00000006 [INF] Request finished in 116.0803ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.7078837+07:00 0HLN65RKCOJTU:00000002 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T08:33:19.7573732+07:00 0HLN65RKCOJU0:00000008 [INF] Request finished in 140.5918ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.7614832+07:00 0HLN65RKCOJTU:00000002 [INF] Request finished in 1406.5338ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:33:19.7695316+07:00 0HLN65RKCOJTC:0000001A [INF] Sending file. Request path: '"/lib/jquery-validation/dist/jquery.validate.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\jquery.validate.js"' (27b0a520)
2019-06-01T08:33:19.7755591+07:00 0HLN65RKCOJTC:0000001A [INF] Request finished in 619.9022ms 200 application/javascript (791a596a)
2019-06-01T08:33:19.7908764+07:00 0HLN65RKCOJTC:0000001B [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/localization/messages_vi.js   (ca22a1cb)
2019-06-01T08:33:19.8052591+07:00 0HLN65RKCOJTC:0000001B [INF] Sending file. Request path: '"/lib/jquery-validation/dist/localization/messages_vi.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\localization\messages_vi.js"' (27b0a520)
2019-06-01T08:33:19.8133736+07:00 0HLN65RKCOJTC:0000001B [INF] Request finished in 27.2446ms 200 application/javascript (791a596a)
2019-06-01T08:33:20.0147170+07:00 0HLN65RKCOJU2:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T08:33:20.0175954+07:00 0HLN65RKCOJU0:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T08:33:20.0223629+07:00 0HLN65RKCOJTC:0000001C [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T08:33:20.0235704+07:00 0HLN65RKCOJU2:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T08:33:20.0304627+07:00 0HLN65RKCOJU0:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T08:33:20.0335584+07:00 0HLN65RKCOJU2:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T08:33:20.0391314+07:00 0HLN65RKCOJU0:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T08:33:20.0411592+07:00 0HLN65RKCOJU2:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:33:20.0476934+07:00 0HLN65RKCOJU0:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:33:20.0509554+07:00 0HLN65RKCOJU2:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T08:33:20.0565480+07:00 0HLN65RKCOJU0:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:33:20.0597643+07:00 0HLN65RKCOJU2:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:33:20.0710944+07:00 0HLN65RKCOJU0:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:33:20.0745077+07:00 0HLN65RKCOJU2:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T08:33:20.0763793+07:00 0HLN65RKCOJTC:0000001C [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:33:20.0921192+07:00 0HLN65RKCOJU2:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T08:33:20.0945926+07:00 0HLN65RKCOJTC:0000001C [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:33:20.1067916+07:00 0HLN65RKCOJU2:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 41.2307ms. (50a9e262)
2019-06-01T08:33:20.1135633+07:00 0HLN65RKCOJTC:0000001C [INF] Request finished in 128.2997ms 200 application/json (791a596a)
2019-06-01T08:33:20.1326012+07:00 0HLN65RKCOJU2:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:33:20.1411300+07:00 0HLN65RKCOJU0:00000009 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:33:20.1717257+07:00 0HLN65RKCOJU2:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 99.2278ms (afa2e885)
2019-06-01T08:33:20.1749794+07:00 0HLN65RKCOJU0:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 84.0421ms. (50a9e262)
2019-06-01T08:33:20.1881056+07:00 0HLN65RKCOJU2:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T08:33:20.1905072+07:00 0HLN65RKCOJU3:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=J40HCflvEQUMTg1oxcyvhA   (ca22a1cb)
2019-06-01T08:33:20.2040239+07:00 0HLN65RKCOJU2:00000007 [INF] Request finished in 214.7206ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:33:20.2060379+07:00 0HLN65RKCOJU3:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:33:20.2150796+07:00 0HLN65RKCOJU0:00000009 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:33:20.2305219+07:00 0HLN65RKCOJU3:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:33:20.2423989+07:00 0HLN65RKCOJU0:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 175.4685ms (afa2e885)
2019-06-01T08:33:20.2566024+07:00 0HLN65RKCOJU0:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T08:33:20.2593264+07:00 0HLN65RKCOJU3:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T08:33:20.2673125+07:00 0HLN65RKCOJU0:00000009 [INF] Request finished in 259.843ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:34:07.1097943+07:00 0HLN65RKCOJU0:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T08:34:07.1164917+07:00 0HLN65RKCOJU0:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T08:34:07.1215772+07:00 0HLN65RKCOJU0:0000000A [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T08:34:07.1266537+07:00 0HLN65RKCOJU0:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T08:34:07.1306624+07:00 0HLN65RKCOJU0:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:34:07.1359961+07:00 0HLN65RKCOJU0:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0689ms. (50a9e262)
2019-06-01T08:34:07.1398923+07:00 0HLN65RKCOJU0:0000000A [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:34:07.1441697+07:00 0HLN65RKCOJU0:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:34:07.1525880+07:00 0HLN65RKCOJU0:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:34:07.1559013+07:00 0HLN65RKCOJU0:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T08:34:07.1629257+07:00 0HLN65RKCOJU0:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:34:07.1674053+07:00 0HLN65RKCOJU0:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T08:34:07.1751981+07:00 0HLN65RKCOJU0:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:34:07.1805155+07:00 0HLN65RKCOJU0:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T08:34:07.1889753+07:00 0HLN65RKCOJU0:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:34:07.1972190+07:00 0HLN65RKCOJU0:0000000A [INF] Executed ViewResult - view "Index" executed in 54.0807ms. (f66409e9)
2019-06-01T08:34:07.2048547+07:00 0HLN65RKCOJU0:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 75.702ms (afa2e885)
2019-06-01T08:34:07.2292288+07:00 0HLN65RKCOJU3:00000001 [INF] Request finished in 47028.0652ms 101  (791a596a)
2019-06-01T08:34:07.2326274+07:00 0HLN65RKCOJU0:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T08:34:07.2866565+07:00 0HLN65RKCOJU0:0000000A [INF] Request finished in 129.1322ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:34:07.3048862+07:00 0HLN65RKCOJU2:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=-NTPIAAUoLME9zXM3rOh6LLVj8Oq8-uW2W7i4qSZEpM   (ca22a1cb)
2019-06-01T08:34:07.3177211+07:00 0HLN65RKCOJU0:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T08:34:07.3188821+07:00 0HLN65RKCOJU2:00000008 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T08:34:07.3225022+07:00 0HLN65RKCOJTC:0000001D [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/function/index.js?v=ZXVpCklJintia9bWa9cVvYVIEEXHcP_PRG0FSc49hoU   (ca22a1cb)
2019-06-01T08:34:07.3349810+07:00 0HLN65RKCOJU2:00000008 [INF] Request finished in 34.8631ms 304 application/javascript (791a596a)
2019-06-01T08:34:07.3360734+07:00 0HLN65RKCOJU0:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T08:34:07.3451951+07:00 0HLN65RKCOJU0:0000000B [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T08:34:07.3484521+07:00 0HLN65RKCOJTC:0000001D [INF] The file "/app/controllers/function/index.js" was not modified (f1f8d725)
2019-06-01T08:34:07.3550384+07:00 0HLN65RKCOJU0:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T08:34:07.3578613+07:00 0HLN65RKCOJTC:0000001D [INF] Request finished in 63.8559ms 304 application/javascript (791a596a)
2019-06-01T08:34:07.3623402+07:00 0HLN65RKCOJU0:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:34:07.3689855+07:00 0HLN65RKCOJU0:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0164ms. (50a9e262)
2019-06-01T08:34:07.3744624+07:00 0HLN65RKCOJU0:0000000B [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:34:07.3819307+07:00 0HLN65RKCOJU0:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:34:07.3928148+07:00 0HLN65RKCOJU0:0000000B [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:34:07.4010921+07:00 0HLN65RKCOJU0:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T08:34:07.4102359+07:00 0HLN65RKCOJU0:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:34:07.4163109+07:00 0HLN65RKCOJU0:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T08:34:07.4354005+07:00 0HLN65RKCOJU0:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:34:07.4618973+07:00 0HLN65RKCOJU0:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T08:34:07.4727364+07:00 0HLN65RKCOJU0:0000000B [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:34:07.4920036+07:00 0HLN65RKCOJU0:0000000B [INF] Executed ViewResult - view "Index" executed in 104.8692ms. (f66409e9)
2019-06-01T08:34:07.4988700+07:00 0HLN65RKCOJU0:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 146.943ms (afa2e885)
2019-06-01T08:34:07.5073886+07:00 0HLN65RKCOJU0:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T08:34:07.5183925+07:00 0HLN65RKCOJU0:0000000B [INF] Request finished in 206.7276ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:34:07.7708161+07:00 0HLN65RKCOJTT:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/iCheck/skins/flat/green.css   (ca22a1cb)
2019-06-01T08:34:07.7742220+07:00 0HLN65RKCOJU1:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap-daterangepicker/daterangepicker.css   (ca22a1cb)
2019-06-01T08:34:07.7825707+07:00 0HLN65RKCOJU0:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css   (ca22a1cb)
2019-06-01T08:34:07.7859308+07:00 0HLN65RKCOJU2:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/nprogress/nprogress.css   (ca22a1cb)
2019-06-01T08:34:07.7880530+07:00 0HLN65RKCOJTC:0000001E [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/font-awesome/css/font-awesome.css   (ca22a1cb)
2019-06-01T08:34:07.8128054+07:00 0HLN65RKCOJTT:00000009 [INF] Sending file. Request path: '"/lib/iCheck/skins/flat/green.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\iCheck\skins\flat\green.css"' (27b0a520)
2019-06-01T08:34:07.8195595+07:00 0HLN65RKCOJU1:00000005 [INF] Sending file. Request path: '"/lib/bootstrap-daterangepicker/daterangepicker.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap-daterangepicker\daterangepicker.css"' (27b0a520)
2019-06-01T08:34:07.8428226+07:00 0HLN65RKCOJTT:00000009 [INF] Request finished in 68.694ms 200 text/css (791a596a)
2019-06-01T08:34:07.8446097+07:00 0HLN65RKCOJTC:0000001E [INF] Sending file. Request path: '"/lib/font-awesome/css/font-awesome.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\font-awesome\css\font-awesome.css"' (27b0a520)
2019-06-01T08:34:07.8547380+07:00 0HLN65RKCOJTC:0000001E [INF] Request finished in 99.3254ms 200 text/css (791a596a)
2019-06-01T08:34:07.8569264+07:00 0HLN65RKCOJTT:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/skins/moono/editor.css   (ca22a1cb)
2019-06-01T08:34:07.8684381+07:00 0HLN65RKCOJU1:00000005 [INF] Request finished in 75.5063ms 200 text/css (791a596a)
2019-06-01T08:34:07.8706745+07:00 0HLN65RKCOJTC:0000001F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/images/img.jpg   (ca22a1cb)
2019-06-01T08:34:07.8802847+07:00 0HLN65RKCOJTF:0000001C [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/styles/metro/notify-metro.css   (ca22a1cb)
2019-06-01T08:34:07.8838371+07:00 0HLN65RKCOJU1:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/css/custom.css   (ca22a1cb)
2019-06-01T08:34:07.9124804+07:00 0HLN65RKCOJTC:0000001F [INF] Sending file. Request path: '"/admin-side/images/img.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\images\img.jpg"' (27b0a520)
2019-06-01T08:34:07.9344011+07:00 0HLN65RKCOJTF:0000001C [INF] Sending file. Request path: '"/lib/notifyjs/dist/styles/metro/notify-metro.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\styles\metro\notify-metro.css"' (27b0a520)
2019-06-01T08:34:07.9385707+07:00 0HLN65RKCOJTC:0000001F [INF] Request finished in 53.6754ms 200 image/jpeg (791a596a)
2019-06-01T08:34:07.9480226+07:00 0HLN65RKCOJTF:0000001C [INF] Request finished in 189.1469ms 200 text/css (791a596a)
2019-06-01T08:34:07.9558465+07:00 0HLN65RKCOJTC:00000020 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.js   (ca22a1cb)
2019-06-01T08:34:07.9676410+07:00 0HLN65RKCOJTF:0000001D [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/signalr/signalr.js   (ca22a1cb)
2019-06-01T08:34:07.9702941+07:00 0HLN65RKCOJU1:00000006 [INF] Sending file. Request path: '"/admin-side/css/custom.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\css\custom.css"' (27b0a520)
2019-06-01T08:34:07.9729989+07:00 0HLN65RKCOJU2:00000009 [INF] Sending file. Request path: '"/lib/nprogress/nprogress.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\nprogress\nprogress.css"' (27b0a520)
2019-06-01T08:34:08.0010079+07:00 0HLN65RKCOJU1:00000006 [INF] Request finished in 97.8403ms 200 text/css (791a596a)
2019-06-01T08:34:08.0171338+07:00 0HLN65RKCOJTC:00000020 [INF] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\js\bootstrap.js"' (27b0a520)
2019-06-01T08:34:08.0260762+07:00 0HLN65RKCOJTF:0000001D [INF] Sending file. Request path: '"/lib/signalr/signalr.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\signalr\signalr.js"' (27b0a520)
2019-06-01T08:34:08.0326825+07:00 0HLN65RKCOJU1:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/mustache/mustache.js   (ca22a1cb)
2019-06-01T08:34:08.0344483+07:00 0HLN65RKCOJTF:0000001D [INF] Request finished in 72.5648ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.0497734+07:00 0HLN65RKCOJTC:00000020 [INF] Request finished in 74.7096ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.0544261+07:00 0HLN65RKCOJTF:0000001E [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/twbs-pagination/jquery.twbsPagination.js   (ca22a1cb)
2019-06-01T08:34:08.0565627+07:00 0HLN65RKCOJU1:00000007 [INF] Sending file. Request path: '"/lib/mustache/mustache.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\mustache\mustache.js"' (27b0a520)
2019-06-01T08:34:08.0689586+07:00 0HLN65RKCOJU1:00000007 [INF] Request finished in 33.1322ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.0700048+07:00 0HLN65RKCOJTF:0000001E [INF] Sending file. Request path: '"/lib/twbs-pagination/jquery.twbsPagination.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\twbs-pagination\jquery.twbsPagination.js"' (27b0a520)
2019-06-01T08:34:08.0814086+07:00 0HLN65RKCOJTF:0000001E [INF] Request finished in 25.5216ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.0841409+07:00 0HLN65RKCOJU1:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0   (ca22a1cb)
2019-06-01T08:34:08.0949163+07:00 0HLN65RKCOJTC:00000021 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/Chart.js/dist/Chart.js   (ca22a1cb)
2019-06-01T08:34:08.1067813+07:00 0HLN65RKCOJTF:0000001F [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-sparkline/dist/jquery.sparkline.js   (ca22a1cb)
2019-06-01T08:34:08.1217483+07:00 0HLN65RKCOJU2:00000009 [INF] Request finished in 229.0685ms 200 text/css (791a596a)
2019-06-01T08:34:08.1394115+07:00 0HLN65RKCOJU1:00000008 [INF] Sending file. Request path: '"/lib/font-awesome/fonts/fontawesome-webfont.woff2"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\font-awesome\fonts\fontawesome-webfont.woff2"' (27b0a520)
2019-06-01T08:34:08.1453327+07:00 0HLN65RKCOJTF:0000001F [INF] Sending file. Request path: '"/lib/jquery-sparkline/dist/jquery.sparkline.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-sparkline\dist\jquery.sparkline.js"' (27b0a520)
2019-06-01T08:34:08.1481885+07:00 0HLN65RKCOJU1:00000008 [INF] Request finished in 64.5542ms 200 font/woff2 (791a596a)
2019-06-01T08:34:08.1546943+07:00 0HLN65RKCOJTF:0000001F [INF] Request finished in 59.1396ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.1606619+07:00 0HLN65RKCOJU1:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/iCheck/icheck.min.js   (ca22a1cb)
2019-06-01T08:34:08.1723272+07:00 0HLN65RKCOJTF:00000020 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/jquery.validate.js   (ca22a1cb)
2019-06-01T08:34:08.2437749+07:00 0HLN65RKCOJU1:00000009 [INF] Sending file. Request path: '"/lib/iCheck/icheck.min.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\iCheck\icheck.min.js"' (27b0a520)
2019-06-01T08:34:08.2456604+07:00 0HLN65RKCOJTC:00000021 [INF] Sending file. Request path: '"/lib/Chart.js/dist/Chart.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\Chart.js\dist\Chart.js"' (27b0a520)
2019-06-01T08:34:08.2589314+07:00 0HLN65RKCOJU1:00000009 [INF] Request finished in 91.4235ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.2617482+07:00 0HLN65RKCOJTC:00000021 [INF] Request finished in 186.1093ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.2891837+07:00 0HLN65RKCOJU1:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2   (ca22a1cb)
2019-06-01T08:34:08.2941917+07:00 0HLN65RKCOJTC:00000022 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/additional-methods.js   (ca22a1cb)
2019-06-01T08:34:08.3233781+07:00 0HLN65RKCOJTF:00000020 [INF] Sending file. Request path: '"/lib/jquery-validation/dist/jquery.validate.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\jquery.validate.js"' (27b0a520)
2019-06-01T08:34:08.3262019+07:00 0HLN65RKCOJU2:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js   (ca22a1cb)
2019-06-01T08:34:08.3293129+07:00 0HLN65RKCOJU1:0000000A [INF] Sending file. Request path: '"/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\fonts\glyphicons-halflings-regular.woff2"' (27b0a520)
2019-06-01T08:34:08.3696718+07:00 0HLN65RKCOJTC:00000022 [INF] Sending file. Request path: '"/lib/jquery-validation/dist/additional-methods.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\additional-methods.js"' (27b0a520)
2019-06-01T08:34:08.3747639+07:00 0HLN65RKCOJU1:0000000A [INF] Request finished in 59.533ms 200 font/woff2 (791a596a)
2019-06-01T08:34:08.3824813+07:00 0HLN65RKCOJTC:00000022 [INF] Request finished in 96.7014ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.3907089+07:00 0HLN65RKCOJU1:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/localization/messages_vi.js   (ca22a1cb)
2019-06-01T08:34:08.4012361+07:00 0HLN65RKCOJTC:00000023 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/ckeditor.js   (ca22a1cb)
2019-06-01T08:34:08.4113945+07:00 0HLN65RKCOJTF:00000020 [INF] Request finished in 164.5208ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.4172734+07:00 0HLN65RKCOJU1:0000000B [INF] Sending file. Request path: '"/lib/jquery-validation/dist/localization/messages_vi.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\localization\messages_vi.js"' (27b0a520)
2019-06-01T08:34:08.4272238+07:00 0HLN65RKCOJU1:0000000B [INF] Request finished in 38.011ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.4302010+07:00 0HLN65RKCOJTF:00000021 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation-unobtrusive/src/jquery.validate.unobtrusive.js   (ca22a1cb)
2019-06-01T08:34:08.4747933+07:00 0HLN65RKCOJU2:0000000A [INF] Sending file. Request path: '"/lib/jquery/dist/jquery.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery\dist\jquery.js"' (27b0a520)
2019-06-01T08:34:08.4773624+07:00 0HLN65RKCOJU1:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/moment/moment.js   (ca22a1cb)
2019-06-01T08:34:08.4889886+07:00 0HLN65RKCOJTF:00000021 [INF] Sending file. Request path: '"/lib/jquery-validation-unobtrusive/src/jquery.validate.unobtrusive.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation-unobtrusive\src\jquery.validate.unobtrusive.js"' (27b0a520)
2019-06-01T08:34:08.4911528+07:00 0HLN65RKCOJU2:0000000A [INF] Request finished in 337.5763ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.4991141+07:00 0HLN65RKCOJTF:00000021 [INF] Request finished in 69.094ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.5080085+07:00 0HLN65RKCOJU2:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap-daterangepicker/daterangepicker.js   (ca22a1cb)
2019-06-01T08:34:08.5174907+07:00 0HLN65RKCOJTF:00000022 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/notify.js   (ca22a1cb)
2019-06-01T08:34:08.5227851+07:00 0HLN65RKCOJU1:0000000C [INF] Sending file. Request path: '"/lib/moment/moment.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\moment\moment.js"' (27b0a520)
2019-06-01T08:34:08.5562062+07:00 0HLN65RKCOJU2:0000000B [INF] Sending file. Request path: '"/lib/bootstrap-daterangepicker/daterangepicker.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap-daterangepicker\daterangepicker.js"' (27b0a520)
2019-06-01T08:34:08.5579642+07:00 0HLN65RKCOJU1:0000000C [INF] Request finished in 87.8711ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.5653426+07:00 0HLN65RKCOJU2:0000000B [INF] Request finished in 60.2239ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.5713841+07:00 0HLN65RKCOJU1:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/styles/metro/notify-metro.js   (ca22a1cb)
2019-06-01T08:34:08.5815145+07:00 0HLN65RKCOJU2:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootbox/src/bootbox.js   (ca22a1cb)
2019-06-01T08:34:08.5836745+07:00 0HLN65RKCOJTC:00000023 [INF] Sending file. Request path: '"/lib/ckeditor/ckeditor.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\ckeditor.js"' (27b0a520)
2019-06-01T08:34:08.5891428+07:00 0HLN65RKCOJU1:0000000D [INF] Sending file. Request path: '"/lib/notifyjs/dist/styles/metro/notify-metro.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\styles\metro\notify-metro.js"' (27b0a520)
2019-06-01T08:34:08.5955605+07:00 0HLN65RKCOJTC:00000023 [INF] Request finished in 195.0521ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.6004273+07:00 0HLN65RKCOJU2:0000000C [INF] Sending file. Request path: '"/lib/bootbox/src/bootbox.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootbox\src\bootbox.js"' (27b0a520)
2019-06-01T08:34:08.6041561+07:00 0HLN65RKCOJU1:0000000D [INF] Request finished in 26.0217ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.6093467+07:00 0HLN65RKCOJU2:0000000C [INF] Request finished in 31.4949ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.6156039+07:00 0HLN65RKCOJU1:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/signalR/signalR.js?v=Nfk6vVike0aJRdJYX_p4XmzuQFtluTkuSqYJJ4Uiqm4   (ca22a1cb)
2019-06-01T08:34:08.6207547+07:00 0HLN65RKCOJU2:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=-NTPIAAUoLME9zXM3rOh6LLVj8Oq8-uW2W7i4qSZEpM   (ca22a1cb)
2019-06-01T08:34:08.6230324+07:00 0HLN65RKCOJTC:00000024 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/js/custom.js?v=hK7rQw3KRGvTBoFU9qYrRZAOVWKo8ugfIfdqn7el8ko   (ca22a1cb)
2019-06-01T08:34:08.6319694+07:00 0HLN65RKCOJTF:00000022 [INF] Sending file. Request path: '"/lib/notifyjs/dist/notify.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\notify.js"' (27b0a520)
2019-06-01T08:34:08.6340572+07:00 0HLN65RKCOJU1:0000000E [INF] Sending file. Request path: '"/app/shared/signalR/signalR.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\shared\signalR\signalR.js"' (27b0a520)
2019-06-01T08:34:08.6455620+07:00 0HLN65RKCOJU2:0000000D [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T08:34:08.6560945+07:00 0HLN65RKCOJU1:0000000E [INF] Request finished in 30.0762ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.6598263+07:00 0HLN65RKCOJU2:0000000D [INF] Request finished in 32.6252ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.6667009+07:00 0HLN65RKCOJTC:00000024 [INF] Sending file. Request path: '"/admin-side/js/custom.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\js\custom.js"' (27b0a520)
2019-06-01T08:34:08.6693824+07:00 0HLN65RKCOJTF:00000022 [INF] Request finished in 126.3576ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.6761311+07:00 0HLN65RKCOJTC:00000024 [INF] Request finished in 64.2268ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.6796334+07:00 0HLN65RKCOJU1:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/function/index.js?v=ZXVpCklJintia9bWa9cVvYVIEEXHcP_PRG0FSc49hoU   (ca22a1cb)
2019-06-01T08:34:08.6926779+07:00 0HLN65RKCOJU1:0000000F [INF] Sending file. Request path: '"/app/controllers/function/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\function\index.js"' (27b0a520)
2019-06-01T08:34:08.6945257+07:00 0HLN65RKCOJTF:00000023 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/common.js?v=y7DqmVon23ErVGJwRwyGN-e1OscQoN09ThbEz09BtJA   (ca22a1cb)
2019-06-01T08:34:08.7051185+07:00 0HLN65RKCOJTT:0000000A [INF] Sending file. Request path: '"/lib/ckeditor/skins/moono/editor.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\skins\moono\editor.css"' (27b0a520)
2019-06-01T08:34:08.7092387+07:00 0HLN65RKCOJU1:0000000F [INF] Request finished in 24.2678ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.7161125+07:00 0HLN65RKCOJTF:00000023 [INF] Sending file. Request path: '"/app/shared/common.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\shared\common.js"' (27b0a520)
2019-06-01T08:34:08.7212350+07:00 0HLN65RKCOJTT:0000000A [INF] Request finished in 858.3832ms 200 text/css (791a596a)
2019-06-01T08:34:08.7229773+07:00 0HLN65RKCOJTF:00000023 [INF] Request finished in 28.7938ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.7323504+07:00 0HLN65RKCOJTT:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/fastclick/lib/fastclick.js   (ca22a1cb)
2019-06-01T08:34:08.7334779+07:00 0HLN65RKCOJU0:0000000C [INF] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\css\bootstrap.css"' (27b0a520)
2019-06-01T08:34:08.7463283+07:00 0HLN65RKCOJU0:0000000C [INF] Request finished in 990.9952ms 200 text/css (791a596a)
2019-06-01T08:34:08.7491045+07:00 0HLN65RKCOJTT:0000000B [INF] Sending file. Request path: '"/lib/fastclick/lib/fastclick.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\fastclick\lib\fastclick.js"' (27b0a520)
2019-06-01T08:34:08.7552715+07:00 0HLN65RKCOJTT:0000000B [INF] Request finished in 24.1657ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.7579906+07:00 0HLN65RKCOJU0:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/nprogress/nprogress.js   (ca22a1cb)
2019-06-01T08:34:08.7759332+07:00 0HLN65RKCOJU0:0000000D [INF] Sending file. Request path: '"/lib/nprogress/nprogress.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\nprogress\nprogress.js"' (27b0a520)
2019-06-01T08:34:08.7841707+07:00 0HLN65RKCOJU0:0000000D [INF] Request finished in 25.4494ms 200 application/javascript (791a596a)
2019-06-01T08:34:08.9457722+07:00 0HLN65RKCOJU0:0000000E [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T08:34:08.9597624+07:00 0HLN65RKCOJU0:0000000E [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:34:08.9622342+07:00 0HLN65RKCOJTT:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T08:34:08.9687515+07:00 0HLN65RKCOJU0:0000000E [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:34:08.9698313+07:00 0HLN65RKCOJTT:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T08:34:08.9778267+07:00 0HLN65RKCOJU0:0000000E [INF] Request finished in 32.8873ms 200 application/json (791a596a)
2019-06-01T08:34:08.9805197+07:00 0HLN65RKCOJTT:0000000C [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T08:34:08.9862514+07:00 0HLN65RKCOJTT:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T08:34:08.9913366+07:00 0HLN65RKCOJTT:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T08:34:08.9960963+07:00 0HLN65RKCOJTT:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:34:09.0019552+07:00 0HLN65RKCOJTT:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T08:34:09.0123289+07:00 0HLN65RKCOJTT:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T08:34:09.0184610+07:00 0HLN65RKCOJTT:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 21.2479ms. (50a9e262)
2019-06-01T08:34:09.0283388+07:00 0HLN65RKCOJTT:0000000C [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:34:09.0351105+07:00 0HLN65RKCOJTT:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 48.0758ms (afa2e885)
2019-06-01T08:34:09.0399466+07:00 0HLN65RKCOJTT:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T08:34:09.0456449+07:00 0HLN65RKCOJTT:0000000C [INF] Request finished in 85.5388ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:34:09.1386587+07:00 0HLN65RKCOJTT:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T08:34:09.1442669+07:00 0HLN65RKCOJTT:0000000D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T08:34:09.1512150+07:00 0HLN65RKCOJTT:0000000D [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T08:34:09.1552317+07:00 0HLN65RKCOJTT:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T08:34:09.1606517+07:00 0HLN65RKCOJTT:0000000D [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:34:09.1760182+07:00 0HLN65RKCOJTT:0000000D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:34:09.1849635+07:00 0HLN65RKCOJTT:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:34:09.1920891+07:00 0HLN65RKCOJTT:0000000D [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 24.3183ms. (50a9e262)
2019-06-01T08:34:09.2066430+07:00 0HLN65RKCOJTT:0000000D [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:34:09.2161638+07:00 0HLN65RKCOJTT:0000000D [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 55.7587ms (afa2e885)
2019-06-01T08:34:09.2220945+07:00 0HLN65RKCOJTT:0000000D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T08:34:09.2268239+07:00 0HLN65RKCOJTT:0000000D [INF] Request finished in 93.3115ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:34:17.9277000+07:00 0HLN65RKCOJU4:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=8BPmL09EZFCT1slUOAR32g   (ca22a1cb)
2019-06-01T08:34:17.9373136+07:00 0HLN65RKCOJTT:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/images/users.png   (ca22a1cb)
2019-06-01T08:34:17.9388607+07:00 0HLN65RKCOJU4:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:34:17.9527483+07:00 0HLN65RKCOJU4:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:34:17.9556710+07:00 0HLN65RKCOJTT:0000000E [INF] Sending file. Request path: '"/admin-side/images/users.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\images\users.png"' (27b0a520)
2019-06-01T08:34:17.9668258+07:00 0HLN65RKCOJTT:0000000E [INF] Request finished in 29.7813ms 200 image/png (791a596a)
2019-06-01T08:37:43.5361709+07:00 0HLN65RKCOJU4:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T08:37:44.1216851+07:00 0HLN65RKCOJTT:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T08:37:44.1500289+07:00 0HLN65RKCOJTT:0000000F [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T08:37:44.1540113+07:00 0HLN65RKCOJTT:0000000F [INF] Request finished in 32.1993ms 200 image/x-icon (791a596a)
2019-06-01T08:40:07.4592052+07:00 0HLN6689IS7CD:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T08:40:07.6714848+07:00 0HLN6689IS7CD:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T08:40:07.7501174+07:00 0HLN6689IS7CD:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T08:40:07.7703882+07:00 0HLN6689IS7CD:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:40:07.8056316+07:00 0HLN6689IS7CD:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:40:07.9117079+07:00 0HLN6689IS7CD:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T08:40:07.9973086+07:00 0HLN6689IS7CD:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T08:40:08.0210477+07:00 0HLN6689IS7CD:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T08:40:08.0876486+07:00 0HLN6689IS7CD:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T08:40:08.1042985+07:00 0HLN6689IS7CD:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T08:40:08.1547493+07:00 0HLN6689IS7CD:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T08:40:08.1699907+07:00 0HLN6689IS7CD:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T08:40:08.1983604+07:00 0HLN6689IS7CD:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T08:40:08.2083997+07:00 0HLN6689IS7CD:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T08:40:08.2198631+07:00 0HLN6689IS7CD:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T08:40:08.2269474+07:00 0HLN6689IS7CD:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T08:40:08.2428243+07:00 0HLN6689IS7CD:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T08:40:08.2539698+07:00 0HLN6689IS7CD:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 474.6117ms. (50a9e262)
2019-06-01T08:40:08.2817277+07:00 0HLN6689IS7CD:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:40:08.4156718+07:00 0HLN6689IS7CD:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T08:40:08.4246912+07:00 0HLN6689IS7CD:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T08:40:08.5458140+07:00 0HLN6689IS7CD:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T08:40:08.5561713+07:00 0HLN6689IS7CD:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T08:40:08.5756175+07:00 0HLN6689IS7CD:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T08:40:08.5824979+07:00 0HLN6689IS7CD:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T08:40:08.7010644+07:00 0HLN6689IS7CF:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jQuery-EasyUI/themes/icon.css   (ca22a1cb)
2019-06-01T08:40:08.7064744+07:00 0HLN6689IS7CE:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jQuery-EasyUI/themes/bootstrap/easyui.css   (ca22a1cb)
2019-06-01T08:40:08.7633006+07:00 0HLN6689IS7CF:00000001 [INF] Sending file. Request path: '"/lib/jQuery-EasyUI/themes/icon.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jQuery-EasyUI\themes\icon.css"' (27b0a520)
2019-06-01T08:40:08.7733108+07:00 0HLN6689IS7CE:00000001 [INF] Sending file. Request path: '"/lib/jQuery-EasyUI/themes/bootstrap/easyui.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jQuery-EasyUI\themes\bootstrap\easyui.css"' (27b0a520)
2019-06-01T08:40:08.7769026+07:00 0HLN6689IS7CF:00000001 [INF] Request finished in 83.0296ms 200 text/css (791a596a)
2019-06-01T08:40:08.8085482+07:00 0HLN6689IS7CI:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg   (ca22a1cb)
2019-06-01T08:40:08.8407450+07:00 0HLN6689IS7CI:00000001 [INF] Sending file. Request path: '"/client-side/images/products/product-1.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\products\product-1.jpg"' (27b0a520)
2019-06-01T08:40:09.0571400+07:00 0HLN6689IS7CD:00000001 [INF] Executed ViewResult - view "Index" executed in 568.8155ms. (f66409e9)
2019-06-01T08:40:09.0928248+07:00 0HLN6689IS7CI:00000001 [INF] Request finished in 63.9347ms 200 image/jpeg (791a596a)
2019-06-01T08:40:09.1699439+07:00 0HLN6689IS7CE:00000001 [INF] Request finished in 287.9525ms 200 text/css (791a596a)
2019-06-01T08:40:09.1734074+07:00 0HLN6689IS7CD:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 1313.9931ms (afa2e885)
2019-06-01T08:40:09.1908440+07:00 0HLN6689IS7CG:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/style.css   (ca22a1cb)
2019-06-01T08:40:09.1969659+07:00 0HLN6689IS7CH:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/logo.png   (ca22a1cb)
2019-06-01T08:40:09.2053532+07:00 0HLN6689IS7CF:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/banner-left.jpg   (ca22a1cb)
2019-06-01T08:40:09.2089773+07:00 0HLN6689IS7CD:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T08:40:09.2626704+07:00 0HLN6689IS7CG:00000001 [INF] Sending file. Request path: '"/client-side/style.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\style.css"' (27b0a520)
2019-06-01T08:40:09.2716018+07:00 0HLN6689IS7CE:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T08:40:09.2849473+07:00 0HLN6689IS7CH:00000001 [INF] Sending file. Request path: '"/client-side/images/logo.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\logo.png"' (27b0a520)
2019-06-01T08:40:09.3014869+07:00 0HLN6689IS7CD:00000001 [INF] Request finished in 1855.0179ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:40:09.3065186+07:00 0HLN6689IS7CH:00000001 [INF] Request finished in 103.6319ms 200 image/png (791a596a)
2019-06-01T08:40:09.3076596+07:00 0HLN6689IS7CE:00000002 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T08:40:09.3194228+07:00 0HLN6689IS7CI:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/js/jquery.min.js   (ca22a1cb)
2019-06-01T08:40:09.3369752+07:00 0HLN6689IS7CG:00000001 [INF] Request finished in 428.7627ms 200 text/css (791a596a)
2019-06-01T08:40:09.3456406+07:00 0HLN6689IS7CD:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/js/owl.carousel.min.js   (ca22a1cb)
2019-06-01T08:40:09.3523758+07:00 0HLN6689IS7CH:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/bootstrap.min.css   (ca22a1cb)
2019-06-01T08:40:09.3540440+07:00 0HLN6689IS7CF:00000002 [INF] Sending file. Request path: '"/client-side/images/banner-left.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\banner-left.jpg"' (27b0a520)
2019-06-01T08:40:09.3642847+07:00 0HLN6689IS7CF:00000002 [INF] Request finished in 166.0761ms 200 image/jpeg (791a596a)
2019-06-01T08:40:09.3679089+07:00 0HLN6689IS7CG:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/js/bootstrap.min.js   (ca22a1cb)
2019-06-01T08:40:09.3917723+07:00 0HLN6689IS7CF:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/animate.css   (ca22a1cb)
2019-06-01T08:40:09.3945752+07:00 0HLN6689IS7CG:00000002 [INF] Sending file. Request path: '"/client-side/js/bootstrap.min.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\js\bootstrap.min.js"' (27b0a520)
2019-06-01T08:40:09.4039475+07:00 0HLN6689IS7CH:00000002 [INF] Sending file. Request path: '"/client-side/css/bootstrap.min.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\bootstrap.min.css"' (27b0a520)
2019-06-01T08:40:09.4073378+07:00 0HLN6689IS7CG:00000002 [INF] Request finished in 37.6032ms 200 application/javascript (791a596a)
2019-06-01T08:40:09.4223327+07:00 0HLN6689IS7CH:00000002 [INF] Request finished in 68.4996ms 200 text/css (791a596a)
2019-06-01T08:40:09.4334629+07:00 0HLN6689IS7CF:00000003 [INF] Sending file. Request path: '"/client-side/css/animate.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\animate.css"' (27b0a520)
2019-06-01T08:40:09.4453808+07:00 0HLN6689IS7CD:00000002 [INF] Sending file. Request path: '"/client-side/js/owl.carousel.min.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\js\owl.carousel.min.js"' (27b0a520)
2019-06-01T08:40:09.4483606+07:00 0HLN6689IS7CF:00000003 [INF] Request finished in 63.7369ms 200 text/css (791a596a)
2019-06-01T08:40:09.4568852+07:00 0HLN6689IS7CD:00000002 [INF] Request finished in 110.6632ms 200 application/javascript (791a596a)
2019-06-01T08:40:09.4627954+07:00 0HLN6689IS7CG:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/font-awesome.min.css   (ca22a1cb)
2019-06-01T08:40:09.4763970+07:00 0HLN6689IS7CD:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/pe-icon-7-stroke.min.css   (ca22a1cb)
2019-06-01T08:40:09.4846334+07:00 0HLN6689IS7CF:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/owl.carousel.css   (ca22a1cb)
2019-06-01T08:40:09.4877960+07:00 0HLN6689IS7CG:00000003 [INF] Sending file. Request path: '"/client-side/css/font-awesome.min.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\font-awesome.min.css"' (27b0a520)
2019-06-01T08:40:09.5003810+07:00 0HLN6689IS7CG:00000003 [INF] Request finished in 34.0459ms 200 text/css (791a596a)
2019-06-01T08:40:09.5036779+07:00 0HLN6689IS7CF:00000004 [INF] Sending file. Request path: '"/client-side/css/owl.carousel.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\owl.carousel.css"' (27b0a520)
2019-06-01T08:40:09.5147511+07:00 0HLN6689IS7CF:00000004 [INF] Request finished in 38.1632ms 200 text/css (791a596a)
2019-06-01T08:40:09.5175125+07:00 0HLN6689IS7CD:00000003 [INF] Sending file. Request path: '"/client-side/css/pe-icon-7-stroke.min.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\pe-icon-7-stroke.min.css"' (27b0a520)
2019-06-01T08:40:09.5283723+07:00 0HLN6689IS7CH:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/simple-line-icons.css   (ca22a1cb)
2019-06-01T08:40:09.5307494+07:00 0HLN6689IS7CD:00000003 [INF] Request finished in 56.8093ms 200 text/css (791a596a)
2019-06-01T08:40:09.5390148+07:00 0HLN6689IS7CF:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/flexslider.css   (ca22a1cb)
2019-06-01T08:40:09.5488114+07:00 0HLN6689IS7CH:00000003 [INF] Sending file. Request path: '"/client-side/css/simple-line-icons.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\simple-line-icons.css"' (27b0a520)
2019-06-01T08:40:09.5577048+07:00 0HLN6689IS7CF:00000005 [INF] Sending file. Request path: '"/client-side/css/flexslider.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\flexslider.css"' (27b0a520)
2019-06-01T08:40:09.5609102+07:00 0HLN6689IS7CH:00000003 [INF] Request finished in 66.5148ms 200 text/css (791a596a)
2019-06-01T08:40:09.5677446+07:00 0HLN6689IS7CI:00000002 [INF] Sending file. Request path: '"/client-side/js/jquery.min.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\js\jquery.min.js"' (27b0a520)
2019-06-01T08:40:09.5677795+07:00 0HLN6689IS7CF:00000005 [INF] Request finished in 29.3255ms 200 text/css (791a596a)
2019-06-01T08:40:09.5774849+07:00 0HLN6689IS7CI:00000002 [INF] Request finished in 277.0508ms 200 application/javascript (791a596a)
2019-06-01T08:40:09.5828819+07:00 0HLN6689IS7CG:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/owl.transitions.css   (ca22a1cb)
2019-06-01T08:40:09.5938628+07:00 0HLN6689IS7CD:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/jquery-ui.css   (ca22a1cb)
2019-06-01T08:40:09.5957504+07:00 0HLN6689IS7CH:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/revolution-slider.css   (ca22a1cb)
2019-06-01T08:40:09.5963933+07:00 0HLN6689IS7CI:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/quick_view_popup.css   (ca22a1cb)
2019-06-01T08:40:09.6072888+07:00 0HLN6689IS7CF:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/blog.css   (ca22a1cb)
2019-06-01T08:40:09.6161528+07:00 0HLN6689IS7CF:00000006 [INF] Sending file. Request path: '"/client-side/css/blog.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\blog.css"' (27b0a520)
2019-06-01T08:40:09.6173007+07:00 0HLN6689IS7CD:00000004 [INF] Sending file. Request path: '"/client-side/css/jquery-ui.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\jquery-ui.css"' (27b0a520)
2019-06-01T08:40:09.6533794+07:00 0HLN6689IS7CD:00000004 [INF] Request finished in 39.8613ms 200 text/css (791a596a)
2019-06-01T08:40:09.6533782+07:00 0HLN6689IS7CF:00000006 [INF] Request finished in 19.737ms 200 text/css (791a596a)
2019-06-01T08:40:09.6969093+07:00 0HLN6689IS7CG:00000004 [INF] Sending file. Request path: '"/client-side/css/owl.transitions.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\owl.transitions.css"' (27b0a520)
2019-06-01T08:40:09.7548177+07:00 0HLN6689IS7CH:00000004 [INF] Sending file. Request path: '"/client-side/css/revolution-slider.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\revolution-slider.css"' (27b0a520)
2019-06-01T08:40:09.7580370+07:00 0HLN6689IS7CI:00000003 [INF] Sending file. Request path: '"/client-side/css/quick_view_popup.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\quick_view_popup.css"' (27b0a520)
2019-06-01T08:40:09.7627993+07:00 0HLN6689IS7CG:00000004 [INF] Request finished in 124.6505ms 200 text/css (791a596a)
2019-06-01T08:40:09.7880251+07:00 0HLN6689IS7CH:00000004 [INF] Request finished in 169.9621ms 200 text/css (791a596a)
2019-06-01T08:40:09.7908370+07:00 0HLN6689IS7CI:00000003 [INF] Request finished in 167.9461ms 200 text/css (791a596a)
2019-06-01T08:40:09.7945162+07:00 0HLN6689IS7CE:00000002 [INF] Request finished in 553.6463ms 200 image/jpeg (791a596a)
2019-06-01T08:40:09.8119611+07:00 0HLN6689IS7CG:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/shortcodes/tooltip.css   (ca22a1cb)
2019-06-01T08:40:09.8256891+07:00 0HLN6689IS7CH:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/shortcodes/pricing-table.css   (ca22a1cb)
2019-06-01T08:40:09.8288899+07:00 0HLN6689IS7CF:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/shortcode.css   (ca22a1cb)
2019-06-01T08:40:09.8332575+07:00 0HLN6689IS7CD:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/shortcodes/shortcodes.css   (ca22a1cb)
2019-06-01T08:40:09.8353846+07:00 0HLN6689IS7CG:00000005 [INF] Sending file. Request path: '"/client-side/css/shortcodes/tooltip.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\shortcodes\tooltip.css"' (27b0a520)
2019-06-01T08:40:09.8849001+07:00 0HLN6689IS7CG:00000005 [INF] Request finished in 36.452ms 200 text/css (791a596a)
2019-06-01T08:40:09.9111105+07:00 0HLN6689IS7CF:00000007 [INF] Sending file. Request path: '"/client-side/css/shortcode.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\shortcode.css"' (27b0a520)
2019-06-01T08:40:09.9139007+07:00 0HLN6689IS7CH:00000005 [INF] Sending file. Request path: '"/client-side/css/shortcodes/pricing-table.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\shortcodes\pricing-table.css"' (27b0a520)
2019-06-01T08:40:09.9184443+07:00 0HLN6689IS7CI:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/shortcodes/featured-box.css   (ca22a1cb)
2019-06-01T08:40:09.9272299+07:00 0HLN6689IS7CG:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/style.css   (ca22a1cb)
2019-06-01T08:40:09.9434843+07:00 0HLN6689IS7CF:00000007 [INF] Request finished in 110.0216ms 200 text/css (791a596a)
2019-06-01T08:40:09.9736877+07:00 0HLN6689IS7CE:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/shortcodes/post.css   (ca22a1cb)
2019-06-01T08:40:09.9818211+07:00 0HLN6689IS7CD:00000005 [INF] Sending file. Request path: '"/client-side/css/shortcodes/shortcodes.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\shortcodes\shortcodes.css"' (27b0a520)
2019-06-01T08:40:09.9843171+07:00 0HLN6689IS7CF:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/css/responsive.css   (ca22a1cb)
2019-06-01T08:40:09.9954699+07:00 0HLN6689IS7CD:00000005 [INF] Request finished in 179.2429ms 200 text/css (791a596a)
2019-06-01T08:40:09.9997911+07:00 0HLN6689IS7CG:00000006 [INF] Sending file. Request path: '"/client-side/css/style.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\style.css"' (27b0a520)
2019-06-01T08:40:10.0154686+07:00 0HLN6689IS7CF:00000008 [INF] Sending file. Request path: '"/client-side/css/responsive.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\responsive.css"' (27b0a520)
2019-06-01T08:40:10.0229684+07:00 0HLN6689IS7CD:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/js/mobile-menu.js   (ca22a1cb)
2019-06-01T08:40:10.0299162+07:00 0HLN6689IS7CF:00000008 [INF] Request finished in 57.4723ms 200 text/css (791a596a)
2019-06-01T08:40:10.0655482+07:00 0HLN6689IS7CD:00000006 [INF] Sending file. Request path: '"/client-side/js/mobile-menu.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\js\mobile-menu.js"' (27b0a520)
2019-06-01T08:40:10.0655424+07:00 0HLN6689IS7CH:00000005 [INF] Request finished in 113.7139ms 200 text/css (791a596a)
2019-06-01T08:40:10.0691076+07:00 0HLN6689IS7CF:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-app/shared/localize/resources.vi-VN.js   (ca22a1cb)
2019-06-01T08:40:10.0985878+07:00 0HLN6689IS7CD:00000006 [INF] Request finished in 53.9843ms 200 application/javascript (791a596a)
2019-06-01T08:40:10.1944379+07:00 0HLN6689IS7CF:00000009 [INF] Sending file. Request path: '"/client-app/shared/localize/resources.vi-VN.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-app\shared\localize\resources.vi-VN.js"' (27b0a520)
2019-06-01T08:40:10.2725162+07:00 0HLN6689IS7CH:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/js/jquery-ui.js   (ca22a1cb)
2019-06-01T08:40:10.2783164+07:00 0HLN6689IS7CD:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-app/shared/common.js   (ca22a1cb)
2019-06-01T08:40:10.2858356+07:00 0HLN6689IS7CF:00000009 [INF] Request finished in 139.487ms 200 application/javascript (791a596a)
2019-06-01T08:40:10.2943004+07:00 0HLN6689IS7CG:00000006 [INF] Request finished in 93.0805ms 200 text/css (791a596a)
2019-06-01T08:40:10.3217916+07:00 0HLN6689IS7CD:00000007 [INF] Sending file. Request path: '"/client-app/shared/common.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-app\shared\common.js"' (27b0a520)
2019-06-01T08:40:10.3249256+07:00 0HLN6689IS7CF:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-app/controllers/base/index.js   (ca22a1cb)
2019-06-01T08:40:10.3883352+07:00 0HLN6689IS7CD:00000007 [INF] Request finished in 185.1809ms 200 application/javascript (791a596a)
2019-06-01T08:40:10.5388586+07:00 0HLN6689IS7CF:0000000A [INF] Sending file. Request path: '"/client-app/controllers/base/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-app\controllers\base\index.js"' (27b0a520)
2019-06-01T08:40:10.7441351+07:00 0HLN6689IS7CD:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/signalR/signalR.js   (ca22a1cb)
2019-06-01T08:40:10.7767861+07:00 0HLN6689IS7CF:0000000A [INF] Request finished in 239.1936ms 200 application/javascript (791a596a)
2019-06-01T08:40:10.8699729+07:00 0HLN6689IS7CD:00000008 [INF] Sending file. Request path: '"/app/shared/signalR/signalR.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\shared\signalR\signalR.js"' (27b0a520)
2019-06-01T08:40:10.8742412+07:00 0HLN6689IS7CF:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-app/controllers/product/catalog.js?v=f9C_0JaK81vkAC8oeeiwmvwj5TRDE6Asnpcqd5YxHtM   (ca22a1cb)
2019-06-01T08:40:10.9008611+07:00 0HLN6689IS7CG:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/js/countdown.js   (ca22a1cb)
2019-06-01T08:40:10.9202810+07:00 0HLN6689IS7CD:00000008 [INF] Request finished in 353.319ms 200 application/javascript (791a596a)
2019-06-01T08:40:10.9225809+07:00 0HLN6689IS7CF:0000000B [INF] Sending file. Request path: '"/client-app/controllers/product/catalog.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-app\controllers\product\catalog.js"' (27b0a520)
2019-06-01T08:40:10.9611077+07:00 0HLN6689IS7CF:0000000B [INF] Request finished in 69.524ms 200 application/javascript (791a596a)
2019-06-01T08:40:10.9784352+07:00 0HLN6689IS7CD:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/fonts/font-awesome/fontawesome-webfont.woff2?v=4.7.0   (ca22a1cb)
2019-06-01T08:40:10.9896307+07:00 0HLN6689IS7CG:00000007 [INF] Sending file. Request path: '"/client-side/js/countdown.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\js\countdown.js"' (27b0a520)
2019-06-01T08:40:10.9925685+07:00 0HLN6689IS7CF:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/fonts/simple-line-icons/Simple-Line-Icons.woff2?v=2.4.0   (ca22a1cb)
2019-06-01T08:40:11.0053300+07:00 0HLN6689IS7CE:00000003 [INF] Sending file. Request path: '"/client-side/css/shortcodes/post.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\shortcodes\post.css"' (27b0a520)
2019-06-01T08:40:11.0120979+07:00 0HLN6689IS7CG:00000007 [INF] Request finished in 639.5826ms 200 application/javascript (791a596a)
2019-06-01T08:40:11.0302641+07:00 0HLN6689IS7CE:00000003 [INF] Request finished in 1163.3192ms 200 text/css (791a596a)
2019-06-01T08:40:11.0558194+07:00 0HLN6689IS7CG:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/sub1.jpg   (ca22a1cb)
2019-06-01T08:40:11.0612925+07:00 0HLN6689IS7CF:0000000C [INF] Sending file. Request path: '"/client-side/fonts/simple-line-icons/Simple-Line-Icons.woff2"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\fonts\simple-line-icons\Simple-Line-Icons.woff2"' (27b0a520)
2019-06-01T08:40:11.0797241+07:00 0HLN6689IS7CD:00000009 [INF] Sending file. Request path: '"/client-side/fonts/font-awesome/fontawesome-webfont.woff2"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\fonts\font-awesome\fontawesome-webfont.woff2"' (27b0a520)
2019-06-01T08:40:11.0870969+07:00 0HLN6689IS7CF:0000000C [INF] Request finished in 86.7933ms 200 font/woff2 (791a596a)
2019-06-01T08:40:11.0972306+07:00 0HLN6689IS7CD:00000009 [INF] Request finished in 128.1455ms 200 font/woff2 (791a596a)
2019-06-01T08:40:11.1932026+07:00 0HLN6689IS7CF:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/bg_text_des.png   (ca22a1cb)
2019-06-01T08:40:11.3670080+07:00 0HLN6689IS7CD:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T08:40:11.3930929+07:00 0HLN6689IS7CF:0000000D [INF] Sending file. Request path: '"/client-side/images/bg_text_des.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\bg_text_des.png"' (27b0a520)
2019-06-01T08:40:11.3960750+07:00 0HLN6689IS7CD:0000000A [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T08:40:11.4297398+07:00 0HLN6689IS7CG:00000008 [INF] Sending file. Request path: '"/client-side/images/sub1.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\sub1.jpg"' (27b0a520)
2019-06-01T08:40:11.4400123+07:00 0HLN6689IS7CF:0000000D [INF] Request finished in 300.0391ms 200 image/png (791a596a)
2019-06-01T08:40:11.4547593+07:00 0HLN6689IS7CG:00000008 [INF] Request finished in 402.6917ms 200 image/jpeg (791a596a)
2019-06-01T08:40:11.4784139+07:00 0HLN6689IS7CF:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T08:40:11.5595096+07:00 0HLN6689IS7CD:0000000A [INF] Request finished in 337.1279ms 200 image/jpeg (791a596a)
2019-06-01T08:40:11.5773525+07:00 0HLN6689IS7CF:0000000E [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T08:40:11.9214179+07:00 0HLN6689IS7CG:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T08:40:11.9296442+07:00 0HLN6689IS7CE:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/js/revolution-slider.js   (ca22a1cb)
2019-06-01T08:40:11.9381386+07:00 0HLN6689IS7CD:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T08:40:11.9607646+07:00 0HLN6689IS7CG:00000009 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T08:40:11.9809095+07:00 0HLN6689IS7CD:0000000B [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T08:40:11.9894514+07:00 0HLN6689IS7CI:00000004 [INF] Sending file. Request path: '"/client-side/css/shortcodes/featured-box.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\css\shortcodes\featured-box.css"' (27b0a520)
2019-06-01T08:40:12.0307113+07:00 0HLN6689IS7CG:00000009 [INF] Request finished in 535.5047ms 200 image/jpeg (791a596a)
2019-06-01T08:40:12.0335547+07:00 0HLN6689IS7CE:00000004 [INF] Sending file. Request path: '"/client-side/js/revolution-slider.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\js\revolution-slider.js"' (27b0a520)
2019-06-01T08:40:12.0511999+07:00 0HLN6689IS7CG:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T08:40:12.0567100+07:00 0HLN6689IS7CD:0000000B [INF] Request finished in 340.3767ms 200 image/jpeg (791a596a)
2019-06-01T08:40:12.0644343+07:00 0HLN6689IS7CE:00000004 [INF] Request finished in 282.035ms 200 application/javascript (791a596a)
2019-06-01T08:40:12.0962570+07:00 0HLN6689IS7CG:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T08:40:12.1041069+07:00 0HLN6689IS7CD:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T08:40:12.1195477+07:00 0HLN6689IS7CG:0000000A [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T08:40:12.1247739+07:00 0HLN6689IS7CD:0000000C [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T08:40:12.1803903+07:00 0HLN6689IS7CG:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:40:12.1849401+07:00 0HLN6689IS7CD:0000000C [INF] Request finished in 48.3494ms 200 image/jpeg (791a596a)
2019-06-01T08:40:12.1928137+07:00 0HLN6689IS7CG:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3019ms. (50a9e262)
2019-06-01T08:40:12.2070968+07:00 0HLN6689IS7CE:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T08:40:12.2094352+07:00 0HLN6689IS7CD:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/sub1a.jpg   (ca22a1cb)
2019-06-01T08:40:12.2166258+07:00 0HLN6689IS7CI:00000004 [INF] Request finished in 2149.2872ms 200 text/css (791a596a)
2019-06-01T08:40:12.2201925+07:00 0HLN6689IS7CE:00000005 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T08:40:12.2582368+07:00 0HLN6689IS7CE:00000005 [INF] Request finished in 134.9988ms 200 image/jpeg (791a596a)
2019-06-01T08:40:12.2611106+07:00 0HLN6689IS7CI:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/js/main.js   (ca22a1cb)
2019-06-01T08:40:12.2919606+07:00 0HLN6689IS7CD:0000000D [INF] Sending file. Request path: '"/client-side/images/sub1a.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\sub1a.jpg"' (27b0a520)
2019-06-01T08:40:12.3123795+07:00 0HLN6689IS7CG:0000000A [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:40:12.3183804+07:00 0HLN6689IS7CD:0000000D [INF] Request finished in 101.949ms 200 image/jpeg (791a596a)
2019-06-01T08:40:12.3443614+07:00 0HLN6689IS7CE:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T08:40:12.3688463+07:00 0HLN6689IS7CD:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand1.png   (ca22a1cb)
2019-06-01T08:40:12.3766745+07:00 0HLN6689IS7CF:0000000E [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T08:40:12.3806478+07:00 0HLN6689IS7CE:00000006 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T08:40:12.4505132+07:00 0HLN6689IS7CD:0000000E [INF] Sending file. Request path: '"/client-side/images/brand1.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand1.png"' (27b0a520)
2019-06-01T08:40:12.4593013+07:00 0HLN6689IS7CE:00000006 [INF] Request finished in 135.6938ms 200 image/jpeg (791a596a)
2019-06-01T08:40:12.5286042+07:00 0HLN6689IS7CD:0000000E [INF] Request finished in 108.7789ms 200 image/png (791a596a)
2019-06-01T08:40:12.5679584+07:00 0HLN6689IS7CG:0000000A [INF] Executed ViewResult - view "Index" executed in 257.2502ms. (f66409e9)
2019-06-01T08:40:12.5965283+07:00 0HLN6689IS7CD:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand3.png   (ca22a1cb)
2019-06-01T08:40:12.6033401+07:00 0HLN6689IS7CF:0000000E [INF] Request finished in 1112.1098ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T08:40:12.6113807+07:00 0HLN6689IS7CG:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 448.5153ms (afa2e885)
2019-06-01T08:40:12.6844198+07:00 0HLN6689IS7CG:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T08:40:12.6874561+07:00 0HLN6689IS7CD:0000000F [INF] Sending file. Request path: '"/client-side/images/brand3.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand3.png"' (27b0a520)
2019-06-01T08:40:12.6989786+07:00 0HLN6689IS7CG:0000000A [INF] Request finished in 647.2425ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:40:12.7013868+07:00 0HLN6689IS7CD:0000000F [INF] Request finished in 124.7761ms 200 image/png (791a596a)
2019-06-01T08:40:12.8327947+07:00 0HLN6689IS7CH:00000006 [INF] Sending file. Request path: '"/client-side/js/jquery-ui.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\js\jquery-ui.js"' (27b0a520)
2019-06-01T08:40:12.8365112+07:00 0HLN6689IS7CG:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand7.png   (ca22a1cb)
2019-06-01T08:40:12.8405941+07:00 0HLN6689IS7CD:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand6.png   (ca22a1cb)
2019-06-01T08:40:12.8509502+07:00 0HLN6689IS7CJ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand5.png   (ca22a1cb)
2019-06-01T08:40:12.8719647+07:00 0HLN6689IS7CH:00000006 [INF] Request finished in 2736.6106ms 200 application/javascript (791a596a)
2019-06-01T08:40:12.8820270+07:00 0HLN6689IS7CG:0000000B [INF] Connection id ""0HLN6689IS7CG"", Request id ""0HLN6689IS7CG:0000000B"": the application aborted the connection. (9f49aef1)
2019-06-01T08:40:12.8869030+07:00 0HLN6689IS7CD:00000010 [INF] Connection id ""0HLN6689IS7CD"", Request id ""0HLN6689IS7CD:00000010"": the application aborted the connection. (9f49aef1)
2019-06-01T08:40:12.9883757+07:00 0HLN6689IS7CG:0000000B [INF] Sending file. Request path: '"/client-side/images/brand7.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand7.png"' (27b0a520)
2019-06-01T08:40:12.9964122+07:00 0HLN6689IS7CD:00000010 [INF] Sending file. Request path: '"/client-side/images/brand6.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand6.png"' (27b0a520)
2019-06-01T08:40:13.1560096+07:00 0HLN6689IS7CG:0000000B [INF] Request finished in 270.6758ms 0 image/png (791a596a)
2019-06-01T08:40:13.1691890+07:00 0HLN6689IS7CD:00000010 [INF] Request finished in 185.3795ms 0 image/png (791a596a)
2019-06-01T08:40:13.3173354+07:00 0HLN6689IS7CJ:00000001 [INF] Connection id ""0HLN6689IS7CJ"", Request id ""0HLN6689IS7CJ:00000001"": the application aborted the connection. (9f49aef1)
2019-06-01T08:40:13.3276078+07:00 0HLN6689IS7CE:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand4.png   (ca22a1cb)
2019-06-01T08:40:13.3397969+07:00 0HLN6689IS7CI:00000005 [INF] Sending file. Request path: '"/client-side/js/main.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\js\main.js"' (27b0a520)
2019-06-01T08:40:13.3428058+07:00 0HLN6689IS7CJ:00000001 [INF] Sending file. Request path: '"/client-side/images/brand5.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand5.png"' (27b0a520)
2019-06-01T08:40:13.3567619+07:00 0HLN6689IS7CE:00000007 [INF] Connection id ""0HLN6689IS7CE"", Request id ""0HLN6689IS7CE:00000007"": the application aborted the connection. (9f49aef1)
2019-06-01T08:40:13.3661682+07:00 0HLN6689IS7CJ:00000001 [INF] Request finished in 784.7534ms 0 image/png (791a596a)
2019-06-01T08:40:13.3707959+07:00 0HLN6689IS7CK:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/animate.css/animate.css   (ca22a1cb)
2019-06-01T08:40:13.3833862+07:00 0HLN6689IS7CE:00000007 [INF] Sending file. Request path: '"/client-side/images/brand4.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand4.png"' (27b0a520)
2019-06-01T08:40:13.3861050+07:00 0HLN6689IS7CI:00000005 [INF] Request finished in 1109.5277ms 200 application/javascript (791a596a)
2019-06-01T08:40:13.3985518+07:00 0HLN6689IS7CL:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/bundled/site-admin.min.js   (ca22a1cb)
2019-06-01T08:40:13.4040439+07:00 0HLN6689IS7CE:00000007 [INF] Request finished in 527.5745ms 0 image/png (791a596a)
2019-06-01T08:40:13.4218580+07:00 0HLN6689IS7CK:00000001 [INF] Sending file. Request path: '"/lib/animate.css/animate.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\animate.css\animate.css"' (27b0a520)
2019-06-01T08:40:13.4919100+07:00 0HLN6689IS7CK:00000001 [INF] Request finished in 71.5154ms 200 text/css (791a596a)
2019-06-01T08:40:13.5129964+07:00 0HLN6689IS7CL:00000001 [INF] Sending file. Request path: '"/bundled/site-admin.min.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\bundled\site-admin.min.js"' (27b0a520)
2019-06-01T08:40:13.5437352+07:00 0HLN6689IS7CI:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand2.png   (ca22a1cb)
2019-06-01T08:40:13.5506325+07:00 0HLN6689IS7CL:00000001 [INF] Request finished in 129.6388ms 200 application/javascript (791a596a)
2019-06-01T08:40:13.5625464+07:00 0HLN6689IS7CI:00000006 [INF] Connection id ""0HLN6689IS7CI"", Request id ""0HLN6689IS7CI:00000006"": the application aborted the connection. (9f49aef1)
2019-06-01T08:40:13.5778345+07:00 0HLN6689IS7CI:00000006 [INF] Sending file. Request path: '"/client-side/images/brand2.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand2.png"' (27b0a520)
2019-06-01T08:40:13.5909274+07:00 0HLN6689IS7CI:00000006 [INF] Request finished in 132.1278ms 0 image/png (791a596a)
2019-06-01T08:40:37.4354867+07:00 0HLN6689IS7CL:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T08:40:37.4418092+07:00 0HLN6689IS7CL:00000002 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:40:37.4459897+07:00 0HLN6689IS7CL:00000002 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:40:37.4546666+07:00 0HLN6689IS7CL:00000002 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T08:40:37.4746834+07:00 0HLN6689IS7CL:00000002 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T08:40:37.5263638+07:00 0HLN6689IS7CL:00000002 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T08:40:39.6076687+07:00 0HLN6689IS7CL:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:40:39.6984941+07:00 0HLN6689IS7CL:00000002 [INF] Executed DbCommand ("44"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T08:40:39.8826376+07:00 0HLN6689IS7CL:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T08:40:39.9201107+07:00 0HLN6689IS7CL:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T08:40:39.9396508+07:00 0HLN6689IS7CL:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T08:40:39.9667913+07:00 0HLN6689IS7CL:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T08:40:39.9743343+07:00 0HLN6689IS7CL:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T08:40:39.9786055+07:00 0HLN6689IS7CL:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T08:40:39.9856339+07:00 0HLN6689IS7CL:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T08:40:39.9910215+07:00 0HLN6689IS7CL:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T08:40:39.9969784+07:00 0HLN6689IS7CL:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T08:40:40.0118206+07:00 0HLN6689IS7CL:00000002 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T08:40:40.0191531+07:00 0HLN6689IS7CL:00000002 [INF] User logged in. (fdce0db4)
2019-06-01T08:40:40.0259945+07:00 0HLN6689IS7CL:00000002 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2495.5093ms. (50a9e262)
2019-06-01T08:40:40.0370624+07:00 0HLN6689IS7CL:00000002 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T08:40:40.0847707+07:00 0HLN6689IS7CL:00000002 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 2605.6942ms (afa2e885)
2019-06-01T08:40:40.0880392+07:00 0HLN6689IS7CL:00000002 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T08:40:40.0928622+07:00 0HLN6689IS7CL:00000002 [INF] Request finished in 2658.6607ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:40:40.1057135+07:00 0HLN6689IS7CL:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T08:40:40.1141298+07:00 0HLN6689IS7CL:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T08:40:40.1189807+07:00 0HLN6689IS7CL:00000003 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T08:40:40.1322365+07:00 0HLN6689IS7CL:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:40:40.1365360+07:00 0HLN6689IS7CL:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:40:40.1397418+07:00 0HLN6689IS7CL:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3294ms. (50a9e262)
2019-06-01T08:40:40.1462156+07:00 0HLN6689IS7CL:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:40:40.1595428+07:00 0HLN6689IS7CL:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:40:40.2007313+07:00 0HLN6689IS7CL:00000003 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:40:40.2141790+07:00 0HLN6689IS7CL:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:40:40.2410155+07:00 0HLN6689IS7CL:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:40:40.2458019+07:00 0HLN6689IS7CL:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:40:40.2628809+07:00 0HLN6689IS7CL:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:40:40.2660038+07:00 0HLN6689IS7CL:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:40:40.2821966+07:00 0HLN6689IS7CL:00000003 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:40:40.2853367+07:00 0HLN6689IS7CL:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:40:40.3247800+07:00 0HLN6689IS7CL:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:40:40.4352849+07:00 0HLN6689IS7CL:00000003 [INF] Executed ViewResult - view "Index" executed in 249.4385ms. (f66409e9)
2019-06-01T08:40:40.4703527+07:00 0HLN6689IS7CL:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 316.6102ms (afa2e885)
2019-06-01T08:40:40.5058534+07:00 0HLN6689IS7CL:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T08:40:40.5177755+07:00 0HLN6689IS7CL:00000003 [INF] Request finished in 406.9174ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:40:40.6590291+07:00 0HLN6689IS7CK:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot/jquery.flot.js   (ca22a1cb)
2019-06-01T08:40:40.6673142+07:00 0HLN6689IS7CL:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=-NTPIAAUoLME9zXM3rOh6LLVj8Oq8-uW2W7i4qSZEpM   (ca22a1cb)
2019-06-01T08:40:40.6912424+07:00 0HLN6689IS7CN:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot/jquery.flot.time.js   (ca22a1cb)
2019-06-01T08:40:40.7040387+07:00 0HLN6689IS7CO:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot/jquery.flot.stack.js   (ca22a1cb)
2019-06-01T08:40:40.7093277+07:00 0HLN6689IS7CL:00000004 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T08:40:40.7215287+07:00 0HLN6689IS7CM:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot/jquery.flot.pie.js   (ca22a1cb)
2019-06-01T08:40:40.7278508+07:00 0HLN6689IS7CN:00000001 [INF] Sending file. Request path: '"/lib/flot/jquery.flot.time.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot\jquery.flot.time.js"' (27b0a520)
2019-06-01T08:40:40.7406927+07:00 0HLN6689IS7CL:00000004 [INF] Request finished in 80.4897ms 304 application/javascript (791a596a)
2019-06-01T08:40:40.7426549+07:00 0HLN6689IS7CO:00000001 [INF] Sending file. Request path: '"/lib/flot/jquery.flot.stack.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot\jquery.flot.stack.js"' (27b0a520)
2019-06-01T08:40:40.7538028+07:00 0HLN6689IS7CL:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/DateJS/build/date.js?v=9-ciUBQZlmXXgLiiI8v2hLUf1BMGgBez1dTPyiOwPjg   (ca22a1cb)
2019-06-01T08:40:40.7596768+07:00 0HLN6689IS7CN:00000001 [INF] Request finished in 72.6272ms 200 application/javascript (791a596a)
2019-06-01T08:40:40.7632112+07:00 0HLN6689IS7CO:00000001 [INF] Request finished in 68.5316ms 200 application/javascript (791a596a)
2019-06-01T08:40:40.7744941+07:00 0HLN6689IS7CP:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot/jquery.flot.resize.js   (ca22a1cb)
2019-06-01T08:40:40.7873929+07:00 0HLN6689IS7CN:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot-spline/js/jquery.flot.spline.js?v=m8xKSe9ZpgdwRX9992NbHbp9ADPyVB3DUWM1IkKdJjE   (ca22a1cb)
2019-06-01T08:40:40.7932009+07:00 0HLN6689IS7CO:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot.curvedlines/curvedLines.js?v=9AKXK0iOIqYrz8VFbQaczNFQXQFFo-d-jarmfaYOleI   (ca22a1cb)
2019-06-01T08:40:40.8090807+07:00 0HLN6689IS7CL:00000005 [INF] Sending file. Request path: '"/lib/DateJS/build/date.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\DateJS\build\date.js"' (27b0a520)
2019-06-01T08:40:40.8226856+07:00 0HLN6689IS7CK:00000002 [INF] Sending file. Request path: '"/lib/flot/jquery.flot.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot\jquery.flot.js"' (27b0a520)
2019-06-01T08:40:40.8335463+07:00 0HLN6689IS7CL:00000005 [INF] Request finished in 63.7488ms 200 application/javascript (791a596a)
2019-06-01T08:40:40.8359693+07:00 0HLN6689IS7CK:00000002 [INF] Request finished in 180.657ms 200 application/javascript (791a596a)
2019-06-01T08:40:40.8556780+07:00 0HLN6689IS7CM:00000001 [INF] Sending file. Request path: '"/lib/flot/jquery.flot.pie.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot\jquery.flot.pie.js"' (27b0a520)
2019-06-01T08:40:40.8574495+07:00 0HLN6689IS7CK:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot.orderbars/examples/js/flot/flot.js?v=ZWkLRHhD6K51A_MsBsEn6_Fff_35iRylixXwYcivq1E   (ca22a1cb)
2019-06-01T08:40:40.8683717+07:00 0HLN6689IS7CM:00000001 [INF] Request finished in 183.8267ms 200 application/javascript (791a596a)
2019-06-01T08:40:40.8716369+07:00 0HLN6689IS7CN:00000002 [INF] Sending file. Request path: '"/lib/flot-spline/js/jquery.flot.spline.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot-spline\js\jquery.flot.spline.js"' (27b0a520)
2019-06-01T08:40:40.8782929+07:00 0HLN6689IS7CK:00000003 [INF] Sending file. Request path: '"/lib/flot.orderbars/examples/js/flot/flot.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot.orderbars\examples\js\flot\flot.js"' (27b0a520)
2019-06-01T08:40:40.9148164+07:00 0HLN6689IS7CM:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/home/index.js?v=KwTBcLrSL0xc_e8eO4oOAEhFu3mxsMlNH1RCgJqSWfU   (ca22a1cb)
2019-06-01T08:40:40.9182580+07:00 0HLN6689IS7CK:00000003 [INF] Request finished in 34.1776ms 200 application/javascript (791a596a)
2019-06-01T08:40:40.9330649+07:00 0HLN6689IS7CN:00000002 [INF] Request finished in 106.7018ms 200 application/javascript (791a596a)
2019-06-01T08:40:40.9360648+07:00 0HLN6689IS7CM:00000002 [INF] Sending file. Request path: '"/app/controllers/home/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\home\index.js"' (27b0a520)
2019-06-01T08:40:40.9443958+07:00 0HLN6689IS7CM:00000002 [INF] Request finished in 60.3367ms 200 application/javascript (791a596a)
2019-06-01T08:40:40.9463713+07:00 0HLN6689IS7CP:00000001 [INF] Sending file. Request path: '"/lib/flot/jquery.flot.resize.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot\jquery.flot.resize.js"' (27b0a520)
2019-06-01T08:40:40.9545841+07:00 0HLN6689IS7CP:00000001 [INF] Request finished in 249.7958ms 200 application/javascript (791a596a)
2019-06-01T08:40:40.9654912+07:00 0HLN6689IS7CO:00000002 [INF] Sending file. Request path: '"/lib/flot.curvedlines/curvedLines.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot.curvedlines\curvedLines.js"' (27b0a520)
2019-06-01T08:40:40.9713354+07:00 0HLN6689IS7CO:00000002 [INF] Request finished in 193.4053ms 200 application/javascript (791a596a)
2019-06-01T08:40:41.0477090+07:00 0HLN6689IS7CO:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T08:40:41.0577447+07:00 0HLN6689IS7CO:00000003 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:40:41.0600545+07:00 0HLN6689IS7CM:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T08:40:41.0653233+07:00 0HLN6689IS7CO:00000003 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:40:41.0700483+07:00 0HLN6689IS7CM:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T08:40:41.0769479+07:00 0HLN6689IS7CM:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T08:40:41.0912351+07:00 0HLN6689IS7CM:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:40:41.1012675+07:00 0HLN6689IS7CK:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T08:40:41.1025807+07:00 0HLN6689IS7CM:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T08:40:41.1103678+07:00 0HLN6689IS7CK:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T08:40:41.1249077+07:00 0HLN6689IS7CO:00000003 [INF] Request finished in 67.5913ms 200 application/json (791a596a)
2019-06-01T08:40:41.1267657+07:00 0HLN6689IS7CM:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:40:41.1354914+07:00 0HLN6689IS7CK:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T08:40:41.1417741+07:00 0HLN6689IS7CK:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:40:41.1497467+07:00 0HLN6689IS7CK:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T08:40:42.3762023+07:00 0HLN6689IS7CM:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T08:40:43.6079054+07:00 0HLN6689IS7CQ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=q-gfGhm9v2mxe_SOEW5Uvg   (ca22a1cb)
2019-06-01T08:40:43.6545167+07:00 0HLN6689IS7CQ:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:40:43.6602824+07:00 0HLN6689IS7CM:00000003 [INF] Executed DbCommand ("25"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T08:40:43.6618960+07:00 0HLN6689IS7CQ:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:40:44.7844637+07:00 0HLN6689IS7CM:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2594.534ms. (50a9e262)
2019-06-01T08:40:44.8040579+07:00 0HLN6689IS7CM:00000003 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:40:44.8400415+07:00 0HLN6689IS7CM:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 3752.3883ms (afa2e885)
2019-06-01T08:40:44.8432517+07:00 0HLN6689IS7CK:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3679.7262ms. (50a9e262)
2019-06-01T08:40:44.8505161+07:00 0HLN6689IS7CM:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T08:40:44.8549584+07:00 0HLN6689IS7CK:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:40:44.8701510+07:00 0HLN6689IS7CM:00000003 [INF] Request finished in 3798.9659ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:40:44.8716340+07:00 0HLN6689IS7CK:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 3721.7175ms (afa2e885)
2019-06-01T08:40:44.8771323+07:00 0HLN6689IS7CQ:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T08:40:44.8781247+07:00 0HLN6689IS7CK:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T08:40:44.8948316+07:00 0HLN6689IS7CK:00000004 [INF] Request finished in 3787.194ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:40:51.2406594+07:00 0HLN6689IS7CK:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T08:40:51.2470959+07:00 0HLN6689IS7CK:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T08:40:51.2540993+07:00 0HLN6689IS7CK:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T08:40:51.2591989+07:00 0HLN6689IS7CK:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:40:51.2644961+07:00 0HLN6689IS7CK:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:40:51.2702659+07:00 0HLN6689IS7CK:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2313ms. (50a9e262)
2019-06-01T08:40:51.2789268+07:00 0HLN6689IS7CK:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T08:40:51.2940903+07:00 0HLN6689IS7CK:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:40:51.3049157+07:00 0HLN6689IS7CK:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:40:51.3104739+07:00 0HLN6689IS7CK:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:40:51.3190466+07:00 0HLN6689IS7CK:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:40:51.3235127+07:00 0HLN6689IS7CK:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:40:51.3304505+07:00 0HLN6689IS7CK:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T08:40:51.3350019+07:00 0HLN6689IS7CK:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:40:51.3417522+07:00 0HLN6689IS7CK:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:40:51.3552829+07:00 0HLN6689IS7CK:00000005 [INF] Executed ViewResult - view "Index" executed in 76.2218ms. (f66409e9)
2019-06-01T08:40:51.4161091+07:00 0HLN6689IS7CK:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 101.389ms (afa2e885)
2019-06-01T08:40:51.4431126+07:00 0HLN6689IS7CM:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/function/index.js?v=TF40IzT4StO1ELgpdnCLDZRqXZ8eP2_PvLUme0Qd_hU   (ca22a1cb)
2019-06-01T08:40:51.4606990+07:00 0HLN6689IS7CQ:00000001 [INF] Request finished in 7867.276ms 101  (791a596a)
2019-06-01T08:40:51.4677751+07:00 0HLN6689IS7CK:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T08:40:51.4693029+07:00 0HLN6689IS7CM:00000004 [INF] Sending file. Request path: '"/app/controllers/function/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\function\index.js"' (27b0a520)
2019-06-01T08:40:51.4920734+07:00 0HLN6689IS7CM:00000004 [INF] Request finished in 61.4477ms 200 application/javascript (791a596a)
2019-06-01T08:40:51.5431313+07:00 0HLN6689IS7CK:00000005 [INF] Request finished in 237.6096ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T08:40:51.6941671+07:00 0HLN6689IS7CK:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T08:40:51.6951579+07:00 0HLN6689IS7CM:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T08:40:51.7094134+07:00 0HLN6689IS7CO:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T08:40:51.7143123+07:00 0HLN6689IS7CM:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T08:40:51.7274315+07:00 0HLN6689IS7CM:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T08:40:51.7306770+07:00 0HLN6689IS7CO:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T08:40:51.7365962+07:00 0HLN6689IS7CK:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:40:51.7492092+07:00 0HLN6689IS7CM:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:40:51.7563452+07:00 0HLN6689IS7CO:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T08:40:51.8256517+07:00 0HLN6689IS7CK:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:40:51.8442614+07:00 0HLN6689IS7CM:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T08:40:51.8525596+07:00 0HLN6689IS7CK:00000006 [INF] Request finished in 199.8537ms 200 application/json (791a596a)
2019-06-01T08:40:51.8569478+07:00 0HLN6689IS7CO:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:40:51.8614441+07:00 0HLN6689IS7CM:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:40:51.8719131+07:00 0HLN6689IS7CR:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=1gr2WNMurdXCESuzdbRThg   (ca22a1cb)
2019-06-01T08:40:51.8857789+07:00 0HLN6689IS7CM:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T08:40:51.8868201+07:00 0HLN6689IS7CR:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T08:40:51.8914523+07:00 0HLN6689IS7CO:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:40:51.9049017+07:00 0HLN6689IS7CR:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T08:40:51.9093276+07:00 0HLN6689IS7CM:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T08:40:51.9258687+07:00 0HLN6689IS7CO:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:40:51.9299326+07:00 0HLN6689IS7CM:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 65.1425ms. (50a9e262)
2019-06-01T08:40:51.9429370+07:00 0HLN6689IS7CR:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T08:40:51.9459413+07:00 0HLN6689IS7CO:00000004 [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:40:51.9472024+07:00 0HLN6689IS7CM:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:40:51.9604410+07:00 0HLN6689IS7CM:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 219.4673ms (afa2e885)
2019-06-01T08:40:51.9627741+07:00 0HLN6689IS7CO:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 59.339ms. (50a9e262)
2019-06-01T08:40:51.9725747+07:00 0HLN6689IS7CM:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T08:40:51.9739007+07:00 0HLN6689IS7CO:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:40:51.9799971+07:00 0HLN6689IS7CM:00000005 [INF] Request finished in 335.635ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:40:51.9930329+07:00 0HLN6689IS7CO:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 222.1955ms (afa2e885)
2019-06-01T08:40:52.0123453+07:00 0HLN6689IS7CO:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T08:40:52.0576438+07:00 0HLN6689IS7CO:00000004 [INF] Request finished in 323.774ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:40:57.5816556+07:00 0HLN6689IS7CO:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T08:40:57.5879050+07:00 0HLN6689IS7CO:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T08:40:57.5928281+07:00 0HLN6689IS7CO:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T08:40:57.5970620+07:00 0HLN6689IS7CO:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:40:57.6019456+07:00 0HLN6689IS7CO:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:40:57.6062300+07:00 0HLN6689IS7CO:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:40:57.6143813+07:00 0HLN6689IS7CO:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:40:57.6201746+07:00 0HLN6689IS7CO:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 12.8036ms. (50a9e262)
2019-06-01T08:40:57.6247584+07:00 0HLN6689IS7CO:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:40:57.6306538+07:00 0HLN6689IS7CO:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 32.1222ms (afa2e885)
2019-06-01T08:40:57.6356351+07:00 0HLN6689IS7CO:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T08:40:57.6406032+07:00 0HLN6689IS7CO:00000005 [INF] Request finished in 61.981ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:40:59.3601440+07:00 0HLN6689IS7CO:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T08:40:59.3676320+07:00 0HLN6689IS7CO:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T08:40:59.3725645+07:00 0HLN6689IS7CO:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T08:40:59.3776348+07:00 0HLN6689IS7CO:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:40:59.3847249+07:00 0HLN6689IS7CO:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:40:59.3913547+07:00 0HLN6689IS7CO:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:40:59.3995109+07:00 0HLN6689IS7CO:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:40:59.4046773+07:00 0HLN6689IS7CO:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 15.2262ms. (50a9e262)
2019-06-01T08:40:59.4094990+07:00 0HLN6689IS7CO:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:40:59.4155339+07:00 0HLN6689IS7CO:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 37.3308ms (afa2e885)
2019-06-01T08:40:59.4218244+07:00 0HLN6689IS7CO:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T08:40:59.4265579+07:00 0HLN6689IS7CO:00000006 [INF] Request finished in 72.987ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T08:41:04.7661687+07:00 0HLN6689IS7CO:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T08:41:04.7723549+07:00 0HLN6689IS7CO:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T08:41:04.7782159+07:00 0HLN6689IS7CO:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T08:41:04.7833642+07:00 0HLN6689IS7CO:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T08:41:04.7895320+07:00 0HLN6689IS7CO:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T08:41:04.7957125+07:00 0HLN6689IS7CO:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T08:41:04.8023948+07:00 0HLN6689IS7CO:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T08:41:04.8078721+07:00 0HLN6689IS7CO:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 13.4301ms. (50a9e262)
2019-06-01T08:41:04.8121941+07:00 0HLN6689IS7CO:00000007 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T08:41:04.8194068+07:00 0HLN6689IS7CO:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 34.4184ms (afa2e885)
2019-06-01T08:41:04.8237232+07:00 0HLN6689IS7CO:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T08:41:04.8285231+07:00 0HLN6689IS7CO:00000007 [INF] Request finished in 65.8551ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:24:03.1967948+07:00 0HLN670QVPRO8:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T09:24:03.3296923+07:00 0HLN670QVPRO8:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:24:03.4828508+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("25"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[Balance], [e].[BirthDay], [e].[ConcurrencyStamp], [e].[DateCreated], [e].[DateModified], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[Status], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2019-06-01T09:24:03.6805281+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("10"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T09:24:03.7558651+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T09:24:03.7932316+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T09:24:03.8436308+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T09:24:03.8554614+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T09:24:03.8656697+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T09:24:03.9128475+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("25"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T09:24:03.9343556+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T09:24:03.9504557+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T09:24:04.0262862+07:00 0HLN670QVPRO8:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T09:24:04.0741016+07:00 0HLN670QVPRO8:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T09:24:04.1302681+07:00 0HLN670QVPRO8:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:24:04.2416825+07:00 0HLN670QVPRO8:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T09:24:04.3140177+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T09:24:04.3354495+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T09:24:04.4148118+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T09:24:04.4337768+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T09:24:04.4836909+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T09:24:04.5003814+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T09:24:04.5442739+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T09:24:04.5653192+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T09:24:04.5787399+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T09:24:04.5934456+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T09:24:04.6235936+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T09:24:04.6340372+07:00 0HLN670QVPRO8:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 495.4174ms. (50a9e262)
2019-06-01T09:24:04.7485819+07:00 0HLN670QVPRO8:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:24:04.9693981+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:24:04.9859150+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:24:05.1176925+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:24:05.1244712+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:24:05.1437278+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:24:05.1512026+07:00 0HLN670QVPRO8:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:24:05.3035049+07:00 0HLN670QVPRO8:00000001 [INF] Executed ViewResult - view "Index" executed in 580.8947ms. (f66409e9)
2019-06-01T09:24:05.3389686+07:00 0HLN670QVPRO8:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 1231.0369ms (afa2e885)
2019-06-01T09:24:05.3439155+07:00 0HLN670QVPRO8:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T09:24:05.3694975+07:00 0HLN670QVPRO8:00000001 [INF] Request finished in 2232.106ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:24:05.7344555+07:00 0HLN670QVPRO9:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T09:24:05.7510467+07:00 0HLN670QVPRO8:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T09:24:05.8122274+07:00 0HLN670QVPRO8:00000002 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T09:24:05.8189461+07:00 0HLN670QVPROB:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T09:24:05.9528266+07:00 0HLN670QVPROA:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T09:24:05.9553833+07:00 0HLN670QVPROB:00000001 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T09:24:05.9636315+07:00 0HLN670QVPRO9:00000001 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T09:24:05.9714116+07:00 0HLN670QVPROA:00000001 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T09:24:05.9773024+07:00 0HLN670QVPROD:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T09:24:06.1427497+07:00 0HLN670QVPROD:00000001 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T09:24:06.2049458+07:00 0HLN670QVPROB:00000001 [INF] Request finished in 413.399ms 200 image/jpeg (791a596a)
2019-06-01T09:24:06.3291484+07:00 0HLN670QVPROD:00000001 [INF] Request finished in 530.9829ms 200 image/jpeg (791a596a)
2019-06-01T09:24:06.3400690+07:00 0HLN670QVPRO9:00000001 [INF] Request finished in 576.742ms 200 image/jpeg (791a596a)
2019-06-01T09:24:06.3891836+07:00 0HLN670QVPROC:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T09:24:06.4129136+07:00 0HLN670QVPROC:00000001 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T09:24:06.4226991+07:00 0HLN670QVPROB:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T09:24:06.4251158+07:00 0HLN670QVPRO9:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand2.png   (ca22a1cb)
2019-06-01T09:24:06.4359376+07:00 0HLN670QVPRO8:00000002 [INF] Request finished in 531.8855ms 200 image/jpeg (791a596a)
2019-06-01T09:24:06.4448201+07:00 0HLN670QVPROB:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T09:24:06.4509485+07:00 0HLN670QVPROC:00000001 [INF] Request finished in 181.359ms 200 image/jpeg (791a596a)
2019-06-01T09:24:06.4664262+07:00 0HLN670QVPRO8:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/js/jquery-ui.js   (ca22a1cb)
2019-06-01T09:24:06.4690013+07:00 0HLN670QVPROD:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T09:24:06.4800089+07:00 0HLN670QVPROD:00000002 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T09:24:06.4830190+07:00 0HLN670QVPROB:00000002 [INF] Request finished in 67.4058ms 200 image/jpeg (791a596a)
2019-06-01T09:24:06.5483826+07:00 0HLN670QVPROA:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T09:24:06.5615301+07:00 0HLN670QVPRO8:00000003 [INF] Request finished in 48.2834ms 206 application/javascript (791a596a)
2019-06-01T09:24:06.5657516+07:00 0HLN670QVPROC:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand5.png   (ca22a1cb)
2019-06-01T09:24:06.5791945+07:00 0HLN670QVPROB:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand4.png   (ca22a1cb)
2019-06-01T09:24:06.5835572+07:00 0HLN670QVPRO9:00000002 [INF] Sending file. Request path: '"/client-side/images/brand2.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand2.png"' (27b0a520)
2019-06-01T09:24:06.6184191+07:00 0HLN670QVPRO9:00000002 [INF] Request finished in 172.4359ms 200 image/png (791a596a)
2019-06-01T09:24:06.6251994+07:00 0HLN670QVPROB:00000003 [INF] Sending file. Request path: '"/client-side/images/brand4.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand4.png"' (27b0a520)
2019-06-01T09:24:06.6772515+07:00 0HLN670QVPROB:00000003 [INF] Request finished in 60.5332ms 200 image/png (791a596a)
2019-06-01T09:24:06.6826554+07:00 0HLN670QVPROD:00000002 [INF] Request finished in 132.8093ms 200 image/jpeg (791a596a)
2019-06-01T09:24:06.7244908+07:00 0HLN670QVPRO9:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand6.png   (ca22a1cb)
2019-06-01T09:24:06.7306955+07:00 0HLN670QVPROB:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand8.png   (ca22a1cb)
2019-06-01T09:24:06.7402462+07:00 0HLN670QVPROA:00000001 [INF] Request finished in 963.8351ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T09:24:06.7535964+07:00 0HLN670QVPROD:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand7.png   (ca22a1cb)
2019-06-01T09:24:06.7560144+07:00 0HLN670QVPRO9:00000003 [INF] Sending file. Request path: '"/client-side/images/brand6.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand6.png"' (27b0a520)
2019-06-01T09:24:06.7661425+07:00 0HLN670QVPROB:00000004 [INF] Sending file. Request path: '"/client-side/images/brand8.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand8.png"' (27b0a520)
2019-06-01T09:24:06.7700575+07:00 0HLN670QVPRO9:00000003 [INF] Request finished in 67.2471ms 200 image/png (791a596a)
2019-06-01T09:24:06.7806462+07:00 0HLN670QVPROB:00000004 [INF] Request finished in 54.1681ms 200 image/png (791a596a)
2019-06-01T09:24:06.7980251+07:00 0HLN670QVPROC:00000002 [INF] Sending file. Request path: '"/client-side/images/brand5.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand5.png"' (27b0a520)
2019-06-01T09:24:06.8112596+07:00 0HLN670QVPROD:00000003 [INF] Sending file. Request path: '"/client-side/images/brand7.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand7.png"' (27b0a520)
2019-06-01T09:24:06.8152386+07:00 0HLN670QVPROC:00000002 [INF] Request finished in 263.9226ms 200 image/png (791a596a)
2019-06-01T09:24:06.8356583+07:00 0HLN670QVPROD:00000003 [INF] Request finished in 73.4575ms 200 image/png (791a596a)
2019-06-01T09:24:06.8547631+07:00 0HLN670QVPRO9:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand10.png   (ca22a1cb)
2019-06-01T09:24:06.8612029+07:00 0HLN670QVPROE:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand9.png   (ca22a1cb)
2019-06-01T09:24:06.8633957+07:00 0HLN670QVPROB:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/brand11.png   (ca22a1cb)
2019-06-01T09:24:06.8670425+07:00 0HLN670QVPRO8:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/js/jquery-ui.js   (ca22a1cb)
2019-06-01T09:24:06.8879725+07:00 0HLN670QVPROD:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/banner-sunglasses.jpg   (ca22a1cb)
2019-06-01T09:24:06.8954703+07:00 0HLN670QVPRO9:00000004 [INF] Sending file. Request path: '"/client-side/images/brand10.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand10.png"' (27b0a520)
2019-06-01T09:24:06.9055667+07:00 0HLN670QVPROE:00000001 [INF] Sending file. Request path: '"/client-side/images/brand9.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand9.png"' (27b0a520)
2019-06-01T09:24:06.9111282+07:00 0HLN670QVPRO9:00000004 [INF] Request finished in 59.8666ms 200 image/png (791a596a)
2019-06-01T09:24:06.9565231+07:00 0HLN670QVPROD:00000004 [INF] Sending file. Request path: '"/client-side/images/banner-sunglasses.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\banner-sunglasses.jpg"' (27b0a520)
2019-06-01T09:24:06.9593608+07:00 0HLN670QVPRO9:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/banner-women.jpg   (ca22a1cb)
2019-06-01T09:24:06.9659528+07:00 0HLN670QVPROE:00000001 [INF] Request finished in 129.8698ms 200 image/png (791a596a)
2019-06-01T09:24:06.9684997+07:00 0HLN670QVPROD:00000004 [INF] Request finished in 93.1982ms 200 image/jpeg (791a596a)
2019-06-01T09:24:07.0070173+07:00 0HLN670QVPRO9:00000005 [INF] Sending file. Request path: '"/client-side/images/banner-women.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\banner-women.jpg"' (27b0a520)
2019-06-01T09:24:07.0189225+07:00 0HLN670QVPROE:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/banner-arrival.jpg   (ca22a1cb)
2019-06-01T09:24:07.0648585+07:00 0HLN670QVPRO9:00000005 [INF] Request finished in 62.8729ms 200 image/jpeg (791a596a)
2019-06-01T09:24:07.0780265+07:00 0HLN670QVPRO8:00000004 [INF] Request finished in 448.3651ms 206 application/javascript (791a596a)
2019-06-01T09:24:07.1651186+07:00 0HLN670QVPROD:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/visa.png   (ca22a1cb)
2019-06-01T09:24:07.1801470+07:00 0HLN670QVPROE:00000002 [INF] Sending file. Request path: '"/client-side/images/banner-arrival.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\banner-arrival.jpg"' (27b0a520)
2019-06-01T09:24:07.1871037+07:00 0HLN670QVPRO9:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/paypal.png   (ca22a1cb)
2019-06-01T09:24:07.2067591+07:00 0HLN670QVPROD:00000005 [INF] Sending file. Request path: '"/client-side/images/visa.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\visa.png"' (27b0a520)
2019-06-01T09:24:07.2096928+07:00 0HLN670QVPROE:00000002 [INF] Request finished in 197.2392ms 200 image/jpeg (791a596a)
2019-06-01T09:24:07.2215016+07:00 0HLN670QVPROD:00000005 [INF] Request finished in 113.9855ms 200 image/png (791a596a)
2019-06-01T09:24:07.2380091+07:00 0HLN670QVPRO9:00000006 [INF] Sending file. Request path: '"/client-side/images/paypal.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\paypal.png"' (27b0a520)
2019-06-01T09:24:07.2460797+07:00 0HLN670QVPRO8:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T09:24:07.2485864+07:00 0HLN670QVPRO9:00000006 [INF] Request finished in 78.3416ms 200 image/png (791a596a)
2019-06-01T09:24:07.2514270+07:00 0HLN670QVPROE:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/discover.png   (ca22a1cb)
2019-06-01T09:24:07.2648969+07:00 0HLN670QVPROB:00000005 [INF] Sending file. Request path: '"/client-side/images/brand11.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\brand11.png"' (27b0a520)
2019-06-01T09:24:07.2749905+07:00 0HLN670QVPROC:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/banner-kids.jpg   (ca22a1cb)
2019-06-01T09:24:07.2859196+07:00 0HLN670QVPROB:00000005 [INF] Request finished in 417.2648ms 200 image/png (791a596a)
2019-06-01T09:24:07.2913240+07:00 0HLN670QVPROD:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:24:07.2951003+07:00 0HLN670QVPRO8:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T09:24:07.3064727+07:00 0HLN670QVPRO9:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T09:24:07.3147775+07:00 0HLN670QVPRO8:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T09:24:07.3301448+07:00 0HLN670QVPRO9:00000007 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T09:24:07.3375061+07:00 0HLN670QVPRO8:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:24:07.3534786+07:00 0HLN670QVPRO9:00000007 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T09:24:07.3552259+07:00 0HLN670QVPRO8:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3273ms. (50a9e262)
2019-06-01T09:24:07.3584944+07:00 0HLN670QVPROD:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:24:07.3665222+07:00 0HLN670QVPRO9:00000007 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:24:07.3721465+07:00 0HLN670QVPROD:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:24:07.3839430+07:00 0HLN670QVPROB:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/footer-logo.png   (ca22a1cb)
2019-06-01T09:24:07.3871787+07:00 0HLN670QVPRO9:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:24:07.4008405+07:00 0HLN670QVPRO9:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T09:24:07.4242609+07:00 0HLN670QVPRO9:00000007 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 46.5693ms. (50a9e262)
2019-06-01T09:24:07.4255331+07:00 0HLN670QVPROC:00000003 [INF] Sending file. Request path: '"/client-side/images/banner-kids.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\banner-kids.jpg"' (27b0a520)
2019-06-01T09:24:07.4423987+07:00 0HLN670QVPROC:00000003 [INF] Request finished in 169.5867ms 200 image/jpeg (791a596a)
2019-06-01T09:24:07.4467880+07:00 0HLN670QVPRO9:00000007 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:24:07.4566486+07:00 0HLN670QVPRO8:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:24:07.4730050+07:00 0HLN670QVPROE:00000003 [INF] Sending file. Request path: '"/client-side/images/discover.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\discover.png"' (27b0a520)
2019-06-01T09:24:07.5397119+07:00 0HLN670QVPROE:00000003 [INF] Request finished in 255.6654ms 200 image/png (791a596a)
2019-06-01T09:24:07.5428762+07:00 0HLN670QVPROD:00000006 [INF] Request finished in 238.4149ms 200 application/json (791a596a)
2019-06-01T09:24:07.5904096+07:00 0HLN670QVPROB:00000006 [INF] Sending file. Request path: '"/client-side/images/footer-logo.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\footer-logo.png"' (27b0a520)
2019-06-01T09:24:07.6083953+07:00 0HLN670QVPRO8:00000005 [INF] Executed ViewResult - view "Index" executed in 225.9563ms. (f66409e9)
2019-06-01T09:24:07.6134792+07:00 0HLN670QVPROB:00000006 [INF] Request finished in 216.7924ms 200 image/png (791a596a)
2019-06-01T09:24:07.6280215+07:00 0HLN670QVPRO8:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 293.6658ms (afa2e885)
2019-06-01T09:24:07.8428550+07:00 0HLN670QVPRO8:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T09:24:08.0942530+07:00 0HLN670QVPRO8:00000005 [INF] Request finished in 608.6489ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:24:08.1879628+07:00 0HLN670QVPRO9:00000007 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 569.7312ms (afa2e885)
2019-06-01T09:24:08.2181507+07:00 0HLN670QVPROE:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/master-card.png   (ca22a1cb)
2019-06-01T09:24:08.2371685+07:00 0HLN670QVPRO9:00000007 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T09:24:08.2487308+07:00 0HLN670QVPROE:00000004 [INF] Connection id ""0HLN670QVPROE"", Request id ""0HLN670QVPROE:00000004"": the application aborted the connection. (9f49aef1)
2019-06-01T09:24:08.2515981+07:00 0HLN670QVPRO9:00000007 [INF] Request finished in 944.4677ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:24:08.2718249+07:00 0HLN670QVPROE:00000004 [INF] Sending file. Request path: '"/client-side/images/master-card.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\master-card.png"' (27b0a520)
2019-06-01T09:24:08.2753129+07:00 0HLN670QVPROD:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T09:24:08.2974011+07:00 0HLN670QVPROE:00000004 [INF] Request finished in 510.3991ms 0 image/png (791a596a)
2019-06-01T09:24:08.2999283+07:00 0HLN670QVPROD:00000007 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T09:24:08.3109170+07:00 0HLN670QVPROD:00000007 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T09:24:08.3176439+07:00 0HLN670QVPROD:00000007 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:24:08.3261764+07:00 0HLN670QVPROD:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:24:08.3402245+07:00 0HLN670QVPROD:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T09:24:08.3470376+07:00 0HLN670QVPROD:00000007 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 23.8243ms. (50a9e262)
2019-06-01T09:24:08.3566745+07:00 0HLN670QVPROD:00000007 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:24:08.3649141+07:00 0HLN670QVPROD:00000007 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 47.9125ms (afa2e885)
2019-06-01T09:24:08.3741788+07:00 0HLN670QVPROD:00000007 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T09:24:08.3830589+07:00 0HLN670QVPROD:00000007 [INF] Request finished in 611.6639ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:24:09.3258872+07:00 0HLN670QVPRO8:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T09:24:09.3313724+07:00 0HLN670QVPRO8:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:24:09.3387873+07:00 0HLN670QVPRO8:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:24:09.3446388+07:00 0HLN670QVPRO8:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T09:24:09.3681330+07:00 0HLN670QVPRO8:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T09:24:09.4421005+07:00 0HLN670QVPRO8:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:24:20.1459785+07:00 0HLN670QVPRO8:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:24:20.2083583+07:00 0HLN670QVPRO8:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T09:24:20.2733162+07:00 0HLN670QVPRO8:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T09:24:20.2807423+07:00 0HLN670QVPRO8:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T09:24:20.2886987+07:00 0HLN670QVPRO8:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T09:24:20.3006187+07:00 0HLN670QVPRO8:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T09:24:20.3174225+07:00 0HLN670QVPRO8:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T09:24:20.3296665+07:00 0HLN670QVPRO8:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T09:24:20.3421535+07:00 0HLN670QVPRO8:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T09:24:20.3499323+07:00 0HLN670QVPRO8:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T09:24:20.3601050+07:00 0HLN670QVPRO8:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T09:24:20.3704066+07:00 0HLN670QVPRO8:00000006 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T09:24:20.3777772+07:00 0HLN670QVPRO8:00000006 [INF] User logged in. (fdce0db4)
2019-06-01T09:24:20.3859787+07:00 0HLN670QVPRO8:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10938.2133ms. (50a9e262)
2019-06-01T09:24:20.3953867+07:00 0HLN670QVPRO8:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T09:24:20.4088964+07:00 0HLN670QVPRO8:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 11035.7915ms (afa2e885)
2019-06-01T09:24:20.4144923+07:00 0HLN670QVPRO8:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T09:24:20.4272524+07:00 0HLN670QVPRO8:00000006 [INF] Request finished in 11107.6142ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:24:20.4530014+07:00 0HLN670QVPRO8:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T09:24:20.4636036+07:00 0HLN670QVPRO8:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T09:24:20.4742735+07:00 0HLN670QVPRO8:00000007 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T09:24:20.4914703+07:00 0HLN670QVPRO8:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:24:20.4970415+07:00 0HLN670QVPRO8:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:24:20.5018412+07:00 0HLN670QVPRO8:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2892ms. (50a9e262)
2019-06-01T09:24:20.5115027+07:00 0HLN670QVPRO8:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:24:20.5725209+07:00 0HLN670QVPRO8:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:24:20.6206299+07:00 0HLN670QVPRO8:00000007 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:24:20.6359308+07:00 0HLN670QVPRO8:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:24:20.6707243+07:00 0HLN670QVPRO8:00000007 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:24:20.6766283+07:00 0HLN670QVPRO8:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:24:20.6971808+07:00 0HLN670QVPRO8:00000007 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:24:20.7024383+07:00 0HLN670QVPRO8:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:24:20.7233835+07:00 0HLN670QVPRO8:00000007 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:24:20.7275759+07:00 0HLN670QVPRO8:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:24:20.7821146+07:00 0HLN670QVPRO8:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:24:20.9590896+07:00 0HLN670QVPRO8:00000007 [INF] Executed ViewResult - view "Index" executed in 361.6784ms. (f66409e9)
2019-06-01T09:24:21.0994931+07:00 0HLN670QVPRO8:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 508.5977ms (afa2e885)
2019-06-01T09:24:21.1080814+07:00 0HLN670QVPROC:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=-NTPIAAUoLME9zXM3rOh6LLVj8Oq8-uW2W7i4qSZEpM   (ca22a1cb)
2019-06-01T09:24:21.1395493+07:00 0HLN670QVPRO8:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T09:24:21.1554349+07:00 0HLN670QVPROC:00000004 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T09:24:21.2003628+07:00 0HLN670QVPRO8:00000007 [INF] Request finished in 693.695ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:24:21.2060333+07:00 0HLN670QVPROC:00000004 [INF] Request finished in 95.3324ms 304 application/javascript (791a596a)
2019-06-01T09:24:21.4175224+07:00 0HLN670QVPROC:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:24:21.4222128+07:00 0HLN670QVPRO8:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:24:21.4724409+07:00 0HLN670QVPROC:00000005 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:24:21.5158850+07:00 0HLN670QVPRO8:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:24:21.5380745+07:00 0HLN670QVPROC:00000005 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:24:21.5469590+07:00 0HLN670QVPRO8:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:24:21.5619038+07:00 0HLN670QVPROC:00000005 [INF] Request finished in 234.8937ms 200 application/json (791a596a)
2019-06-01T09:24:21.5653045+07:00 0HLN670QVPRO8:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:24:21.5802710+07:00 0HLN670QVPROB:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T09:24:21.5839288+07:00 0HLN670QVPRO8:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:24:21.5983132+07:00 0HLN670QVPRO8:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:24:21.6035063+07:00 0HLN670QVPROG:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=flx4bns7Chx4dpN1saQzJw   (ca22a1cb)
2019-06-01T09:24:21.6077992+07:00 0HLN670QVPROB:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T09:24:21.6239736+07:00 0HLN670QVPROG:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:24:21.6274652+07:00 0HLN670QVPROB:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T09:24:21.6398558+07:00 0HLN670QVPROG:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:24:21.6436798+07:00 0HLN670QVPROB:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:24:21.6610123+07:00 0HLN670QVPROB:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T09:24:21.6634266+07:00 0HLN670QVPRO8:00000008 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T09:24:21.7446368+07:00 0HLN670QVPRO8:00000008 [INF] Executed DbCommand ("14"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:24:21.8149720+07:00 0HLN670QVPRO8:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 196.1106ms. (50a9e262)
2019-06-01T09:24:21.8606019+07:00 0HLN670QVPRO8:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:24:22.0121591+07:00 0HLN670QVPRO8:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 329.4077ms (afa2e885)
2019-06-01T09:24:22.0562234+07:00 0HLN670QVPROG:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:24:22.0588031+07:00 0HLN670QVPRO8:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:24:22.0759162+07:00 0HLN670QVPRO8:00000008 [INF] Request finished in 743.8808ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:24:22.1128076+07:00 0HLN670QVPROB:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 445.9056ms. (50a9e262)
2019-06-01T09:24:22.1261836+07:00 0HLN670QVPROB:00000007 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:24:22.1564782+07:00 0HLN670QVPROB:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 502.0377ms (afa2e885)
2019-06-01T09:24:22.2062480+07:00 0HLN670QVPROB:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T09:24:22.2654787+07:00 0HLN670QVPROB:00000007 [INF] Request finished in 789.9148ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:24:31.3278733+07:00 0HLN670QVPROB:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T09:24:31.3334548+07:00 0HLN670QVPROB:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T09:24:31.3405744+07:00 0HLN670QVPROB:00000008 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T09:24:31.3445756+07:00 0HLN670QVPROB:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:24:31.3498962+07:00 0HLN670QVPROB:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:24:31.3560021+07:00 0HLN670QVPROB:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.1776ms. (50a9e262)
2019-06-01T09:24:31.3631783+07:00 0HLN670QVPROB:00000008 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:24:31.3814974+07:00 0HLN670QVPROB:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:24:31.3970162+07:00 0HLN670QVPROB:00000008 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:24:31.4021337+07:00 0HLN670QVPROB:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:24:31.4101066+07:00 0HLN670QVPROB:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:24:31.4148669+07:00 0HLN670QVPROB:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:24:31.4234699+07:00 0HLN670QVPROB:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:24:31.4278190+07:00 0HLN670QVPROB:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:24:31.4339733+07:00 0HLN670QVPROB:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:24:31.4492664+07:00 0HLN670QVPROB:00000008 [INF] Executed ViewResult - view "Index" executed in 83.4653ms. (f66409e9)
2019-06-01T09:24:31.4967220+07:00 0HLN670QVPROB:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 108.8487ms (afa2e885)
2019-06-01T09:24:31.5085279+07:00 0HLN670QVPRO8:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/function/index.js?v=TF40IzT4StO1ELgpdnCLDZRqXZ8eP2_PvLUme0Qd_hU   (ca22a1cb)
2019-06-01T09:24:31.5117586+07:00 0HLN670QVPROB:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T09:24:31.5345988+07:00 0HLN670QVPRO8:00000009 [INF] The file "/app/controllers/function/index.js" was not modified (f1f8d725)
2019-06-01T09:24:31.5480766+07:00 0HLN670QVPROB:00000008 [INF] Request finished in 191.5908ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:24:31.5584179+07:00 0HLN670QVPRO8:00000009 [INF] Request finished in 43.8768ms 304 application/javascript (791a596a)
2019-06-01T09:24:31.5997803+07:00 0HLN670QVPROG:00000001 [INF] Request finished in 9977.456ms 101  (791a596a)
2019-06-01T09:24:31.7761154+07:00 0HLN670QVPRO8:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:24:31.8618835+07:00 0HLN670QVPROB:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:24:31.8747893+07:00 0HLN670QVPRO8:0000000A [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:24:31.9547109+07:00 0HLN670QVPROB:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:24:31.9639105+07:00 0HLN670QVPRO8:0000000A [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:24:31.9896873+07:00 0HLN670QVPROB:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:24:31.9933952+07:00 0HLN670QVPRO8:0000000A [INF] Request finished in 279.7367ms 200 application/json (791a596a)
2019-06-01T09:24:32.0002559+07:00 0HLN670QVPROB:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:24:32.0134136+07:00 0HLN670QVPROH:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=_uTAg2jkaumludgRdet_fQ   (ca22a1cb)
2019-06-01T09:24:32.0154715+07:00 0HLN670QVPROB:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:24:32.0331490+07:00 0HLN670QVPROH:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:24:32.0441976+07:00 0HLN670QVPROB:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:24:32.0649730+07:00 0HLN670QVPROH:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:24:32.0742858+07:00 0HLN670QVPROB:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T09:24:32.0812072+07:00 0HLN670QVPROC:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T09:24:32.0995743+07:00 0HLN670QVPROB:00000009 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:24:32.1126270+07:00 0HLN670QVPROH:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:24:32.1643575+07:00 0HLN670QVPROB:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 84.1759ms. (50a9e262)
2019-06-01T09:24:32.1671132+07:00 0HLN670QVPROC:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T09:24:32.2018939+07:00 0HLN670QVPROB:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:24:32.2355054+07:00 0HLN670QVPROC:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T09:24:32.2719664+07:00 0HLN670QVPROB:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 212.4826ms (afa2e885)
2019-06-01T09:24:32.2739012+07:00 0HLN670QVPROC:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:24:32.2838446+07:00 0HLN670QVPROB:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:24:32.3004563+07:00 0HLN670QVPROC:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" with arguments (["0", "0"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:24:32.3134023+07:00 0HLN670QVPROB:00000009 [INF] Request finished in 558.7757ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:24:32.3163385+07:00 0HLN670QVPROC:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:24:32.3315397+07:00 0HLN670QVPROC:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Functions] AS [x]
WHERE [x].[Status] = 1" (0723d8ff)
2019-06-01T09:24:32.3996570+07:00 0HLN670QVPROC:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 155.9042ms (afa2e885)
2019-06-01T09:24:32.4092992+07:00 0HLN670QVPROC:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T09:24:32.5557525+07:00 0HLN670QVPROC:00000006 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: Missing map from Shop3.Application.ViewModels.System.FunctionViewModel to Shop3.Application.ViewModels.System.FunctionViewModel. Create using Mapper.CreateMap<FunctionViewModel, FunctionViewModel>.
   at AutoMapper.QueryableExtensions.ExpressionBuilder.CreateMapExpressionCore(ExpressionRequest request, Expression instanceParameter, IDictionary`2 typePairCount, LetPropertyMaps letPropertyMaps, TypeMap& typeMap) in C:\projects\automapper\src\AutoMapper\QueryableExtensions\ExpressionBuilder.cs:line 188
   at AutoMapper.QueryableExtensions.ExpressionBuilder.CreateMapExpression(ExpressionRequest request, IDictionary`2 typePairCount, LetPropertyMaps letPropertyMaps) in C:\projects\automapper\src\AutoMapper\QueryableExtensions\ExpressionBuilder.cs:line 152
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at AutoMapper.QueryableExtensions.ExpressionBuilder.GetMapExpression(Type sourceType, Type destinationType, Object parameters, MemberInfo[] membersToExpand) in C:\projects\automapper\src\AutoMapper\QueryableExtensions\ExpressionBuilder.cs:line 98
   at AutoMapper.QueryableExtensions.ProjectionExpression.To[TResult](Object parameters, Expression`1[] membersToExpand) in C:\projects\automapper\src\AutoMapper\QueryableExtensions\ProjectionExpression.cs:line 60
   at AutoMapper.QueryableExtensions.Extensions.ProjectTo[TDestination](IQueryable source, Expression`1[] membersToExpand) in C:\projects\automapper\src\AutoMapper\QueryableExtensions\Extensions.cs:line 90
   at Shop3.Application.Implementation.FunctionService.GetAll2(String filter, Int32 pageIndex, Int32 pageSize) in E:\project\shop3\Shop3.Application\Implementation\FunctionService.cs:line 102
   at Shop3.Areas.Admin.Controllers.FunctionController.GetAll(Int32 page, Int32 pageSize) in E:\project\shop3\Shop3\Areas\Admin\Controllers\FunctionController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 77
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T09:24:32.6002152+07:00 0HLN670QVPROC:00000006 [INF] Request finished in 791.8598ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T09:24:40.9980282+07:00 0HLN670QVPROC:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T09:24:41.0031248+07:00 0HLN670QVPROC:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T09:24:41.0076873+07:00 0HLN670QVPROC:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T09:24:41.0126382+07:00 0HLN670QVPROC:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:24:41.0170161+07:00 0HLN670QVPROC:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" with arguments (["0", "0"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:24:41.0223908+07:00 0HLN670QVPROC:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:24:41.0269025+07:00 0HLN670QVPROC:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Functions] AS [x]
WHERE [x].[Status] = 1" (0723d8ff)
2019-06-01T09:24:41.0755170+07:00 0HLN670QVPROC:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 63.7029ms (afa2e885)
2019-06-01T09:24:41.0801746+07:00 0HLN670QVPROC:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T09:24:41.1339317+07:00 0HLN670QVPROC:00000007 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: Missing map from Shop3.Application.ViewModels.System.FunctionViewModel to Shop3.Application.ViewModels.System.FunctionViewModel. Create using Mapper.CreateMap<FunctionViewModel, FunctionViewModel>.
   at AutoMapper.QueryableExtensions.ExpressionBuilder.CreateMapExpressionCore(ExpressionRequest request, Expression instanceParameter, IDictionary`2 typePairCount, LetPropertyMaps letPropertyMaps, TypeMap& typeMap) in C:\projects\automapper\src\AutoMapper\QueryableExtensions\ExpressionBuilder.cs:line 188
   at AutoMapper.QueryableExtensions.ExpressionBuilder.CreateMapExpression(ExpressionRequest request, IDictionary`2 typePairCount, LetPropertyMaps letPropertyMaps) in C:\projects\automapper\src\AutoMapper\QueryableExtensions\ExpressionBuilder.cs:line 152
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location where exception was thrown ---
   at System.Lazy`1.CreateValue()
   at AutoMapper.QueryableExtensions.ExpressionBuilder.GetMapExpression(Type sourceType, Type destinationType, Object parameters, MemberInfo[] membersToExpand) in C:\projects\automapper\src\AutoMapper\QueryableExtensions\ExpressionBuilder.cs:line 98
   at AutoMapper.QueryableExtensions.ProjectionExpression.To[TResult](Object parameters, Expression`1[] membersToExpand) in C:\projects\automapper\src\AutoMapper\QueryableExtensions\ProjectionExpression.cs:line 60
   at AutoMapper.QueryableExtensions.Extensions.ProjectTo[TDestination](IQueryable source, Expression`1[] membersToExpand) in C:\projects\automapper\src\AutoMapper\QueryableExtensions\Extensions.cs:line 90
   at Shop3.Application.Implementation.FunctionService.GetAll2(String filter, Int32 pageIndex, Int32 pageSize) in E:\project\shop3\Shop3.Application\Implementation\FunctionService.cs:line 102
   at Shop3.Areas.Admin.Controllers.FunctionController.GetAll(Int32 page, Int32 pageSize) in E:\project\shop3\Shop3\Areas\Admin\Controllers\FunctionController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 77
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T09:24:41.1997499+07:00 0HLN670QVPROC:00000007 [INF] Request finished in 198.193ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T09:26:58.7450725+07:00 0HLN672FD6JPK:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T09:26:58.8642097+07:00 0HLN672FD6JPK:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T09:26:58.9001432+07:00 0HLN672FD6JPK:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T09:26:58.9194198+07:00 0HLN672FD6JPK:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:26:58.9366810+07:00 0HLN672FD6JPK:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:26:58.9861919+07:00 0HLN672FD6JPK:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T09:26:59.0647863+07:00 0HLN672FD6JPK:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T09:26:59.0948782+07:00 0HLN672FD6JPK:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T09:26:59.1794488+07:00 0HLN672FD6JPK:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T09:26:59.2317749+07:00 0HLN672FD6JPK:00000001 [INF] Executed DbCommand ("25"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T09:26:59.2909170+07:00 0HLN672FD6JPK:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T09:26:59.3055316+07:00 0HLN672FD6JPK:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T09:26:59.3383988+07:00 0HLN672FD6JPK:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T09:26:59.3508875+07:00 0HLN672FD6JPK:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T09:26:59.3695229+07:00 0HLN672FD6JPK:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T09:26:59.3779200+07:00 0HLN672FD6JPK:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T09:26:59.3980140+07:00 0HLN672FD6JPK:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T09:26:59.4087560+07:00 0HLN672FD6JPK:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 480.9788ms. (50a9e262)
2019-06-01T09:26:59.4397825+07:00 0HLN672FD6JPK:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:26:59.6008047+07:00 0HLN672FD6JPK:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:26:59.6095284+07:00 0HLN672FD6JPK:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:26:59.7447435+07:00 0HLN672FD6JPK:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:26:59.7548415+07:00 0HLN672FD6JPK:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:26:59.7748096+07:00 0HLN672FD6JPK:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:26:59.7846798+07:00 0HLN672FD6JPK:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:26:59.8900685+07:00 0HLN672FD6JPK:00000001 [INF] Executed ViewResult - view "Index" executed in 444.4533ms. (f66409e9)
2019-06-01T09:26:59.8957370+07:00 0HLN672FD6JPK:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 990.1932ms (afa2e885)
2019-06-01T09:26:59.9056918+07:00 0HLN672FD6JPK:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T09:26:59.9272126+07:00 0HLN672FD6JPK:00000001 [INF] Request finished in 1223.1017ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:27:00.1794898+07:00 0HLN672FD6JPL:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T09:27:00.1888604+07:00 0HLN672FD6JPO:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T09:27:00.1915173+07:00 0HLN672FD6JPM:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T09:27:00.1947062+07:00 0HLN672FD6JPK:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T09:27:00.2010131+07:00 0HLN672FD6JPO:00000001 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T09:27:00.2174495+07:00 0HLN672FD6JPL:00000001 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T09:27:00.2274393+07:00 0HLN672FD6JPM:00000001 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T09:27:00.2283928+07:00 0HLN672FD6JPK:00000002 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T09:27:00.3124013+07:00 0HLN672FD6JPO:00000001 [INF] Request finished in 128.5689ms 200 image/jpeg (791a596a)
2019-06-01T09:27:00.3377378+07:00 0HLN672FD6JPP:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T09:27:00.4644717+07:00 0HLN672FD6JPP:00000001 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T09:27:00.4932376+07:00 0HLN672FD6JPN:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T09:27:00.5056569+07:00 0HLN672FD6JPP:00000001 [INF] Request finished in 156.6529ms 200 image/jpeg (791a596a)
2019-06-01T09:27:00.5089652+07:00 0HLN672FD6JPN:00000001 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T09:27:00.6232975+07:00 0HLN672FD6JPM:00000001 [INF] Request finished in 220.6911ms 200 image/jpeg (791a596a)
2019-06-01T09:27:00.6279157+07:00 0HLN672FD6JPL:00000001 [INF] Request finished in 436.8956ms 200 image/jpeg (791a596a)
2019-06-01T09:27:00.6697364+07:00 0HLN672FD6JPK:00000002 [INF] Request finished in 245.8131ms 200 image/jpeg (791a596a)
2019-06-01T09:27:00.7024186+07:00 0HLN672FD6JPO:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T09:27:00.7209081+07:00 0HLN672FD6JPP:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/master-card.png   (ca22a1cb)
2019-06-01T09:27:00.7248338+07:00 0HLN672FD6JPO:00000002 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T09:27:00.7400921+07:00 0HLN672FD6JPK:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T09:27:00.7804600+07:00 0HLN672FD6JPK:00000003 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T09:27:00.7977732+07:00 0HLN672FD6JPP:00000002 [INF] Sending file. Request path: '"/client-side/images/master-card.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-side\images\master-card.png"' (27b0a520)
2019-06-01T09:27:00.8157346+07:00 0HLN672FD6JPK:00000003 [INF] Request finished in 91.6421ms 200 image/jpeg (791a596a)
2019-06-01T09:27:00.8179336+07:00 0HLN672FD6JPP:00000002 [INF] Request finished in 98.8819ms 200 image/png (791a596a)
2019-06-01T09:27:00.8486942+07:00 0HLN672FD6JPO:00000002 [INF] Request finished in 169.9674ms 200 image/jpeg (791a596a)
2019-06-01T09:27:00.8685322+07:00 0HLN672FD6JPN:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T09:27:00.9270005+07:00 0HLN672FD6JPN:00000001 [INF] Request finished in 565.8477ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T09:27:01.0308389+07:00 0HLN672FD6JPO:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T09:27:01.0335613+07:00 0HLN672FD6JPK:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T09:27:01.0584880+07:00 0HLN672FD6JPN:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:27:01.0615395+07:00 0HLN672FD6JPO:00000003 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T09:27:01.0657931+07:00 0HLN672FD6JPK:00000004 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T09:27:01.0751937+07:00 0HLN672FD6JPN:00000002 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:27:01.0790944+07:00 0HLN672FD6JPO:00000003 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T09:27:01.0911333+07:00 0HLN672FD6JPN:00000002 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:27:01.0939112+07:00 0HLN672FD6JPO:00000003 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:27:01.0953750+07:00 0HLN672FD6JPK:00000004 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T09:27:01.1111847+07:00 0HLN672FD6JPK:00000004 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:27:01.1125442+07:00 0HLN672FD6JPO:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:27:01.1668404+07:00 0HLN672FD6JPK:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:27:01.1742652+07:00 0HLN672FD6JPO:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T09:27:01.2463784+07:00 0HLN672FD6JPO:00000003 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 81.7849ms. (50a9e262)
2019-06-01T09:27:01.2926939+07:00 0HLN672FD6JPO:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:27:01.3161452+07:00 0HLN672FD6JPN:00000002 [INF] Request finished in 226.4162ms 200 application/json (791a596a)
2019-06-01T09:27:01.3626416+07:00 0HLN672FD6JPK:00000004 [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T09:27:01.3664882+07:00 0HLN672FD6JPQ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=D50jAQ6X7r6WYyNG0e8dJg   (ca22a1cb)
2019-06-01T09:27:01.4101916+07:00 0HLN672FD6JPK:00000004 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 252.506ms. (50a9e262)
2019-06-01T09:27:01.4140090+07:00 0HLN672FD6JPQ:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:27:01.4395691+07:00 0HLN672FD6JPK:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:27:01.4474641+07:00 0HLN672FD6JPQ:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:27:01.4561132+07:00 0HLN672FD6JPO:00000003 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 352.9629ms (afa2e885)
2019-06-01T09:27:01.4604795+07:00 0HLN672FD6JPK:00000004 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 347.0536ms (afa2e885)
2019-06-01T09:27:01.4821808+07:00 0HLN672FD6JPO:00000003 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T09:27:01.4898662+07:00 0HLN672FD6JPK:00000004 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T09:27:01.5129545+07:00 0HLN672FD6JPO:00000003 [INF] Request finished in 462.3512ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:27:01.5152926+07:00 0HLN672FD6JPK:00000004 [INF] Request finished in 469.6328ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:27:01.5880897+07:00 0HLN672FD6JPQ:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:27:14.3227275+07:00 0HLN672FD6JPK:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T09:27:14.3305461+07:00 0HLN672FD6JPK:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T09:27:14.3385416+07:00 0HLN672FD6JPK:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T09:27:14.3450938+07:00 0HLN672FD6JPK:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:27:14.3513727+07:00 0HLN672FD6JPK:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.6802ms. (50a9e262)
2019-06-01T09:27:14.4087573+07:00 0HLN672FD6JPK:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:27:14.4430970+07:00 0HLN672FD6JPK:00000005 [INF] Executed ViewResult - view "Index" executed in 82.7281ms. (f66409e9)
2019-06-01T09:27:14.4499864+07:00 0HLN672FD6JPK:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 104.2981ms (afa2e885)
2019-06-01T09:27:14.5628918+07:00 0HLN672FD6JPK:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T09:27:14.5720319+07:00 0HLN672FD6JPK:00000005 [INF] Request finished in 247.8508ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:27:14.5998833+07:00 0HLN672FD6JPQ:00000001 [INF] Request finished in 13234.5844ms 101  (791a596a)
2019-06-01T09:27:16.1981183+07:00 0HLN672FD6JPK:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T09:27:16.2023706+07:00 0HLN672FD6JPK:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:27:16.2060588+07:00 0HLN672FD6JPK:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:27:16.2108079+07:00 0HLN672FD6JPK:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T09:27:16.2310500+07:00 0HLN672FD6JPK:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T09:27:16.2770672+07:00 0HLN672FD6JPK:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:27:18.5467022+07:00 0HLN672FD6JPK:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:27:18.6022091+07:00 0HLN672FD6JPK:00000006 [INF] Executed DbCommand ("12"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T09:27:18.7884370+07:00 0HLN672FD6JPK:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T09:27:18.8271253+07:00 0HLN672FD6JPK:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T09:27:18.8476099+07:00 0HLN672FD6JPK:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T09:27:18.8844013+07:00 0HLN672FD6JPK:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T09:27:18.8934597+07:00 0HLN672FD6JPK:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T09:27:18.9004127+07:00 0HLN672FD6JPK:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T09:27:18.9066322+07:00 0HLN672FD6JPK:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T09:27:18.9124730+07:00 0HLN672FD6JPK:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T09:27:18.9232438+07:00 0HLN672FD6JPK:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T09:27:18.9395819+07:00 0HLN672FD6JPK:00000006 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T09:27:18.9469591+07:00 0HLN672FD6JPK:00000006 [INF] User logged in. (fdce0db4)
2019-06-01T09:27:18.9534432+07:00 0HLN672FD6JPK:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2672.3937ms. (50a9e262)
2019-06-01T09:27:18.9623384+07:00 0HLN672FD6JPK:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T09:27:18.9751749+07:00 0HLN672FD6JPK:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 2738.7764ms (afa2e885)
2019-06-01T09:27:18.9802539+07:00 0HLN672FD6JPK:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T09:27:18.9879679+07:00 0HLN672FD6JPK:00000006 [INF] Request finished in 2787.4241ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:27:19.0113898+07:00 0HLN672FD6JPK:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T09:27:19.0176015+07:00 0HLN672FD6JPK:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T09:27:19.0249270+07:00 0HLN672FD6JPK:00000007 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T09:27:19.0420220+07:00 0HLN672FD6JPK:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:27:19.0471162+07:00 0HLN672FD6JPK:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:27:19.0523695+07:00 0HLN672FD6JPK:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3294ms. (50a9e262)
2019-06-01T09:27:19.0598308+07:00 0HLN672FD6JPK:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:27:19.0760475+07:00 0HLN672FD6JPK:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:27:19.1225027+07:00 0HLN672FD6JPK:00000007 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:27:19.1552842+07:00 0HLN672FD6JPK:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:27:19.2260932+07:00 0HLN672FD6JPK:00000007 [INF] Executed DbCommand ("31"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:27:19.2403558+07:00 0HLN672FD6JPK:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:27:19.2893675+07:00 0HLN672FD6JPK:00000007 [INF] Executed DbCommand ("12"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:27:19.2972489+07:00 0HLN672FD6JPK:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:27:19.3146667+07:00 0HLN672FD6JPK:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:27:19.3198544+07:00 0HLN672FD6JPK:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:27:19.4511367+07:00 0HLN672FD6JPK:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:27:19.7263665+07:00 0HLN672FD6JPK:00000007 [INF] Executed ViewResult - view "Index" executed in 501.9503ms. (f66409e9)
2019-06-01T09:27:19.7638626+07:00 0HLN672FD6JPK:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 705.8989ms (afa2e885)
2019-06-01T09:27:19.7984501+07:00 0HLN672FD6JPK:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T09:27:19.8283209+07:00 0HLN672FD6JPK:00000007 [INF] Request finished in 791.8541ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:27:19.9451479+07:00 0HLN672FD6JPK:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:27:19.9463675+07:00 0HLN672FD6JPO:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:27:19.9581731+07:00 0HLN672FD6JPK:00000008 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:27:19.9598497+07:00 0HLN672FD6JPO:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:27:19.9687888+07:00 0HLN672FD6JPK:00000008 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:27:19.9743281+07:00 0HLN672FD6JPO:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:27:19.9938042+07:00 0HLN672FD6JPK:00000008 [INF] Request finished in 38.1259ms 200 application/json (791a596a)
2019-06-01T09:27:20.0049315+07:00 0HLN672FD6JPN:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T09:27:20.0078526+07:00 0HLN672FD6JPO:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:27:20.0166153+07:00 0HLN672FD6JPN:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T09:27:20.0204983+07:00 0HLN672FD6JPO:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:27:20.0306752+07:00 0HLN672FD6JPN:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T09:27:20.0381967+07:00 0HLN672FD6JPO:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:27:20.0393430+07:00 0HLN672FD6JPN:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:27:20.0707941+07:00 0HLN672FD6JPN:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T09:27:20.1177557+07:00 0HLN672FD6JPR:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=o7rROwnWf2uz9aSFTvK_xg   (ca22a1cb)
2019-06-01T09:27:20.1906065+07:00 0HLN672FD6JPR:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:27:20.2011267+07:00 0HLN672FD6JPO:00000004 [INF] Executed DbCommand ("25"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T09:27:20.2157946+07:00 0HLN672FD6JPR:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:27:20.2356218+07:00 0HLN672FD6JPR:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:27:20.2466541+07:00 0HLN672FD6JPO:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:27:20.2603136+07:00 0HLN672FD6JPO:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 228.6894ms. (50a9e262)
2019-06-01T09:27:20.2653273+07:00 0HLN672FD6JPO:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:27:20.3115442+07:00 0HLN672FD6JPO:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 322.9068ms (afa2e885)
2019-06-01T09:27:20.3172070+07:00 0HLN672FD6JPO:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:27:20.3342873+07:00 0HLN672FD6JPO:00000004 [INF] Request finished in 379.5159ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:27:20.3638170+07:00 0HLN672FD6JPN:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 287.2157ms. (50a9e262)
2019-06-01T09:27:20.4404623+07:00 0HLN672FD6JPN:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:27:20.4993595+07:00 0HLN672FD6JPN:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 413.0544ms (afa2e885)
2019-06-01T09:27:20.5172315+07:00 0HLN672FD6JPN:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T09:27:20.5462612+07:00 0HLN672FD6JPN:00000003 [INF] Request finished in 531.9679ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:27:24.0640709+07:00 0HLN672FD6JPN:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T09:27:24.0721664+07:00 0HLN672FD6JPN:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T09:27:24.0801094+07:00 0HLN672FD6JPN:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T09:27:24.0850546+07:00 0HLN672FD6JPN:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:27:24.0921123+07:00 0HLN672FD6JPN:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:27:24.0972088+07:00 0HLN672FD6JPN:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3721ms. (50a9e262)
2019-06-01T09:27:24.1063046+07:00 0HLN672FD6JPN:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:27:24.1251206+07:00 0HLN672FD6JPN:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:27:24.1408711+07:00 0HLN672FD6JPN:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:27:24.1463509+07:00 0HLN672FD6JPN:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:27:24.1557061+07:00 0HLN672FD6JPN:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:27:24.1605692+07:00 0HLN672FD6JPN:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:27:24.1724572+07:00 0HLN672FD6JPN:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:27:24.1769749+07:00 0HLN672FD6JPN:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:27:24.1879686+07:00 0HLN672FD6JPN:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:27:24.2083153+07:00 0HLN672FD6JPN:00000004 [INF] Executed ViewResult - view "Index" executed in 96.8155ms. (f66409e9)
2019-06-01T09:27:24.3367361+07:00 0HLN672FD6JPN:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 128.2677ms (afa2e885)
2019-06-01T09:27:24.3701189+07:00 0HLN672FD6JPR:00000001 [INF] Request finished in 4255.1386ms 101  (791a596a)
2019-06-01T09:27:24.3759159+07:00 0HLN672FD6JPN:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T09:27:24.3836468+07:00 0HLN672FD6JPN:00000004 [INF] Request finished in 319.4122ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:27:24.4420037+07:00 0HLN672FD6JPN:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:27:24.4460159+07:00 0HLN672FD6JPO:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:27:24.4619170+07:00 0HLN672FD6JPN:00000005 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:27:24.4643770+07:00 0HLN672FD6JPO:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:27:24.4790986+07:00 0HLN672FD6JPN:00000005 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:27:24.4927482+07:00 0HLN672FD6JPO:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:27:24.5058436+07:00 0HLN672FD6JPN:00000005 [INF] Request finished in 50.9821ms 200 application/json (791a596a)
2019-06-01T09:27:24.5114144+07:00 0HLN672FD6JPO:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:27:24.5594751+07:00 0HLN672FD6JPO:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:27:24.5764589+07:00 0HLN672FD6JPN:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T09:27:24.6037631+07:00 0HLN672FD6JPO:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:27:24.6480790+07:00 0HLN672FD6JPN:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T09:27:24.6804202+07:00 0HLN672FD6JPO:00000005 [INF] Executed DbCommand ("12"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T09:27:24.6828621+07:00 0HLN672FD6JPN:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T09:27:24.6859854+07:00 0HLN672FD6JPS:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=O_oEaZqfX3u-GKYKEv3WVA   (ca22a1cb)
2019-06-01T09:27:24.6989203+07:00 0HLN672FD6JPN:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:27:24.7119555+07:00 0HLN672FD6JPO:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:27:24.7314897+07:00 0HLN672FD6JPN:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" with arguments (["0", "0"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:27:24.7423255+07:00 0HLN672FD6JPO:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 152.5926ms. (50a9e262)
2019-06-01T09:27:24.7514327+07:00 0HLN672FD6JPN:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:27:24.7582036+07:00 0HLN672FD6JPO:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:27:24.7847262+07:00 0HLN672FD6JPS:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:27:24.7966257+07:00 0HLN672FD6JPO:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 265.7482ms (afa2e885)
2019-06-01T09:27:24.8012386+07:00 0HLN672FD6JPN:00000006 [INF] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Functions] AS [x]
WHERE [x].[Status] = 1" (0723d8ff)
2019-06-01T09:27:24.8176074+07:00 0HLN672FD6JPO:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:27:24.8342974+07:00 0HLN672FD6JPS:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:27:24.8486035+07:00 0HLN672FD6JPO:00000005 [INF] Request finished in 387.143ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:27:24.8782888+07:00 0HLN672FD6JPS:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:27:24.9464008+07:00 0HLN672FD6JPN:00000006 [INF] Executed DbCommand ("116"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY" (0723d8ff)
2019-06-01T09:27:24.9983429+07:00 0HLN672FD6JPN:00000006 [ERR] An exception occurred while iterating over the results of a query for context type '"Shop3.Data.EF.AppDbContext"'."
""System.Data.SqlClient.SqlException (0x80131904): The number of rows provided for a FETCH clause must be greater then zero.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at System.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at System.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:ae8c2ade-baed-40c2-95d3-b0543cee6bfd
Error Number:10744,State:1,Class:15" (f5c7ac34)
System.Data.SqlClient.SqlException (0x80131904): The number of rows provided for a FETCH clause must be greater then zero.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at System.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at System.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:ae8c2ade-baed-40c2-95d3-b0543cee6bfd
Error Number:10744,State:1,Class:15
2019-06-01T09:27:25.0778448+07:00 0HLN672FD6JPN:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 390.0041ms (afa2e885)
2019-06-01T09:27:25.0829339+07:00 0HLN672FD6JPN:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T09:27:25.2640067+07:00 0HLN672FD6JPN:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2019-06-01T09:27:25.3151680+07:00 0HLN672FD6JPN:00000006 [INF] Executed DbCommand ("39"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2019-06-01T09:27:25.3821969+07:00 0HLN672FD6JPN:00000006 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.Data.SqlClient.SqlException (0x80131904): The number of rows provided for a FETCH clause must be greater then zero.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at System.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at System.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Shop3.Application.Implementation.FunctionService.GetAll2(String filter, Int32 pageIndex, Int32 pageSize) in E:\project\shop3\Shop3.Application\Implementation\FunctionService.cs:line 102
   at Shop3.Areas.Admin.Controllers.FunctionController.GetAll(Int32 page, Int32 pageSize) in E:\project\shop3\Shop3\Areas\Admin\Controllers\FunctionController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 77
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:ae8c2ade-baed-40c2-95d3-b0543cee6bfd
Error Number:10744,State:1,Class:15
2019-06-01T09:27:25.4521911+07:00 0HLN672FD6JPN:00000006 [INF] Request finished in 888.2618ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T09:27:33.1937585+07:00 0HLN672FD6JPN:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T09:27:33.1986852+07:00 0HLN672FD6JPN:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T09:27:33.2035300+07:00 0HLN672FD6JPN:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T09:27:33.2099037+07:00 0HLN672FD6JPN:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:27:33.2152974+07:00 0HLN672FD6JPN:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" with arguments (["0", "0"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:27:33.2217622+07:00 0HLN672FD6JPN:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:27:33.2269680+07:00 0HLN672FD6JPN:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Functions] AS [x]
WHERE [x].[Status] = 1" (0723d8ff)
2019-06-01T09:27:33.2344317+07:00 0HLN672FD6JPN:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY" (0723d8ff)
2019-06-01T09:27:33.2606930+07:00 0HLN672FD6JPN:00000007 [ERR] An exception occurred while iterating over the results of a query for context type '"Shop3.Data.EF.AppDbContext"'."
""System.Data.SqlClient.SqlException (0x80131904): The number of rows provided for a FETCH clause must be greater then zero.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at System.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at System.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:ae8c2ade-baed-40c2-95d3-b0543cee6bfd
Error Number:10744,State:1,Class:15" (f5c7ac34)
System.Data.SqlClient.SqlException (0x80131904): The number of rows provided for a FETCH clause must be greater then zero.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at System.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at System.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Shop3.Application.Implementation.FunctionService.GetAll2(String filter, Int32 pageIndex, Int32 pageSize) in E:\project\shop3\Shop3.Application\Implementation\FunctionService.cs:line 102
ClientConnectionId:ae8c2ade-baed-40c2-95d3-b0543cee6bfd
Error Number:10744,State:1,Class:15
2019-06-01T09:27:33.3275307+07:00 0HLN672FD6JPN:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 117.6868ms (afa2e885)
2019-06-01T09:27:33.3348964+07:00 0HLN672FD6JPN:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T09:27:33.4232332+07:00 0HLN672FD6JPN:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2019-06-01T09:27:33.4314079+07:00 0HLN672FD6JPN:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2019-06-01T09:27:33.4784603+07:00 0HLN672FD6JPN:00000007 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.Data.SqlClient.SqlException (0x80131904): The number of rows provided for a FETCH clause must be greater then zero.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at System.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at System.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Shop3.Application.Implementation.FunctionService.GetAll2(String filter, Int32 pageIndex, Int32 pageSize) in E:\project\shop3\Shop3.Application\Implementation\FunctionService.cs:line 102
   at Shop3.Areas.Admin.Controllers.FunctionController.GetAll(Int32 page, Int32 pageSize) in E:\project\shop3\Shop3\Areas\Admin\Controllers\FunctionController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 77
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:ae8c2ade-baed-40c2-95d3-b0543cee6bfd
Error Number:10744,State:1,Class:15
2019-06-01T09:27:33.5677557+07:00 0HLN672FD6JPN:00000007 [INF] Request finished in 370.5121ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T09:29:03.3408415+07:00 0HLN673KGH57S:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T09:29:03.4797550+07:00 0HLN673KGH57S:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T09:29:03.5238267+07:00 0HLN673KGH57S:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T09:29:03.5426792+07:00 0HLN673KGH57S:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:29:03.5808876+07:00 0HLN673KGH57S:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:29:03.6835268+07:00 0HLN673KGH57S:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T09:29:03.8078487+07:00 0HLN673KGH57S:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T09:29:03.8483508+07:00 0HLN673KGH57S:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T09:29:03.9323355+07:00 0HLN673KGH57S:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T09:29:03.9575216+07:00 0HLN673KGH57S:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T09:29:04.0613595+07:00 0HLN673KGH57S:00000001 [INF] Executed DbCommand ("37"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T09:29:04.0788741+07:00 0HLN673KGH57S:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T09:29:04.1146726+07:00 0HLN673KGH57S:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T09:29:04.1404736+07:00 0HLN673KGH57S:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T09:29:04.1619714+07:00 0HLN673KGH57S:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T09:29:04.1774586+07:00 0HLN673KGH57S:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T09:29:04.2038282+07:00 0HLN673KGH57S:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T09:29:04.2256116+07:00 0HLN673KGH57S:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 665.2888ms. (50a9e262)
2019-06-01T09:29:04.2648009+07:00 0HLN673KGH57S:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:29:04.4435089+07:00 0HLN673KGH57S:00000001 [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:29:04.4605455+07:00 0HLN673KGH57S:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:29:04.5975432+07:00 0HLN673KGH57S:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:29:04.6113455+07:00 0HLN673KGH57S:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:29:04.6340666+07:00 0HLN673KGH57S:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:29:04.6484827+07:00 0HLN673KGH57S:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:29:04.8386642+07:00 0HLN673KGH57S:00000001 [INF] Executed ViewResult - view "Index" executed in 574.157ms. (f66409e9)
2019-06-01T09:29:04.9817973+07:00 0HLN673KGH57S:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 1339.045ms (afa2e885)
2019-06-01T09:29:04.9996840+07:00 0HLN673KGH57V:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T09:29:05.0051104+07:00 0HLN673KGH57S:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T09:29:05.1549454+07:00 0HLN673KGH57V:00000001 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T09:29:05.1611587+07:00 0HLN673KGH57S:00000001 [INF] Request finished in 1742.1573ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:29:05.1680633+07:00 0HLN673KGH57U:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T09:29:05.2115710+07:00 0HLN673KGH57T:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T09:29:05.2177503+07:00 0HLN673KGH57U:00000001 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T09:29:05.2344120+07:00 0HLN673KGH57T:00000001 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T09:29:05.2368617+07:00 0HLN673KGH581:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T09:29:05.2569116+07:00 0HLN673KGH581:00000001 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T09:29:05.5493512+07:00 0HLN673KGH580:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T09:29:05.5798058+07:00 0HLN673KGH580:00000001 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T09:29:05.6438459+07:00 0HLN673KGH57V:00000001 [INF] Request finished in 584.141ms 200 image/jpeg (791a596a)
2019-06-01T09:29:05.6467895+07:00 0HLN673KGH57S:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T09:29:05.8731319+07:00 0HLN673KGH580:00000001 [INF] Request finished in 128.6735ms 200 image/jpeg (791a596a)
2019-06-01T09:29:05.9743757+07:00 0HLN673KGH57T:00000001 [INF] Request finished in 755.4927ms 200 image/jpeg (791a596a)
2019-06-01T09:29:05.9772749+07:00 0HLN673KGH57S:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T09:29:06.0054941+07:00 0HLN673KGH581:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T09:29:06.0348963+07:00 0HLN673KGH57U:00000001 [INF] Request finished in 1015.4518ms 200 image/jpeg (791a596a)
2019-06-01T09:29:06.0556589+07:00 0HLN673KGH57S:00000002 [INF] Request finished in 418.8234ms 200 image/jpeg (791a596a)
2019-06-01T09:29:06.1080913+07:00 0HLN673KGH57V:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T09:29:06.1263781+07:00 0HLN673KGH57T:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T09:29:06.1387965+07:00 0HLN673KGH57V:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T09:29:06.1604617+07:00 0HLN673KGH580:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:29:06.2480342+07:00 0HLN673KGH57V:00000002 [INF] Request finished in 67.8227ms 200 image/jpeg (791a596a)
2019-06-01T09:29:06.2560559+07:00 0HLN673KGH57T:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T09:29:06.3823578+07:00 0HLN673KGH57T:00000002 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T09:29:06.3901703+07:00 0HLN673KGH581:00000001 [INF] Request finished in 1063.1113ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T09:29:06.3956066+07:00 0HLN673KGH57U:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T09:29:06.4081526+07:00 0HLN673KGH57T:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:29:06.4102924+07:00 0HLN673KGH57S:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T09:29:06.4393103+07:00 0HLN673KGH580:00000002 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:29:06.4424250+07:00 0HLN673KGH57U:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T09:29:06.4467035+07:00 0HLN673KGH57S:00000003 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T09:29:06.4743498+07:00 0HLN673KGH580:00000002 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:29:06.5048310+07:00 0HLN673KGH57U:00000002 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T09:29:06.5049246+07:00 0HLN673KGH57T:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:29:06.5539863+07:00 0HLN673KGH57U:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:29:06.5554227+07:00 0HLN673KGH57S:00000003 [INF] Request finished in 172.8794ms 200 image/jpeg (791a596a)
2019-06-01T09:29:06.6300613+07:00 0HLN673KGH57T:00000002 [INF] Executed DbCommand ("53"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T09:29:06.6630037+07:00 0HLN673KGH57U:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:29:06.6651817+07:00 0HLN673KGH57T:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 223.1374ms. (50a9e262)
2019-06-01T09:29:06.6809860+07:00 0HLN673KGH580:00000002 [INF] Request finished in 555.8973ms 200 application/json (791a596a)
2019-06-01T09:29:06.6912629+07:00 0HLN673KGH582:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=KJKK_1di4j4ssfQhcYEWKw   (ca22a1cb)
2019-06-01T09:29:06.6924158+07:00 0HLN673KGH57T:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:29:06.7082660+07:00 0HLN673KGH582:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:29:06.7378590+07:00 0HLN673KGH582:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:29:06.7413207+07:00 0HLN673KGH57U:00000002 [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T09:29:06.7609979+07:00 0HLN673KGH57U:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 188.4576ms. (50a9e262)
2019-06-01T09:29:06.7929477+07:00 0HLN673KGH57U:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:29:06.8106138+07:00 0HLN673KGH57T:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 407.8384ms (afa2e885)
2019-06-01T09:29:06.8145022+07:00 0HLN673KGH57U:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 293.0258ms (afa2e885)
2019-06-01T09:29:06.8206843+07:00 0HLN673KGH57T:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T09:29:06.8329092+07:00 0HLN673KGH57U:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T09:29:06.8330757+07:00 0HLN673KGH57T:00000002 [INF] Request finished in 721.6092ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:29:06.8422179+07:00 0HLN673KGH57U:00000002 [INF] Request finished in 537.5634ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:29:06.8776036+07:00 0HLN673KGH582:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:29:10.4478280+07:00 0HLN673KGH57U:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T09:29:10.4568303+07:00 0HLN673KGH57U:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T09:29:10.4676011+07:00 0HLN673KGH57U:00000003 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T09:29:10.4754605+07:00 0HLN673KGH57U:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:29:10.4819183+07:00 0HLN673KGH57U:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.411ms. (50a9e262)
2019-06-01T09:29:10.4967638+07:00 0HLN673KGH57U:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:29:10.6244564+07:00 0HLN673KGH57U:00000003 [INF] Executed ViewResult - view "Index" executed in 43.5823ms. (f66409e9)
2019-06-01T09:29:10.6322275+07:00 0HLN673KGH57U:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 156.9434ms (afa2e885)
2019-06-01T09:29:10.6503858+07:00 0HLN673KGH57U:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T09:29:10.6641700+07:00 0HLN673KGH57U:00000003 [INF] Request finished in 207.7044ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:29:10.7135509+07:00 0HLN673KGH582:00000001 [INF] Request finished in 4029.0276ms 101  (791a596a)
2019-06-01T09:29:12.2778700+07:00 0HLN673KGH57U:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T09:29:12.2819263+07:00 0HLN673KGH57U:00000004 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:29:12.2875365+07:00 0HLN673KGH57U:00000004 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:29:12.2925748+07:00 0HLN673KGH57U:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T09:29:12.3124793+07:00 0HLN673KGH57U:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T09:29:12.3534326+07:00 0HLN673KGH57U:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:29:14.5043839+07:00 0HLN673KGH57U:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:29:14.5764097+07:00 0HLN673KGH57U:00000004 [INF] Executed DbCommand ("24"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T09:29:14.7583476+07:00 0HLN673KGH57U:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T09:29:14.7997630+07:00 0HLN673KGH57U:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T09:29:14.8203537+07:00 0HLN673KGH57U:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T09:29:14.8519250+07:00 0HLN673KGH57U:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T09:29:14.8593108+07:00 0HLN673KGH57U:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T09:29:14.8652095+07:00 0HLN673KGH57U:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T09:29:14.8717859+07:00 0HLN673KGH57U:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T09:29:14.8770113+07:00 0HLN673KGH57U:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T09:29:14.8843377+07:00 0HLN673KGH57U:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T09:29:14.8990597+07:00 0HLN673KGH57U:00000004 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T09:29:14.9054412+07:00 0HLN673KGH57U:00000004 [INF] User logged in. (fdce0db4)
2019-06-01T09:29:14.9112357+07:00 0HLN673KGH57U:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2554.4011ms. (50a9e262)
2019-06-01T09:29:14.9212885+07:00 0HLN673KGH57U:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T09:29:14.9361312+07:00 0HLN673KGH57U:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 2612.0963ms (afa2e885)
2019-06-01T09:29:14.9409295+07:00 0HLN673KGH57U:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T09:29:14.9569509+07:00 0HLN673KGH57U:00000004 [INF] Request finished in 2667.0739ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:29:14.9733940+07:00 0HLN673KGH57U:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T09:29:14.9812611+07:00 0HLN673KGH57U:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T09:29:14.9883876+07:00 0HLN673KGH57U:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T09:29:15.0055212+07:00 0HLN673KGH57U:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:29:15.0103863+07:00 0HLN673KGH57U:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:29:15.0146579+07:00 0HLN673KGH57U:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.4291ms. (50a9e262)
2019-06-01T09:29:15.0230952+07:00 0HLN673KGH57U:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:29:15.0416011+07:00 0HLN673KGH57U:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:29:15.0888942+07:00 0HLN673KGH57U:00000005 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:29:15.1068938+07:00 0HLN673KGH57U:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:29:15.1386755+07:00 0HLN673KGH57U:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:29:15.1430479+07:00 0HLN673KGH57U:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:29:15.1652581+07:00 0HLN673KGH57U:00000005 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:29:15.1718746+07:00 0HLN673KGH57U:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:29:15.1910939+07:00 0HLN673KGH57U:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:29:15.1965360+07:00 0HLN673KGH57U:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:29:15.2475160+07:00 0HLN673KGH57U:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:29:15.4075738+07:00 0HLN673KGH57U:00000005 [INF] Executed ViewResult - view "Index" executed in 303.5394ms. (f66409e9)
2019-06-01T09:29:15.4228205+07:00 0HLN673KGH57U:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 419.2808ms (afa2e885)
2019-06-01T09:29:15.6330205+07:00 0HLN673KGH57U:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T09:29:15.7047612+07:00 0HLN673KGH57U:00000005 [INF] Request finished in 666.7014ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:29:15.7471529+07:00 0HLN673KGH57U:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:29:15.7484309+07:00 0HLN673KGH57T:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:29:15.7634463+07:00 0HLN673KGH57U:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:29:15.7670151+07:00 0HLN673KGH57T:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:29:15.7866823+07:00 0HLN673KGH57T:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:29:15.7809678+07:00 0HLN673KGH57U:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:29:15.8088058+07:00 0HLN673KGH57T:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:29:15.8194368+07:00 0HLN673KGH580:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T09:29:15.8311459+07:00 0HLN673KGH57U:00000006 [INF] Request finished in 80.4294ms 200 application/json (791a596a)
2019-06-01T09:29:15.8327389+07:00 0HLN673KGH580:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T09:29:15.8393305+07:00 0HLN673KGH57T:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:29:15.8619044+07:00 0HLN673KGH580:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T09:29:15.8673018+07:00 0HLN673KGH57T:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:29:15.9303782+07:00 0HLN673KGH580:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:29:15.9595996+07:00 0HLN673KGH583:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=8VlZGtzgDP8bIPWaxHjurw   (ca22a1cb)
2019-06-01T09:29:15.9628857+07:00 0HLN673KGH580:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T09:29:15.9991724+07:00 0HLN673KGH583:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:29:16.0090399+07:00 0HLN673KGH57T:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T09:29:16.0271125+07:00 0HLN673KGH583:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:29:16.0508630+07:00 0HLN673KGH583:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:29:16.0604934+07:00 0HLN673KGH57T:00000003 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:29:16.0796355+07:00 0HLN673KGH57T:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 228.9585ms. (50a9e262)
2019-06-01T09:29:16.0924154+07:00 0HLN673KGH57T:00000003 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:29:16.1315079+07:00 0HLN673KGH57T:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 330.3554ms (afa2e885)
2019-06-01T09:29:16.1369750+07:00 0HLN673KGH57T:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:29:16.1482389+07:00 0HLN673KGH57T:00000003 [INF] Request finished in 404.7336ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:29:16.2007480+07:00 0HLN673KGH580:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 233.0422ms. (50a9e262)
2019-06-01T09:29:16.2112797+07:00 0HLN673KGH580:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:29:16.2284461+07:00 0HLN673KGH580:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 352.1958ms (afa2e885)
2019-06-01T09:29:16.2337798+07:00 0HLN673KGH580:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T09:29:16.2457732+07:00 0HLN673KGH580:00000003 [INF] Request finished in 435.4946ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:29:21.6129541+07:00 0HLN673KGH580:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T09:29:21.6178554+07:00 0HLN673KGH580:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T09:29:21.6265385+07:00 0HLN673KGH580:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T09:29:21.6303892+07:00 0HLN673KGH580:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:29:21.6361327+07:00 0HLN673KGH580:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:29:21.6423933+07:00 0HLN673KGH580:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3778ms. (50a9e262)
2019-06-01T09:29:21.6495161+07:00 0HLN673KGH580:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:29:21.6661450+07:00 0HLN673KGH580:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:29:21.6752018+07:00 0HLN673KGH580:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:29:21.6791037+07:00 0HLN673KGH580:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:29:21.6869175+07:00 0HLN673KGH580:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:29:21.6914660+07:00 0HLN673KGH580:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:29:21.6997626+07:00 0HLN673KGH580:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:29:21.7044863+07:00 0HLN673KGH580:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:29:21.7117450+07:00 0HLN673KGH580:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:29:21.7967098+07:00 0HLN673KGH580:00000004 [INF] Executed ViewResult - view "Index" executed in 75.9322ms. (f66409e9)
2019-06-01T09:29:21.8714650+07:00 0HLN673KGH583:00000001 [INF] Request finished in 5876.2347ms 101  (791a596a)
2019-06-01T09:29:21.8902195+07:00 0HLN673KGH580:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 170.3173ms (afa2e885)
2019-06-01T09:29:21.9031962+07:00 0HLN673KGH57T:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/function/index.js?v=TF40IzT4StO1ELgpdnCLDZRqXZ8eP2_PvLUme0Qd_hU   (ca22a1cb)
2019-06-01T09:29:21.9072702+07:00 0HLN673KGH580:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T09:29:21.9248049+07:00 0HLN673KGH57S:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:29:21.9293920+07:00 0HLN673KGH580:00000004 [INF] Request finished in 302.2803ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:29:21.9393029+07:00 0HLN673KGH57S:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:29:21.9730469+07:00 0HLN673KGH57T:00000004 [INF] The file "/app/controllers/function/index.js" was not modified (f1f8d725)
2019-06-01T09:29:21.9792861+07:00 0HLN673KGH57S:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:29:21.9869681+07:00 0HLN673KGH57T:00000004 [INF] Request finished in 190.9019ms 304 application/javascript (791a596a)
2019-06-01T09:29:21.9934633+07:00 0HLN673KGH57S:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:29:22.0974234+07:00 0HLN673KGH57S:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:29:22.1005410+07:00 0HLN673KGH57T:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T09:29:22.1400322+07:00 0HLN673KGH57S:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:29:22.1444519+07:00 0HLN673KGH57T:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T09:29:22.1507616+07:00 0HLN673KGH57U:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:29:22.1581414+07:00 0HLN673KGH57S:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T09:29:22.1756264+07:00 0HLN673KGH57T:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T09:29:22.1813015+07:00 0HLN673KGH57S:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:29:22.2061499+07:00 0HLN673KGH57T:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:29:22.2108531+07:00 0HLN673KGH57S:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 83.9552ms. (50a9e262)
2019-06-01T09:29:22.2183891+07:00 0HLN673KGH57T:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" with arguments (["0", "0"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:29:22.2277261+07:00 0HLN673KGH57S:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:29:22.2423279+07:00 0HLN673KGH57T:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:29:22.2445580+07:00 0HLN673KGH57S:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 248.616ms (afa2e885)
2019-06-01T09:29:22.2464140+07:00 0HLN673KGH57U:00000007 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:29:22.2634093+07:00 0HLN673KGH57S:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:29:22.2778844+07:00 0HLN673KGH57T:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Functions] AS [x]
WHERE [x].[Status] = 1" (0723d8ff)
2019-06-01T09:29:22.2804653+07:00 0HLN673KGH57S:00000004 [INF] Request finished in 356.2409ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:29:22.2846183+07:00 0HLN673KGH57U:00000007 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:29:22.3128513+07:00 0HLN673KGH57U:00000007 [INF] Request finished in 380.2138ms 200 application/json (791a596a)
2019-06-01T09:29:22.3154294+07:00 0HLN673KGH57T:00000005 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[SortOrder]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY" (0723d8ff)
2019-06-01T09:29:22.3310950+07:00 0HLN673KGH584:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=SsDRmjVu59bJ2Mgu5fTndg   (ca22a1cb)
2019-06-01T09:29:22.3444907+07:00 0HLN673KGH584:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:29:22.3661181+07:00 0HLN673KGH584:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:29:22.4301686+07:00 0HLN673KGH584:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:29:22.4308262+07:00 0HLN673KGH57T:00000005 [ERR] An exception occurred while iterating over the results of a query for context type '"Shop3.Data.EF.AppDbContext"'."
""System.Data.SqlClient.SqlException (0x80131904): The number of rows provided for a FETCH clause must be greater then zero.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at System.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at System.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:4f8237eb-5333-4474-bdb4-86c44a83de58
Error Number:10744,State:1,Class:15" (f5c7ac34)
System.Data.SqlClient.SqlException (0x80131904): The number of rows provided for a FETCH clause must be greater then zero.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at System.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at System.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Shop3.Application.Implementation.FunctionService.GetAll2(String filter, Int32 pageIndex, Int32 pageSize) in E:\project\shop3\Shop3.Application\Implementation\FunctionService.cs:line 102
   at Shop3.Areas.Admin.Controllers.FunctionController.GetAll(Int32 page, Int32 pageSize) in E:\project\shop3\Shop3\Areas\Admin\Controllers\FunctionController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
ClientConnectionId:4f8237eb-5333-4474-bdb4-86c44a83de58
Error Number:10744,State:1,Class:15
2019-06-01T09:29:22.5243388+07:00 0HLN673KGH57T:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 339.7978ms (afa2e885)
2019-06-01T09:29:22.5313599+07:00 0HLN673KGH57T:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T09:29:22.6900112+07:00 0HLN673KGH57T:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2019-06-01T09:29:22.7056666+07:00 0HLN673KGH57T:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2019-06-01T09:29:22.7564818+07:00 0HLN673KGH57T:00000005 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.Data.SqlClient.SqlException (0x80131904): The number of rows provided for a FETCH clause must be greater then zero.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at System.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at System.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Shop3.Application.Implementation.FunctionService.GetAll2(String filter, Int32 pageIndex, Int32 pageSize) in E:\project\shop3\Shop3.Application\Implementation\FunctionService.cs:line 102
   at Shop3.Areas.Admin.Controllers.FunctionController.GetAll(Int32 page, Int32 pageSize) in E:\project\shop3\Shop3\Areas\Admin\Controllers\FunctionController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 77
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:4f8237eb-5333-4474-bdb4-86c44a83de58
Error Number:10744,State:1,Class:15
2019-06-01T09:29:22.8104948+07:00 0HLN673KGH57T:00000005 [INF] Request finished in 721.7081ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T09:29:29.6442623+07:00 0HLN673KGH57T:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T09:29:29.6487025+07:00 0HLN673KGH57T:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T09:29:29.6541499+07:00 0HLN673KGH57T:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T09:29:29.6580983+07:00 0HLN673KGH57T:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:29:29.6620707+07:00 0HLN673KGH57T:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" with arguments (["0", "0"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:29:29.6674742+07:00 0HLN673KGH57T:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:29:29.6731666+07:00 0HLN673KGH57T:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Functions] AS [x]
WHERE [x].[Status] = 1" (0723d8ff)
2019-06-01T09:29:29.6789921+07:00 0HLN673KGH57T:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[SortOrder]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY" (0723d8ff)
2019-06-01T09:29:29.6999743+07:00 0HLN673KGH57T:00000006 [ERR] An exception occurred while iterating over the results of a query for context type '"Shop3.Data.EF.AppDbContext"'."
""System.Data.SqlClient.SqlException (0x80131904): The number of rows provided for a FETCH clause must be greater then zero.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at System.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at System.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:4f8237eb-5333-4474-bdb4-86c44a83de58
Error Number:10744,State:1,Class:15" (f5c7ac34)
System.Data.SqlClient.SqlException (0x80131904): The number of rows provided for a FETCH clause must be greater then zero.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at System.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at System.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Shop3.Application.Implementation.FunctionService.GetAll2(String filter, Int32 pageIndex, Int32 pageSize) in E:\project\shop3\Shop3.Application\Implementation\FunctionService.cs:line 102
ClientConnectionId:4f8237eb-5333-4474-bdb4-86c44a83de58
Error Number:10744,State:1,Class:15
2019-06-01T09:29:29.7639410+07:00 0HLN673KGH57T:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 105.0788ms (afa2e885)
2019-06-01T09:29:29.7682011+07:00 0HLN673KGH57T:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T09:29:29.8464012+07:00 0HLN673KGH57T:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2019-06-01T09:29:29.8545736+07:00 0HLN673KGH57T:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2019-06-01T09:29:29.9071783+07:00 0HLN673KGH57T:00000006 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.Data.SqlClient.SqlException (0x80131904): The number of rows provided for a FETCH clause must be greater then zero.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at System.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at System.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Shop3.Application.Implementation.FunctionService.GetAll2(String filter, Int32 pageIndex, Int32 pageSize) in E:\project\shop3\Shop3.Application\Implementation\FunctionService.cs:line 102
   at Shop3.Areas.Admin.Controllers.FunctionController.GetAll(Int32 page, Int32 pageSize) in E:\project\shop3\Shop3\Areas\Admin\Controllers\FunctionController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 77
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:4f8237eb-5333-4474-bdb4-86c44a83de58
Error Number:10744,State:1,Class:15
2019-06-01T09:29:29.9991375+07:00 0HLN673KGH57T:00000006 [INF] Request finished in 351.0889ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T09:29:51.1801302+07:00 0HLN673KGH57T:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T09:29:51.1841769+07:00 0HLN673KGH57T:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T09:29:51.1898939+07:00 0HLN673KGH57T:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T09:29:51.1943919+07:00 0HLN673KGH57T:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:29:51.2004666+07:00 0HLN673KGH57T:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" with arguments (["0", "0"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:30:10.0879707+07:00 0HLN673KGH57T:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:30:21.9221994+07:00 0HLN673KGH57T:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Functions] AS [x]
WHERE [x].[Status] = 1" (0723d8ff)
2019-06-01T09:30:40.8557899+07:00 0HLN673KGH57T:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[SortOrder]
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY" (0723d8ff)
2019-06-01T09:30:40.8732000+07:00 0HLN673KGH57T:00000007 [ERR] An exception occurred while iterating over the results of a query for context type '"Shop3.Data.EF.AppDbContext"'."
""System.Data.SqlClient.SqlException (0x80131904): The number of rows provided for a FETCH clause must be greater then zero.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at System.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at System.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:4f8237eb-5333-4474-bdb4-86c44a83de58
Error Number:10744,State:1,Class:15" (f5c7ac34)
System.Data.SqlClient.SqlException (0x80131904): The number of rows provided for a FETCH clause must be greater then zero.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at System.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at System.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Shop3.Application.Implementation.FunctionService.GetAll2(String filter, Int32 pageIndex, Int32 pageSize) in E:\project\shop3\Shop3.Application\Implementation\FunctionService.cs:line 102
ClientConnectionId:4f8237eb-5333-4474-bdb4-86c44a83de58
Error Number:10744,State:1,Class:15
2019-06-01T09:30:40.9824106+07:00 0HLN673KGH57T:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 49789.0073ms (afa2e885)
2019-06-01T09:30:40.9908540+07:00 0HLN673KGH57T:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T09:31:03.2839036+07:00 0HLN673KGH57T:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2019-06-01T09:31:03.2891660+07:00 0HLN673KGH57T:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2019-06-01T09:31:03.3159406+07:00 0HLN673KGH57T:00000007 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.Data.SqlClient.SqlException (0x80131904): The number of rows provided for a FETCH clause must be greater then zero.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at System.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at System.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Shop3.Application.Implementation.FunctionService.GetAll2(String filter, Int32 pageIndex, Int32 pageSize) in E:\project\shop3\Shop3.Application\Implementation\FunctionService.cs:line 102
   at Shop3.Areas.Admin.Controllers.FunctionController.GetAll(Int32 page, Int32 pageSize) in E:\project\shop3\Shop3\Areas\Admin\Controllers\FunctionController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 77
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:4f8237eb-5333-4474-bdb4-86c44a83de58
Error Number:10744,State:1,Class:15
2019-06-01T09:31:03.4044319+07:00 0HLN673KGH57T:00000007 [INF] Request finished in 72207.5505ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T09:31:03.5767214+07:00 0HLN673KGH57T:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T09:31:03.5979957+07:00 0HLN673KGH57T:00000008 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T09:31:03.6093606+07:00 0HLN673KGH57T:00000008 [INF] Request finished in 32.7724ms 200 image/x-icon (791a596a)
2019-06-01T09:33:59.8634811+07:00 0HLN676D0KOCT:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T09:33:59.9774933+07:00 0HLN676D0KOCT:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T09:34:00.0135555+07:00 0HLN676D0KOCT:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T09:34:00.0335051+07:00 0HLN676D0KOCT:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:34:00.0552491+07:00 0HLN676D0KOCT:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:34:00.1251334+07:00 0HLN676D0KOCT:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T09:34:00.2104970+07:00 0HLN676D0KOCT:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T09:34:00.2294369+07:00 0HLN676D0KOCT:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T09:34:00.3068731+07:00 0HLN676D0KOCT:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T09:34:00.3374220+07:00 0HLN676D0KOCT:00000001 [INF] Executed DbCommand ("9"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T09:34:00.3801169+07:00 0HLN676D0KOCT:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T09:34:00.3990789+07:00 0HLN676D0KOCT:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T09:34:00.4342227+07:00 0HLN676D0KOCT:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T09:34:00.4480135+07:00 0HLN676D0KOCT:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T09:34:00.4595244+07:00 0HLN676D0KOCT:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T09:34:00.4652201+07:00 0HLN676D0KOCT:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T09:34:00.4846419+07:00 0HLN676D0KOCT:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T09:34:00.4980585+07:00 0HLN676D0KOCT:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 455.3317ms. (50a9e262)
2019-06-01T09:34:00.5493549+07:00 0HLN676D0KOCT:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:34:00.7651608+07:00 0HLN676D0KOCT:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:34:00.7798425+07:00 0HLN676D0KOCT:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:34:00.9460967+07:00 0HLN676D0KOCT:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:34:00.9628381+07:00 0HLN676D0KOCT:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:34:00.9878473+07:00 0HLN676D0KOCT:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:34:00.9955774+07:00 0HLN676D0KOCT:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:34:01.1543826+07:00 0HLN676D0KOCT:00000001 [INF] Executed ViewResult - view "Index" executed in 561.5745ms. (f66409e9)
2019-06-01T09:34:01.1652576+07:00 0HLN676D0KOCT:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 1141.9326ms (afa2e885)
2019-06-01T09:34:01.1733372+07:00 0HLN676D0KOCT:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T09:34:01.1953782+07:00 0HLN676D0KOCT:00000001 [INF] Request finished in 1373.6846ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:34:01.2970708+07:00 0HLN676D0KOCT:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T09:34:01.3020759+07:00 0HLN676D0KOCU:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T09:34:01.3046306+07:00 0HLN676D0KOD2:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T09:34:01.3060000+07:00 0HLN676D0KOCV:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T09:34:01.3928644+07:00 0HLN676D0KOD2:00000001 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T09:34:01.3957969+07:00 0HLN676D0KOCT:00000002 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T09:34:01.4037830+07:00 0HLN676D0KOCV:00000001 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T09:34:01.5222337+07:00 0HLN676D0KOCU:00000001 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T09:34:01.6810044+07:00 0HLN676D0KOD0:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T09:34:01.6917717+07:00 0HLN676D0KOD1:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T09:34:01.6997478+07:00 0HLN676D0KOD0:00000001 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T09:34:01.7057137+07:00 0HLN676D0KOD1:00000001 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T09:34:01.7377979+07:00 0HLN676D0KOD0:00000001 [INF] Request finished in 44.6736ms 200 image/jpeg (791a596a)
2019-06-01T09:34:01.9591950+07:00 0HLN676D0KOD1:00000001 [INF] Request finished in 103.1293ms 200 image/jpeg (791a596a)
2019-06-01T09:34:02.1981130+07:00 0HLN676D0KOD2:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T09:34:02.2472100+07:00 0HLN676D0KOCT:00000002 [INF] Request finished in 593.4641ms 200 image/jpeg (791a596a)
2019-06-01T09:34:02.3437009+07:00 0HLN676D0KOCU:00000001 [INF] Request finished in 874.2343ms 200 image/jpeg (791a596a)
2019-06-01T09:34:02.4660093+07:00 0HLN676D0KOD1:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T09:34:02.4932040+07:00 0HLN676D0KOCV:00000001 [INF] Request finished in 1165.471ms 200 image/jpeg (791a596a)
2019-06-01T09:34:02.4954387+07:00 0HLN676D0KOD2:00000001 [INF] Request finished in 1184.2833ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T09:34:02.4972873+07:00 0HLN676D0KOD1:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T09:34:02.5074034+07:00 0HLN676D0KOCT:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T09:34:02.5189878+07:00 0HLN676D0KOCT:00000003 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T09:34:02.5740577+07:00 0HLN676D0KOD1:00000002 [INF] Request finished in 296.0612ms 200 image/jpeg (791a596a)
2019-06-01T09:34:02.5973754+07:00 0HLN676D0KOCT:00000003 [INF] Request finished in 193.5157ms 200 image/jpeg (791a596a)
2019-06-01T09:34:02.7732247+07:00 0HLN676D0KOD1:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T09:34:02.7775045+07:00 0HLN676D0KOD2:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T09:34:02.7823373+07:00 0HLN676D0KOCT:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:34:02.8087151+07:00 0HLN676D0KOD1:00000003 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T09:34:02.8124521+07:00 0HLN676D0KOD2:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T09:34:02.8256997+07:00 0HLN676D0KOD1:00000003 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T09:34:02.8290088+07:00 0HLN676D0KOD2:00000002 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T09:34:02.8495019+07:00 0HLN676D0KOD1:00000003 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:34:02.8533084+07:00 0HLN676D0KOD2:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:34:02.8757375+07:00 0HLN676D0KOD1:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:34:02.8938343+07:00 0HLN676D0KOD2:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:34:02.9266818+07:00 0HLN676D0KOD1:00000003 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T09:34:02.9283019+07:00 0HLN676D0KOCT:00000004 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:34:02.9968122+07:00 0HLN676D0KOD2:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T09:34:02.9989004+07:00 0HLN676D0KOD1:00000003 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 80.4536ms. (50a9e262)
2019-06-01T09:34:03.0003355+07:00 0HLN676D0KOCT:00000004 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:34:03.0185780+07:00 0HLN676D0KOD2:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 146.0191ms. (50a9e262)
2019-06-01T09:34:03.0331670+07:00 0HLN676D0KOD1:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:34:03.0345706+07:00 0HLN676D0KOD2:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:34:03.1411768+07:00 0HLN676D0KOCT:00000004 [INF] Request finished in 362.0345ms 200 application/json (791a596a)
2019-06-01T09:34:03.1609774+07:00 0HLN676D0KOD2:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 309.9751ms (afa2e885)
2019-06-01T09:34:03.1632281+07:00 0HLN676D0KOD1:00000003 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 313.2928ms (afa2e885)
2019-06-01T09:34:03.1727095+07:00 0HLN676D0KOD2:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T09:34:03.1764748+07:00 0HLN676D0KOD3:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=4kDMTCZT4BAQQGmS4AFe0A   (ca22a1cb)
2019-06-01T09:34:03.1901888+07:00 0HLN676D0KOD2:00000002 [INF] Request finished in 413.31ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:34:03.1923403+07:00 0HLN676D0KOD1:00000003 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T09:34:03.1932891+07:00 0HLN676D0KOD3:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:34:03.2071599+07:00 0HLN676D0KOD3:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:34:03.2176079+07:00 0HLN676D0KOD1:00000003 [INF] Request finished in 446.5678ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:34:03.3364579+07:00 0HLN676D0KOD3:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:34:05.4164709+07:00 0HLN676D0KOD1:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T09:34:05.4272205+07:00 0HLN676D0KOD1:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T09:34:05.4598810+07:00 0HLN676D0KOD1:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T09:34:05.4663503+07:00 0HLN676D0KOD1:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:34:05.4789920+07:00 0HLN676D0KOD1:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.4196ms. (50a9e262)
2019-06-01T09:34:05.5308146+07:00 0HLN676D0KOD1:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:34:05.6161003+07:00 0HLN676D0KOD1:00000004 [INF] Executed ViewResult - view "Index" executed in 79.771ms. (f66409e9)
2019-06-01T09:34:05.6648014+07:00 0HLN676D0KOD1:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 156.3933ms (afa2e885)
2019-06-01T09:34:05.6731296+07:00 0HLN676D0KOD1:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T09:34:05.6811739+07:00 0HLN676D0KOD1:00000004 [INF] Request finished in 268.2176ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:34:05.7443632+07:00 0HLN676D0KOD3:00000001 [INF] Request finished in 2565.4826ms 101  (791a596a)
2019-06-01T09:34:07.3484390+07:00 0HLN676D0KOD1:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T09:34:07.3526236+07:00 0HLN676D0KOD1:00000005 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:34:07.3583844+07:00 0HLN676D0KOD1:00000005 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:34:07.3622220+07:00 0HLN676D0KOD1:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T09:34:07.3829214+07:00 0HLN676D0KOD1:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T09:34:07.4276398+07:00 0HLN676D0KOD1:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:34:10.0703764+07:00 0HLN676D0KOD1:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:34:10.1561795+07:00 0HLN676D0KOD1:00000005 [INF] Executed DbCommand ("39"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T09:34:10.3433830+07:00 0HLN676D0KOD1:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T09:34:10.3902671+07:00 0HLN676D0KOD1:00000005 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T09:34:10.4122564+07:00 0HLN676D0KOD1:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T09:34:10.4400754+07:00 0HLN676D0KOD1:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T09:34:10.4472857+07:00 0HLN676D0KOD1:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T09:34:10.4539872+07:00 0HLN676D0KOD1:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T09:34:10.4592233+07:00 0HLN676D0KOD1:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T09:34:10.4646937+07:00 0HLN676D0KOD1:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T09:34:10.4733436+07:00 0HLN676D0KOD1:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T09:34:10.4932069+07:00 0HLN676D0KOD1:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T09:34:10.4998255+07:00 0HLN676D0KOD1:00000005 [INF] User logged in. (fdce0db4)
2019-06-01T09:34:10.5070986+07:00 0HLN676D0KOD1:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3074.3482ms. (50a9e262)
2019-06-01T09:34:10.5156647+07:00 0HLN676D0KOD1:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T09:34:10.5275067+07:00 0HLN676D0KOD1:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 3141.0468ms (afa2e885)
2019-06-01T09:34:10.5321365+07:00 0HLN676D0KOD1:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T09:34:10.5406780+07:00 0HLN676D0KOD1:00000005 [INF] Request finished in 3188.3629ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:34:10.5579842+07:00 0HLN676D0KOD1:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T09:34:10.5643854+07:00 0HLN676D0KOD1:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T09:34:10.5707649+07:00 0HLN676D0KOD1:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T09:34:10.5876876+07:00 0HLN676D0KOD1:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:10.5927387+07:00 0HLN676D0KOD1:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:34:10.5969217+07:00 0HLN676D0KOD1:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3117ms. (50a9e262)
2019-06-01T09:34:10.6047301+07:00 0HLN676D0KOD1:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:34:10.6201109+07:00 0HLN676D0KOD1:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:34:10.6680355+07:00 0HLN676D0KOD1:00000006 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:34:10.6889093+07:00 0HLN676D0KOD1:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:10.7212723+07:00 0HLN676D0KOD1:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:34:10.7254168+07:00 0HLN676D0KOD1:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:10.7435333+07:00 0HLN676D0KOD1:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:34:10.7475472+07:00 0HLN676D0KOD1:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:10.7668083+07:00 0HLN676D0KOD1:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:34:10.7707353+07:00 0HLN676D0KOD1:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:10.8262688+07:00 0HLN676D0KOD1:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:34:11.1150968+07:00 0HLN676D0KOD1:00000006 [INF] Executed ViewResult - view "Index" executed in 348.4776ms. (f66409e9)
2019-06-01T09:34:11.1406841+07:00 0HLN676D0KOD2:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/common.js?v=y7DqmVon23ErVGJwRwyGN-e1OscQoN09ThbEz09BtJA   (ca22a1cb)
2019-06-01T09:34:11.1458217+07:00 0HLN676D0KOCT:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=-NTPIAAUoLME9zXM3rOh6LLVj8Oq8-uW2W7i4qSZEpM   (ca22a1cb)
2019-06-01T09:34:11.1593299+07:00 0HLN676D0KOD1:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 551.314ms (afa2e885)
2019-06-01T09:34:11.1811853+07:00 0HLN676D0KOCT:00000005 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T09:34:11.1897918+07:00 0HLN676D0KOD2:00000003 [INF] The file "/app/shared/common.js" was not modified (f1f8d725)
2019-06-01T09:34:11.2039509+07:00 0HLN676D0KOCT:00000005 [INF] Request finished in 79.3652ms 304 application/javascript (791a596a)
2019-06-01T09:34:11.2063603+07:00 0HLN676D0KOD2:00000003 [INF] Request finished in 84.8503ms 304 application/javascript (791a596a)
2019-06-01T09:34:11.2147993+07:00 0HLN676D0KOD1:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T09:34:11.2412223+07:00 0HLN676D0KOD1:00000006 [INF] Request finished in 669.3594ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:34:11.3299397+07:00 0HLN676D0KOD1:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:34:11.3421137+07:00 0HLN676D0KOD1:00000007 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:34:11.3608382+07:00 0HLN676D0KOD1:00000007 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:34:11.3618297+07:00 0HLN676D0KOD2:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:34:11.3747147+07:00 0HLN676D0KOD1:00000007 [INF] Request finished in 37.89ms 200 application/json (791a596a)
2019-06-01T09:34:11.3766822+07:00 0HLN676D0KOD2:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:34:11.3851213+07:00 0HLN676D0KOD2:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:34:11.3932673+07:00 0HLN676D0KOD2:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:11.4222662+07:00 0HLN676D0KOD2:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:34:11.4304045+07:00 0HLN676D0KOD1:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T09:34:11.4457501+07:00 0HLN676D0KOD2:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:34:11.4567388+07:00 0HLN676D0KOD1:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T09:34:11.5313759+07:00 0HLN676D0KOD1:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T09:34:11.5459773+07:00 0HLN676D0KOD2:00000004 [INF] Executed DbCommand ("46"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T09:34:11.5471634+07:00 0HLN676D0KOD1:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:11.5671797+07:00 0HLN676D0KOD4:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=wb_KJnHdTzGytLckGFUYhg   (ca22a1cb)
2019-06-01T09:34:11.5742739+07:00 0HLN676D0KOD1:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T09:34:11.5960421+07:00 0HLN676D0KOD4:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:34:11.6006730+07:00 0HLN676D0KOD2:00000004 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:34:11.6191748+07:00 0HLN676D0KOD4:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:34:11.6254841+07:00 0HLN676D0KOD2:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 181.1895ms. (50a9e262)
2019-06-01T09:34:11.6748392+07:00 0HLN676D0KOD2:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:34:11.6984949+07:00 0HLN676D0KOD4:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:34:11.7126553+07:00 0HLN676D0KOD2:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 301.3552ms (afa2e885)
2019-06-01T09:34:11.7679697+07:00 0HLN676D0KOD2:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:34:11.9158789+07:00 0HLN676D0KOD2:00000004 [INF] Request finished in 418.4021ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:34:11.9814990+07:00 0HLN676D0KOD1:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 402.6495ms. (50a9e262)
2019-06-01T09:34:11.9897927+07:00 0HLN676D0KOD1:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:34:12.0020979+07:00 0HLN676D0KOD1:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 460.1875ms (afa2e885)
2019-06-01T09:34:12.0136918+07:00 0HLN676D0KOD1:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T09:34:12.0245520+07:00 0HLN676D0KOD1:00000008 [INF] Request finished in 606.4429ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:34:17.8705695+07:00 0HLN676D0KOD1:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T09:34:17.8758847+07:00 0HLN676D0KOD1:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T09:34:17.8818712+07:00 0HLN676D0KOD1:00000009 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T09:34:17.8874888+07:00 0HLN676D0KOD1:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:17.8930084+07:00 0HLN676D0KOD1:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:34:17.8974580+07:00 0HLN676D0KOD1:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2153ms. (50a9e262)
2019-06-01T09:34:17.9052397+07:00 0HLN676D0KOD1:00000009 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:34:17.9212057+07:00 0HLN676D0KOD1:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:34:17.9316963+07:00 0HLN676D0KOD1:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:34:17.9351540+07:00 0HLN676D0KOD1:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:17.9439753+07:00 0HLN676D0KOD1:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:34:17.9480357+07:00 0HLN676D0KOD1:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:17.9564894+07:00 0HLN676D0KOD1:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:34:17.9614297+07:00 0HLN676D0KOD1:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:17.9674572+07:00 0HLN676D0KOD1:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:34:17.9823035+07:00 0HLN676D0KOD1:00000009 [INF] Executed ViewResult - view "Index" executed in 76.1829ms. (f66409e9)
2019-06-01T09:34:18.0093865+07:00 0HLN676D0KOD1:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 101.4431ms (afa2e885)
2019-06-01T09:34:18.0165902+07:00 0HLN676D0KOD4:00000001 [INF] Request finished in 6460.4509ms 101  (791a596a)
2019-06-01T09:34:18.0202370+07:00 0HLN676D0KOD1:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T09:34:18.0488585+07:00 0HLN676D0KOD1:00000009 [INF] Request finished in 160.3986ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:34:18.1761794+07:00 0HLN676D0KOD1:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:34:18.1779119+07:00 0HLN676D0KOD2:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:34:18.2140760+07:00 0HLN676D0KOD1:0000000A [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:34:18.2182184+07:00 0HLN676D0KOD2:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:34:18.2323985+07:00 0HLN676D0KOD1:0000000A [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:34:18.2424998+07:00 0HLN676D0KOD2:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:34:18.2673191+07:00 0HLN676D0KOD1:0000000A [INF] Request finished in 74.6465ms 200 application/json (791a596a)
2019-06-01T09:34:18.2696932+07:00 0HLN676D0KOD2:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:18.3127960+07:00 0HLN676D0KOCT:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T09:34:18.3178851+07:00 0HLN676D0KOD2:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:34:18.3291397+07:00 0HLN676D0KOCT:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T09:34:18.3423311+07:00 0HLN676D0KOD2:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:34:18.3576644+07:00 0HLN676D0KOCT:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T09:34:18.3750129+07:00 0HLN676D0KOD2:00000005 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T09:34:18.3830116+07:00 0HLN676D0KOD5:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=fT6wZf2lZDI6OuzJ_8s0dw   (ca22a1cb)
2019-06-01T09:34:18.4086917+07:00 0HLN676D0KOD5:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:34:18.4116098+07:00 0HLN676D0KOD2:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:34:18.4187971+07:00 0HLN676D0KOD5:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:34:18.4258260+07:00 0HLN676D0KOD2:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 93.8132ms. (50a9e262)
2019-06-01T09:34:18.4275819+07:00 0HLN676D0KOCT:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:18.4430839+07:00 0HLN676D0KOD2:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:34:18.4507252+07:00 0HLN676D0KOCT:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" with arguments (["0", "0"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:34:18.4650596+07:00 0HLN676D0KOD2:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 200.7977ms (afa2e885)
2019-06-01T09:34:18.4680422+07:00 0HLN676D0KOCT:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:34:18.4946038+07:00 0HLN676D0KOD5:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:34:18.5162538+07:00 0HLN676D0KOD2:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:34:18.5514944+07:00 0HLN676D0KOCT:00000006 [INF] Executed DbCommand ("48"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:34:18.5672249+07:00 0HLN676D0KOD2:00000005 [INF] Request finished in 358.252ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:34:18.5930247+07:00 0HLN676D0KOCT:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 103.8202ms. (50a9e262)
2019-06-01T09:34:18.6080609+07:00 0HLN676D0KOCT:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:34:18.6675054+07:00 0HLN676D0KOCT:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 254.4129ms (afa2e885)
2019-06-01T09:34:18.6790069+07:00 0HLN676D0KOCT:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T09:34:18.6928871+07:00 0HLN676D0KOCT:00000006 [INF] Request finished in 453.8498ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:34:24.4565763+07:00 0HLN676D0KOCT:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T09:34:24.4635823+07:00 0HLN676D0KOCT:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T09:34:24.4678629+07:00 0HLN676D0KOCT:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T09:34:24.4743203+07:00 0HLN676D0KOCT:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:24.4796020+07:00 0HLN676D0KOCT:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" with arguments (["0", "0"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:34:24.4847286+07:00 0HLN676D0KOCT:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:34:24.4927658+07:00 0HLN676D0KOCT:00000007 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:34:24.4998974+07:00 0HLN676D0KOCT:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 14.0147ms. (50a9e262)
2019-06-01T09:34:24.5041316+07:00 0HLN676D0KOCT:00000007 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:34:24.5106362+07:00 0HLN676D0KOCT:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 36.7289ms (afa2e885)
2019-06-01T09:34:24.5145160+07:00 0HLN676D0KOCT:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T09:34:24.5200409+07:00 0HLN676D0KOCT:00000007 [INF] Request finished in 70.9053ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:34:25.9329415+07:00 0HLN676D0KOCT:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T09:34:25.9415244+07:00 0HLN676D0KOCT:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T09:34:25.9473674+07:00 0HLN676D0KOCT:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T09:34:25.9528910+07:00 0HLN676D0KOCT:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:25.9573764+07:00 0HLN676D0KOCT:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" with arguments (["0", "0"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:34:25.9616672+07:00 0HLN676D0KOCT:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:34:25.9682629+07:00 0HLN676D0KOCT:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:34:25.9732844+07:00 0HLN676D0KOCT:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 11.3546ms. (50a9e262)
2019-06-01T09:34:25.9777455+07:00 0HLN676D0KOCT:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:34:25.9841582+07:00 0HLN676D0KOCT:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 30.7888ms (afa2e885)
2019-06-01T09:34:25.9887409+07:00 0HLN676D0KOCT:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T09:34:25.9936967+07:00 0HLN676D0KOCT:00000008 [INF] Request finished in 66.9866ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:34:27.1799354+07:00 0HLN676D0KOCT:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T09:34:27.1845868+07:00 0HLN676D0KOCT:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T09:34:27.1912054+07:00 0HLN676D0KOCT:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T09:34:27.1962607+07:00 0HLN676D0KOCT:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:27.2010680+07:00 0HLN676D0KOCT:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" with arguments (["0", "0"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:34:27.2061987+07:00 0HLN676D0KOCT:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:34:27.2124129+07:00 0HLN676D0KOCT:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:34:27.2173696+07:00 0HLN676D0KOCT:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 11.6262ms. (50a9e262)
2019-06-01T09:34:27.2221568+07:00 0HLN676D0KOCT:00000009 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:34:27.2280916+07:00 0HLN676D0KOCT:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 31.0477ms (afa2e885)
2019-06-01T09:34:27.2319148+07:00 0HLN676D0KOCT:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T09:34:27.2374996+07:00 0HLN676D0KOCT:00000009 [INF] Request finished in 57.0403ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:34:42.7668136+07:00 0HLN676D0KOCT:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/index   (ca22a1cb)
2019-06-01T09:34:42.7725544+07:00 0HLN676D0KOCT:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (500cc934)
2019-06-01T09:34:42.7785921+07:00 0HLN676D0KOCT:0000000A [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" (a44c0341)
2019-06-01T09:34:42.7823427+07:00 0HLN676D0KOCT:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:42.7863869+07:00 0HLN676D0KOCT:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:34:42.7914684+07:00 0HLN676D0KOCT:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3052ms. (50a9e262)
2019-06-01T09:34:42.7991405+07:00 0HLN676D0KOCT:0000000A [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:34:42.8102060+07:00 0HLN676D0KOCT:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:34:42.8265912+07:00 0HLN676D0KOCT:0000000A [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:34:42.8302646+07:00 0HLN676D0KOCT:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:42.8466827+07:00 0HLN676D0KOCT:0000000A [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:34:42.8509723+07:00 0HLN676D0KOCT:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:42.8642002+07:00 0HLN676D0KOCT:0000000A [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:34:42.8689596+07:00 0HLN676D0KOCT:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:42.8894421+07:00 0HLN676D0KOCT:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:34:42.8926400+07:00 0HLN676D0KOCT:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:42.8996845+07:00 0HLN676D0KOCT:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:34:42.9046613+07:00 0HLN676D0KOCT:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:42.9118650+07:00 0HLN676D0KOCT:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:34:42.9168012+07:00 0HLN676D0KOCT:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:42.9254239+07:00 0HLN676D0KOCT:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:34:42.9380516+07:00 0HLN676D0KOCT:0000000A [INF] Executed ViewResult - view "Index" executed in 139.6725ms. (f66409e9)
2019-06-01T09:34:42.9450399+07:00 0HLN676D0KOCT:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" in 159.6806ms (afa2e885)
2019-06-01T09:34:42.9930268+07:00 0HLN676D0KOD5:00000001 [INF] Request finished in 24593.6097ms 101  (791a596a)
2019-06-01T09:34:42.9954571+07:00 0HLN676D0KOCT:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (99874f2b)
2019-06-01T09:34:43.0280089+07:00 0HLN676D0KOD1:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-treegrid/js/jquery.treegrid.js   (ca22a1cb)
2019-06-01T09:34:43.0496048+07:00 0HLN676D0KOCT:0000000A [INF] Request finished in 233.0205ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:34:43.5554866+07:00 0HLN676D0KOD2:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-treegrid/css/jquery.treegrid.css   (ca22a1cb)
2019-06-01T09:34:43.5633048+07:00 0HLN676D0KOCV:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/role/index.js?v=mz1ph8DZRQ6ILDjqZpt6VBJedN7WSh460Gi_H9lmDPk   (ca22a1cb)
2019-06-01T09:34:43.5809742+07:00 0HLN676D0KOD1:0000000B [INF] Sending file. Request path: '"/lib/jquery-treegrid/js/jquery.treegrid.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-treegrid\js\jquery.treegrid.js"' (27b0a520)
2019-06-01T09:34:43.5871325+07:00 0HLN676D0KOD2:00000006 [INF] Sending file. Request path: '"/lib/jquery-treegrid/css/jquery.treegrid.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-treegrid\css\jquery.treegrid.css"' (27b0a520)
2019-06-01T09:34:43.5900449+07:00 0HLN676D0KOD1:0000000B [INF] Request finished in 591.814ms 200 application/javascript (791a596a)
2019-06-01T09:34:43.6007547+07:00 0HLN676D0KOD2:00000006 [INF] Request finished in 535.6672ms 200 text/css (791a596a)
2019-06-01T09:34:43.6022066+07:00 0HLN676D0KOCV:00000002 [INF] Sending file. Request path: '"/app/controllers/role/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\role\index.js"' (27b0a520)
2019-06-01T09:34:43.6086886+07:00 0HLN676D0KOCV:00000002 [INF] Request finished in 612.9898ms 200 application/javascript (791a596a)
2019-06-01T09:34:43.6291989+07:00 0HLN676D0KOCV:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:34:43.6402341+07:00 0HLN676D0KOD2:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:34:43.6426073+07:00 0HLN676D0KOCV:00000003 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:34:43.6498459+07:00 0HLN676D0KOD2:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:34:43.6532880+07:00 0HLN676D0KOCV:00000003 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:34:43.6628306+07:00 0HLN676D0KOD2:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:34:43.6643403+07:00 0HLN676D0KOCV:00000003 [INF] Request finished in 29.6003ms 200 application/json (791a596a)
2019-06-01T09:34:43.6688576+07:00 0HLN676D0KOD2:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:43.6744260+07:00 0HLN676D0KOD2:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:34:43.6808260+07:00 0HLN676D0KOD2:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:34:44.2362799+07:00 0HLN676D0KOD2:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T09:34:44.2414901+07:00 0HLN676D0KOCV:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:34:44.2545962+07:00 0HLN676D0KOD6:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=5pwnKBaFwopme4k4iHU0ww   (ca22a1cb)
2019-06-01T09:34:44.2622154+07:00 0HLN676D0KOD2:00000007 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:34:44.2677113+07:00 0HLN676D0KOD6:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:34:44.2706507+07:00 0HLN676D0KOD2:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 587.867ms. (50a9e262)
2019-06-01T09:34:44.2771073+07:00 0HLN676D0KOD6:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:34:44.2792477+07:00 0HLN676D0KOD2:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:34:44.2854898+07:00 0HLN676D0KOCV:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:34:44.2926708+07:00 0HLN676D0KOD2:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 616.5225ms (afa2e885)
2019-06-01T09:34:44.2985059+07:00 0HLN676D0KOD1:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:34:44.2995792+07:00 0HLN676D0KOD2:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:34:44.3061974+07:00 0HLN676D0KOD6:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:34:44.3095980+07:00 0HLN676D0KOD2:00000007 [INF] Request finished in 670.5011ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:34:44.3112193+07:00 0HLN676D0KOD1:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:34:44.3176082+07:00 0HLN676D0KOD1:0000000C [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:34:44.3205325+07:00 0HLN676D0KOCV:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:34:44.3265986+07:00 0HLN676D0KOD1:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:44.3275102+07:00 0HLN676D0KOCV:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:44.3343935+07:00 0HLN676D0KOD1:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:34:44.3365974+07:00 0HLN676D0KOCV:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:34:44.3414208+07:00 0HLN676D0KOD1:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:34:44.3482113+07:00 0HLN676D0KOCV:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:34:44.3502552+07:00 0HLN676D0KOD1:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T09:34:44.3574339+07:00 0HLN676D0KOD1:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:34:44.3626970+07:00 0HLN676D0KOCV:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T09:34:44.3636312+07:00 0HLN676D0KOD1:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 23.787ms. (50a9e262)
2019-06-01T09:34:44.3677793+07:00 0HLN676D0KOD1:0000000C [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:34:44.3749145+07:00 0HLN676D0KOD1:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 49.7583ms (afa2e885)
2019-06-01T09:34:44.3790506+07:00 0HLN676D0KOD1:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:34:44.3869530+07:00 0HLN676D0KOCV:00000004 [WRN] Query: '"(from AppRole dtoAppRole in DbSet<AppRole> select new AppRoleViewModel{ { 
    Description = [dtoAp..."' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-06-01T09:34:44.3887582+07:00 0HLN676D0KOD1:0000000C [INF] Request finished in 90.9028ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:34:44.4199507+07:00 0HLN676D0KOCV:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T09:34:44.4271351+07:00 0HLN676D0KOCV:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 87.2319ms. (50a9e262)
2019-06-01T09:34:44.4311724+07:00 0HLN676D0KOCV:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:34:44.4417513+07:00 0HLN676D0KOCV:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 115.119ms (afa2e885)
2019-06-01T09:34:44.4460926+07:00 0HLN676D0KOCV:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:34:44.4513173+07:00 0HLN676D0KOCV:00000004 [INF] Request finished in 211.0968ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:34:44.4656123+07:00 0HLN676D0KOCV:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:34:44.4711520+07:00 0HLN676D0KOCV:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:34:44.4756295+07:00 0HLN676D0KOCV:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:34:44.4801239+07:00 0HLN676D0KOCV:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:34:44.4845997+07:00 0HLN676D0KOCV:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:34:44.4896520+07:00 0HLN676D0KOCV:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:34:44.4949833+07:00 0HLN676D0KOCV:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T09:34:44.4999137+07:00 0HLN676D0KOCV:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T09:34:44.5056282+07:00 0HLN676D0KOCV:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 15.275ms. (50a9e262)
2019-06-01T09:34:44.5103166+07:00 0HLN676D0KOCV:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:34:44.5173107+07:00 0HLN676D0KOCV:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 34.7482ms (afa2e885)
2019-06-01T09:34:44.5232224+07:00 0HLN676D0KOCV:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:34:44.5287285+07:00 0HLN676D0KOCV:00000005 [INF] Request finished in 64.9427ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:35:49.3533620+07:00 0HLN676D0KOCV:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/index   (ca22a1cb)
2019-06-01T09:35:49.3594605+07:00 0HLN676D0KOCV:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (500cc934)
2019-06-01T09:35:49.3671270+07:00 0HLN676D0KOCV:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" (a44c0341)
2019-06-01T09:35:49.3718695+07:00 0HLN676D0KOCV:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:35:49.3771495+07:00 0HLN676D0KOCV:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:35:49.3825998+07:00 0HLN676D0KOCV:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:35:49.3953477+07:00 0HLN676D0KOCV:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:35:49.3994187+07:00 0HLN676D0KOCV:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:35:49.4057071+07:00 0HLN676D0KOCV:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 22.3368ms. (50a9e262)
2019-06-01T09:35:49.4244201+07:00 0HLN676D0KOCV:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:35:49.4420049+07:00 0HLN676D0KOCV:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:35:49.4457800+07:00 0HLN676D0KOCV:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:35:49.4598757+07:00 0HLN676D0KOCV:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:35:49.4635639+07:00 0HLN676D0KOCV:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:35:49.4750645+07:00 0HLN676D0KOCV:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:35:49.4787790+07:00 0HLN676D0KOCV:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:35:49.4939322+07:00 0HLN676D0KOCV:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:35:49.4971441+07:00 0HLN676D0KOCV:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:35:49.5036697+07:00 0HLN676D0KOCV:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:35:49.5080578+07:00 0HLN676D0KOCV:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:35:49.5144249+07:00 0HLN676D0KOCV:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:35:49.5181127+07:00 0HLN676D0KOCV:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:35:49.5251711+07:00 0HLN676D0KOCV:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:35:49.5397168+07:00 0HLN676D0KOCV:00000006 [INF] Executed ViewResult - view "Index" executed in 124.7896ms. (f66409e9)
2019-06-01T09:35:49.5802054+07:00 0HLN676D0KOCV:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" in 172.7178ms (afa2e885)
2019-06-01T09:35:49.5883120+07:00 0HLN676D0KOD6:00000001 [INF] Request finished in 65340.7463ms 101  (791a596a)
2019-06-01T09:35:49.5902008+07:00 0HLN676D0KOD1:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/user/index.js?v=FlbA_X4lOavcBTTmpgJmjC9wvlRAOhMWTMDxvyil9PU   (ca22a1cb)
2019-06-01T09:35:49.5972867+07:00 0HLN676D0KOCV:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (99874f2b)
2019-06-01T09:35:49.6171711+07:00 0HLN676D0KOCV:00000006 [INF] Request finished in 248.7809ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:35:49.6185405+07:00 0HLN676D0KOD1:0000000D [INF] Sending file. Request path: '"/app/controllers/user/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\user\index.js"' (27b0a520)
2019-06-01T09:35:49.6255883+07:00 0HLN676D0KOD1:0000000D [INF] Request finished in 40.4213ms 200 application/javascript (791a596a)
2019-06-01T09:35:49.7375451+07:00 0HLN676D0KOD1:0000000E [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:35:49.7444674+07:00 0HLN676D0KOCV:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:35:49.7455656+07:00 0HLN676D0KOD1:0000000E [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:35:49.7516091+07:00 0HLN676D0KOD1:0000000E [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:35:49.7529334+07:00 0HLN676D0KOCV:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:35:49.7618877+07:00 0HLN676D0KOD1:0000000E [INF] Request finished in 21.6077ms 200 application/json (791a596a)
2019-06-01T09:35:49.7628870+07:00 0HLN676D0KOCV:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:35:49.7700214+07:00 0HLN676D0KOCV:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:35:49.7753289+07:00 0HLN676D0KOCV:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:35:49.7794963+07:00 0HLN676D0KOCV:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:35:49.8035151+07:00 0HLN676D0KOCV:00000007 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T09:35:49.8126040+07:00 0HLN676D0KOD1:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:35:49.8160411+07:00 0HLN676D0KOCV:00000007 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:35:49.8243837+07:00 0HLN676D0KOCV:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 40.7769ms. (50a9e262)
2019-06-01T09:35:49.8266704+07:00 0HLN676D0KOD1:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:35:49.8311418+07:00 0HLN676D0KOCV:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:35:49.8411381+07:00 0HLN676D0KOD1:0000000F [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:35:49.8436169+07:00 0HLN676D0KOCV:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 67.9773ms (afa2e885)
2019-06-01T09:35:49.8514257+07:00 0HLN676D0KOD1:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T09:35:49.8550774+07:00 0HLN676D0KOD2:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:35:49.8572332+07:00 0HLN676D0KOCV:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:35:49.8777461+07:00 0HLN676D0KOD2:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:35:49.8799254+07:00 0HLN676D0KOCV:00000007 [INF] Request finished in 119.5555ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:35:49.8847413+07:00 0HLN676D0KOD2:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:35:49.8884594+07:00 0HLN676D0KOD1:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:35:49.8991786+07:00 0HLN676D0KOD2:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:35:49.9020787+07:00 0HLN676D0KOD1:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:35:49.9162781+07:00 0HLN676D0KOD2:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:35:49.9287138+07:00 0HLN676D0KOD1:0000000F [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T09:35:49.9429165+07:00 0HLN676D0KOD2:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:35:49.9658309+07:00 0HLN676D0KOD7:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=X80CwlXeKFjL1V5ZX0qm6Q   (ca22a1cb)
2019-06-01T09:35:49.9675585+07:00 0HLN676D0KOD2:00000008 [INF] Executed DbCommand ("16"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T09:35:49.9696143+07:00 0HLN676D0KOD1:0000000F [WRN] Query: '"(from AppUser x in DbSet<AppUser> select new AppUserViewModel{ { 
    UserName = [x].UserName, , 
..."' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-06-01T09:35:49.9882571+07:00 0HLN676D0KOD7:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:35:49.9935934+07:00 0HLN676D0KOD2:00000008 [INF] Executed DbCommand ("14"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:35:50.0079420+07:00 0HLN676D0KOD7:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:35:50.0131445+07:00 0HLN676D0KOD2:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 77.6044ms. (50a9e262)
2019-06-01T09:35:50.0306617+07:00 0HLN676D0KOD1:0000000F [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T09:35:50.0585796+07:00 0HLN676D0KOD2:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:35:50.0615506+07:00 0HLN676D0KOD7:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:35:50.0971821+07:00 0HLN676D0KOD1:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 168.6546ms. (50a9e262)
2019-06-01T09:35:50.1005081+07:00 0HLN676D0KOD2:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 176.8031ms (afa2e885)
2019-06-01T09:35:50.1121118+07:00 0HLN676D0KOD1:0000000F [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:35:50.1133779+07:00 0HLN676D0KOD2:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:35:50.1393458+07:00 0HLN676D0KOD2:00000008 [INF] Request finished in 269.8602ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:35:50.1454689+07:00 0HLN676D0KOD1:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 286.3049ms (afa2e885)
2019-06-01T09:35:50.1534714+07:00 0HLN676D0KOD1:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:35:50.1777803+07:00 0HLN676D0KOD1:0000000F [INF] Request finished in 352.999ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:35:50.1930246+07:00 0HLN676D0KOD2:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/null   (ca22a1cb)
2019-06-01T09:35:50.2007169+07:00 0HLN676D0KOD1:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:35:50.2069635+07:00 0HLN676D0KOD2:00000009 [INF] Request finished in 14.4192ms 404  (791a596a)
2019-06-01T09:35:50.2134188+07:00 0HLN676D0KOD1:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:35:50.2209109+07:00 0HLN676D0KOD1:00000010 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:35:50.2284247+07:00 0HLN676D0KOD1:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:35:50.2331012+07:00 0HLN676D0KOD1:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:35:50.2404354+07:00 0HLN676D0KOD1:00000010 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:35:50.2464916+07:00 0HLN676D0KOD1:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T09:35:50.2520616+07:00 0HLN676D0KOD1:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T09:35:50.2586520+07:00 0HLN676D0KOD1:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 19.0494ms. (50a9e262)
2019-06-01T09:35:50.2646643+07:00 0HLN676D0KOD1:00000010 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:35:50.2720813+07:00 0HLN676D0KOD1:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 43.9823ms (afa2e885)
2019-06-01T09:35:50.2762618+07:00 0HLN676D0KOD1:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:35:50.2816863+07:00 0HLN676D0KOD1:00000010 [INF] Request finished in 94.2395ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:35:50.2901317+07:00 0HLN676D0KOD1:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/null   (ca22a1cb)
2019-06-01T09:35:50.2974876+07:00 0HLN676D0KOD1:00000011 [INF] Request finished in 6.7569ms 404  (791a596a)
2019-06-01T09:35:57.8788168+07:00 0HLN676D0KOD1:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=a12345&page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:35:57.8839860+07:00 0HLN676D0KOD1:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:35:57.8887914+07:00 0HLN676D0KOD1:00000012 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:35:57.8921592+07:00 0HLN676D0KOD1:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:35:57.8965588+07:00 0HLN676D0KOD1:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["a12345", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:35:57.9017054+07:00 0HLN676D0KOD1:00000012 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:35:57.9263516+07:00 0HLN676D0KOD1:00000012 [INF] Executed DbCommand ("15"ms) [Parameters=["@__keyword_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [x]
WHERE (((CHARINDEX(@__keyword_0, [x].[FullName]) > 0) OR (@__keyword_0 = N'')) OR ((CHARINDEX(@__keyword_0, [x].[UserName]) > 0) OR (@__keyword_0 = N''))) OR ((CHARINDEX(@__keyword_0, [x].[Email]) > 0) OR (@__keyword_0 = N''))" (0723d8ff)
2019-06-01T09:35:57.9323216+07:00 0HLN676D0KOD1:00000012 [WRN] Query: '"(from AppUser x in DbSet<AppUser> where bool [x].FullName.Contains(__keyword_0) || bool [x].UserName..."' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-06-01T09:35:57.9449862+07:00 0HLN676D0KOD1:00000012 [INF] Executed DbCommand ("3"ms) [Parameters=["@__keyword_0='?' (Size = 4000), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
WHERE (((CHARINDEX(@__keyword_0, [x].[FullName]) > 0) OR (@__keyword_0 = N'')) OR ((CHARINDEX(@__keyword_0, [x].[UserName]) > 0) OR (@__keyword_0 = N''))) OR ((CHARINDEX(@__keyword_0, [x].[Email]) > 0) OR (@__keyword_0 = N''))
ORDER BY (SELECT 1)
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:35:57.9492751+07:00 0HLN676D0KOD1:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 48.9181ms. (50a9e262)
2019-06-01T09:35:57.9547047+07:00 0HLN676D0KOD1:00000012 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:35:57.9651265+07:00 0HLN676D0KOD1:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 66.1369ms (afa2e885)
2019-06-01T09:35:57.9703068+07:00 0HLN676D0KOD1:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:35:57.9764365+07:00 0HLN676D0KOD1:00000012 [INF] Request finished in 95.686ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:35:57.9877070+07:00 0HLN676D0KOD1:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/null   (ca22a1cb)
2019-06-01T09:35:57.9951827+07:00 0HLN676D0KOD1:00000013 [INF] Request finished in 5.8157ms 404  (791a596a)
2019-06-01T09:36:11.5597476+07:00 0HLN676D0KOD1:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/slide/index   (ca22a1cb)
2019-06-01T09:36:11.5738394+07:00 0HLN676D0KOD1:00000014 [INF] Request finished in 5.4847ms 404  (791a596a)
2019-06-01T09:36:11.5994456+07:00 0HLN676D0KOD7:00000001 [INF] Request finished in 21648.2156ms 101  (791a596a)
2019-06-01T09:36:13.6130890+07:00 0HLN676D0KOD1:00000015 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:36:13.6232999+07:00 0HLN676D0KOD1:00000015 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:36:13.6271616+07:00 0HLN676D0KOD1:00000015 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:36:13.6370603+07:00 0HLN676D0KOD1:00000015 [INF] Request finished in 43.1482ms 200 application/json (791a596a)
2019-06-01T09:36:13.7757781+07:00 0HLN676D0KOD8:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=e1azG08tXLIQSJPHWPwFVg   (ca22a1cb)
2019-06-01T09:36:13.7914339+07:00 0HLN676D0KOD8:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:36:13.8251418+07:00 0HLN676D0KOD8:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:36:13.8497371+07:00 0HLN676D0KOD8:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:36:24.5258497+07:00 0HLN676D0KOD1:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/page/index   (ca22a1cb)
2019-06-01T09:36:24.5325553+07:00 0HLN676D0KOD1:00000016 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.PageController.Index (Shop3)"' (500cc934)
2019-06-01T09:36:24.5401152+07:00 0HLN676D0KOD1:00000016 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Page\"}". Executing action "Shop3.Areas.Admin.Controllers.PageController.Index (Shop3)" (a44c0341)
2019-06-01T09:36:24.5449156+07:00 0HLN676D0KOD1:00000016 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:36:24.5499170+07:00 0HLN676D0KOD1:00000016 [INF] Executing action method "Shop3.Areas.Admin.Controllers.PageController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:36:24.5535732+07:00 0HLN676D0KOD1:00000016 [INF] Executed action method "Shop3.Areas.Admin.Controllers.PageController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2018ms. (50a9e262)
2019-06-01T09:36:24.5655043+07:00 0HLN676D0KOD1:00000016 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:36:24.6246685+07:00 0HLN676D0KOD1:00000016 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:36:24.6328494+07:00 0HLN676D0KOD1:00000016 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:36:24.6363157+07:00 0HLN676D0KOD1:00000016 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:36:24.6436215+07:00 0HLN676D0KOD1:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:36:24.6470328+07:00 0HLN676D0KOD1:00000016 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:36:24.6541684+07:00 0HLN676D0KOD1:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:36:24.6576392+07:00 0HLN676D0KOD1:00000016 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:36:24.6643075+07:00 0HLN676D0KOD1:00000016 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:36:24.6808322+07:00 0HLN676D0KOD1:00000016 [INF] Executed ViewResult - view "Index" executed in 115.9617ms. (f66409e9)
2019-06-01T09:36:24.7516124+07:00 0HLN676D0KOD1:00000016 [INF] Executed action "Shop3.Areas.Admin.Controllers.PageController.Index (Shop3)" in 142.0171ms (afa2e885)
2019-06-01T09:36:24.7583952+07:00 0HLN676D0KOD8:00000001 [INF] Request finished in 10915.7297ms 101  (791a596a)
2019-06-01T09:36:24.7721949+07:00 0HLN676D0KOD1:00000016 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.PageController.Index (Shop3)"' (99874f2b)
2019-06-01T09:36:24.7780863+07:00 0HLN676D0KOD2:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/page/index.js?v=o3-VOL8AB0fyYZhyPmYw3hGuOcKkJllUC23m11adoPU   (ca22a1cb)
2019-06-01T09:36:24.7921424+07:00 0HLN676D0KOD1:00000016 [INF] Request finished in 258.7173ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:36:24.7932883+07:00 0HLN676D0KOD2:0000000A [INF] Sending file. Request path: '"/app/controllers/page/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\page\index.js"' (27b0a520)
2019-06-01T09:36:24.7983213+07:00 0HLN676D0KOD2:0000000A [INF] Request finished in 25.5072ms 200 application/javascript (791a596a)
2019-06-01T09:36:24.8374007+07:00 0HLN676D0KOD2:0000000B [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:36:24.8406323+07:00 0HLN676D0KOD1:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:36:24.8447729+07:00 0HLN676D0KOD2:0000000B [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:36:24.8564980+07:00 0HLN676D0KOD1:00000017 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:36:24.8584124+07:00 0HLN676D0KOD2:0000000B [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:36:24.8724320+07:00 0HLN676D0KOD1:00000017 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:36:24.8752057+07:00 0HLN676D0KOD2:0000000B [INF] Request finished in 29.9117ms 200 application/json (791a596a)
2019-06-01T09:36:24.8820045+07:00 0HLN676D0KOD1:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:36:24.8886198+07:00 0HLN676D0KOD1:00000017 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:36:24.9951215+07:00 0HLN676D0KOD1:00000017 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:36:24.9982251+07:00 0HLN676D0KOCV:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/config.js?t=J1QC   (ca22a1cb)
2019-06-01T09:36:25.0788327+07:00 0HLN676D0KOD2:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/page/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:36:25.1092360+07:00 0HLN676D0KOD1:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T09:36:25.1166452+07:00 0HLN676D0KOD9:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=aRZyXxAnuOcNaFO89E_e5Q   (ca22a1cb)
2019-06-01T09:36:25.1280486+07:00 0HLN676D0KOD1:00000017 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:36:25.1299690+07:00 0HLN676D0KOD2:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.PageController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:36:25.1360236+07:00 0HLN676D0KOCT:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/lang/en.js?t=J1QC   (ca22a1cb)
2019-06-01T09:36:25.1449651+07:00 0HLN676D0KOD1:00000017 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 239.5005ms. (50a9e262)
2019-06-01T09:36:25.1648761+07:00 0HLN676D0KOD1:00000017 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:36:25.1669663+07:00 0HLN676D0KOCT:0000000B [INF] Sending file. Request path: '"/lib/ckeditor/lang/en.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\lang\en.js"' (27b0a520)
2019-06-01T09:36:25.1708420+07:00 0HLN676D0KOD2:0000000C [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Page\"}". Executing action "Shop3.Areas.Admin.Controllers.PageController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:36:25.1826381+07:00 0HLN676D0KOD1:00000017 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 294.4764ms (afa2e885)
2019-06-01T09:36:25.1846701+07:00 0HLN676D0KOCT:0000000B [INF] Request finished in 52.7051ms 200 application/javascript (791a596a)
2019-06-01T09:36:25.1952116+07:00 0HLN676D0KOD2:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T09:36:25.2001085+07:00 0HLN676D0KOD1:00000017 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:36:25.2156325+07:00 0HLN676D0KOCT:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/styles.js?t=J1QC   (ca22a1cb)
2019-06-01T09:36:25.2180112+07:00 0HLN676D0KOD1:00000017 [INF] Request finished in 368.5104ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:36:25.2309950+07:00 0HLN676D0KOD2:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.PageController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:36:25.2328009+07:00 0HLN676D0KOD9:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:36:25.2512912+07:00 0HLN676D0KOCT:0000000C [INF] Sending file. Request path: '"/lib/ckeditor/styles.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\styles.js"' (27b0a520)
2019-06-01T09:36:25.2581658+07:00 0HLN676D0KOD2:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:36:25.2668420+07:00 0HLN676D0KOCT:0000000C [INF] Request finished in 57.0173ms 200 application/javascript (791a596a)
2019-06-01T09:36:25.2689478+07:00 0HLN676D0KOD9:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:36:25.2810208+07:00 0HLN676D0KOCV:00000008 [INF] Sending file. Request path: '"/lib/ckeditor/config.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\config.js"' (27b0a520)
2019-06-01T09:36:25.2949560+07:00 0HLN676D0KOCT:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/plugins/colorbutton/plugin.js?t=J1QC   (ca22a1cb)
2019-06-01T09:36:25.2988579+07:00 0HLN676D0KOCV:00000008 [INF] Request finished in 304.0317ms 200 application/javascript (791a596a)
2019-06-01T09:36:25.3075197+07:00 0HLN676D0KOD9:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:36:25.3125613+07:00 0HLN676D0KOD2:0000000C [INF] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Pages] AS [p]" (0723d8ff)
2019-06-01T09:36:25.3670777+07:00 0HLN676D0KOCT:0000000D [INF] Sending file. Request path: '"/lib/ckeditor/plugins/colorbutton/plugin.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\plugins\colorbutton\plugin.js"' (27b0a520)
2019-06-01T09:36:25.3754896+07:00 0HLN676D0KOCV:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/skins/moono-lisa/editor.css?t=J1QC   (ca22a1cb)
2019-06-01T09:36:25.3768694+07:00 0HLN676D0KOCT:0000000D [INF] Request finished in 94.1373ms 200 application/javascript (791a596a)
2019-06-01T09:36:25.3923734+07:00 0HLN676D0KOCV:00000009 [INF] Sending file. Request path: '"/lib/ckeditor/skins/moono-lisa/editor.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\skins\moono-lisa\editor.css"' (27b0a520)
2019-06-01T09:36:25.3942843+07:00 0HLN676D0KOCT:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/plugins/panelbutton/plugin.js?t=J1QC   (ca22a1cb)
2019-06-01T09:36:25.3986343+07:00 0HLN676D0KOD2:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Alias], [x].[Content], [x].[Id], [x].[Name], [x].[Status]
FROM [Pages] AS [x]
ORDER BY [x].[Alias] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T09:36:25.4130018+07:00 0HLN676D0KOCT:0000000E [INF] Sending file. Request path: '"/lib/ckeditor/plugins/panelbutton/plugin.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\plugins\panelbutton\plugin.js"' (27b0a520)
2019-06-01T09:36:25.4189510+07:00 0HLN676D0KOD2:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.PageController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 175.206ms. (50a9e262)
2019-06-01T09:36:25.4293005+07:00 0HLN676D0KOD0:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/plugins/colorbutton/lang/en.js?t=J1QC   (ca22a1cb)
2019-06-01T09:36:25.4308409+07:00 0HLN676D0KOCU:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/plugins/wsc/skins/moono-lisa/wsc.css   (ca22a1cb)
2019-06-01T09:36:25.4326009+07:00 0HLN676D0KOD1:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/plugins/tableselection/styles/tableselection.css   (ca22a1cb)
2019-06-01T09:36:25.4385087+07:00 0HLN676D0KOCT:0000000E [INF] Request finished in 30.1534ms 200 application/javascript (791a596a)
2019-06-01T09:36:25.4426773+07:00 0HLN676D0KOD2:0000000C [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.Blogs.PageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:36:25.4435482+07:00 0HLN676D0KOCU:00000002 [INF] Sending file. Request path: '"/lib/ckeditor/plugins/wsc/skins/moono-lisa/wsc.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\plugins\wsc\skins\moono-lisa\wsc.css"' (27b0a520)
2019-06-01T09:36:25.4508266+07:00 0HLN676D0KOCU:00000002 [INF] Request finished in 25.0227ms 200 text/css (791a596a)
2019-06-01T09:36:25.4526954+07:00 0HLN676D0KOCT:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/plugins/scayt/skins/moono-lisa/scayt.css   (ca22a1cb)
2019-06-01T09:36:25.4552807+07:00 0HLN676D0KOCV:00000009 [INF] Request finished in 49.124ms 200 text/css (791a596a)
2019-06-01T09:36:25.4646095+07:00 0HLN676D0KOD0:00000002 [INF] Sending file. Request path: '"/lib/ckeditor/plugins/colorbutton/lang/en.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\plugins\colorbutton\lang\en.js"' (27b0a520)
2019-06-01T09:36:25.4679449+07:00 0HLN676D0KOCV:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/plugins/scayt/dialogs/dialog.css   (ca22a1cb)
2019-06-01T09:36:25.4724192+07:00 0HLN676D0KOCT:0000000F [INF] Sending file. Request path: '"/lib/ckeditor/plugins/scayt/skins/moono-lisa/scayt.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\plugins\scayt\skins\moono-lisa\scayt.css"' (27b0a520)
2019-06-01T09:36:25.4740729+07:00 0HLN676D0KOD0:00000002 [INF] Request finished in 46.3441ms 200 application/javascript (791a596a)
2019-06-01T09:36:25.4797394+07:00 0HLN676D0KOCT:0000000F [INF] Request finished in 26.7035ms 200 text/css (791a596a)
2019-06-01T09:36:25.5038965+07:00 0HLN676D0KOCV:0000000A [INF] Sending file. Request path: '"/lib/ckeditor/plugins/scayt/dialogs/dialog.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\plugins\scayt\dialogs\dialog.css"' (27b0a520)
2019-06-01T09:36:25.5064709+07:00 0HLN676D0KOD1:00000018 [INF] Sending file. Request path: '"/lib/ckeditor/plugins/tableselection/styles/tableselection.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\plugins\tableselection\styles\tableselection.css"' (27b0a520)
2019-06-01T09:36:25.5086498+07:00 0HLN676D0KOD2:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.PageController.GetAllPaging (Shop3)" in 314.0744ms (afa2e885)
2019-06-01T09:36:25.5173320+07:00 0HLN676D0KOD1:00000018 [INF] Request finished in 88.2452ms 200 text/css (791a596a)
2019-06-01T09:36:25.5182412+07:00 0HLN676D0KOD2:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.PageController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:36:25.5268356+07:00 0HLN676D0KOCV:0000000A [INF] Request finished in 44.5948ms 200 text/css (791a596a)
2019-06-01T09:36:25.5284639+07:00 0HLN676D0KOD2:0000000C [INF] Request finished in 542.1931ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:36:25.5923842+07:00 0HLN676D0KOD2:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/contents.css?t=J1QC   (ca22a1cb)
2019-06-01T09:36:25.6089557+07:00 0HLN676D0KOD2:0000000D [INF] Sending file. Request path: '"/lib/ckeditor/contents.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\contents.css"' (27b0a520)
2019-06-01T09:36:25.6110866+07:00 0HLN676D0KOD1:00000019 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/page/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:36:25.6196236+07:00 0HLN676D0KOD2:0000000D [INF] Request finished in 26.6707ms 200 text/css (791a596a)
2019-06-01T09:36:25.6211186+07:00 0HLN676D0KOD1:00000019 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.PageController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:36:25.6261430+07:00 0HLN676D0KOD1:00000019 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Page\"}". Executing action "Shop3.Areas.Admin.Controllers.PageController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:36:25.6305569+07:00 0HLN676D0KOD1:00000019 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:36:25.6348597+07:00 0HLN676D0KOD1:00000019 [INF] Executing action method "Shop3.Areas.Admin.Controllers.PageController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:36:25.6415001+07:00 0HLN676D0KOD1:00000019 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:36:25.6459723+07:00 0HLN676D0KOD1:00000019 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Pages] AS [p]" (0723d8ff)
2019-06-01T09:36:25.6512055+07:00 0HLN676D0KOD1:00000019 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Alias], [x].[Content], [x].[Id], [x].[Name], [x].[Status]
FROM [Pages] AS [x]
ORDER BY [x].[Alias] DESC
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T09:36:25.6575362+07:00 0HLN676D0KOD1:00000019 [INF] Executed action method "Shop3.Areas.Admin.Controllers.PageController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.578ms. (50a9e262)
2019-06-01T09:36:25.6652925+07:00 0HLN676D0KOD1:00000019 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.Blogs.PageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:36:25.6740732+07:00 0HLN676D0KOD1:00000019 [INF] Executed action "Shop3.Areas.Admin.Controllers.PageController.GetAllPaging (Shop3)" in 40.8996ms (afa2e885)
2019-06-01T09:36:25.6777216+07:00 0HLN676D0KOD1:00000019 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.PageController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:36:25.6824686+07:00 0HLN676D0KOD1:00000019 [INF] Request finished in 77.8202ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:36:28.4406149+07:00 0HLN676D0KOD1:0000001A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/blog/index   (ca22a1cb)
2019-06-01T09:36:28.4503417+07:00 0HLN676D0KOD1:0000001A [INF] Request finished in 8.8754ms 404  (791a596a)
2019-06-01T09:36:28.4783465+07:00 0HLN676D0KOD9:00000001 [INF] Request finished in 3468.2326ms 101  (791a596a)
2019-06-01T09:36:30.6924305+07:00 0HLN676D0KOD1:0000001B [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:36:30.6978808+07:00 0HLN676D0KOD1:0000001B [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:36:30.7056457+07:00 0HLN676D0KOD1:0000001B [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:36:30.7134520+07:00 0HLN676D0KOD1:0000001B [INF] Request finished in 33.8083ms 200 application/json (791a596a)
2019-06-01T09:36:30.8276202+07:00 0HLN676D0KODA:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=T79O9Dk6gADdPJ_wV__7iA   (ca22a1cb)
2019-06-01T09:36:30.8435201+07:00 0HLN676D0KODA:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:36:30.8483701+07:00 0HLN676D0KODA:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:36:30.8891545+07:00 0HLN676D0KODA:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:36:37.0571691+07:00 0HLN676D0KOD1:0000001C [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Page/GetById?id=1   (ca22a1cb)
2019-06-01T09:36:37.0612282+07:00 0HLN676D0KOD1:0000001C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.PageController.GetById (Shop3)"' (500cc934)
2019-06-01T09:36:37.0659141+07:00 0HLN676D0KOD1:0000001C [INF] Route matched with "{area = \"Admin\", action = \"GetById\", controller = \"Page\"}". Executing action "Shop3.Areas.Admin.Controllers.PageController.GetById (Shop3)" (a44c0341)
2019-06-01T09:36:37.0703736+07:00 0HLN676D0KOD1:0000001C [INF] Authorization was successful. (0d575a54)
2019-06-01T09:36:37.0740347+07:00 0HLN676D0KOD1:0000001C [INF] Executing action method "Shop3.Areas.Admin.Controllers.PageController.GetById (Shop3)" with arguments (["1"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:36:37.0795223+07:00 0HLN676D0KOD1:0000001C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:36:37.0939124+07:00 0HLN676D0KOD1:0000001C [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[Alias], [x].[Content], [x].[Name], [x].[Status]
FROM [Pages] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T09:36:37.1392913+07:00 0HLN676D0KOD1:0000001C [INF] Executed action method "Shop3.Areas.Admin.Controllers.PageController.GetById (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 58.8459ms. (50a9e262)
2019-06-01T09:36:37.1428577+07:00 0HLN676D0KOD1:0000001C [INF] Executing ObjectResult, writing value of type '"Shop3.Application.ViewModels.Blogs.PageViewModel"'. (8a1b66c8)
2019-06-01T09:36:37.1478910+07:00 0HLN676D0KOD1:0000001C [INF] Executed action "Shop3.Areas.Admin.Controllers.PageController.GetById (Shop3)" in 77.1691ms (afa2e885)
2019-06-01T09:36:37.1534886+07:00 0HLN676D0KOD1:0000001C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.PageController.GetById (Shop3)"' (99874f2b)
2019-06-01T09:36:37.1584223+07:00 0HLN676D0KOD1:0000001C [INF] Request finished in 100.6177ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:36:37.3268156+07:00 0HLN676D0KOD1:0000001D [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/skins/moono-lisa/icons.png?t=J1QC   (ca22a1cb)
2019-06-01T09:36:37.3533822+07:00 0HLN676D0KOD1:0000001D [INF] Sending file. Request path: '"/lib/ckeditor/skins/moono-lisa/icons.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\skins\moono-lisa\icons.png"' (27b0a520)
2019-06-01T09:36:37.3583250+07:00 0HLN676D0KOD1:0000001D [INF] Request finished in 31.6208ms 200 image/png (791a596a)
2019-06-01T09:36:54.4043606+07:00 0HLN676D0KOD1:0000001E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/activity/index   (ca22a1cb)
2019-06-01T09:36:54.4128602+07:00 0HLN676D0KOD1:0000001E [INF] Request finished in 5.1675ms 404  (791a596a)
2019-06-01T09:37:24.2772698+07:00 0HLN676D0KOD1:0000001F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T09:37:24.2833207+07:00 0HLN676D0KOD1:0000001F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T09:37:24.2917556+07:00 0HLN676D0KOD1:0000001F [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T09:37:24.2965798+07:00 0HLN676D0KOD1:0000001F [INF] Authorization was successful. (0d575a54)
2019-06-01T09:37:24.2998856+07:00 0HLN676D0KOD1:0000001F [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:37:24.3048350+07:00 0HLN676D0KOD1:0000001F [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.5977ms. (50a9e262)
2019-06-01T09:37:24.3115791+07:00 0HLN676D0KOD1:0000001F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:37:24.3753235+07:00 0HLN676D0KOD1:0000001F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:37:24.3925576+07:00 0HLN676D0KOD1:0000001F [INF] Executed DbCommand ("10"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:37:24.3959873+07:00 0HLN676D0KOD1:0000001F [INF] Authorization was successful. (0d575a54)
2019-06-01T09:37:24.4068553+07:00 0HLN676D0KOD1:0000001F [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:37:24.4103434+07:00 0HLN676D0KOD1:0000001F [INF] Authorization was successful. (0d575a54)
2019-06-01T09:37:24.4228981+07:00 0HLN676D0KOD1:0000001F [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:37:24.4266826+07:00 0HLN676D0KOD1:0000001F [INF] Authorization was successful. (0d575a54)
2019-06-01T09:37:24.4350592+07:00 0HLN676D0KOD1:0000001F [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:37:24.4515930+07:00 0HLN676D0KOD1:0000001F [INF] Executed ViewResult - view "Index" executed in 133.3057ms. (f66409e9)
2019-06-01T09:37:24.4604603+07:00 0HLN676D0KOD1:0000001F [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 160.0191ms (afa2e885)
2019-06-01T09:37:24.4902416+07:00 0HLN676D0KOD1:0000001F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T09:37:24.4996529+07:00 0HLN676D0KODA:00000001 [INF] Request finished in 53648.5274ms 101  (791a596a)
2019-06-01T09:37:24.5126998+07:00 0HLN676D0KOD1:0000001F [INF] Request finished in 218.801ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:37:24.6520157+07:00 0HLN676D0KOD1:00000020 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:37:24.6595140+07:00 0HLN676D0KOCV:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:37:24.6639033+07:00 0HLN676D0KOD1:00000020 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:37:24.6683178+07:00 0HLN676D0KOD2:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:37:24.6761462+07:00 0HLN676D0KOCV:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T09:37:24.6779801+07:00 0HLN676D0KOD1:00000020 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:37:24.6916658+07:00 0HLN676D0KOD2:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:37:24.6936006+07:00 0HLN676D0KOCV:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T09:37:24.6962381+07:00 0HLN676D0KOD1:00000020 [INF] Request finished in 46.971ms 200 application/json (791a596a)
2019-06-01T09:37:24.7051653+07:00 0HLN676D0KOCV:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T09:37:24.7081483+07:00 0HLN676D0KOD2:0000000E [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:37:24.7157244+07:00 0HLN676D0KOCV:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:37:24.7164757+07:00 0HLN676D0KOD2:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T09:37:24.7600153+07:00 0HLN676D0KOD2:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:37:24.7822200+07:00 0HLN676D0KODB:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=quSoWmZwH0MtIG3PB1BNPw   (ca22a1cb)
2019-06-01T09:37:24.7832776+07:00 0HLN676D0KOCV:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:37:24.7868353+07:00 0HLN676D0KOD2:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:37:24.7939652+07:00 0HLN676D0KODB:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:37:24.8012723+07:00 0HLN676D0KOD2:0000000E [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T09:37:24.8020308+07:00 0HLN676D0KODB:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:37:24.8197834+07:00 0HLN676D0KOD2:0000000E [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:37:24.8244362+07:00 0HLN676D0KODB:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:37:24.8287139+07:00 0HLN676D0KOD2:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 60.1796ms. (50a9e262)
2019-06-01T09:37:24.8359057+07:00 0HLN676D0KOD2:0000000E [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:37:24.8827745+07:00 0HLN676D0KOD2:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 128.2144ms (afa2e885)
2019-06-01T09:37:24.8912378+07:00 0HLN676D0KOD2:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:37:24.9126215+07:00 0HLN676D0KOCV:0000000B [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T09:37:24.9133657+07:00 0HLN676D0KOD2:0000000E [INF] Request finished in 248.4309ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:37:25.0067084+07:00 0HLN676D0KOCV:0000000B [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:37:25.0511027+07:00 0HLN676D0KOCV:0000000B [INF] Executed DbCommand ("35"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T09:37:25.0822722+07:00 0HLN676D0KOCV:0000000B [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T09:37:25.1038054+07:00 0HLN676D0KOCV:0000000B [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T09:37:25.1207715+07:00 0HLN676D0KOCV:0000000B [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T09:37:25.1382455+07:00 0HLN676D0KOCV:0000000B [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T09:37:25.1500138+07:00 0HLN676D0KOCV:0000000B [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T09:37:25.1573425+07:00 0HLN676D0KOCV:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 435.1126ms. (50a9e262)
2019-06-01T09:37:25.1633491+07:00 0HLN676D0KOCV:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:37:25.1709331+07:00 0HLN676D0KOCV:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 469.0728ms (afa2e885)
2019-06-01T09:37:25.1750648+07:00 0HLN676D0KOCV:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T09:37:25.1798213+07:00 0HLN676D0KOCV:0000000B [INF] Request finished in 534.8881ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:37:25.1895103+07:00 0HLN676D0KOCV:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:37:25.1960481+07:00 0HLN676D0KOCV:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:37:25.2008592+07:00 0HLN676D0KOCV:0000000C [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:37:25.2065618+07:00 0HLN676D0KOCV:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T09:37:25.2110196+07:00 0HLN676D0KOCV:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:37:25.2151899+07:00 0HLN676D0KOCV:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:37:25.2215808+07:00 0HLN676D0KOCV:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T09:37:25.2272305+07:00 0HLN676D0KOCV:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:37:25.2317818+07:00 0HLN676D0KOCV:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.363ms. (50a9e262)
2019-06-01T09:37:25.2366840+07:00 0HLN676D0KOCV:0000000C [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:37:25.2427328+07:00 0HLN676D0KOCV:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 36.1964ms (afa2e885)
2019-06-01T09:37:25.2471960+07:00 0HLN676D0KOCV:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:37:25.2513109+07:00 0HLN676D0KOCV:0000000C [INF] Request finished in 63.0247ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:39:03.0919116+07:00 0HLN676D0KOCV:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/report/revenues   (ca22a1cb)
2019-06-01T09:39:03.1012717+07:00 0HLN676D0KOCV:0000000D [INF] Request finished in 6.4484ms 404  (791a596a)
2019-06-01T09:39:03.1346631+07:00 0HLN676D0KODB:00000001 [INF] Request finished in 98373.7715ms 101  (791a596a)
2019-06-01T09:39:04.7851160+07:00 0HLN676D0KOCV:0000000E [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:39:04.7920000+07:00 0HLN676D0KOCV:0000000E [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:39:04.7971045+07:00 0HLN676D0KOCV:0000000E [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:39:04.8084119+07:00 0HLN676D0KOCV:0000000E [INF] Request finished in 23.1294ms 200 application/json (791a596a)
2019-06-01T09:39:04.9769373+07:00 0HLN676D0KODC:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=n0dZ_R8150hJoF19S46SqQ   (ca22a1cb)
2019-06-01T09:39:04.9832447+07:00 0HLN676D0KODC:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:39:04.9935199+07:00 0HLN676D0KODC:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:39:05.0197049+07:00 0HLN676D0KODC:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:39:07.5042247+07:00 0HLN676D0KOCV:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T09:39:07.5102587+07:00 0HLN676D0KOCV:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T09:39:07.5152187+07:00 0HLN676D0KOCV:0000000F [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T09:39:07.5193492+07:00 0HLN676D0KOCV:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T09:39:07.5246423+07:00 0HLN676D0KOCV:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:39:07.5285402+07:00 0HLN676D0KOCV:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0726ms. (50a9e262)
2019-06-01T09:39:07.5328425+07:00 0HLN676D0KOCV:0000000F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:39:07.5389709+07:00 0HLN676D0KOCV:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:39:07.5552278+07:00 0HLN676D0KOCV:0000000F [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:39:07.5596208+07:00 0HLN676D0KOCV:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T09:39:07.5730558+07:00 0HLN676D0KOCV:0000000F [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:39:07.5778263+07:00 0HLN676D0KOCV:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T09:39:07.5892659+07:00 0HLN676D0KOCV:0000000F [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:39:07.5925672+07:00 0HLN676D0KOCV:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T09:39:07.5984015+07:00 0HLN676D0KOCV:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:39:07.6073537+07:00 0HLN676D0KOCV:0000000F [INF] Executed ViewResult - view "Index" executed in 71.1051ms. (f66409e9)
2019-06-01T09:39:07.6131346+07:00 0HLN676D0KOCV:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 92.2628ms (afa2e885)
2019-06-01T09:39:07.6360789+07:00 0HLN676D0KOCV:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T09:39:07.6603825+07:00 0HLN676D0KODC:00000001 [INF] Request finished in 2645.8628ms 101  (791a596a)
2019-06-01T09:39:07.6677938+07:00 0HLN676D0KOCV:0000000F [INF] Request finished in 137.9986ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:39:07.6789126+07:00 0HLN676D0KOCV:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/function/index.js?v=TF40IzT4StO1ELgpdnCLDZRqXZ8eP2_PvLUme0Qd_hU   (ca22a1cb)
2019-06-01T09:39:07.6836124+07:00 0HLN676D0KOCV:00000010 [INF] The file "/app/controllers/function/index.js" was not modified (f1f8d725)
2019-06-01T09:39:07.6930500+07:00 0HLN676D0KOCV:00000010 [INF] Request finished in 13.4765ms 304 application/javascript (791a596a)
2019-06-01T09:39:07.7586101+07:00 0HLN676D0KOCV:00000011 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:39:07.7605659+07:00 0HLN676D0KOD2:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:39:07.7635783+07:00 0HLN676D0KOD1:00000021 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T09:39:07.7681941+07:00 0HLN676D0KOCV:00000011 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:39:07.7755447+07:00 0HLN676D0KOD1:00000021 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T09:39:07.7773613+07:00 0HLN676D0KOCV:00000011 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:39:07.7794783+07:00 0HLN676D0KOD2:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:39:07.7901133+07:00 0HLN676D0KOD1:00000021 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T09:39:07.7930023+07:00 0HLN676D0KOCV:00000011 [INF] Request finished in 41.4666ms 200 application/json (791a596a)
2019-06-01T09:39:07.7963414+07:00 0HLN676D0KOD2:0000000F [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:39:07.7997823+07:00 0HLN676D0KOD1:00000021 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:39:07.8054503+07:00 0HLN676D0KOD2:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T09:39:07.8435237+07:00 0HLN676D0KOD1:00000021 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" with arguments (["0", "0"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:39:07.8496337+07:00 0HLN676D0KOD2:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:39:07.8508131+07:00 0HLN676D0KOD1:00000021 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:39:07.8592066+07:00 0HLN676D0KOD2:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:39:07.8832504+07:00 0HLN676D0KODD:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=blTzC6sehkHEIAP1WenwPg   (ca22a1cb)
2019-06-01T09:39:07.8868533+07:00 0HLN676D0KOD1:00000021 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:39:07.8945752+07:00 0HLN676D0KODD:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:39:07.9019512+07:00 0HLN676D0KOD1:00000021 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 48.6354ms. (50a9e262)
2019-06-01T09:39:07.9044069+07:00 0HLN676D0KODD:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:39:07.9078872+07:00 0HLN676D0KOD2:0000000F [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T09:39:07.9161755+07:00 0HLN676D0KOD1:00000021 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:39:07.9275409+07:00 0HLN676D0KODD:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:39:07.9316139+07:00 0HLN676D0KOD1:00000021 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 128.488ms (afa2e885)
2019-06-01T09:39:07.9348180+07:00 0HLN676D0KOD2:0000000F [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:39:07.9419429+07:00 0HLN676D0KOD1:00000021 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T09:39:07.9434392+07:00 0HLN676D0KOD2:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 85.2536ms. (50a9e262)
2019-06-01T09:39:07.9553579+07:00 0HLN676D0KOD2:0000000F [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:39:07.9595823+07:00 0HLN676D0KOD1:00000021 [INF] Request finished in 186.8445ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:39:07.9639343+07:00 0HLN676D0KOD2:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 160.0224ms (afa2e885)
2019-06-01T09:39:07.9679179+07:00 0HLN676D0KOD2:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:39:07.9790350+07:00 0HLN676D0KOD2:0000000F [INF] Request finished in 220.7698ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:39:39.2068801+07:00 0HLN676D0KOD2:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T09:39:39.2125762+07:00 0HLN676D0KOD2:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T09:39:39.2170787+07:00 0HLN676D0KOD2:00000010 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T09:39:39.2250865+07:00 0HLN676D0KOD2:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:39:39.2294032+07:00 0HLN676D0KOD2:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:39:39.2337043+07:00 0HLN676D0KOD2:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0188ms. (50a9e262)
2019-06-01T09:39:39.2393314+07:00 0HLN676D0KOD2:00000010 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:39:39.2441745+07:00 0HLN676D0KOD2:00000010 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:39:39.2551214+07:00 0HLN676D0KOD2:00000010 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:39:39.2594023+07:00 0HLN676D0KOD2:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:39:39.2691952+07:00 0HLN676D0KOD2:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:39:39.2735968+07:00 0HLN676D0KOD2:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:39:39.2817540+07:00 0HLN676D0KOD2:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T09:39:39.2860501+07:00 0HLN676D0KOD2:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:39:39.2939656+07:00 0HLN676D0KOD2:00000010 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T09:39:39.3041641+07:00 0HLN676D0KOD2:00000010 [INF] Executed ViewResult - view "Index" executed in 61.4965ms. (f66409e9)
2019-06-01T09:39:39.3384673+07:00 0HLN676D0KOD2:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 87.1913ms (afa2e885)
2019-06-01T09:39:39.3419668+07:00 0HLN676D0KODD:00000001 [INF] Request finished in 31453.1524ms 101  (791a596a)
2019-06-01T09:39:39.3463549+07:00 0HLN676D0KOD2:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T09:39:39.3515512+07:00 0HLN676D0KOD2:00000010 [INF] Request finished in 146.7531ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:39:39.4880557+07:00 0HLN676D0KOD2:00000011 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:39:39.5004384+07:00 0HLN676D0KOD2:00000011 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:39:39.5029386+07:00 0HLN676D0KOD1:00000022 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:39:39.5109012+07:00 0HLN676D0KOD2:00000011 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:39:39.5132758+07:00 0HLN676D0KOCV:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:39:39.5247457+07:00 0HLN676D0KOD2:00000011 [INF] Request finished in 32.6116ms 200 application/json (791a596a)
2019-06-01T09:39:39.5273849+07:00 0HLN676D0KOCV:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T09:39:39.5348991+07:00 0HLN676D0KOD1:00000022 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:39:39.5417135+07:00 0HLN676D0KOCV:00000012 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T09:39:39.5678927+07:00 0HLN676D0KOD1:00000022 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:39:39.5725472+07:00 0HLN676D0KOCV:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:39:39.6595624+07:00 0HLN676D0KOD1:00000022 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:39:39.6881520+07:00 0HLN676D0KOCV:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:39:39.7690643+07:00 0HLN676D0KODE:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=celYmS80YuwuDeqwo3CkjQ   (ca22a1cb)
2019-06-01T09:39:39.7790155+07:00 0HLN676D0KOCV:00000012 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:39:39.7798486+07:00 0HLN676D0KODE:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:39:39.7907980+07:00 0HLN676D0KOD1:00000022 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:39:39.7935012+07:00 0HLN676D0KODE:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:39:39.8027808+07:00 0HLN676D0KOD1:00000022 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:39:39.8094188+07:00 0HLN676D0KOCV:00000012 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T09:39:39.8150918+07:00 0HLN676D0KODE:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:39:39.8182237+07:00 0HLN676D0KOD1:00000022 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T09:39:39.8269748+07:00 0HLN676D0KOCV:00000012 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:39:39.8307701+07:00 0HLN676D0KOD1:00000022 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:39:39.8606876+07:00 0HLN676D0KOD1:00000022 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 40.0537ms. (50a9e262)
2019-06-01T09:39:39.8632972+07:00 0HLN676D0KOCV:00000012 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T09:39:39.8667795+07:00 0HLN676D0KOD1:00000022 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:39:39.8860205+07:00 0HLN676D0KOD1:00000022 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 299.1062ms (afa2e885)
2019-06-01T09:39:39.8904156+07:00 0HLN676D0KOCV:00000012 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T09:39:39.8993156+07:00 0HLN676D0KOD1:00000022 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:39:39.9187393+07:00 0HLN676D0KOCV:00000012 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T09:39:39.9195060+07:00 0HLN676D0KOD1:00000022 [INF] Request finished in 408.3943ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:39:39.9351191+07:00 0HLN676D0KOCV:00000012 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T09:39:39.9592134+07:00 0HLN676D0KOCV:00000012 [INF] Executed DbCommand ("13"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T09:39:39.9788249+07:00 0HLN676D0KOCV:00000012 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T09:39:39.9858969+07:00 0HLN676D0KOCV:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 290.9827ms. (50a9e262)
2019-06-01T09:39:39.9969755+07:00 0HLN676D0KOCV:00000012 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:39:40.0105472+07:00 0HLN676D0KOCV:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 455.4367ms (afa2e885)
2019-06-01T09:39:40.0167872+07:00 0HLN676D0KOCV:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T09:39:40.0293812+07:00 0HLN676D0KOCV:00000012 [INF] Request finished in 512.6543ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:39:40.0512093+07:00 0HLN676D0KOCV:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T09:39:40.0615010+07:00 0HLN676D0KOCV:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T09:39:40.0678107+07:00 0HLN676D0KOCV:00000013 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T09:39:40.0778161+07:00 0HLN676D0KOCV:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T09:39:40.0839420+07:00 0HLN676D0KOCV:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:39:40.1002940+07:00 0HLN676D0KOCV:00000013 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:39:40.1170234+07:00 0HLN676D0KOCV:00000013 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T09:39:40.1314070+07:00 0HLN676D0KOCV:00000013 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T09:39:40.1364614+07:00 0HLN676D0KOCV:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 47.5047ms. (50a9e262)
2019-06-01T09:39:40.1436830+07:00 0HLN676D0KOCV:00000013 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:39:40.1541794+07:00 0HLN676D0KOCV:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 76.4631ms (afa2e885)
2019-06-01T09:39:40.1604031+07:00 0HLN676D0KOCV:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T09:39:40.1669680+07:00 0HLN676D0KOCV:00000013 [INF] Request finished in 114.9976ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:39:53.3111516+07:00 0HLN676D0KOCV:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T09:39:53.3159336+07:00 0HLN676D0KOCV:00000014 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T09:39:53.3207070+07:00 0HLN676D0KOCV:00000014 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T09:39:53.3259980+07:00 0HLN676D0KOCV:00000014 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:39:53.3320960+07:00 0HLN676D0KOCV:00000014 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:39:53.3421879+07:00 0HLN676D0KOCV:00000014 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T09:39:53.3536899+07:00 0HLN676D0KOCV:00000014 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T09:39:53.3662355+07:00 0HLN676D0KOCV:00000014 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T09:39:53.3780472+07:00 0HLN676D0KOCV:00000014 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T09:39:53.3915106+07:00 0HLN676D0KOCV:00000014 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T09:39:53.4015844+07:00 0HLN676D0KOCV:00000014 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T09:39:53.4128968+07:00 0HLN676D0KOCV:00000014 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T09:39:53.4207240+07:00 0HLN676D0KOCV:00000014 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T09:39:53.4268106+07:00 0HLN676D0KOCV:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T09:39:53.4326818+07:00 0HLN676D0KOCV:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T09:39:53.4401969+07:00 0HLN676D0KOCV:00000014 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T09:39:53.4439983+07:00 0HLN676D0KOCV:00000014 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 114.269ms. (50a9e262)
2019-06-01T09:39:53.4474683+07:00 0HLN676D0KOCV:00000014 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:39:53.4548889+07:00 0HLN676D0KOCV:00000014 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:39:53.4632311+07:00 0HLN676D0KOCV:00000014 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:39:53.4722806+07:00 0HLN676D0KOCV:00000014 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:39:53.4771593+07:00 0HLN676D0KOCV:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:39:53.5455326+07:00 0HLN676D0KOCV:00000014 [INF] Executed ViewResult - view "Index" executed in 95.7377ms. (f66409e9)
2019-06-01T09:39:53.5500872+07:00 0HLN676D0KOCV:00000014 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 224.8703ms (afa2e885)
2019-06-01T09:39:53.5547321+07:00 0HLN676D0KOCV:00000014 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T09:39:53.5602886+07:00 0HLN676D0KOCV:00000014 [INF] Request finished in 251.4471ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:39:53.8927906+07:00 0HLN676D0KOCU:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T09:39:53.8946777+07:00 0HLN676D0KOD2:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T09:39:53.8993739+07:00 0HLN676D0KOCU:00000003 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T09:39:53.9018261+07:00 0HLN676D0KOD2:00000012 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T09:39:53.9069690+07:00 0HLN676D0KOCU:00000003 [INF] Serving from cache (7e5e9bde)
2019-06-01T09:39:53.9091610+07:00 0HLN676D0KOD1:00000023 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T09:39:53.9100931+07:00 0HLN676D0KOD2:00000012 [INF] Serving from cache (7e5e9bde)
2019-06-01T09:39:53.9228648+07:00 0HLN676D0KOD1:00000023 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T09:39:53.9300332+07:00 0HLN676D0KOCU:00000003 [INF] Request finished in 87.6183ms 200 image/jpeg (791a596a)
2019-06-01T09:39:54.5685036+07:00 0HLN676D0KOD1:00000023 [INF] Serving from cache (7e5e9bde)
2019-06-01T09:39:54.5783071+07:00 0HLN676D0KOD2:00000012 [INF] Request finished in 884.0136ms 200 image/jpeg (791a596a)
2019-06-01T09:39:54.5801849+07:00 0HLN676D0KOD0:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T09:39:54.5822066+07:00 0HLN676D0KOCU:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T09:39:55.1784711+07:00 0HLN676D0KOCU:00000004 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T09:39:55.1801832+07:00 0HLN676D0KOD2:00000013 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:39:55.1872830+07:00 0HLN676D0KOCU:00000004 [INF] Serving from cache (7e5e9bde)
2019-06-01T09:39:55.1903415+07:00 0HLN676D0KOD2:00000013 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:39:55.1973216+07:00 0HLN676D0KOCU:00000004 [INF] Request finished in 622.8893ms 200 image/jpeg (791a596a)
2019-06-01T09:39:55.2000182+07:00 0HLN676D0KOD2:00000013 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:39:55.2204850+07:00 0HLN676D0KOD1:00000023 [INF] Request finished in 911.7362ms 200 image/jpeg (791a596a)
2019-06-01T09:39:55.2336021+07:00 0HLN676D0KOD2:00000013 [INF] Request finished in 616.4216ms 200 application/json (791a596a)
2019-06-01T09:39:55.2353609+07:00 0HLN676D0KOCU:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T09:39:55.2496256+07:00 0HLN676D0KOD1:00000024 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T09:39:55.2513199+07:00 0HLN676D0KOD2:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T09:39:55.2547726+07:00 0HLN676D0KOD0:00000003 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T09:39:55.2600255+07:00 0HLN676D0KOD2:00000014 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T09:39:55.2623098+07:00 0HLN676D0KOCU:00000005 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T09:39:55.2690708+07:00 0HLN676D0KOD2:00000014 [INF] Serving from cache (7e5e9bde)
2019-06-01T09:39:55.2702020+07:00 0HLN676D0KOCU:00000005 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T09:39:55.2778618+07:00 0HLN676D0KOD1:00000024 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T09:39:55.2978565+07:00 0HLN676D0KOCU:00000005 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:39:55.3013055+07:00 0HLN676D0KOD2:00000014 [INF] Request finished in 30.484ms 200 image/jpeg (791a596a)
2019-06-01T09:39:55.3122786+07:00 0HLN676D0KOD1:00000024 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T09:39:55.3281772+07:00 0HLN676D0KOCU:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:39:55.3418806+07:00 0HLN676D0KOD1:00000024 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:39:55.3592931+07:00 0HLN676D0KOCU:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T09:39:55.3645293+07:00 0HLN676D0KOD1:00000024 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:39:55.3676599+07:00 0HLN676D0KOD0:00000003 [INF] Serving from cache (7e5e9bde)
2019-06-01T09:39:55.3795053+07:00 0HLN676D0KOCU:00000005 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 61.5162ms. (50a9e262)
2019-06-01T09:39:55.3853066+07:00 0HLN676D0KOD1:00000024 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T09:39:55.3937809+07:00 0HLN676D0KOCU:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:39:55.4049982+07:00 0HLN676D0KOCU:00000005 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 122.189ms (afa2e885)
2019-06-01T09:39:55.4061095+07:00 0HLN676D0KOD1:00000024 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 50.2362ms. (50a9e262)
2019-06-01T09:39:55.4083516+07:00 0HLN676D0KOD0:00000003 [INF] Request finished in 1539.7931ms 200 image/jpeg (791a596a)
2019-06-01T09:39:55.4131389+07:00 0HLN676D0KOCU:00000005 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T09:39:55.4164656+07:00 0HLN676D0KOD1:00000024 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:39:55.4239126+07:00 0HLN676D0KOCU:00000005 [INF] Request finished in 186.0921ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:39:55.4289948+07:00 0HLN676D0KOD1:00000024 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 105.8514ms (afa2e885)
2019-06-01T09:39:55.4306104+07:00 0HLN676D0KOCV:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T09:39:55.4345870+07:00 0HLN676D0KOD1:00000024 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T09:39:55.4373218+07:00 0HLN676D0KOCV:00000015 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T09:39:55.4429300+07:00 0HLN676D0KOD1:00000024 [INF] Request finished in 191.8476ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:39:55.4437275+07:00 0HLN676D0KOCV:00000015 [INF] Serving from cache (7e5e9bde)
2019-06-01T09:39:55.4563200+07:00 0HLN676D0KOCT:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T09:39:55.4581456+07:00 0HLN676D0KODF:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=XvDWrBSdlrULufTDK3jhqQ   (ca22a1cb)
2019-06-01T09:39:55.4623240+07:00 0HLN676D0KOCT:00000010 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T09:39:55.4654113+07:00 0HLN676D0KOCV:00000015 [INF] Request finished in 1633.0444ms 200 image/jpeg (791a596a)
2019-06-01T09:39:55.4900939+07:00 0HLN676D0KODF:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:39:55.4972282+07:00 0HLN676D0KODF:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:39:55.5115843+07:00 0HLN676D0KODF:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:39:55.5172541+07:00 0HLN676D0KOCT:00000010 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T09:39:56.6102353+07:00 0HLN676D0KOCT:00000010 [INF] Request finished in 2780.5745ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T09:39:56.7631361+07:00 0HLN676D0KOCV:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/contact.html   (ca22a1cb)
2019-06-01T09:39:56.7679373+07:00 0HLN676D0KOCV:00000016 [INF] Executing endpoint '"Shop3.Controllers.ContactController.Index (Shop3)"' (500cc934)
2019-06-01T09:39:56.7760157+07:00 0HLN676D0KOCV:00000016 [INF] Route matched with "{action = \"Index\", controller = \"Contact\", area = \"\"}". Executing action "Shop3.Controllers.ContactController.Index (Shop3)" (a44c0341)
2019-06-01T09:39:56.7806868+07:00 0HLN676D0KOCV:00000016 [INF] Executing action method "Shop3.Controllers.ContactController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:39:56.7893785+07:00 0HLN676D0KOCV:00000016 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:39:56.8056563+07:00 0HLN676D0KOCV:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[Address], [x].[Email], [x].[Lat], [x].[Lng], [x].[Name], [x].[Other], [x].[Phone], [x].[Status], [x].[Website]
FROM [ContactDetails] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T09:39:56.8370713+07:00 0HLN676D0KOCV:00000016 [INF] Executed action method "Shop3.Controllers.ContactController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 49.8317ms. (50a9e262)
2019-06-01T09:39:56.8559266+07:00 0HLN676D0KOCV:00000016 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:39:56.8967655+07:00 0HLN676D0KOCV:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:39:56.9016341+07:00 0HLN676D0KOCV:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:39:56.9100193+07:00 0HLN676D0KOCV:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:39:56.9142506+07:00 0HLN676D0KOCV:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:39:56.9428192+07:00 0HLN676D0KOCV:00000016 [INF] Executed ViewResult - view "Index" executed in 96.8729ms. (f66409e9)
2019-06-01T09:39:56.9480291+07:00 0HLN676D0KOCV:00000016 [INF] Executed action "Shop3.Controllers.ContactController.Index (Shop3)" in 166.904ms (afa2e885)
2019-06-01T09:39:56.9986850+07:00 0HLN676D0KODF:00000001 [INF] Request finished in 1704.4786ms 101  (791a596a)
2019-06-01T09:39:57.0010768+07:00 0HLN676D0KOCV:00000016 [INF] Executed endpoint '"Shop3.Controllers.ContactController.Index (Shop3)"' (99874f2b)
2019-06-01T09:39:57.0128187+07:00 0HLN676D0KOCV:00000016 [INF] Request finished in 242.9081ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:39:57.0356975+07:00 0HLN676D0KOD1:00000025 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-app/controllers/contact/index.js?v=q_2KWJpyM2H3_tike9jy6IQr4cXf_KgEXFCDjahXKb8   (ca22a1cb)
2019-06-01T09:39:57.0441065+07:00 0HLN676D0KOCV:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js   (ca22a1cb)
2019-06-01T09:39:57.0574337+07:00 0HLN676D0KOD1:00000025 [INF] Sending file. Request path: '"/client-app/controllers/contact/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\client-app\controllers\contact\index.js"' (27b0a520)
2019-06-01T09:39:57.0594374+07:00 0HLN676D0KOCV:00000017 [INF] Request finished in 15.9798ms 404  (791a596a)
2019-06-01T09:39:57.0638066+07:00 0HLN676D0KOD1:00000025 [INF] Request finished in 29.2652ms 200 application/javascript (791a596a)
2019-06-01T09:39:57.1210099+07:00 0HLN676D0KOD1:00000026 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:39:57.1230078+07:00 0HLN676D0KOCV:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T09:39:57.1254459+07:00 0HLN676D0KOCU:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T09:39:57.1295444+07:00 0HLN676D0KOD1:00000026 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:39:57.1354705+07:00 0HLN676D0KOCU:00000006 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T09:39:57.1375936+07:00 0HLN676D0KOD1:00000026 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:39:57.1438812+07:00 0HLN676D0KOCV:00000018 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T09:39:57.1448785+07:00 0HLN676D0KOCU:00000006 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T09:39:57.1538541+07:00 0HLN676D0KOD1:00000026 [INF] Request finished in 28.4643ms 200 application/json (791a596a)
2019-06-01T09:39:57.1554665+07:00 0HLN676D0KOCU:00000006 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:39:57.1592055+07:00 0HLN676D0KOCV:00000018 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T09:39:57.1665753+07:00 0HLN676D0KOCU:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:39:57.1678940+07:00 0HLN676D0KOCV:00000018 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:39:57.1774369+07:00 0HLN676D0KOCV:00000018 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:39:57.1785679+07:00 0HLN676D0KOCU:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T09:39:57.1884083+07:00 0HLN676D0KOCU:00000006 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 22.2321ms. (50a9e262)
2019-06-01T09:39:57.1925245+07:00 0HLN676D0KOCV:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T09:39:57.2073909+07:00 0HLN676D0KOCU:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:39:57.2129560+07:00 0HLN676D0KOCV:00000018 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 24.7495ms. (50a9e262)
2019-06-01T09:39:57.2261245+07:00 0HLN676D0KOCU:00000006 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 62.2584ms (afa2e885)
2019-06-01T09:39:57.2437104+07:00 0HLN676D0KODG:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=jcxQGshYzw9SwN4eNCkbtg   (ca22a1cb)
2019-06-01T09:39:57.2493691+07:00 0HLN676D0KOCU:00000006 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T09:39:57.2612259+07:00 0HLN676D0KODG:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:39:57.2655176+07:00 0HLN676D0KOCU:00000006 [INF] Request finished in 135.983ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:39:57.2719164+07:00 0HLN676D0KODG:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:39:57.2733150+07:00 0HLN676D0KOCV:00000018 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:39:57.2903701+07:00 0HLN676D0KOCV:00000018 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 114.5992ms (afa2e885)
2019-06-01T09:39:57.2956542+07:00 0HLN676D0KOCV:00000018 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T09:39:57.3070749+07:00 0HLN676D0KOCV:00000018 [INF] Request finished in 183.5727ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:39:57.3451454+07:00 0HLN676D0KODG:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:40:08.3084583+07:00 0HLN676D0KOCV:00000019 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js   (ca22a1cb)
2019-06-01T09:40:08.3190634+07:00 0HLN676D0KOCV:00000019 [INF] Request finished in 7.6525ms 404  (791a596a)
2019-06-01T09:40:27.3371171+07:00 0HLN676D0KOCV:0000001A [INF] Request starting HTTP/1.1 GET https://localhost:5001/page/about.html   (ca22a1cb)
2019-06-01T09:40:27.3434712+07:00 0HLN676D0KOCV:0000001A [INF] Executing endpoint '"Shop3.Controllers.PageController.Index (Shop3)"' (500cc934)
2019-06-01T09:40:27.3539623+07:00 0HLN676D0KOCV:0000001A [INF] Route matched with "{action = \"Index\", controller = \"Page\", area = \"\"}". Executing action "Shop3.Controllers.PageController.Index (Shop3)" (a44c0341)
2019-06-01T09:40:27.3589182+07:00 0HLN676D0KOCV:0000001A [INF] Executing action method "Shop3.Controllers.PageController.Index (Shop3)" with arguments (["about"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:40:27.3635015+07:00 0HLN676D0KOCV:0000001A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:40:27.3746991+07:00 0HLN676D0KOCV:0000001A [INF] Executed DbCommand ("2"ms) [Parameters=["@__alias_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[Alias], [x].[Content], [x].[Name], [x].[Status]
FROM [Pages] AS [x]
WHERE ([x].[Alias] = @__alias_0) AND ([x].[Status] = 1)" (0723d8ff)
2019-06-01T09:40:27.3814847+07:00 0HLN676D0KOCV:0000001A [INF] Executed action method "Shop3.Controllers.PageController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 17.1368ms. (50a9e262)
2019-06-01T09:40:27.3945128+07:00 0HLN676D0KOCV:0000001A [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:40:27.4037739+07:00 0HLN676D0KOCV:0000001A [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:40:27.4118199+07:00 0HLN676D0KOCV:0000001A [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:40:27.4208230+07:00 0HLN676D0KOCV:0000001A [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:40:27.4260812+07:00 0HLN676D0KOCV:0000001A [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:40:27.4357202+07:00 0HLN676D0KOCV:0000001A [INF] Executed ViewResult - view "Index" executed in 46.1689ms. (f66409e9)
2019-06-01T09:40:27.4439019+07:00 0HLN676D0KOCV:0000001A [INF] Executed action "Shop3.Controllers.PageController.Index (Shop3)" in 83.542ms (afa2e885)
2019-06-01T09:40:27.4666120+07:00 0HLN676D0KOCV:0000001A [INF] Executed endpoint '"Shop3.Controllers.PageController.Index (Shop3)"' (99874f2b)
2019-06-01T09:40:27.4676885+07:00 0HLN676D0KODG:00000001 [INF] Request finished in 30222.0921ms 101  (791a596a)
2019-06-01T09:40:27.4744381+07:00 0HLN676D0KOCV:0000001A [INF] Request finished in 136.4466ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:40:27.6524901+07:00 0HLN676D0KOCV:0000001B [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:40:27.6615058+07:00 0HLN676D0KOCU:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T09:40:27.6624523+07:00 0HLN676D0KOCV:0000001B [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:40:27.6648306+07:00 0HLN676D0KOD1:00000027 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T09:40:27.6680379+07:00 0HLN676D0KOCV:0000001B [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:40:27.6767325+07:00 0HLN676D0KOCU:00000007 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T09:40:27.6776601+07:00 0HLN676D0KOCV:0000001B [INF] Request finished in 24.0106ms 200 application/json (791a596a)
2019-06-01T09:40:27.6811542+07:00 0HLN676D0KOD1:00000027 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T09:40:27.6847714+07:00 0HLN676D0KOCU:00000007 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T09:40:27.6905195+07:00 0HLN676D0KOD1:00000027 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T09:40:27.6923354+07:00 0HLN676D0KOCU:00000007 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:40:27.6979911+07:00 0HLN676D0KOD1:00000027 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:40:27.6991435+07:00 0HLN676D0KOCU:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:40:27.7064362+07:00 0HLN676D0KOD1:00000027 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:40:27.7094520+07:00 0HLN676D0KOCU:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T09:40:27.7157741+07:00 0HLN676D0KOD1:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T09:40:27.7180461+07:00 0HLN676D0KOCU:00000007 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.02ms. (50a9e262)
2019-06-01T09:40:27.7253639+07:00 0HLN676D0KOD1:00000027 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.7302ms. (50a9e262)
2019-06-01T09:40:27.7270422+07:00 0HLN676D0KOCU:00000007 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:40:27.7343111+07:00 0HLN676D0KOD1:00000027 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:40:27.7355008+07:00 0HLN676D0KOCU:00000007 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 42.4282ms (afa2e885)
2019-06-01T09:40:27.7465326+07:00 0HLN676D0KOD1:00000027 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 44.8721ms (afa2e885)
2019-06-01T09:40:27.7488177+07:00 0HLN676D0KOCU:00000007 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T09:40:27.7559837+07:00 0HLN676D0KOD1:00000027 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T09:40:27.7587463+07:00 0HLN676D0KOCU:00000007 [INF] Request finished in 96.3605ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:40:27.7741096+07:00 0HLN676D0KOD1:00000027 [INF] Request finished in 104.7314ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:40:27.7857769+07:00 0HLN676D0KODH:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=AWUonRKrMKD1vaklR7uIzg   (ca22a1cb)
2019-06-01T09:40:27.8087939+07:00 0HLN676D0KODH:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:40:27.8131369+07:00 0HLN676D0KODH:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:40:27.8375356+07:00 0HLN676D0KODH:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:40:27.8400021+07:00 0HLN676D0KOD1:00000028 [INF] Request starting HTTP/1.1 GET https://localhost:5001/page/favicon.ico   (ca22a1cb)
2019-06-01T09:40:27.8464325+07:00 0HLN676D0KOD1:00000028 [INF] Request finished in 7.8859ms 404  (791a596a)
2019-06-01T09:40:31.3848132+07:00 0HLN676D0KOD1:00000029 [INF] Request starting HTTP/1.1 GET https://localhost:5001/blog.html   (ca22a1cb)
2019-06-01T09:40:31.3972258+07:00 0HLN676D0KOD1:00000029 [INF] Request finished in 8.2207ms 404  (791a596a)
2019-06-01T09:40:31.4215323+07:00 0HLN676D0KODH:00000001 [INF] Request finished in 3622.5939ms 101  (791a596a)
2019-06-01T09:40:33.0948950+07:00 0HLN676D0KOD1:0000002A [INF] Request starting HTTP/1.1 GET https://localhost:5001/page/about.html   (ca22a1cb)
2019-06-01T09:40:33.0998169+07:00 0HLN676D0KOD1:0000002A [INF] Executing endpoint '"Shop3.Controllers.PageController.Index (Shop3)"' (500cc934)
2019-06-01T09:40:33.1039871+07:00 0HLN676D0KOD1:0000002A [INF] Route matched with "{action = \"Index\", controller = \"Page\", area = \"\"}". Executing action "Shop3.Controllers.PageController.Index (Shop3)" (a44c0341)
2019-06-01T09:40:33.1086037+07:00 0HLN676D0KOD1:0000002A [INF] Executing action method "Shop3.Controllers.PageController.Index (Shop3)" with arguments (["about"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:40:33.1133332+07:00 0HLN676D0KOD1:0000002A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:40:33.1184474+07:00 0HLN676D0KOD1:0000002A [INF] Executed DbCommand ("0"ms) [Parameters=["@__alias_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[Alias], [x].[Content], [x].[Name], [x].[Status]
FROM [Pages] AS [x]
WHERE ([x].[Alias] = @__alias_0) AND ([x].[Status] = 1)" (0723d8ff)
2019-06-01T09:40:33.1243066+07:00 0HLN676D0KOD1:0000002A [INF] Executed action method "Shop3.Controllers.PageController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 10.2674ms. (50a9e262)
2019-06-01T09:40:33.1285844+07:00 0HLN676D0KOD1:0000002A [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:40:33.1385323+07:00 0HLN676D0KOD1:0000002A [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:40:33.1444540+07:00 0HLN676D0KOD1:0000002A [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:40:33.1519033+07:00 0HLN676D0KOD1:0000002A [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:40:33.1576551+07:00 0HLN676D0KOD1:0000002A [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:40:33.1668838+07:00 0HLN676D0KOD1:0000002A [INF] Executed ViewResult - view "Index" executed in 34.3548ms. (f66409e9)
2019-06-01T09:40:33.1967558+07:00 0HLN676D0KOD1:0000002A [INF] Executed action "Shop3.Controllers.PageController.Index (Shop3)" in 62.9176ms (afa2e885)
2019-06-01T09:40:33.2021832+07:00 0HLN676D0KOD1:0000002A [INF] Executed endpoint '"Shop3.Controllers.PageController.Index (Shop3)"' (99874f2b)
2019-06-01T09:40:33.2085897+07:00 0HLN676D0KOD1:0000002A [INF] Request finished in 112.3531ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:40:33.2858684+07:00 0HLN676D0KOD1:0000002B [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:40:33.2919931+07:00 0HLN676D0KOD1:0000002B [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:40:33.2971562+07:00 0HLN676D0KOD1:0000002B [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:40:33.3073412+07:00 0HLN676D0KOD1:0000002B [INF] Request finished in 23.1913ms 200 application/json (791a596a)
2019-06-01T09:40:33.4019783+07:00 0HLN676D0KODI:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=5yhAudjhRaO_BN5rAFAVjQ   (ca22a1cb)
2019-06-01T09:40:33.4099659+07:00 0HLN676D0KODI:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:40:33.4138408+07:00 0HLN676D0KODI:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:40:33.4414063+07:00 0HLN676D0KODI:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:40:35.0274895+07:00 0HLN676D0KOD1:0000002C [INF] Request starting HTTP/1.1 GET https://localhost:5001/contact.html   (ca22a1cb)
2019-06-01T09:40:35.0322547+07:00 0HLN676D0KOD1:0000002C [INF] Executing endpoint '"Shop3.Controllers.ContactController.Index (Shop3)"' (500cc934)
2019-06-01T09:40:35.0382173+07:00 0HLN676D0KOD1:0000002C [INF] Route matched with "{action = \"Index\", controller = \"Contact\", area = \"\"}". Executing action "Shop3.Controllers.ContactController.Index (Shop3)" (a44c0341)
2019-06-01T09:40:35.0437382+07:00 0HLN676D0KOD1:0000002C [INF] Executing action method "Shop3.Controllers.ContactController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:40:35.0483223+07:00 0HLN676D0KOD1:0000002C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:40:35.0563215+07:00 0HLN676D0KOD1:0000002C [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[Address], [x].[Email], [x].[Lat], [x].[Lng], [x].[Name], [x].[Other], [x].[Phone], [x].[Status], [x].[Website]
FROM [ContactDetails] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T09:40:35.0606817+07:00 0HLN676D0KOD1:0000002C [INF] Executed action method "Shop3.Controllers.ContactController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 12.9887ms. (50a9e262)
2019-06-01T09:40:35.0649918+07:00 0HLN676D0KOD1:0000002C [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:40:35.0716569+07:00 0HLN676D0KOD1:0000002C [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:40:35.0775999+07:00 0HLN676D0KOD1:0000002C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:40:35.0850386+07:00 0HLN676D0KOD1:0000002C [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:40:35.0923161+07:00 0HLN676D0KOD1:0000002C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:40:35.1445437+07:00 0HLN676D0KOD1:0000002C [INF] Executed ViewResult - view "Index" executed in 32.8783ms. (f66409e9)
2019-06-01T09:40:35.1558644+07:00 0HLN676D0KODI:00000001 [INF] Request finished in 1754.5495ms 101  (791a596a)
2019-06-01T09:40:35.1584309+07:00 0HLN676D0KOCU:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js   (ca22a1cb)
2019-06-01T09:40:35.1617487+07:00 0HLN676D0KOD1:0000002C [INF] Executed action "Shop3.Controllers.ContactController.Index (Shop3)" in 106.3445ms (afa2e885)
2019-06-01T09:40:35.1740186+07:00 0HLN676D0KOD1:0000002C [INF] Executed endpoint '"Shop3.Controllers.ContactController.Index (Shop3)"' (99874f2b)
2019-06-01T09:40:35.1756556+07:00 0HLN676D0KOCU:00000008 [INF] Request finished in 21.4133ms 404  (791a596a)
2019-06-01T09:40:35.1824555+07:00 0HLN676D0KOD1:0000002C [INF] Request finished in 152.9664ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:40:35.2538996+07:00 0HLN676D0KOD1:0000002D [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:40:35.2580821+07:00 0HLN676D0KOCV:0000001C [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T09:40:35.2591726+07:00 0HLN676D0KOCU:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T09:40:35.2667595+07:00 0HLN676D0KOCU:00000009 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T09:40:35.2693970+07:00 0HLN676D0KOD0:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js   (ca22a1cb)
2019-06-01T09:40:35.2748345+07:00 0HLN676D0KOD1:0000002D [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:40:35.2787373+07:00 0HLN676D0KOCU:00000009 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T09:40:35.2950336+07:00 0HLN676D0KOD0:00000004 [INF] Request finished in 21.2163ms 404  (791a596a)
2019-06-01T09:40:35.2968558+07:00 0HLN676D0KOD1:0000002D [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:40:35.2986479+07:00 0HLN676D0KOCU:00000009 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:40:35.3123627+07:00 0HLN676D0KOD1:0000002D [INF] Request finished in 58.5172ms 200 application/json (791a596a)
2019-06-01T09:40:35.3140821+07:00 0HLN676D0KOCU:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:40:35.3230749+07:00 0HLN676D0KOCV:0000001C [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T09:40:35.3356923+07:00 0HLN676D0KOCV:0000001C [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T09:40:35.3393920+07:00 0HLN676D0KOCU:00000009 [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T09:40:35.3472722+07:00 0HLN676D0KOCV:0000001C [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:40:35.3560328+07:00 0HLN676D0KOCU:00000009 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 41.6089ms. (50a9e262)
2019-06-01T09:40:35.3726970+07:00 0HLN676D0KOCV:0000001C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:40:35.3750318+07:00 0HLN676D0KOCU:00000009 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:40:35.3948426+07:00 0HLN676D0KOCU:00000009 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 96.468ms (afa2e885)
2019-06-01T09:40:35.3980525+07:00 0HLN676D0KOCV:0000001C [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T09:40:35.4053863+07:00 0HLN676D0KOCU:00000009 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T09:40:35.4122207+07:00 0HLN676D0KODJ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=2B2UvdI5SKXRsBQ_gAZrjg   (ca22a1cb)
2019-06-01T09:40:35.4130703+07:00 0HLN676D0KOCU:00000009 [INF] Request finished in 165.8821ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:40:35.4175820+07:00 0HLN676D0KOCV:0000001C [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 50.8319ms. (50a9e262)
2019-06-01T09:40:35.4310720+07:00 0HLN676D0KODJ:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:40:35.4341612+07:00 0HLN676D0KOCV:0000001C [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:40:35.4455971+07:00 0HLN676D0KODJ:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:40:35.4506592+07:00 0HLN676D0KOCV:0000001C [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 98.7014ms (afa2e885)
2019-06-01T09:40:35.4628553+07:00 0HLN676D0KOCV:0000001C [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T09:40:35.4729767+07:00 0HLN676D0KOCV:0000001C [INF] Request finished in 223.4242ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:40:35.5832236+07:00 0HLN676D0KODJ:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:40:37.3440690+07:00 0HLN676D0KOCV:0000001D [INF] Request starting HTTP/1.1 GET https://localhost:5001/page/about.html   (ca22a1cb)
2019-06-01T09:40:37.3496046+07:00 0HLN676D0KOCV:0000001D [INF] Executing endpoint '"Shop3.Controllers.PageController.Index (Shop3)"' (500cc934)
2019-06-01T09:40:37.3554794+07:00 0HLN676D0KOCV:0000001D [INF] Route matched with "{action = \"Index\", controller = \"Page\", area = \"\"}". Executing action "Shop3.Controllers.PageController.Index (Shop3)" (a44c0341)
2019-06-01T09:40:37.3613058+07:00 0HLN676D0KOCV:0000001D [INF] Executing action method "Shop3.Controllers.PageController.Index (Shop3)" with arguments (["about"]) - Validation state: Valid (4e3479ed)
2019-06-01T09:40:37.3659877+07:00 0HLN676D0KOCV:0000001D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:40:37.3725288+07:00 0HLN676D0KOCV:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__alias_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[Alias], [x].[Content], [x].[Name], [x].[Status]
FROM [Pages] AS [x]
WHERE ([x].[Alias] = @__alias_0) AND ([x].[Status] = 1)" (0723d8ff)
2019-06-01T09:40:37.3766445+07:00 0HLN676D0KOCV:0000001D [INF] Executed action method "Shop3.Controllers.PageController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 11.371ms. (50a9e262)
2019-06-01T09:40:37.3812201+07:00 0HLN676D0KOCV:0000001D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:40:37.3863504+07:00 0HLN676D0KOCV:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:40:37.3917809+07:00 0HLN676D0KOCV:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:40:37.3998789+07:00 0HLN676D0KOCV:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:40:37.4064467+07:00 0HLN676D0KOCV:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:40:37.4156385+07:00 0HLN676D0KOCV:0000001D [INF] Executed ViewResult - view "Index" executed in 30.8963ms. (f66409e9)
2019-06-01T09:40:37.4240554+07:00 0HLN676D0KOCV:0000001D [INF] Executed action "Shop3.Controllers.PageController.Index (Shop3)" in 60.331ms (afa2e885)
2019-06-01T09:40:37.4449805+07:00 0HLN676D0KODJ:00000001 [INF] Request finished in 2021.7915ms 101  (791a596a)
2019-06-01T09:40:37.4477841+07:00 0HLN676D0KOCV:0000001D [INF] Executed endpoint '"Shop3.Controllers.PageController.Index (Shop3)"' (99874f2b)
2019-06-01T09:40:37.4558379+07:00 0HLN676D0KOCV:0000001D [INF] Request finished in 110.0557ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:40:37.5770374+07:00 0HLN676D0KOCV:0000001E [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:40:37.5815067+07:00 0HLN676D0KOCU:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T09:40:37.5853147+07:00 0HLN676D0KOD1:0000002E [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T09:40:37.5883419+07:00 0HLN676D0KOCV:0000001E [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:40:37.5969717+07:00 0HLN676D0KOCV:0000001E [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:40:37.5999103+07:00 0HLN676D0KOD1:0000002E [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T09:40:37.6021606+07:00 0HLN676D0KOCU:0000000A [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T09:40:37.6091415+07:00 0HLN676D0KOCV:0000001E [INF] Request finished in 29.2717ms 200 application/json (791a596a)
2019-06-01T09:40:37.6109812+07:00 0HLN676D0KOD1:0000002E [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T09:40:37.6187535+07:00 0HLN676D0KOCU:0000000A [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T09:40:37.6238160+07:00 0HLN676D0KOD1:0000002E [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:40:37.6278993+07:00 0HLN676D0KOCU:0000000A [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:40:37.6341377+07:00 0HLN676D0KOD1:0000002E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:40:37.6352417+07:00 0HLN676D0KOCU:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:40:37.6434718+07:00 0HLN676D0KOD1:0000002E [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T09:40:37.6459415+07:00 0HLN676D0KOCU:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T09:40:37.6587534+07:00 0HLN676D0KOD1:0000002E [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 19.7472ms. (50a9e262)
2019-06-01T09:40:37.6631989+07:00 0HLN676D0KOCU:0000000A [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.1132ms. (50a9e262)
2019-06-01T09:40:37.7016473+07:00 0HLN676D0KOD1:0000002E [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:40:37.7058894+07:00 0HLN676D0KOCU:0000000A [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:40:37.7171057+07:00 0HLN676D0KODK:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=9Zk8UidBtF2w_dGakXzMGw   (ca22a1cb)
2019-06-01T09:40:37.7188555+07:00 0HLN676D0KOD1:0000002E [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 91.4214ms (afa2e885)
2019-06-01T09:40:37.7202159+07:00 0HLN676D0KOCU:0000000A [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 85.2536ms (afa2e885)
2019-06-01T09:40:37.7273437+07:00 0HLN676D0KOD1:0000002E [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T09:40:37.7300038+07:00 0HLN676D0KODK:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:40:37.7378470+07:00 0HLN676D0KOD1:0000002E [INF] Request finished in 151.2056ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:40:37.7418294+07:00 0HLN676D0KODK:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:40:37.7574594+07:00 0HLN676D0KOCU:0000000A [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T09:40:37.7659246+07:00 0HLN676D0KODK:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:40:37.7669822+07:00 0HLN676D0KOCU:0000000A [INF] Request finished in 183.2289ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:40:51.3887984+07:00 0HLN676D0KOCU:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/contact/index   (ca22a1cb)
2019-06-01T09:40:51.3981276+07:00 0HLN676D0KOCU:0000000B [INF] Request finished in 6.5037ms 404  (791a596a)
2019-06-01T09:40:51.4253346+07:00 0HLN676D0KODE:00000001 [INF] Request finished in 71749.9206ms 101  (791a596a)
2019-06-01T09:40:54.3832041+07:00 0HLN676D0KOCU:0000000C [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:40:54.3914298+07:00 0HLN676D0KOCU:0000000C [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:40:54.3954486+07:00 0HLN676D0KOCU:0000000C [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:40:54.4057349+07:00 0HLN676D0KOCU:0000000C [INF] Request finished in 22.1768ms 200 application/json (791a596a)
2019-06-01T09:40:54.5529980+07:00 0HLN676D0KODL:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=5k-fC1odogV2hQBqcVB-kA   (ca22a1cb)
2019-06-01T09:40:54.5598194+07:00 0HLN676D0KODL:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:40:54.5670682+07:00 0HLN676D0KODL:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:40:54.5838820+07:00 0HLN676D0KODL:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T09:41:06.9343134+07:00 0HLN676D0KOCU:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/contact.html   (ca22a1cb)
2019-06-01T09:41:06.9405944+07:00 0HLN676D0KOCU:0000000D [INF] Executing endpoint '"Shop3.Controllers.ContactController.Index (Shop3)"' (500cc934)
2019-06-01T09:41:06.9450920+07:00 0HLN676D0KOCU:0000000D [INF] Route matched with "{action = \"Index\", controller = \"Contact\", area = \"\"}". Executing action "Shop3.Controllers.ContactController.Index (Shop3)" (a44c0341)
2019-06-01T09:41:06.9502518+07:00 0HLN676D0KOCU:0000000D [INF] Executing action method "Shop3.Controllers.ContactController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:41:06.9561029+07:00 0HLN676D0KOCU:0000000D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:41:06.9630272+07:00 0HLN676D0KOCU:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (Size = 255)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[Address], [x].[Email], [x].[Lat], [x].[Lng], [x].[Name], [x].[Other], [x].[Phone], [x].[Status], [x].[Website]
FROM [ContactDetails] AS [x]
WHERE [x].[Id] = @__id_0" (0723d8ff)
2019-06-01T09:41:06.9675839+07:00 0HLN676D0KOCU:0000000D [INF] Executed action method "Shop3.Controllers.ContactController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 13.0715ms. (50a9e262)
2019-06-01T09:41:06.9732261+07:00 0HLN676D0KOCU:0000000D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T09:41:06.9798268+07:00 0HLN676D0KOCU:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:41:06.9889829+07:00 0HLN676D0KOCU:0000000D [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:41:06.9959019+07:00 0HLN676D0KOCU:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T09:41:07.0012623+07:00 0HLN676D0KOCU:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T09:41:07.0117422+07:00 0HLN676D0KOCU:0000000D [INF] Executed ViewResult - view "Index" executed in 35.0284ms. (f66409e9)
2019-06-01T09:41:07.1021914+07:00 0HLN676D0KOCU:0000000D [INF] Executed action "Shop3.Controllers.ContactController.Index (Shop3)" in 66.646ms (afa2e885)
2019-06-01T09:41:07.1161081+07:00 0HLN676D0KODK:00000001 [INF] Request finished in 29315.6071ms 101  (791a596a)
2019-06-01T09:41:07.1264363+07:00 0HLN676D0KOCU:0000000D [INF] Executed endpoint '"Shop3.Controllers.ContactController.Index (Shop3)"' (99874f2b)
2019-06-01T09:41:07.1362144+07:00 0HLN676D0KOD1:0000002F [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js   (ca22a1cb)
2019-06-01T09:41:07.1494960+07:00 0HLN676D0KOCU:0000000D [INF] Request finished in 198.41ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T09:41:07.1568555+07:00 0HLN676D0KOD1:0000002F [INF] Request finished in 47.3628ms 404  (791a596a)
2019-06-01T09:41:07.1886546+07:00 0HLN676D0KOD1:00000030 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T09:41:07.1913762+07:00 0HLN676D0KOCV:0000001F [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T09:41:07.1952736+07:00 0HLN676D0KOCU:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T09:41:07.1963246+07:00 0HLN676D0KOD1:00000030 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:41:07.2038595+07:00 0HLN676D0KOCV:0000001F [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T09:41:07.2056760+07:00 0HLN676D0KOD1:00000030 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:41:07.2139177+07:00 0HLN676D0KOCV:0000001F [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T09:41:07.2195784+07:00 0HLN676D0KOCU:0000000E [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T09:41:07.2248912+07:00 0HLN676D0KOD1:00000030 [INF] Request finished in 31.7095ms 200 application/json (791a596a)
2019-06-01T09:41:07.2269035+07:00 0HLN676D0KOCV:0000001F [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:41:07.2363332+07:00 0HLN676D0KOCU:0000000E [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T09:41:07.2402225+07:00 0HLN676D0KOCV:0000001F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:41:07.2463497+07:00 0HLN676D0KOCU:0000000E [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T09:41:07.2531562+07:00 0HLN676D0KOCV:0000001F [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T09:41:07.2546689+07:00 0HLN676D0KOCU:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T09:41:07.2647172+07:00 0HLN676D0KOCV:0000001F [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 26.3503ms. (50a9e262)
2019-06-01T09:41:07.2775066+07:00 0HLN676D0KOCU:0000000E [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T09:41:07.2793543+07:00 0HLN676D0KOCV:0000001F [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:41:07.3095828+07:00 0HLN676D0KOCU:0000000E [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 31.2483ms. (50a9e262)
2019-06-01T09:41:07.3117026+07:00 0HLN676D0KOCV:0000001F [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 66.3663ms (afa2e885)
2019-06-01T09:41:07.3225289+07:00 0HLN676D0KOD1:00000031 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js   (ca22a1cb)
2019-06-01T09:41:07.3266368+07:00 0HLN676D0KOCV:0000001F [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T09:41:07.3337272+07:00 0HLN676D0KODM:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=7CRtAFlF4i-n-XsYDB5tRA   (ca22a1cb)
2019-06-01T09:41:07.3346178+07:00 0HLN676D0KOCV:0000001F [INF] Request finished in 146.9405ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:41:07.3564353+07:00 0HLN676D0KOD1:00000031 [INF] Request finished in 14.5206ms 404  (791a596a)
2019-06-01T09:41:07.3644624+07:00 0HLN676D0KODM:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T09:41:07.3807163+07:00 0HLN676D0KODM:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T09:41:07.3849732+07:00 0HLN676D0KOCU:0000000E [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T09:41:07.3988028+07:00 0HLN676D0KOCU:0000000E [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 149.7155ms (afa2e885)
2019-06-01T09:41:07.4196324+07:00 0HLN676D0KOCU:0000000E [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T09:41:07.4273090+07:00 0HLN676D0KOCU:0000000E [INF] Request finished in 240.1347ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T09:41:07.5247744+07:00 0HLN676D0KODM:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:06:15.8279824+07:00 0HLN67ODQRSVV:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T10:06:15.9329899+07:00 0HLN67ODQRSVV:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:06:16.0205037+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("13"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[Balance], [e].[BirthDay], [e].[ConcurrencyStamp], [e].[DateCreated], [e].[DateModified], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[Status], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2019-06-01T10:06:16.2806930+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("33"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T10:06:16.3469691+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T10:06:16.3767167+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T10:06:16.4042039+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T10:06:16.4146010+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T10:06:16.4218535+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T10:06:16.4291865+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T10:06:16.4366831+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T10:06:16.4459442+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T10:06:16.5364701+07:00 0HLN67ODQRSVV:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T10:06:16.6306115+07:00 0HLN67ODQRSVV:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T10:06:16.6558636+07:00 0HLN67ODQRSVV:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:06:16.7713506+07:00 0HLN67ODQRSVV:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T10:06:16.8509379+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T10:06:16.8888061+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T10:06:17.0495289+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("37"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T10:06:17.0739916+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T10:06:17.1345409+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T10:06:17.1575198+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T10:06:17.1946984+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T10:06:17.2147804+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T10:06:17.2347685+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T10:06:17.2490163+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T10:06:17.2660218+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T10:06:17.2802963+07:00 0HLN67ODQRSVV:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 612.4717ms. (50a9e262)
2019-06-01T10:06:17.3931668+07:00 0HLN67ODQRSVV:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:06:17.6250964+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T10:06:17.6371743+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T10:06:17.7757417+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T10:06:17.7857868+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T10:06:17.8085006+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T10:06:17.8285506+07:00 0HLN67ODQRSVV:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T10:06:17.9947810+07:00 0HLN67ODQRSVV:00000001 [INF] Executed ViewResult - view "Index" executed in 610.4499ms. (f66409e9)
2019-06-01T10:06:18.5247875+07:00 0HLN67ODQRSVV:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 1364.5777ms (afa2e885)
2019-06-01T10:06:18.5433967+07:00 0HLN67ODQRT04:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T10:06:18.5489549+07:00 0HLN67ODQRT00:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T10:06:18.6791374+07:00 0HLN67ODQRT04:00000001 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T10:06:18.7336888+07:00 0HLN67ODQRT00:00000001 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T10:06:18.7403156+07:00 0HLN67ODQRT01:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T10:06:18.7625609+07:00 0HLN67ODQRT02:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T10:06:18.7644494+07:00 0HLN67ODQRT01:00000001 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T10:06:18.7700017+07:00 0HLN67ODQRSVV:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T10:06:18.7710393+07:00 0HLN67ODQRT02:00000001 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T10:06:18.9089711+07:00 0HLN67ODQRSVV:00000001 [INF] Request finished in 3130.7683ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:06:19.0969762+07:00 0HLN67ODQRT01:00000001 [INF] Request finished in 522.2317ms 200 image/jpeg (791a596a)
2019-06-01T10:06:19.1007001+07:00 0HLN67ODQRT04:00000001 [INF] Request finished in 528.9214ms 200 image/jpeg (791a596a)
2019-06-01T10:06:19.1275300+07:00 0HLN67ODQRT00:00000001 [INF] Request finished in 522.6219ms 200 image/jpeg (791a596a)
2019-06-01T10:06:19.1362894+07:00 0HLN67ODQRSVV:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T10:06:19.1387633+07:00 0HLN67ODQRT04:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T10:06:19.1481548+07:00 0HLN67ODQRSVV:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T10:06:19.1536363+07:00 0HLN67ODQRT03:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T10:06:19.1574090+07:00 0HLN67ODQRT00:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:06:19.1680530+07:00 0HLN67ODQRT04:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T10:06:19.1720642+07:00 0HLN67ODQRT00:00000002 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:06:19.1807661+07:00 0HLN67ODQRT04:00000002 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T10:06:19.1833285+07:00 0HLN67ODQRSVV:00000002 [INF] Request finished in 42.9152ms 200 image/jpeg (791a596a)
2019-06-01T10:06:19.1967961+07:00 0HLN67ODQRT04:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:06:19.2148326+07:00 0HLN67ODQRT04:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:06:19.2166094+07:00 0HLN67ODQRT01:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T10:06:19.2192092+07:00 0HLN67ODQRT00:00000002 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:06:19.2335603+07:00 0HLN67ODQRT01:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T10:06:19.2654889+07:00 0HLN67ODQRT04:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T10:06:19.2672403+07:00 0HLN67ODQRT01:00000002 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T10:06:19.2813162+07:00 0HLN67ODQRT02:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T10:06:19.2893461+07:00 0HLN67ODQRT04:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 82.0696ms. (50a9e262)
2019-06-01T10:06:19.2957235+07:00 0HLN67ODQRT01:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:06:19.2981494+07:00 0HLN67ODQRT03:00000001 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T10:06:19.3206630+07:00 0HLN67ODQRT04:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:06:19.3495242+07:00 0HLN67ODQRT01:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:06:19.3661945+07:00 0HLN67ODQRT00:00000002 [INF] Request finished in 197.5912ms 200 application/json (791a596a)
2019-06-01T10:06:19.3791897+07:00 0HLN67ODQRT01:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T10:06:19.4885698+07:00 0HLN67ODQRT04:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 200.7153ms (afa2e885)
2019-06-01T10:06:19.4925476+07:00 0HLN67ODQRT01:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 84.7498ms. (50a9e262)
2019-06-01T10:06:19.4993098+07:00 0HLN67ODQRT04:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T10:06:19.5016536+07:00 0HLN67ODQRT01:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:06:19.5098838+07:00 0HLN67ODQRT02:00000001 [INF] Request finished in 826.5978ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T10:06:19.5117804+07:00 0HLN67ODQRT04:00000002 [INF] Request finished in 373.7925ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:06:19.5136483+07:00 0HLN67ODQRT00:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T10:06:19.5253423+07:00 0HLN67ODQRT03:00000001 [INF] Request finished in 351.7502ms 200 image/jpeg (791a596a)
2019-06-01T10:06:19.5271667+07:00 0HLN67ODQRT00:00000003 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T10:06:19.5329143+07:00 0HLN67ODQRT05:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=ttgBVrjrCDSD3ihvpGnkrQ   (ca22a1cb)
2019-06-01T10:06:19.5441898+07:00 0HLN67ODQRT01:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 265.1304ms (afa2e885)
2019-06-01T10:06:19.5465697+07:00 0HLN67ODQRT05:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:06:19.5552299+07:00 0HLN67ODQRT01:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T10:06:19.5604056+07:00 0HLN67ODQRT05:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:06:19.5620351+07:00 0HLN67ODQRT00:00000003 [INF] Request finished in 67.5055ms 200 image/jpeg (791a596a)
2019-06-01T10:06:19.5694935+07:00 0HLN67ODQRT03:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T10:06:19.5774345+07:00 0HLN67ODQRT01:00000002 [INF] Request finished in 367.2148ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:06:19.5832122+07:00 0HLN67ODQRT03:00000002 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T10:06:19.6315062+07:00 0HLN67ODQRT03:00000002 [INF] Request finished in 86.9201ms 200 image/jpeg (791a596a)
2019-06-01T10:06:19.6788982+07:00 0HLN67ODQRT05:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:06:30.5670194+07:00 0HLN67ODQRT03:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T10:06:30.5768199+07:00 0HLN67ODQRT03:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T10:06:30.5833791+07:00 0HLN67ODQRT03:00000003 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T10:06:30.5896519+07:00 0HLN67ODQRT03:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:06:30.5943399+07:00 0HLN67ODQRT03:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3963ms. (50a9e262)
2019-06-01T10:06:30.6071469+07:00 0HLN67ODQRT03:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:06:30.6439654+07:00 0HLN67ODQRT03:00000003 [INF] Executed ViewResult - view "Index" executed in 39.6647ms. (f66409e9)
2019-06-01T10:06:30.6482152+07:00 0HLN67ODQRT03:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 60.7195ms (afa2e885)
2019-06-01T10:06:30.7067000+07:00 0HLN67ODQRT03:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T10:06:30.7253379+07:00 0HLN67ODQRT03:00000003 [INF] Request finished in 152.1676ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:06:30.7758466+07:00 0HLN67ODQRT05:00000001 [INF] Request finished in 11244.6767ms 101  (791a596a)
2019-06-01T10:06:32.3655602+07:00 0HLN67ODQRT03:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T10:06:32.3697125+07:00 0HLN67ODQRT03:00000004 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:06:32.3733210+07:00 0HLN67ODQRT03:00000004 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:06:32.3774055+07:00 0HLN67ODQRT03:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T10:06:32.3981481+07:00 0HLN67ODQRT03:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T10:06:32.4386014+07:00 0HLN67ODQRT03:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:06:34.3209112+07:00 0HLN67ODQRT03:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:06:34.3388858+07:00 0HLN67ODQRT03:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T10:06:34.3923262+07:00 0HLN67ODQRT03:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T10:06:34.4002482+07:00 0HLN67ODQRT03:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T10:06:34.4073014+07:00 0HLN67ODQRT03:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T10:06:34.4153464+07:00 0HLN67ODQRT03:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T10:06:34.4203442+07:00 0HLN67ODQRT03:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T10:06:34.4256225+07:00 0HLN67ODQRT03:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T10:06:34.4306133+07:00 0HLN67ODQRT03:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T10:06:34.4384660+07:00 0HLN67ODQRT03:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T10:06:34.4434937+07:00 0HLN67ODQRT03:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T10:06:34.4511544+07:00 0HLN67ODQRT03:00000004 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T10:06:34.4576500+07:00 0HLN67ODQRT03:00000004 [INF] User logged in. (fdce0db4)
2019-06-01T10:06:34.4633940+07:00 0HLN67ODQRT03:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2021.1761ms. (50a9e262)
2019-06-01T10:06:34.4713644+07:00 0HLN67ODQRT03:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T10:06:34.4801730+07:00 0HLN67ODQRT03:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 2078.1414ms (afa2e885)
2019-06-01T10:06:34.4849160+07:00 0HLN67ODQRT03:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T10:06:34.4905345+07:00 0HLN67ODQRT03:00000004 [INF] Request finished in 2125.4009ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:06:34.5023175+07:00 0HLN67ODQRT03:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T10:06:34.5139343+07:00 0HLN67ODQRT03:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T10:06:34.5193951+07:00 0HLN67ODQRT03:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T10:06:34.5342136+07:00 0HLN67ODQRT03:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:06:34.5413721+07:00 0HLN67ODQRT03:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:06:34.5464528+07:00 0HLN67ODQRT03:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.7602ms. (50a9e262)
2019-06-01T10:06:34.5541233+07:00 0HLN67ODQRT03:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:06:34.5704257+07:00 0HLN67ODQRT03:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:06:34.6113504+07:00 0HLN67ODQRT03:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:06:34.6252958+07:00 0HLN67ODQRT03:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:06:34.6536991+07:00 0HLN67ODQRT03:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:06:34.6575715+07:00 0HLN67ODQRT03:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:06:34.7110955+07:00 0HLN67ODQRT03:00000005 [INF] Executed DbCommand ("13"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:06:34.7158323+07:00 0HLN67ODQRT03:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:06:34.7507127+07:00 0HLN67ODQRT03:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:06:34.7559230+07:00 0HLN67ODQRT03:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:06:34.8315065+07:00 0HLN67ODQRT03:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:06:34.9969804+07:00 0HLN67ODQRT03:00000005 [INF] Executed ViewResult - view "Index" executed in 396.7898ms. (f66409e9)
2019-06-01T10:06:35.0965680+07:00 0HLN67ODQRT03:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 519.1413ms (afa2e885)
2019-06-01T10:06:35.1041615+07:00 0HLN67ODQRT01:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=-NTPIAAUoLME9zXM3rOh6LLVj8Oq8-uW2W7i4qSZEpM   (ca22a1cb)
2019-06-01T10:06:35.1095674+07:00 0HLN67ODQRT03:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T10:06:35.1217388+07:00 0HLN67ODQRT03:00000005 [INF] Request finished in 613.8817ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:06:35.1331707+07:00 0HLN67ODQRT01:00000003 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T10:06:35.1442423+07:00 0HLN67ODQRT01:00000003 [INF] Request finished in 41.4514ms 304 application/javascript (791a596a)
2019-06-01T10:06:35.3480386+07:00 0HLN67ODQRT01:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:06:35.3498244+07:00 0HLN67ODQRT03:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:06:35.3574445+07:00 0HLN67ODQRT01:00000004 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:06:35.3606302+07:00 0HLN67ODQRT03:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:06:35.3687138+07:00 0HLN67ODQRT01:00000004 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:06:35.3699265+07:00 0HLN67ODQRT03:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:06:35.3827873+07:00 0HLN67ODQRT01:00000004 [INF] Request finished in 31.0814ms 200 application/json (791a596a)
2019-06-01T10:06:35.3848886+07:00 0HLN67ODQRT03:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:06:35.3961871+07:00 0HLN67ODQRT03:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:06:35.3971979+07:00 0HLN67ODQRT01:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T10:06:35.4044143+07:00 0HLN67ODQRT01:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T10:06:35.4103893+07:00 0HLN67ODQRT03:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:06:35.4367400+07:00 0HLN67ODQRT01:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T10:06:35.4451593+07:00 0HLN67ODQRT01:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:06:35.4851634+07:00 0HLN67ODQRT01:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T10:06:35.4862657+07:00 0HLN67ODQRT06:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=J54wPp22gnA0azg-ZjbZhA   (ca22a1cb)
2019-06-01T10:06:35.4966157+07:00 0HLN67ODQRT03:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:06:35.4979318+07:00 0HLN67ODQRT06:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:06:35.5143145+07:00 0HLN67ODQRT06:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:06:35.5217866+07:00 0HLN67ODQRT06:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:06:35.5453131+07:00 0HLN67ODQRT03:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:06:35.5526981+07:00 0HLN67ODQRT03:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 151.887ms. (50a9e262)
2019-06-01T10:06:35.5571079+07:00 0HLN67ODQRT03:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:06:35.5789405+07:00 0HLN67ODQRT03:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 199.8381ms (afa2e885)
2019-06-01T10:06:35.5834714+07:00 0HLN67ODQRT03:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:06:35.5878460+07:00 0HLN67ODQRT03:00000006 [INF] Request finished in 240.1938ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:06:35.5997405+07:00 0HLN67ODQRT03:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/images/users.png   (ca22a1cb)
2019-06-01T10:06:35.6032141+07:00 0HLN67ODQRT03:00000007 [INF] The file "/admin-side/images/users.png" was not modified (f1f8d725)
2019-06-01T10:06:35.6132063+07:00 0HLN67ODQRT03:00000007 [INF] Request finished in 7.6102ms 304 image/png (791a596a)
2019-06-01T10:06:35.6686796+07:00 0HLN67ODQRT01:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 178.8622ms. (50a9e262)
2019-06-01T10:06:35.6722599+07:00 0HLN67ODQRT01:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:06:35.6845643+07:00 0HLN67ODQRT01:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 237.9579ms (afa2e885)
2019-06-01T10:06:35.6885749+07:00 0HLN67ODQRT01:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T10:06:35.6951395+07:00 0HLN67ODQRT01:00000005 [INF] Request finished in 297.5927ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:06:45.4940644+07:00 0HLN67ODQRT01:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/blog/index   (ca22a1cb)
2019-06-01T10:06:45.5027929+07:00 0HLN67ODQRT01:00000006 [INF] Request finished in 9.6303ms 404  (791a596a)
2019-06-01T10:06:45.5265213+07:00 0HLN67ODQRT06:00000001 [INF] Request finished in 10040.7901ms 101  (791a596a)
2019-06-01T10:06:48.3499651+07:00 0HLN67ODQRT01:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:06:48.3568853+07:00 0HLN67ODQRT01:00000007 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:06:48.3622039+07:00 0HLN67ODQRT01:00000007 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:06:48.3693329+07:00 0HLN67ODQRT01:00000007 [INF] Request finished in 19.8531ms 200 application/json (791a596a)
2019-06-01T10:06:48.5286822+07:00 0HLN67ODQRT07:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=cW1Pz4HgN-z8kIX8el8tDQ   (ca22a1cb)
2019-06-01T10:06:48.5364987+07:00 0HLN67ODQRT07:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:06:48.5427581+07:00 0HLN67ODQRT07:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:06:48.5522755+07:00 0HLN67ODQRT07:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:06:51.0351991+07:00 0HLN67ODQRT01:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/report/visitor   (ca22a1cb)
2019-06-01T10:06:51.0514271+07:00 0HLN67ODQRT01:00000008 [INF] Request finished in 6.585ms 404  (791a596a)
2019-06-01T10:06:51.0789639+07:00 0HLN67ODQRT07:00000001 [INF] Request finished in 2539.1097ms 101  (791a596a)
2019-06-01T10:06:52.2968629+07:00 0HLN67ODQRT01:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:06:52.3057313+07:00 0HLN67ODQRT01:00000009 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:06:52.3118618+07:00 0HLN67ODQRT01:00000009 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:06:52.3189252+07:00 0HLN67ODQRT01:00000009 [INF] Request finished in 27.8469ms 200 application/json (791a596a)
2019-06-01T10:06:52.4837574+07:00 0HLN67ODQRT08:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=CEyY2Ct__c6NwTgDehXJow   (ca22a1cb)
2019-06-01T10:06:52.5018850+07:00 0HLN67ODQRT08:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:06:52.5223121+07:00 0HLN67ODQRT08:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:06:52.5667470+07:00 0HLN67ODQRT08:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:06:53.9975814+07:00 0HLN67ODQRT01:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/contact/index   (ca22a1cb)
2019-06-01T10:06:54.0061944+07:00 0HLN67ODQRT01:0000000A [INF] Request finished in 7.8001ms 404  (791a596a)
2019-06-01T10:06:54.0289365+07:00 0HLN67ODQRT08:00000001 [INF] Request finished in 1547.3993ms 101  (791a596a)
2019-06-01T10:07:02.3810265+07:00 0HLN67ODQRT01:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Contact/index   (ca22a1cb)
2019-06-01T10:07:02.3923659+07:00 0HLN67ODQRT01:0000000B [INF] Request finished in 5.4797ms 404  (791a596a)
2019-06-01T10:09:17.1938828+07:00 0HLN67Q3T0OOT:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T10:09:17.4124788+07:00 0HLN67Q3T0OOT:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T10:09:17.4858129+07:00 0HLN67Q3T0OOT:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T10:09:17.5191116+07:00 0HLN67Q3T0OOT:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:09:17.5535526+07:00 0HLN67Q3T0OOT:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:09:17.6375781+07:00 0HLN67Q3T0OOT:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T10:09:17.7960752+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed DbCommand ("44"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T10:09:17.8381752+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T10:09:17.9995433+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed DbCommand ("12"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T10:09:18.0335289+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed DbCommand ("20"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T10:09:18.0972052+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T10:09:18.1175686+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T10:09:18.1565450+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T10:09:18.1747219+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T10:09:18.1875045+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T10:09:18.1991354+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T10:09:18.2192572+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T10:09:18.2308469+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 702.6398ms. (50a9e262)
2019-06-01T10:09:18.2648140+07:00 0HLN67Q3T0OOT:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:09:18.4023606+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T10:09:18.4112045+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T10:09:18.5311453+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T10:09:18.5360102+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T10:09:18.5522107+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T10:09:18.5609143+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T10:09:18.6816428+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed ViewResult - view "Index" executed in 434.0431ms. (f66409e9)
2019-06-01T10:09:18.6874315+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 1196.2952ms (afa2e885)
2019-06-01T10:09:18.6912379+07:00 0HLN67Q3T0OOT:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T10:09:18.7054762+07:00 0HLN67Q3T0OOT:00000001 [INF] Request finished in 1576.3835ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:09:18.8017851+07:00 0HLN67Q3T0OOU:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T10:09:18.8045404+07:00 0HLN67Q3T0OOV:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T10:09:18.8510893+07:00 0HLN67Q3T0OOV:00000001 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T10:09:18.8942199+07:00 0HLN67Q3T0OOU:00000001 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T10:09:18.8968759+07:00 0HLN67Q3T0OP0:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T10:09:18.9029993+07:00 0HLN67Q3T0OP1:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T10:09:18.9037276+07:00 0HLN67Q3T0OP0:00000001 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T10:09:19.0381525+07:00 0HLN67Q3T0OP1:00000001 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T10:09:19.1592137+07:00 0HLN67Q3T0OP1:00000001 [INF] Request finished in 245.8443ms 200 image/jpeg (791a596a)
2019-06-01T10:09:19.2009114+07:00 0HLN67Q3T0OOT:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T10:09:19.2083800+07:00 0HLN67Q3T0OP2:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T10:09:19.2173093+07:00 0HLN67Q3T0OOT:00000002 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T10:09:19.2357888+07:00 0HLN67Q3T0OP2:00000001 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T10:09:19.2621474+07:00 0HLN67Q3T0OP0:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T10:09:19.2659304+07:00 0HLN67Q3T0OOU:00000001 [INF] Request finished in 430.5374ms 200 image/jpeg (791a596a)
2019-06-01T10:09:19.2825588+07:00 0HLN67Q3T0OP2:00000001 [INF] Request finished in 78.5078ms 200 image/jpeg (791a596a)
2019-06-01T10:09:19.3143717+07:00 0HLN67Q3T0OOV:00000001 [INF] Request finished in 485.3013ms 200 image/jpeg (791a596a)
2019-06-01T10:09:19.3846712+07:00 0HLN67Q3T0OOT:00000002 [INF] Request finished in 116.5311ms 200 image/jpeg (791a596a)
2019-06-01T10:09:19.4552069+07:00 0HLN67Q3T0OP2:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T10:09:19.4626010+07:00 0HLN67Q3T0OOV:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T10:09:19.4816307+07:00 0HLN67Q3T0OP2:00000002 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T10:09:19.4843720+07:00 0HLN67Q3T0OOV:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T10:09:19.6885126+07:00 0HLN67Q3T0OP2:00000002 [INF] Request finished in 153.7619ms 200 image/jpeg (791a596a)
2019-06-01T10:09:19.7012962+07:00 0HLN67Q3T0OOV:00000002 [INF] Request finished in 128.9873ms 200 image/jpeg (791a596a)
2019-06-01T10:09:19.7266208+07:00 0HLN67Q3T0OP0:00000001 [INF] Request finished in 915.2587ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T10:09:20.1049762+07:00 0HLN67Q3T0OP2:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:09:20.1201077+07:00 0HLN67Q3T0OOV:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T10:09:20.1222308+07:00 0HLN67Q3T0OOT:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T10:09:20.1377036+07:00 0HLN67Q3T0OP2:00000003 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:09:20.1457409+07:00 0HLN67Q3T0OP2:00000003 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:09:20.1581323+07:00 0HLN67Q3T0OOT:00000003 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T10:09:20.1644605+07:00 0HLN67Q3T0OOV:00000003 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T10:09:20.1761266+07:00 0HLN67Q3T0OOV:00000003 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T10:09:20.1793438+07:00 0HLN67Q3T0OOT:00000003 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T10:09:20.1866598+07:00 0HLN67Q3T0OOV:00000003 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:09:20.1914479+07:00 0HLN67Q3T0OOT:00000003 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:09:20.2271414+07:00 0HLN67Q3T0OOV:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:09:20.2347456+07:00 0HLN67Q3T0OOT:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:09:20.2477843+07:00 0HLN67Q3T0OP2:00000003 [INF] Request finished in 124.5143ms 200 application/json (791a596a)
2019-06-01T10:09:20.2764279+07:00 0HLN67Q3T0OOV:00000003 [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T10:09:20.2943496+07:00 0HLN67Q3T0OOV:00000003 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 90.9299ms. (50a9e262)
2019-06-01T10:09:20.3135152+07:00 0HLN67Q3T0OOT:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T10:09:20.3168686+07:00 0HLN67Q3T0OOV:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:09:20.3237010+07:00 0HLN67Q3T0OOT:00000003 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 122.9816ms. (50a9e262)
2019-06-01T10:09:20.3501674+07:00 0HLN67Q3T0OOT:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:09:20.3788702+07:00 0HLN67Q3T0OOT:00000003 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 178.3846ms (afa2e885)
2019-06-01T10:09:20.3984648+07:00 0HLN67Q3T0OOV:00000003 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 181.6055ms (afa2e885)
2019-06-01T10:09:20.4010240+07:00 0HLN67Q3T0OOT:00000003 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T10:09:20.4041686+07:00 0HLN67Q3T0OP3:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=V3e_thrd-_UYKTcq8D7yXQ   (ca22a1cb)
2019-06-01T10:09:20.4188008+07:00 0HLN67Q3T0OOT:00000003 [INF] Request finished in 293.283ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:09:20.4199298+07:00 0HLN67Q3T0OP3:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:09:20.4306095+07:00 0HLN67Q3T0OOV:00000003 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T10:09:20.4337854+07:00 0HLN67Q3T0OP3:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:09:20.4396451+07:00 0HLN67Q3T0OOV:00000003 [INF] Request finished in 325.9324ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:09:20.5123273+07:00 0HLN67Q3T0OP3:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:09:21.5045147+07:00 0HLN67Q3T0OOV:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T10:09:21.5127290+07:00 0HLN67Q3T0OOV:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T10:09:21.5195523+07:00 0HLN67Q3T0OOV:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T10:09:21.5274350+07:00 0HLN67Q3T0OOV:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:09:21.5329488+07:00 0HLN67Q3T0OOV:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.6736ms. (50a9e262)
2019-06-01T10:09:21.5432286+07:00 0HLN67Q3T0OOV:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:09:21.6536355+07:00 0HLN67Q3T0OOV:00000004 [INF] Executed ViewResult - view "Index" executed in 37.7587ms. (f66409e9)
2019-06-01T10:09:21.6674648+07:00 0HLN67Q3T0OOV:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 134.125ms (afa2e885)
2019-06-01T10:09:21.6807456+07:00 0HLN67Q3T0OOV:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T10:09:21.6852486+07:00 0HLN67Q3T0OOV:00000004 [INF] Request finished in 183.0254ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:09:21.7101548+07:00 0HLN67Q3T0OP3:00000001 [INF] Request finished in 1330.5687ms 101  (791a596a)
2019-06-01T10:09:23.3156066+07:00 0HLN67Q3T0OOV:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T10:09:23.3413506+07:00 0HLN67Q3T0OOV:00000005 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:09:23.3449613+07:00 0HLN67Q3T0OOV:00000005 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:09:23.3487578+07:00 0HLN67Q3T0OOV:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T10:09:23.3691562+07:00 0HLN67Q3T0OOV:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T10:09:23.4186687+07:00 0HLN67Q3T0OOV:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:09:25.1120901+07:00 0HLN67Q3T0OOV:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:09:25.1582812+07:00 0HLN67Q3T0OOV:00000005 [INF] Executed DbCommand ("10"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T10:09:25.3137773+07:00 0HLN67Q3T0OOV:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T10:09:25.3564102+07:00 0HLN67Q3T0OOV:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T10:09:25.3763143+07:00 0HLN67Q3T0OOV:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T10:09:25.4012939+07:00 0HLN67Q3T0OOV:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T10:09:25.4091306+07:00 0HLN67Q3T0OOV:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T10:09:25.4146584+07:00 0HLN67Q3T0OOV:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T10:09:25.4263922+07:00 0HLN67Q3T0OOV:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T10:09:25.4324533+07:00 0HLN67Q3T0OOV:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T10:09:25.4431823+07:00 0HLN67Q3T0OOV:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T10:09:25.4589185+07:00 0HLN67Q3T0OOV:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T10:09:25.4666165+07:00 0HLN67Q3T0OOV:00000005 [INF] User logged in. (fdce0db4)
2019-06-01T10:09:25.4733838+07:00 0HLN67Q3T0OOV:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2050.4134ms. (50a9e262)
2019-06-01T10:09:25.4827836+07:00 0HLN67Q3T0OOV:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T10:09:25.4934215+07:00 0HLN67Q3T0OOV:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 2118.4347ms (afa2e885)
2019-06-01T10:09:25.4982970+07:00 0HLN67Q3T0OOV:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T10:09:25.5090345+07:00 0HLN67Q3T0OOV:00000005 [INF] Request finished in 2188.2074ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:09:25.5280298+07:00 0HLN67Q3T0OOV:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T10:09:25.5345180+07:00 0HLN67Q3T0OOV:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T10:09:25.5427375+07:00 0HLN67Q3T0OOV:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T10:09:25.5573426+07:00 0HLN67Q3T0OOV:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:25.5614485+07:00 0HLN67Q3T0OOV:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:09:25.5658329+07:00 0HLN67Q3T0OOV:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3429ms. (50a9e262)
2019-06-01T10:09:25.5741110+07:00 0HLN67Q3T0OOV:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:09:25.5872823+07:00 0HLN67Q3T0OOV:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:09:25.6425138+07:00 0HLN67Q3T0OOV:00000006 [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:25.6866467+07:00 0HLN67Q3T0OOV:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:25.7154036+07:00 0HLN67Q3T0OOV:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:25.7186471+07:00 0HLN67Q3T0OOV:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:25.7369777+07:00 0HLN67Q3T0OOV:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:25.7446992+07:00 0HLN67Q3T0OOV:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:25.7637560+07:00 0HLN67Q3T0OOV:00000006 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:25.7672161+07:00 0HLN67Q3T0OOV:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:25.8125121+07:00 0HLN67Q3T0OOV:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:09:25.9366268+07:00 0HLN67Q3T0OOV:00000006 [INF] Executed ViewResult - view "Index" executed in 323.8897ms. (f66409e9)
2019-06-01T10:09:26.1165257+07:00 0HLN67Q3T0OOV:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 418.0993ms (afa2e885)
2019-06-01T10:09:26.1773815+07:00 0HLN67Q3T0OOV:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T10:09:26.1938656+07:00 0HLN67Q3T0OOV:00000006 [INF] Request finished in 659.1994ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:09:26.3488886+07:00 0HLN67Q3T0OOV:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:09:26.3515344+07:00 0HLN67Q3T0OOT:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:09:26.3587327+07:00 0HLN67Q3T0OOV:00000007 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:09:26.3621370+07:00 0HLN67Q3T0OOT:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:09:26.3669957+07:00 0HLN67Q3T0OOV:00000007 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:09:26.3826810+07:00 0HLN67Q3T0OOV:00000007 [INF] Request finished in 28.857ms 200 application/json (791a596a)
2019-06-01T10:09:26.3847147+07:00 0HLN67Q3T0OOT:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:09:26.3968628+07:00 0HLN67Q3T0OOV:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T10:09:26.4003647+07:00 0HLN67Q3T0OOT:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:26.4107454+07:00 0HLN67Q3T0OOV:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T10:09:26.4125067+07:00 0HLN67Q3T0OOT:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:09:26.4232385+07:00 0HLN67Q3T0OOV:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T10:09:26.4294055+07:00 0HLN67Q3T0OOT:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:09:26.4323048+07:00 0HLN67Q3T0OOV:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:26.4414605+07:00 0HLN67Q3T0OOV:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T10:09:26.5001751+07:00 0HLN67Q3T0OOT:00000004 [INF] Executed DbCommand ("28"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:09:26.5054891+07:00 0HLN67Q3T0OP4:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=_ntU0jmA3DW-b7wYTYx4hw   (ca22a1cb)
2019-06-01T10:09:26.5205911+07:00 0HLN67Q3T0OP4:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:09:26.5321874+07:00 0HLN67Q3T0OP4:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:09:26.5341549+07:00 0HLN67Q3T0OOT:00000004 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:09:26.5659161+07:00 0HLN67Q3T0OP4:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:09:26.5821693+07:00 0HLN67Q3T0OOT:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 134.0725ms. (50a9e262)
2019-06-01T10:09:26.6189196+07:00 0HLN67Q3T0OOT:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:09:26.6453623+07:00 0HLN67Q3T0OOT:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 250.9167ms (afa2e885)
2019-06-01T10:09:26.6510426+07:00 0HLN67Q3T0OOT:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:09:26.6696719+07:00 0HLN67Q3T0OOT:00000004 [INF] Request finished in 309.4811ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:09:26.7475677+07:00 0HLN67Q3T0OOV:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 294.4067ms. (50a9e262)
2019-06-01T10:09:26.7542253+07:00 0HLN67Q3T0OOV:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:09:26.7699697+07:00 0HLN67Q3T0OOV:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 332.6717ms (afa2e885)
2019-06-01T10:09:26.7790745+07:00 0HLN67Q3T0OOV:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T10:09:26.7857317+07:00 0HLN67Q3T0OOV:00000008 [INF] Request finished in 393.5635ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:09:30.4475389+07:00 0HLN67Q3T0OOV:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/blog/index   (ca22a1cb)
2019-06-01T10:09:30.4546757+07:00 0HLN67Q3T0OOV:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.BlogController.Index (Shop3)"' (500cc934)
2019-06-01T10:09:30.4625148+07:00 0HLN67Q3T0OOV:00000009 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Blog\"}". Executing action "Shop3.Areas.Admin.Controllers.BlogController.Index (Shop3)" (a44c0341)
2019-06-01T10:09:30.4681222+07:00 0HLN67Q3T0OOV:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:30.4768172+07:00 0HLN67Q3T0OOV:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.BlogController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:09:30.4823293+07:00 0HLN67Q3T0OOV:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.BlogController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.1842ms. (50a9e262)
2019-06-01T10:09:30.4927047+07:00 0HLN67Q3T0OOV:00000009 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:09:30.5108167+07:00 0HLN67Q3T0OOV:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:09:30.5201184+07:00 0HLN67Q3T0OOV:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:30.5246830+07:00 0HLN67Q3T0OOV:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:30.5320893+07:00 0HLN67Q3T0OOV:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:30.5366801+07:00 0HLN67Q3T0OOV:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:30.5450415+07:00 0HLN67Q3T0OOV:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:30.5492438+07:00 0HLN67Q3T0OOV:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:30.5558570+07:00 0HLN67Q3T0OOV:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:09:30.5671203+07:00 0HLN67Q3T0OOV:00000009 [INF] Executed ViewResult - view "Index" executed in 77.2233ms. (f66409e9)
2019-06-01T10:09:30.5746505+07:00 0HLN67Q3T0OOV:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.BlogController.Index (Shop3)" in 104.7646ms (afa2e885)
2019-06-01T10:09:30.6006808+07:00 0HLN67Q3T0OP4:00000001 [INF] Request finished in 4075.7139ms 101  (791a596a)
2019-06-01T10:09:30.6035235+07:00 0HLN67Q3T0OOV:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.BlogController.Index (Shop3)"' (99874f2b)
2019-06-01T10:09:30.6302147+07:00 0HLN67Q3T0OOV:00000009 [INF] Request finished in 166.3703ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:09:30.7438721+07:00 0HLN67Q3T0OOV:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:09:30.7473150+07:00 0HLN67Q3T0OOT:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:09:30.7554651+07:00 0HLN67Q3T0OOV:0000000A [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:09:30.7628912+07:00 0HLN67Q3T0OOT:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:09:30.7648727+07:00 0HLN67Q3T0OOV:0000000A [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:09:30.7718996+07:00 0HLN67Q3T0OOT:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:09:30.7799315+07:00 0HLN67Q3T0OOV:0000000A [INF] Request finished in 32.74ms 200 application/json (791a596a)
2019-06-01T10:09:30.7811895+07:00 0HLN67Q3T0OOT:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:30.7971365+07:00 0HLN67Q3T0OOT:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:09:30.8023787+07:00 0HLN67Q3T0OOT:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:09:30.8104800+07:00 0HLN67Q3T0OOT:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:09:30.8184439+07:00 0HLN67Q3T0OOT:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:09:30.8422761+07:00 0HLN67Q3T0OOT:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 21.4933ms. (50a9e262)
2019-06-01T10:09:30.9001673+07:00 0HLN67Q3T0OP5:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=CVOtCNzaBIGZ7exX2xAZog   (ca22a1cb)
2019-06-01T10:09:30.9022826+07:00 0HLN67Q3T0OOT:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:09:30.9111815+07:00 0HLN67Q3T0OP5:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:09:30.9133325+07:00 0HLN67Q3T0OOT:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 130.5365ms (afa2e885)
2019-06-01T10:09:30.9224291+07:00 0HLN67Q3T0OP5:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:09:30.9478523+07:00 0HLN67Q3T0OOT:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:09:30.9959708+07:00 0HLN67Q3T0OOT:00000005 [INF] Request finished in 212.1676ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:09:31.0001767+07:00 0HLN67Q3T0OP5:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:09:37.5722292+07:00 0HLN67Q3T0OOT:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/activity/index   (ca22a1cb)
2019-06-01T10:09:37.5786517+07:00 0HLN67Q3T0OOT:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ActivityController.Index (Shop3)"' (500cc934)
2019-06-01T10:09:37.5852347+07:00 0HLN67Q3T0OOT:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Activity\"}". Executing action "Shop3.Areas.Admin.Controllers.ActivityController.Index (Shop3)" (a44c0341)
2019-06-01T10:09:37.5890127+07:00 0HLN67Q3T0OOT:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:37.5947781+07:00 0HLN67Q3T0OOT:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ActivityController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:09:37.5992256+07:00 0HLN67Q3T0OOT:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ActivityController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2256ms. (50a9e262)
2019-06-01T10:09:37.6060244+07:00 0HLN67Q3T0OOT:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:09:37.6190497+07:00 0HLN67Q3T0OOT:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:09:37.6341151+07:00 0HLN67Q3T0OOT:00000006 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:37.6394874+07:00 0HLN67Q3T0OOT:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:37.6579087+07:00 0HLN67Q3T0OOT:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:37.6616055+07:00 0HLN67Q3T0OOT:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:37.6761745+07:00 0HLN67Q3T0OOT:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:37.6811255+07:00 0HLN67Q3T0OOT:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:37.6882771+07:00 0HLN67Q3T0OOT:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:09:37.6990262+07:00 0HLN67Q3T0OOT:00000006 [INF] Executed ViewResult - view "Index" executed in 91.2795ms. (f66409e9)
2019-06-01T10:09:37.7441929+07:00 0HLN67Q3T0OOT:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.ActivityController.Index (Shop3)" in 114.0425ms (afa2e885)
2019-06-01T10:09:37.7521699+07:00 0HLN67Q3T0OP5:00000001 [INF] Request finished in 6860.6852ms 101  (791a596a)
2019-06-01T10:09:37.7531419+07:00 0HLN67Q3T0OOT:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ActivityController.Index (Shop3)"' (99874f2b)
2019-06-01T10:09:37.7635591+07:00 0HLN67Q3T0OOT:00000006 [INF] Request finished in 191.4882ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:09:37.8199119+07:00 0HLN67Q3T0OOT:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:09:37.8268349+07:00 0HLN67Q3T0OOV:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:09:37.8313301+07:00 0HLN67Q3T0OOT:00000007 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:09:37.8369961+07:00 0HLN67Q3T0OOV:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:09:37.8411208+07:00 0HLN67Q3T0OOT:00000007 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:09:37.8495253+07:00 0HLN67Q3T0OOV:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:09:37.8516899+07:00 0HLN67Q3T0OOT:00000007 [INF] Request finished in 26.8163ms 200 application/json (791a596a)
2019-06-01T10:09:37.8562544+07:00 0HLN67Q3T0OOV:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:37.8640283+07:00 0HLN67Q3T0OOV:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:09:37.8692817+07:00 0HLN67Q3T0OOV:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:09:37.8770383+07:00 0HLN67Q3T0OOV:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:09:37.8858839+07:00 0HLN67Q3T0OOV:0000000B [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:09:37.8926515+07:00 0HLN67Q3T0OOV:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 21.881ms. (50a9e262)
2019-06-01T10:09:37.9248808+07:00 0HLN67Q3T0OOV:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:09:37.9414125+07:00 0HLN67Q3T0OP6:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=ZwEX0fIcklX4aX2SI6z08g   (ca22a1cb)
2019-06-01T10:09:37.9457694+07:00 0HLN67Q3T0OOV:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 76.3851ms (afa2e885)
2019-06-01T10:09:37.9513763+07:00 0HLN67Q3T0OP6:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:09:37.9543253+07:00 0HLN67Q3T0OOV:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:09:37.9633312+07:00 0HLN67Q3T0OP6:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:09:37.9651396+07:00 0HLN67Q3T0OOV:0000000B [INF] Request finished in 136.8885ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:09:37.9885234+07:00 0HLN67Q3T0OP6:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:09:42.0674103+07:00 0HLN67Q3T0OOV:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/feedback/index   (ca22a1cb)
2019-06-01T10:09:42.0749167+07:00 0HLN67Q3T0OOV:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FeedBackController.Index (Shop3)"' (500cc934)
2019-06-01T10:09:42.0810242+07:00 0HLN67Q3T0OOV:0000000C [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"FeedBack\"}". Executing action "Shop3.Areas.Admin.Controllers.FeedBackController.Index (Shop3)" (a44c0341)
2019-06-01T10:09:42.0861159+07:00 0HLN67Q3T0OOV:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:42.0938464+07:00 0HLN67Q3T0OOV:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.FeedBackController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:09:42.0984125+07:00 0HLN67Q3T0OOV:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.FeedBackController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.1977ms. (50a9e262)
2019-06-01T10:09:42.1058107+07:00 0HLN67Q3T0OOV:0000000C [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:09:42.1187186+07:00 0HLN67Q3T0OOV:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:09:42.1342853+07:00 0HLN67Q3T0OOV:0000000C [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:42.1391272+07:00 0HLN67Q3T0OOV:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:42.1538509+07:00 0HLN67Q3T0OOV:0000000C [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:42.1597396+07:00 0HLN67Q3T0OOV:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:42.1755465+07:00 0HLN67Q3T0OOV:0000000C [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:42.1812818+07:00 0HLN67Q3T0OOV:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:42.1915214+07:00 0HLN67Q3T0OOV:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:09:42.2281786+07:00 0HLN67Q3T0OOV:0000000C [INF] Executed ViewResult - view "Index" executed in 95.8427ms. (f66409e9)
2019-06-01T10:09:42.2690754+07:00 0HLN67Q3T0OP6:00000001 [INF] Request finished in 4283.3195ms 101  (791a596a)
2019-06-01T10:09:42.2716678+07:00 0HLN67Q3T0OOV:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.FeedBackController.Index (Shop3)" in 147.3225ms (afa2e885)
2019-06-01T10:09:42.2836846+07:00 0HLN67Q3T0OOV:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FeedBackController.Index (Shop3)"' (99874f2b)
2019-06-01T10:09:42.2945416+07:00 0HLN67Q3T0OOV:0000000C [INF] Request finished in 220.5462ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:09:42.3788119+07:00 0HLN67Q3T0OOV:0000000D [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:09:42.3820677+07:00 0HLN67Q3T0OOT:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:09:42.4020398+07:00 0HLN67Q3T0OOV:0000000D [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:09:42.4076869+07:00 0HLN67Q3T0OOT:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:09:42.4705714+07:00 0HLN67Q3T0OOV:0000000D [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:09:42.4715995+07:00 0HLN67Q3T0OOT:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:09:42.4901107+07:00 0HLN67Q3T0OOV:0000000D [INF] Request finished in 110.4811ms 200 application/json (791a596a)
2019-06-01T10:09:42.4959777+07:00 0HLN67Q3T0OOT:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:42.5127084+07:00 0HLN67Q3T0OOT:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:09:42.5171757+07:00 0HLN67Q3T0OP7:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=7VdpI6T5XtFtF8JLKDuQeQ   (ca22a1cb)
2019-06-01T10:09:42.5332491+07:00 0HLN67Q3T0OOT:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:09:42.5361533+07:00 0HLN67Q3T0OP7:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:09:42.5510932+07:00 0HLN67Q3T0OP7:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:09:42.5552618+07:00 0HLN67Q3T0OOT:00000008 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:09:42.5720852+07:00 0HLN67Q3T0OP7:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:09:42.5787937+07:00 0HLN67Q3T0OOT:00000008 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:09:42.5845516+07:00 0HLN67Q3T0OOT:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 66.1923ms. (50a9e262)
2019-06-01T10:09:42.5908864+07:00 0HLN67Q3T0OOT:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:09:42.6024893+07:00 0HLN67Q3T0OOT:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 118.5094ms (afa2e885)
2019-06-01T10:09:42.6103473+07:00 0HLN67Q3T0OOT:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:09:42.6184047+07:00 0HLN67Q3T0OOT:00000008 [INF] Request finished in 248.0092ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:09:43.0950579+07:00 0HLN67Q3T0OOT:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/contact/index   (ca22a1cb)
2019-06-01T10:09:43.0992396+07:00 0HLN67Q3T0OOT:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ContactController.Index (Shop3)"' (500cc934)
2019-06-01T10:09:43.1036285+07:00 0HLN67Q3T0OOT:00000009 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Contact\"}". Executing action "Shop3.Areas.Admin.Controllers.ContactController.Index (Shop3)" (a44c0341)
2019-06-01T10:09:43.1082599+07:00 0HLN67Q3T0OOT:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:43.1126222+07:00 0HLN67Q3T0OOT:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ContactController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:09:43.1169959+07:00 0HLN67Q3T0OOT:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ContactController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2399ms. (50a9e262)
2019-06-01T10:09:43.1241877+07:00 0HLN67Q3T0OOT:00000009 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:09:43.1360596+07:00 0HLN67Q3T0OOT:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:09:43.1453623+07:00 0HLN67Q3T0OOT:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:43.1487764+07:00 0HLN67Q3T0OOT:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:43.1565097+07:00 0HLN67Q3T0OOT:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:43.1603997+07:00 0HLN67Q3T0OOT:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:43.1673737+07:00 0HLN67Q3T0OOT:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:43.1704777+07:00 0HLN67Q3T0OOT:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:43.1768871+07:00 0HLN67Q3T0OOT:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:09:43.1885233+07:00 0HLN67Q3T0OOT:00000009 [INF] Executed ViewResult - view "Index" executed in 61.6873ms. (f66409e9)
2019-06-01T10:09:43.2250147+07:00 0HLN67Q3T0OP7:00000001 [INF] Request finished in 685.6293ms 101  (791a596a)
2019-06-01T10:09:43.2298475+07:00 0HLN67Q3T0OOT:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.ContactController.Index (Shop3)" in 115.7566ms (afa2e885)
2019-06-01T10:09:43.2505137+07:00 0HLN67Q3T0OOT:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ContactController.Index (Shop3)"' (99874f2b)
2019-06-01T10:09:43.3668332+07:00 0HLN67Q3T0OOT:00000009 [INF] Request finished in 161.4952ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:09:43.4288246+07:00 0HLN67Q3T0OOT:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:09:43.4331933+07:00 0HLN67Q3T0OOV:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:09:43.4617312+07:00 0HLN67Q3T0OOT:0000000A [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:09:43.4654711+07:00 0HLN67Q3T0OOV:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:09:43.4836512+07:00 0HLN67Q3T0OOT:0000000A [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:09:43.4995900+07:00 0HLN67Q3T0OOV:0000000E [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:09:43.5505542+07:00 0HLN67Q3T0OOT:0000000A [INF] Request finished in 79.3755ms 200 application/json (791a596a)
2019-06-01T10:09:43.5556721+07:00 0HLN67Q3T0OOV:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:43.5736343+07:00 0HLN67Q3T0OOV:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:09:43.5818911+07:00 0HLN67Q3T0OP8:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=7E1S32ncmaG131SetpgHZg   (ca22a1cb)
2019-06-01T10:09:43.5950263+07:00 0HLN67Q3T0OOV:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:09:43.5963313+07:00 0HLN67Q3T0OP8:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:09:43.6059941+07:00 0HLN67Q3T0OP8:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:09:43.6110090+07:00 0HLN67Q3T0OOV:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:09:43.6313253+07:00 0HLN67Q3T0OP8:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:09:43.6375514+07:00 0HLN67Q3T0OOV:0000000E [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:09:43.6495587+07:00 0HLN67Q3T0OOV:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 63.972ms. (50a9e262)
2019-06-01T10:09:43.6644884+07:00 0HLN67Q3T0OOV:0000000E [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:09:43.6917843+07:00 0HLN67Q3T0OOV:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 165.1678ms (afa2e885)
2019-06-01T10:09:43.6992092+07:00 0HLN67Q3T0OOV:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:09:43.7167287+07:00 0HLN67Q3T0OOV:0000000E [INF] Request finished in 293.4824ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:09:44.3084308+07:00 0HLN67Q3T0OOV:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/footer/index   (ca22a1cb)
2019-06-01T10:09:44.3143438+07:00 0HLN67Q3T0OOV:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FooterController.Index (Shop3)"' (500cc934)
2019-06-01T10:09:44.3204087+07:00 0HLN67Q3T0OOV:0000000F [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Footer\"}". Executing action "Shop3.Areas.Admin.Controllers.FooterController.Index (Shop3)" (a44c0341)
2019-06-01T10:09:44.3264804+07:00 0HLN67Q3T0OOV:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:44.3314716+07:00 0HLN67Q3T0OOV:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.FooterController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:09:44.3360842+07:00 0HLN67Q3T0OOV:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.FooterController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2022ms. (50a9e262)
2019-06-01T10:09:44.3456406+07:00 0HLN67Q3T0OOV:0000000F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:09:44.3575163+07:00 0HLN67Q3T0OOV:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:09:44.3703943+07:00 0HLN67Q3T0OOV:0000000F [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:44.3753075+07:00 0HLN67Q3T0OOV:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:44.3823852+07:00 0HLN67Q3T0OOV:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:44.3871495+07:00 0HLN67Q3T0OOV:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:44.3978063+07:00 0HLN67Q3T0OOV:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:09:44.4031741+07:00 0HLN67Q3T0OOV:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:44.4101637+07:00 0HLN67Q3T0OOV:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:09:44.4716885+07:00 0HLN67Q3T0OOV:0000000F [INF] Executed ViewResult - view "Index" executed in 75.8239ms. (f66409e9)
2019-06-01T10:09:44.4746440+07:00 0HLN67Q3T0OP8:00000001 [INF] Request finished in 901.0794ms 101  (791a596a)
2019-06-01T10:09:44.4861443+07:00 0HLN67Q3T0OOV:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.FooterController.Index (Shop3)" in 151.343ms (afa2e885)
2019-06-01T10:09:44.4962354+07:00 0HLN67Q3T0OOV:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FooterController.Index (Shop3)"' (99874f2b)
2019-06-01T10:09:44.5130985+07:00 0HLN67Q3T0OOV:0000000F [INF] Request finished in 194.3456ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:09:44.5618973+07:00 0HLN67Q3T0OOV:00000010 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:09:44.5686017+07:00 0HLN67Q3T0OOT:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:09:44.5698440+07:00 0HLN67Q3T0OOV:00000010 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:09:44.5785077+07:00 0HLN67Q3T0OOV:00000010 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:09:44.5810829+07:00 0HLN67Q3T0OOT:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:09:44.5915887+07:00 0HLN67Q3T0OOV:00000010 [INF] Request finished in 23.8358ms 200 application/json (791a596a)
2019-06-01T10:09:44.5963399+07:00 0HLN67Q3T0OOT:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:09:44.6194008+07:00 0HLN67Q3T0OOT:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T10:09:44.6384441+07:00 0HLN67Q3T0OOT:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:09:44.6412716+07:00 0HLN67Q3T0OP9:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=XhNW5ecHe-h1kdQ7fkVbaw   (ca22a1cb)
2019-06-01T10:09:44.6513487+07:00 0HLN67Q3T0OOT:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:09:44.6523793+07:00 0HLN67Q3T0OP9:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:09:44.6632929+07:00 0HLN67Q3T0OP9:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:09:44.6643731+07:00 0HLN67Q3T0OOT:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:09:44.6720026+07:00 0HLN67Q3T0OOT:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:09:44.6780801+07:00 0HLN67Q3T0OOT:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 33.6656ms. (50a9e262)
2019-06-01T10:09:44.6843604+07:00 0HLN67Q3T0OOT:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:09:44.6922886+07:00 0HLN67Q3T0OOT:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 88.5316ms (afa2e885)
2019-06-01T10:09:44.6957630+07:00 0HLN67Q3T0OOT:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:09:44.7056038+07:00 0HLN67Q3T0OOT:0000000B [INF] Request finished in 135.5518ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:09:44.7148498+07:00 0HLN67Q3T0OP9:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:09:45.7134053+07:00 0HLN67Q3T0OOT:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/advertistment/index   (ca22a1cb)
2019-06-01T10:09:45.7252982+07:00 0HLN67Q3T0OOT:0000000C [INF] Request finished in 8.7405ms 404  (791a596a)
2019-06-01T10:09:45.7498077+07:00 0HLN67Q3T0OP9:00000001 [INF] Request finished in 1093.2708ms 101  (791a596a)
2019-06-01T10:09:48.5118330+07:00 0HLN67Q3T0OOT:0000000D [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:09:48.5164967+07:00 0HLN67Q3T0OOT:0000000D [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:09:48.5217415+07:00 0HLN67Q3T0OOT:0000000D [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:09:48.5306735+07:00 0HLN67Q3T0OOT:0000000D [INF] Request finished in 17.9589ms 200 application/json (791a596a)
2019-06-01T10:09:48.5984027+07:00 0HLN67Q3T0OPA:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=GgfhqebxRFy-5Iv2yaTi7w   (ca22a1cb)
2019-06-01T10:09:48.6030735+07:00 0HLN67Q3T0OPA:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:09:48.6105923+07:00 0HLN67Q3T0OPA:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:09:48.6192204+07:00 0HLN67Q3T0OPA:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:09:52.5637948+07:00 0HLN67Q3T0OOT:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/advertistment/index   (ca22a1cb)
2019-06-01T10:09:52.5726734+07:00 0HLN67Q3T0OOT:0000000E [INF] Request finished in 5.458ms 404  (791a596a)
2019-06-01T10:09:52.6004826+07:00 0HLN67Q3T0OPA:00000001 [INF] Request finished in 3997.1844ms 101  (791a596a)
2019-06-01T10:10:20.2237659+07:00 0HLN67Q3T0OOT:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Advertisment/index   (ca22a1cb)
2019-06-01T10:10:20.2293926+07:00 0HLN67Q3T0OOT:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AdvertismentController.Index (Shop3)"' (500cc934)
2019-06-01T10:10:20.2363373+07:00 0HLN67Q3T0OOT:0000000F [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Advertisment\"}". Executing action "Shop3.Areas.Admin.Controllers.AdvertismentController.Index (Shop3)" (a44c0341)
2019-06-01T10:10:20.2421979+07:00 0HLN67Q3T0OOT:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T10:10:20.2476583+07:00 0HLN67Q3T0OOT:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.AdvertismentController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:10:20.2529921+07:00 0HLN67Q3T0OOT:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.AdvertismentController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.5501ms. (50a9e262)
2019-06-01T10:10:20.2659944+07:00 0HLN67Q3T0OOT:0000000F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:10:20.2775582+07:00 0HLN67Q3T0OOT:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:10:20.2863250+07:00 0HLN67Q3T0OOT:0000000F [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:10:20.2897120+07:00 0HLN67Q3T0OOT:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T10:10:20.2979676+07:00 0HLN67Q3T0OOT:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:10:20.3027275+07:00 0HLN67Q3T0OOT:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T10:10:20.3119509+07:00 0HLN67Q3T0OOT:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:10:20.3156161+07:00 0HLN67Q3T0OOT:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T10:10:20.3237822+07:00 0HLN67Q3T0OOT:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:10:20.3318454+07:00 0HLN67Q3T0OOT:0000000F [INF] Executed ViewResult - view "Index" executed in 74.0151ms. (f66409e9)
2019-06-01T10:10:20.3359155+07:00 0HLN67Q3T0OOT:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.AdvertismentController.Index (Shop3)" in 95.5666ms (afa2e885)
2019-06-01T10:10:20.3444624+07:00 0HLN67Q3T0OOT:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AdvertismentController.Index (Shop3)"' (99874f2b)
2019-06-01T10:10:20.3881243+07:00 0HLN67Q3T0OOT:0000000F [INF] Request finished in 129.0608ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:10:20.8719081+07:00 0HLN67Q3T0OOT:00000010 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:10:20.8797547+07:00 0HLN67Q3T0OOV:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:10:20.9392668+07:00 0HLN67Q3T0OOT:00000010 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:10:20.9536299+07:00 0HLN67Q3T0OOV:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:10:20.9553354+07:00 0HLN67Q3T0OOT:00000010 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:10:20.9682182+07:00 0HLN67Q3T0OOV:00000011 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:10:20.9874149+07:00 0HLN67Q3T0OOT:00000010 [INF] Request finished in 118.8007ms 200 application/json (791a596a)
2019-06-01T10:10:20.9888959+07:00 0HLN67Q3T0OOV:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:10:20.9998075+07:00 0HLN67Q3T0OOV:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:10:21.0314797+07:00 0HLN67Q3T0OPB:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=x_pHGxAILv7Sroc_pv927g   (ca22a1cb)
2019-06-01T10:10:21.0366186+07:00 0HLN67Q3T0OOV:00000011 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:10:21.0483338+07:00 0HLN67Q3T0OPB:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:10:21.0565721+07:00 0HLN67Q3T0OOV:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:10:21.0698649+07:00 0HLN67Q3T0OPB:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:10:21.0719461+07:00 0HLN67Q3T0OOV:00000011 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:10:21.0865549+07:00 0HLN67Q3T0OOV:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 72.573ms. (50a9e262)
2019-06-01T10:10:21.1002431+07:00 0HLN67Q3T0OPB:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:10:21.1022242+07:00 0HLN67Q3T0OOV:00000011 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:10:21.1135809+07:00 0HLN67Q3T0OOV:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 134.1804ms (afa2e885)
2019-06-01T10:10:21.1202726+07:00 0HLN67Q3T0OOV:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:10:21.1329392+07:00 0HLN67Q3T0OOV:00000011 [INF] Request finished in 263.2309ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:10:26.3802704+07:00 0HLN67Q3T0OOV:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/advertisment/index   (ca22a1cb)
2019-06-01T10:10:26.3861419+07:00 0HLN67Q3T0OOV:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AdvertismentController.Index (Shop3)"' (500cc934)
2019-06-01T10:10:26.3934404+07:00 0HLN67Q3T0OOV:00000012 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Advertisment\"}". Executing action "Shop3.Areas.Admin.Controllers.AdvertismentController.Index (Shop3)" (a44c0341)
2019-06-01T10:10:26.3997924+07:00 0HLN67Q3T0OOV:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:10:26.4037788+07:00 0HLN67Q3T0OOV:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AdvertismentController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:10:26.4105223+07:00 0HLN67Q3T0OOV:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AdvertismentController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0192ms. (50a9e262)
2019-06-01T10:10:26.4158428+07:00 0HLN67Q3T0OOV:00000012 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:10:26.4215642+07:00 0HLN67Q3T0OOV:00000012 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:10:26.4382371+07:00 0HLN67Q3T0OOV:00000012 [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:10:26.4445805+07:00 0HLN67Q3T0OOV:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:10:26.4539208+07:00 0HLN67Q3T0OOV:00000012 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:10:26.4593968+07:00 0HLN67Q3T0OOV:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:10:26.4673726+07:00 0HLN67Q3T0OOV:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:10:26.4709833+07:00 0HLN67Q3T0OOV:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:10:26.4761456+07:00 0HLN67Q3T0OOV:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:10:26.4847679+07:00 0HLN67Q3T0OOV:00000012 [INF] Executed ViewResult - view "Index" executed in 66.454ms. (f66409e9)
2019-06-01T10:10:26.5249094+07:00 0HLN67Q3T0OOV:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.AdvertismentController.Index (Shop3)" in 91.4485ms (afa2e885)
2019-06-01T10:10:26.5363490+07:00 0HLN67Q3T0OPB:00000001 [INF] Request finished in 5529.7558ms 101  (791a596a)
2019-06-01T10:10:26.5382887+07:00 0HLN67Q3T0OOV:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AdvertismentController.Index (Shop3)"' (99874f2b)
2019-06-01T10:10:26.5468286+07:00 0HLN67Q3T0OOV:00000012 [INF] Request finished in 166.9701ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:10:26.6124572+07:00 0HLN67Q3T0OOV:00000013 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:10:26.6212076+07:00 0HLN67Q3T0OOT:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:10:26.6292905+07:00 0HLN67Q3T0OOV:00000013 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:10:26.6301951+07:00 0HLN67Q3T0OOT:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:10:26.6363083+07:00 0HLN67Q3T0OOV:00000013 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:10:26.6372838+07:00 0HLN67Q3T0OOT:00000011 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:10:26.6453569+07:00 0HLN67Q3T0OOV:00000013 [INF] Request finished in 29.1823ms 200 application/json (791a596a)
2019-06-01T10:10:26.6463493+07:00 0HLN67Q3T0OOT:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:10:26.6536613+07:00 0HLN67Q3T0OOT:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:10:26.6594874+07:00 0HLN67Q3T0OOT:00000011 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:10:26.6652170+07:00 0HLN67Q3T0OOT:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:10:26.6709519+07:00 0HLN67Q3T0OOT:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:10:26.6780027+07:00 0HLN67Q3T0OOT:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 17.4075ms. (50a9e262)
2019-06-01T10:10:26.6960330+07:00 0HLN67Q3T0OOT:00000011 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:10:26.7161815+07:00 0HLN67Q3T0OOT:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 59.0046ms (afa2e885)
2019-06-01T10:10:26.7221228+07:00 0HLN67Q3T0OPC:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=G65LpElOXWw5e5aOi39RtQ   (ca22a1cb)
2019-06-01T10:10:26.7261766+07:00 0HLN67Q3T0OOT:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:10:26.7311796+07:00 0HLN67Q3T0OPC:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:10:26.7390812+07:00 0HLN67Q3T0OOT:00000011 [INF] Request finished in 113.3783ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:10:26.7402791+07:00 0HLN67Q3T0OPC:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:10:26.7489593+07:00 0HLN67Q3T0OPC:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:10:37.1885458+07:00 0HLN67Q3T0OOT:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/advertistment/index   (ca22a1cb)
2019-06-01T10:10:37.1978496+07:00 0HLN67Q3T0OOT:00000012 [INF] Request finished in 5.4379ms 404  (791a596a)
2019-06-01T10:10:37.2141405+07:00 0HLN67Q3T0OPC:00000001 [INF] Request finished in 10490.6625ms 101  (791a596a)
2019-06-01T10:12:26.5657869+07:00 0HLN67RSDG17G:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T10:12:26.7041003+07:00 0HLN67RSDG17G:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T10:12:26.7467714+07:00 0HLN67RSDG17G:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T10:12:26.7696891+07:00 0HLN67RSDG17G:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:12:26.7952029+07:00 0HLN67RSDG17G:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:12:26.8567135+07:00 0HLN67RSDG17G:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T10:12:27.0213225+07:00 0HLN67RSDG17G:00000001 [INF] Executed DbCommand ("17"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T10:12:27.0822497+07:00 0HLN67RSDG17G:00000001 [INF] Executed DbCommand ("33"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T10:12:27.1679177+07:00 0HLN67RSDG17G:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T10:12:27.1975120+07:00 0HLN67RSDG17G:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T10:12:27.2679393+07:00 0HLN67RSDG17G:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T10:12:27.2863788+07:00 0HLN67RSDG17G:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T10:12:27.3275331+07:00 0HLN67RSDG17G:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T10:12:27.3448644+07:00 0HLN67RSDG17G:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T10:12:27.3601424+07:00 0HLN67RSDG17G:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T10:12:27.3738121+07:00 0HLN67RSDG17G:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T10:12:27.3976140+07:00 0HLN67RSDG17G:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T10:12:27.4098478+07:00 0HLN67RSDG17G:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 630.7892ms. (50a9e262)
2019-06-01T10:12:27.4501686+07:00 0HLN67RSDG17G:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:12:27.6255760+07:00 0HLN67RSDG17G:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T10:12:27.6370661+07:00 0HLN67RSDG17G:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T10:12:27.7751082+07:00 0HLN67RSDG17G:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T10:12:27.7816756+07:00 0HLN67RSDG17G:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T10:12:27.7982400+07:00 0HLN67RSDG17G:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T10:12:27.8033141+07:00 0HLN67RSDG17G:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T10:12:27.9624122+07:00 0HLN67RSDG17G:00000001 [INF] Executed ViewResult - view "Index" executed in 513.0001ms. (f66409e9)
2019-06-01T10:12:27.9675162+07:00 0HLN67RSDG17G:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 1216.0063ms (afa2e885)
2019-06-01T10:12:27.9716040+07:00 0HLN67RSDG17G:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T10:12:27.9921710+07:00 0HLN67RSDG17G:00000001 [INF] Request finished in 1469.8699ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:12:28.0807059+07:00 0HLN67RSDG17H:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T10:12:28.0836519+07:00 0HLN67RSDG17L:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T10:12:28.0846411+07:00 0HLN67RSDG17I:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T10:12:28.1553832+07:00 0HLN67RSDG17G:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T10:12:28.1553832+07:00 0HLN67RSDG17L:00000001 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T10:12:28.1592560+07:00 0HLN67RSDG17H:00000001 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T10:12:28.1670463+07:00 0HLN67RSDG17I:00000001 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T10:12:28.1697261+07:00 0HLN67RSDG17G:00000002 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T10:12:28.4778063+07:00 0HLN67RSDG17G:00000002 [INF] Request finished in 340.7197ms 200 image/jpeg (791a596a)
2019-06-01T10:12:28.4810243+07:00 0HLN67RSDG17L:00000001 [INF] Request finished in 354.9986ms 200 image/jpeg (791a596a)
2019-06-01T10:12:28.4972611+07:00 0HLN67RSDG17J:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T10:12:28.5470858+07:00 0HLN67RSDG17I:00000001 [INF] Request finished in 433.3444ms 200 image/jpeg (791a596a)
2019-06-01T10:12:28.5521853+07:00 0HLN67RSDG17H:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T10:12:28.5541246+07:00 0HLN67RSDG17K:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T10:12:28.5803153+07:00 0HLN67RSDG17J:00000001 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T10:12:28.5851083+07:00 0HLN67RSDG17K:00000001 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T10:12:28.6840703+07:00 0HLN67RSDG17L:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T10:12:28.7047164+07:00 0HLN67RSDG17J:00000001 [INF] Request finished in 220.3452ms 200 image/jpeg (791a596a)
2019-06-01T10:12:28.7057105+07:00 0HLN67RSDG17L:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T10:12:28.7115656+07:00 0HLN67RSDG17K:00000001 [INF] Request finished in 93.1137ms 200 image/jpeg (791a596a)
2019-06-01T10:12:28.7470573+07:00 0HLN67RSDG17H:00000001 [INF] Request finished in 660.5188ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T10:12:28.7499205+07:00 0HLN67RSDG17L:00000002 [INF] Request finished in 147.2368ms 200 image/jpeg (791a596a)
2019-06-01T10:12:28.7536260+07:00 0HLN67RSDG17G:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T10:12:28.7610036+07:00 0HLN67RSDG17G:00000003 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T10:12:28.7982487+07:00 0HLN67RSDG17G:00000003 [INF] Request finished in 156.5676ms 200 image/jpeg (791a596a)
2019-06-01T10:12:29.3164497+07:00 0HLN67RSDG17G:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:12:29.3298212+07:00 0HLN67RSDG17L:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T10:12:29.3622941+07:00 0HLN67RSDG17G:00000004 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:12:29.3691401+07:00 0HLN67RSDG17H:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T10:12:29.3905284+07:00 0HLN67RSDG17L:00000003 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T10:12:29.3983085+07:00 0HLN67RSDG17H:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T10:12:29.4110157+07:00 0HLN67RSDG17L:00000003 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T10:12:29.4142478+07:00 0HLN67RSDG17H:00000002 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T10:12:29.4242117+07:00 0HLN67RSDG17L:00000003 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:12:29.4284283+07:00 0HLN67RSDG17H:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:12:29.4431979+07:00 0HLN67RSDG17L:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:12:29.4675860+07:00 0HLN67RSDG17H:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:12:29.5303026+07:00 0HLN67RSDG17G:00000004 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:12:29.5333836+07:00 0HLN67RSDG17L:00000003 [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T10:12:29.5470087+07:00 0HLN67RSDG17L:00000003 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 110.4987ms. (50a9e262)
2019-06-01T10:12:29.5536389+07:00 0HLN67RSDG17H:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T10:12:29.5646776+07:00 0HLN67RSDG17H:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 126.1799ms. (50a9e262)
2019-06-01T10:12:29.5656806+07:00 0HLN67RSDG17L:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:12:29.5810604+07:00 0HLN67RSDG17H:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:12:29.6264675+07:00 0HLN67RSDG17G:00000004 [INF] Request finished in 311.018ms 200 application/json (791a596a)
2019-06-01T10:12:29.6424420+07:00 0HLN67RSDG17M:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=mL_8vNRrKEj5L9bcNuK2Gw   (ca22a1cb)
2019-06-01T10:12:29.6492892+07:00 0HLN67RSDG17M:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:12:29.6539535+07:00 0HLN67RSDG17M:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:12:29.6793762+07:00 0HLN67RSDG17H:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 248.6192ms (afa2e885)
2019-06-01T10:12:29.6818533+07:00 0HLN67RSDG17L:00000003 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 251.8549ms (afa2e885)
2019-06-01T10:12:29.6919435+07:00 0HLN67RSDG17H:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T10:12:29.6942373+07:00 0HLN67RSDG17L:00000003 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T10:12:29.7050836+07:00 0HLN67RSDG17H:00000002 [INF] Request finished in 356.2007ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:12:29.7155541+07:00 0HLN67RSDG17L:00000003 [INF] Request finished in 389.6521ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:12:29.7724054+07:00 0HLN67RSDG17M:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:12:30.4180164+07:00 0HLN67RSDG17L:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T10:12:30.4260730+07:00 0HLN67RSDG17L:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T10:12:30.4332947+07:00 0HLN67RSDG17L:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T10:12:30.4392135+07:00 0HLN67RSDG17L:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:12:30.4455831+07:00 0HLN67RSDG17L:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.7815ms. (50a9e262)
2019-06-01T10:12:30.4548959+07:00 0HLN67RSDG17L:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:12:30.5477373+07:00 0HLN67RSDG17L:00000004 [INF] Executed ViewResult - view "Index" executed in 36.8397ms. (f66409e9)
2019-06-01T10:12:30.6328683+07:00 0HLN67RSDG17L:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 114.6587ms (afa2e885)
2019-06-01T10:12:30.6510488+07:00 0HLN67RSDG17M:00000001 [INF] Request finished in 969.5688ms 101  (791a596a)
2019-06-01T10:12:30.6662865+07:00 0HLN67RSDG17L:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T10:12:30.6926020+07:00 0HLN67RSDG17L:00000004 [INF] Request finished in 253.7893ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:12:32.7694532+07:00 0HLN67RSDG17L:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T10:12:32.7735706+07:00 0HLN67RSDG17L:00000005 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:12:32.7769371+07:00 0HLN67RSDG17L:00000005 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:12:32.7810868+07:00 0HLN67RSDG17L:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T10:12:32.8009990+07:00 0HLN67RSDG17L:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T10:12:32.8412008+07:00 0HLN67RSDG17L:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:12:35.6343760+07:00 0HLN67RSDG17L:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:12:35.7117253+07:00 0HLN67RSDG17L:00000005 [INF] Executed DbCommand ("35"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T10:12:35.8847676+07:00 0HLN67RSDG17L:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T10:12:35.9359713+07:00 0HLN67RSDG17L:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T10:12:35.9553103+07:00 0HLN67RSDG17L:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T10:12:35.9805127+07:00 0HLN67RSDG17L:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T10:12:35.9868713+07:00 0HLN67RSDG17L:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T10:12:35.9924483+07:00 0HLN67RSDG17L:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T10:12:35.9977579+07:00 0HLN67RSDG17L:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T10:12:36.0033214+07:00 0HLN67RSDG17L:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T10:12:36.0104704+07:00 0HLN67RSDG17L:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T10:12:36.0247116+07:00 0HLN67RSDG17L:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T10:12:36.0318760+07:00 0HLN67RSDG17L:00000005 [INF] User logged in. (fdce0db4)
2019-06-01T10:12:36.0382456+07:00 0HLN67RSDG17L:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3193.0193ms. (50a9e262)
2019-06-01T10:12:36.0483203+07:00 0HLN67RSDG17L:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T10:12:36.0659937+07:00 0HLN67RSDG17L:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 3260.7444ms (afa2e885)
2019-06-01T10:12:36.0712827+07:00 0HLN67RSDG17L:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T10:12:36.0792212+07:00 0HLN67RSDG17L:00000005 [INF] Request finished in 3307.6034ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:12:36.0964749+07:00 0HLN67RSDG17L:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T10:12:36.1042406+07:00 0HLN67RSDG17L:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T10:12:36.1121680+07:00 0HLN67RSDG17L:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T10:12:36.1277524+07:00 0HLN67RSDG17L:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:12:36.1322472+07:00 0HLN67RSDG17L:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:12:36.1363563+07:00 0HLN67RSDG17L:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.5522ms. (50a9e262)
2019-06-01T10:12:36.1440806+07:00 0HLN67RSDG17L:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:12:36.1583194+07:00 0HLN67RSDG17L:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:12:36.2032543+07:00 0HLN67RSDG17L:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:12:36.2171037+07:00 0HLN67RSDG17L:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:12:36.2484526+07:00 0HLN67RSDG17L:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:12:36.2519082+07:00 0HLN67RSDG17L:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:12:36.2684834+07:00 0HLN67RSDG17L:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:12:36.2726627+07:00 0HLN67RSDG17L:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:12:36.2885047+07:00 0HLN67RSDG17L:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:12:36.2927041+07:00 0HLN67RSDG17L:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:12:36.3362638+07:00 0HLN67RSDG17L:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:12:36.4729246+07:00 0HLN67RSDG17L:00000006 [INF] Executed ViewResult - view "Index" executed in 274.97ms. (f66409e9)
2019-06-01T10:12:36.6041890+07:00 0HLN67RSDG17L:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 368.636ms (afa2e885)
2019-06-01T10:12:36.6184405+07:00 0HLN67RSDG17L:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T10:12:36.6259231+07:00 0HLN67RSDG17L:00000006 [INF] Request finished in 530.9127ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:12:36.8095915+07:00 0HLN67RSDG17L:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:12:36.8113851+07:00 0HLN67RSDG17H:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:12:36.8158868+07:00 0HLN67RSDG17L:00000007 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:12:36.8245223+07:00 0HLN67RSDG17H:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:12:36.8483938+07:00 0HLN67RSDG17L:00000007 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:12:36.8625128+07:00 0HLN67RSDG17G:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T10:12:36.8634646+07:00 0HLN67RSDG17L:00000007 [INF] Request finished in 51.5913ms 200 application/json (791a596a)
2019-06-01T10:12:36.8655626+07:00 0HLN67RSDG17H:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:12:36.8968406+07:00 0HLN67RSDG17G:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T10:12:36.9075524+07:00 0HLN67RSDG17H:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:12:36.9253124+07:00 0HLN67RSDG17G:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T10:12:36.9462358+07:00 0HLN67RSDG17H:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:12:36.9518379+07:00 0HLN67RSDG17G:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:12:36.9805813+07:00 0HLN67RSDG17N:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=g3bHyCmoCzEf4_1JLSUCVw   (ca22a1cb)
2019-06-01T10:12:36.9826489+07:00 0HLN67RSDG17G:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T10:12:36.9849755+07:00 0HLN67RSDG17H:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:12:37.0196946+07:00 0HLN67RSDG17N:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:12:37.0396151+07:00 0HLN67RSDG17N:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:12:37.0675071+07:00 0HLN67RSDG17N:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:12:37.0790538+07:00 0HLN67RSDG17H:00000003 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:12:37.1075202+07:00 0HLN67RSDG17H:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:12:37.1185484+07:00 0HLN67RSDG17H:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 165.6819ms. (50a9e262)
2019-06-01T10:12:37.1269803+07:00 0HLN67RSDG17H:00000003 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:12:37.1646985+07:00 0HLN67RSDG17H:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 273.228ms (afa2e885)
2019-06-01T10:12:37.1690525+07:00 0HLN67RSDG17H:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:12:37.1764572+07:00 0HLN67RSDG17H:00000003 [INF] Request finished in 364.3373ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:12:37.2224785+07:00 0HLN67RSDG17G:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 235.2716ms. (50a9e262)
2019-06-01T10:12:37.2303189+07:00 0HLN67RSDG17G:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:12:37.2398257+07:00 0HLN67RSDG17G:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 306.8301ms (afa2e885)
2019-06-01T10:12:37.2491295+07:00 0HLN67RSDG17G:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T10:12:37.2551702+07:00 0HLN67RSDG17G:00000005 [INF] Request finished in 400.4497ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:12:41.8617305+07:00 0HLN67RSDG17G:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/advertistment/index   (ca22a1cb)
2019-06-01T10:12:41.8670610+07:00 0HLN67RSDG17G:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)"' (500cc934)
2019-06-01T10:12:41.8723549+07:00 0HLN67RSDG17G:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Advertistment\"}". Executing action "Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)" (a44c0341)
2019-06-01T10:12:41.8774347+07:00 0HLN67RSDG17G:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:12:41.8820616+07:00 0HLN67RSDG17G:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:12:41.8866548+07:00 0HLN67RSDG17G:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2678ms. (50a9e262)
2019-06-01T10:12:41.8912349+07:00 0HLN67RSDG17G:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:12:41.8966482+07:00 0HLN67RSDG17G:00000006 [ERR] The view '"Index"' was not found. Searched locations: ["/Areas/Admin/Views/Advertistment/Index.vi-VN.cshtml", "/Areas/Admin/Views/Advertistment/Index.vi.cshtml", "/Areas/Admin/Views/Advertistment/Index.cshtml", "/Areas/Admin/Views/Shared/Index.vi-VN.cshtml", "/Areas/Admin/Views/Shared/Index.vi.cshtml", "/Areas/Admin/Views/Shared/Index.cshtml", "/Views/Shared/Index.vi-VN.cshtml", "/Views/Shared/Index.vi.cshtml", "/Views/Shared/Index.cshtml", "/Pages/Shared/Index.vi-VN.cshtml", "/Pages/Shared/Index.vi.cshtml", "/Pages/Shared/Index.cshtml"] (9bb2756c)
2019-06-01T10:12:41.9030732+07:00 0HLN67RSDG17G:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)" in 26.6067ms (afa2e885)
2019-06-01T10:12:41.9076759+07:00 0HLN67RSDG17G:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)"' (99874f2b)
2019-06-01T10:12:44.4670288+07:00 0HLN67RSDG17G:00000006 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: The view 'Index' was not found. The following locations were searched:
/Areas/Admin/Views/Advertistment/Index.vi-VN.cshtml
/Areas/Admin/Views/Advertistment/Index.vi.cshtml
/Areas/Admin/Views/Advertistment/Index.cshtml
/Areas/Admin/Views/Shared/Index.vi-VN.cshtml
/Areas/Admin/Views/Shared/Index.vi.cshtml
/Areas/Admin/Views/Shared/Index.cshtml
/Views/Shared/Index.vi-VN.cshtml
/Views/Shared/Index.vi.cshtml
/Views/Shared/Index.cshtml
/Pages/Shared/Index.vi-VN.cshtml
/Pages/Shared/Index.vi.cshtml
/Pages/Shared/Index.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 77
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T10:12:44.5281849+07:00 0HLN67RSDG17N:00000001 [INF] Request finished in 7541.2393ms 101  (791a596a)
2019-06-01T10:12:44.5335810+07:00 0HLN67RSDG17G:00000006 [INF] Request finished in 2673.9744ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T10:12:47.9344066+07:00 0HLN67RSDG17G:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:12:47.9416119+07:00 0HLN67RSDG17G:00000007 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:12:47.9469911+07:00 0HLN67RSDG17G:00000007 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:12:47.9538477+07:00 0HLN67RSDG17G:00000007 [INF] Request finished in 18.3417ms 200 application/json (791a596a)
2019-06-01T10:12:48.3686535+07:00 0HLN67RSDG17O:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=zwfltSSLj2I6dbkKnrCEOQ   (ca22a1cb)
2019-06-01T10:12:48.3863975+07:00 0HLN67RSDG17O:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:12:48.4002831+07:00 0HLN67RSDG17O:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:12:48.4141514+07:00 0HLN67RSDG17O:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:12:53.2841625+07:00 0HLN67RSDG17G:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/footer/index   (ca22a1cb)
2019-06-01T10:12:53.2898643+07:00 0HLN67RSDG17G:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FooterController.Index (Shop3)"' (500cc934)
2019-06-01T10:12:53.2970036+07:00 0HLN67RSDG17G:00000008 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Footer\"}". Executing action "Shop3.Areas.Admin.Controllers.FooterController.Index (Shop3)" (a44c0341)
2019-06-01T10:12:53.3012242+07:00 0HLN67RSDG17G:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:12:53.3054880+07:00 0HLN67RSDG17G:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FooterController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:12:53.3099787+07:00 0HLN67RSDG17G:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FooterController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2203ms. (50a9e262)
2019-06-01T10:12:53.3180735+07:00 0HLN67RSDG17G:00000008 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:12:53.3340304+07:00 0HLN67RSDG17G:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:12:53.3510552+07:00 0HLN67RSDG17G:00000008 [INF] Executed DbCommand ("10"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:12:53.3557666+07:00 0HLN67RSDG17G:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:12:53.3685719+07:00 0HLN67RSDG17G:00000008 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:12:53.3746396+07:00 0HLN67RSDG17G:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:12:53.3862585+07:00 0HLN67RSDG17G:00000008 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:12:53.3910605+07:00 0HLN67RSDG17G:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:12:53.3990363+07:00 0HLN67RSDG17G:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:12:53.4134990+07:00 0HLN67RSDG17G:00000008 [INF] Executed ViewResult - view "Index" executed in 92.0946ms. (f66409e9)
2019-06-01T10:12:53.4666912+07:00 0HLN67RSDG17G:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.FooterController.Index (Shop3)" in 116.6275ms (afa2e885)
2019-06-01T10:12:53.4688143+07:00 0HLN67RSDG17O:00000001 [INF] Request finished in 5067.2323ms 101  (791a596a)
2019-06-01T10:12:53.4764418+07:00 0HLN67RSDG17G:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FooterController.Index (Shop3)"' (99874f2b)
2019-06-01T10:12:54.7220662+07:00 0HLN67RSDG17G:00000008 [INF] Request finished in 199.1826ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:12:54.7654610+07:00 0HLN67RSDG17L:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:12:54.7990240+07:00 0HLN67RSDG17H:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:12:54.8009642+07:00 0HLN67RSDG17L:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:12:54.8089818+07:00 0HLN67RSDG17H:00000004 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:12:54.8145695+07:00 0HLN67RSDG17L:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:12:54.8194331+07:00 0HLN67RSDG17H:00000004 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:12:54.8216743+07:00 0HLN67RSDG17L:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:12:54.8364332+07:00 0HLN67RSDG17H:00000004 [INF] Request finished in 54.1222ms 200 application/json (791a596a)
2019-06-01T10:12:54.8407373+07:00 0HLN67RSDG17L:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:12:54.8501153+07:00 0HLN67RSDG17L:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:12:54.8633009+07:00 0HLN67RSDG17P:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=18z_rb0bMc1np2OCz6IRpQ   (ca22a1cb)
2019-06-01T10:12:54.8721354+07:00 0HLN67RSDG17L:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:12:54.8736312+07:00 0HLN67RSDG17P:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:12:54.8864251+07:00 0HLN67RSDG17P:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:12:54.8890474+07:00 0HLN67RSDG17L:00000008 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:12:56.7528657+07:00 0HLN67RSDG17L:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 48.5279ms. (50a9e262)
2019-06-01T10:12:56.7625317+07:00 0HLN67RSDG17P:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:12:56.7651693+07:00 0HLN67RSDG17L:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:12:56.7781047+07:00 0HLN67RSDG17L:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 1950.7335ms (afa2e885)
2019-06-01T10:12:56.7821867+07:00 0HLN67RSDG17L:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:12:56.7876863+07:00 0HLN67RSDG17L:00000008 [INF] Request finished in 2068.996ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:13:01.5985250+07:00 0HLN67RSDG17L:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/advertistment/index   (ca22a1cb)
2019-06-01T10:13:01.6049368+07:00 0HLN67RSDG17L:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)"' (500cc934)
2019-06-01T10:13:01.6106275+07:00 0HLN67RSDG17L:00000009 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Advertistment\"}". Executing action "Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)" (a44c0341)
2019-06-01T10:13:01.6152773+07:00 0HLN67RSDG17L:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:13:01.6194279+07:00 0HLN67RSDG17L:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:13:01.6232585+07:00 0HLN67RSDG17L:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0492ms. (50a9e262)
2019-06-01T10:13:01.6274693+07:00 0HLN67RSDG17L:00000009 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:13:01.6315296+07:00 0HLN67RSDG17L:00000009 [ERR] The view '"Index"' was not found. Searched locations: ["/Areas/Admin/Views/Advertistment/Index.vi-VN.cshtml", "/Areas/Admin/Views/Advertistment/Index.vi.cshtml", "/Areas/Admin/Views/Advertistment/Index.cshtml", "/Areas/Admin/Views/Shared/Index.vi-VN.cshtml", "/Areas/Admin/Views/Shared/Index.vi.cshtml", "/Areas/Admin/Views/Shared/Index.cshtml", "/Views/Shared/Index.vi-VN.cshtml", "/Views/Shared/Index.vi.cshtml", "/Views/Shared/Index.cshtml", "/Pages/Shared/Index.vi-VN.cshtml", "/Pages/Shared/Index.vi.cshtml", "/Pages/Shared/Index.cshtml"] (9bb2756c)
2019-06-01T10:13:01.6375141+07:00 0HLN67RSDG17L:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)" in 22.617ms (afa2e885)
2019-06-01T10:13:01.6433176+07:00 0HLN67RSDG17L:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)"' (99874f2b)
2019-06-01T10:13:01.6798939+07:00 0HLN67RSDG17L:00000009 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: The view 'Index' was not found. The following locations were searched:
/Areas/Admin/Views/Advertistment/Index.vi-VN.cshtml
/Areas/Admin/Views/Advertistment/Index.vi.cshtml
/Areas/Admin/Views/Advertistment/Index.cshtml
/Areas/Admin/Views/Shared/Index.vi-VN.cshtml
/Areas/Admin/Views/Shared/Index.vi.cshtml
/Areas/Admin/Views/Shared/Index.cshtml
/Views/Shared/Index.vi-VN.cshtml
/Views/Shared/Index.vi.cshtml
/Views/Shared/Index.cshtml
/Pages/Shared/Index.vi-VN.cshtml
/Pages/Shared/Index.vi.cshtml
/Pages/Shared/Index.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 77
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T10:13:01.7696169+07:00 0HLN67RSDG17P:00000001 [INF] Request finished in 6852.0768ms 101  (791a596a)
2019-06-01T10:13:01.7792743+07:00 0HLN67RSDG17L:00000009 [INF] Request finished in 175.6486ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T10:50:14.8339036+07:00 0HLN68H0A50E1:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T10:50:14.9519171+07:00 0HLN68H0A50E1:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:15.0751112+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("19"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[Balance], [e].[BirthDay], [e].[ConcurrencyStamp], [e].[DateCreated], [e].[DateModified], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[Status], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2019-06-01T10:50:15.4100673+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("34"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T10:50:15.5107610+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("19"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T10:50:15.5431982+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T10:50:15.5967617+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T10:50:15.6093352+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T10:50:15.6224412+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T10:50:15.6302845+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T10:50:15.6439485+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T10:50:15.6669396+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T10:50:15.7661724+07:00 0HLN68H0A50E1:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T10:50:15.8173207+07:00 0HLN68H0A50E1:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T10:50:15.8419032+07:00 0HLN68H0A50E1:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:50:15.9551528+07:00 0HLN68H0A50E1:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T10:50:16.0517299+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T10:50:16.0970911+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T10:50:16.1844404+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T10:50:16.2030476+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T10:50:16.2525831+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T10:50:16.2678180+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T10:50:16.3048649+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T10:50:16.3217649+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T10:50:16.3303209+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T10:50:16.3382072+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T10:50:16.3563754+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T10:50:16.3691717+07:00 0HLN68H0A50E1:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 517.7743ms. (50a9e262)
2019-06-01T10:50:16.4143573+07:00 0HLN68H0A50E1:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:50:16.6064478+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T10:50:16.6147986+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T10:50:16.7637285+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T10:50:16.7741888+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T10:50:16.7954733+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T10:50:16.8022545+07:00 0HLN68H0A50E1:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T10:50:17.0691355+07:00 0HLN68H0A50E1:00000001 [INF] Executed ViewResult - view "Index" executed in 577.9962ms. (f66409e9)
2019-06-01T10:50:17.0737249+07:00 0HLN68H0A50E1:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 1252.0986ms (afa2e885)
2019-06-01T10:50:17.0862213+07:00 0HLN68H0A50E1:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T10:50:17.2020399+07:00 0HLN68H0A50E1:00000001 [INF] Request finished in 2400.8804ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:50:17.2343275+07:00 0HLN68H0A50E4:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T10:50:17.2473716+07:00 0HLN68H0A50E5:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T10:50:17.2641761+07:00 0HLN68H0A50E6:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T10:50:17.2923308+07:00 0HLN68H0A50E4:00000001 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T10:50:17.2977215+07:00 0HLN68H0A50E5:00000001 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T10:50:17.3062650+07:00 0HLN68H0A50E3:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T10:50:17.3078323+07:00 0HLN68H0A50E6:00000001 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T10:50:17.3180369+07:00 0HLN68H0A50E3:00000001 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T10:50:17.4234621+07:00 0HLN68H0A50E1:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T10:50:17.4431085+07:00 0HLN68H0A50E1:00000002 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T10:50:17.5345336+07:00 0HLN68H0A50E6:00000001 [INF] Request finished in 304.0001ms 200 image/jpeg (791a596a)
2019-06-01T10:50:17.6401573+07:00 0HLN68H0A50E4:00000001 [INF] Request finished in 321.669ms 200 image/jpeg (791a596a)
2019-06-01T10:50:17.6416518+07:00 0HLN68H0A50E3:00000001 [INF] Request finished in 340.3455ms 200 image/jpeg (791a596a)
2019-06-01T10:50:17.7325462+07:00 0HLN68H0A50E1:00000002 [INF] Request finished in 230.9979ms 200 image/jpeg (791a596a)
2019-06-01T10:50:17.7489741+07:00 0HLN68H0A50E3:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T10:50:17.7558233+07:00 0HLN68H0A50E1:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T10:50:17.7577822+07:00 0HLN68H0A50E3:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T10:50:17.7667903+07:00 0HLN68H0A50E2:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T10:50:17.7698191+07:00 0HLN68H0A50E1:00000003 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T10:50:17.7919714+07:00 0HLN68H0A50E2:00000001 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T10:50:17.8016000+07:00 0HLN68H0A50E3:00000002 [INF] Request finished in 66.3322ms 200 image/jpeg (791a596a)
2019-06-01T10:50:17.8112395+07:00 0HLN68H0A50E1:00000003 [INF] Request finished in 56.4143ms 200 image/jpeg (791a596a)
2019-06-01T10:50:17.8435307+07:00 0HLN68H0A50E2:00000001 [INF] Request finished in 294.8961ms 200 image/jpeg (791a596a)
2019-06-01T10:50:17.8715557+07:00 0HLN68H0A50E5:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T10:50:17.9151914+07:00 0HLN68H0A50E5:00000001 [INF] Request finished in 686.31ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T10:50:18.0776019+07:00 0HLN68H0A50E2:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T10:50:18.0801353+07:00 0HLN68H0A50E1:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T10:50:18.0937697+07:00 0HLN68H0A50E1:00000004 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T10:50:18.0953647+07:00 0HLN68H0A50E2:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T10:50:18.1182452+07:00 0HLN68H0A50E1:00000004 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T10:50:18.1196063+07:00 0HLN68H0A50E2:00000002 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T10:50:18.1287583+07:00 0HLN68H0A50E1:00000004 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:50:18.1296305+07:00 0HLN68H0A50E2:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:50:18.1398156+07:00 0HLN68H0A50E2:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:18.1453176+07:00 0HLN68H0A50E1:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:18.1570857+07:00 0HLN68H0A50E5:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:50:18.1580810+07:00 0HLN68H0A50E2:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T10:50:18.1707986+07:00 0HLN68H0A50E2:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 29.6053ms. (50a9e262)
2019-06-01T10:50:18.1739673+07:00 0HLN68H0A50E5:00000002 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:18.1793889+07:00 0HLN68H0A50E1:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T10:50:18.1926012+07:00 0HLN68H0A50E1:00000004 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 52.557ms. (50a9e262)
2019-06-01T10:50:18.1949261+07:00 0HLN68H0A50E2:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:50:18.1976629+07:00 0HLN68H0A50E5:00000002 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:18.2101643+07:00 0HLN68H0A50E1:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:50:18.3067611+07:00 0HLN68H0A50E5:00000002 [INF] Request finished in 100.4216ms 200 application/json (791a596a)
2019-06-01T10:50:18.3234729+07:00 0HLN68H0A50E1:00000004 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 168.3358ms (afa2e885)
2019-06-01T10:50:18.3616644+07:00 0HLN68H0A50E7:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=Bup4vAjTSm9sswAa1A7u-Q   (ca22a1cb)
2019-06-01T10:50:18.3721534+07:00 0HLN68H0A50E1:00000004 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T10:50:18.3968796+07:00 0HLN68H0A50E7:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:18.4023200+07:00 0HLN68H0A50E1:00000004 [INF] Request finished in 298.9109ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:50:18.4099906+07:00 0HLN68H0A50E7:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:18.4182802+07:00 0HLN68H0A50E2:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 166.0371ms (afa2e885)
2019-06-01T10:50:18.4238207+07:00 0HLN68H0A50E2:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T10:50:18.4368086+07:00 0HLN68H0A50E2:00000002 [INF] Request finished in 353.836ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:50:18.5029554+07:00 0HLN68H0A50E7:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:50:20.8271668+07:00 0HLN68H0A50E2:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T10:50:20.8360275+07:00 0HLN68H0A50E2:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T10:50:20.8425752+07:00 0HLN68H0A50E2:00000003 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T10:50:20.8482486+07:00 0HLN68H0A50E2:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:50:20.8540497+07:00 0HLN68H0A50E2:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.5883ms. (50a9e262)
2019-06-01T10:50:20.9053157+07:00 0HLN68H0A50E2:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:50:20.9442847+07:00 0HLN68H0A50E2:00000003 [INF] Executed ViewResult - view "Index" executed in 80.6727ms. (f66409e9)
2019-06-01T10:50:20.9520106+07:00 0HLN68H0A50E2:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 101.8017ms (afa2e885)
2019-06-01T10:50:21.0479042+07:00 0HLN68H0A50E2:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T10:50:21.0633171+07:00 0HLN68H0A50E2:00000003 [INF] Request finished in 225.4373ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:50:21.0849147+07:00 0HLN68H0A50E7:00000001 [INF] Request finished in 2774.46ms 101  (791a596a)
2019-06-01T10:50:22.6843834+07:00 0HLN68H0A50E2:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T10:50:22.6887292+07:00 0HLN68H0A50E2:00000004 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:22.6921487+07:00 0HLN68H0A50E2:00000004 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:22.6969458+07:00 0HLN68H0A50E2:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T10:50:22.7177134+07:00 0HLN68H0A50E2:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T10:50:22.7604038+07:00 0HLN68H0A50E2:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:50:25.0684795+07:00 0HLN68H0A50E2:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:25.0869791+07:00 0HLN68H0A50E2:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T10:50:25.1815268+07:00 0HLN68H0A50E2:00000004 [INF] Executed DbCommand ("11"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T10:50:25.1947255+07:00 0HLN68H0A50E2:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T10:50:25.2087181+07:00 0HLN68H0A50E2:00000004 [INF] Executed DbCommand ("5"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T10:50:25.2210184+07:00 0HLN68H0A50E2:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T10:50:25.2338963+07:00 0HLN68H0A50E2:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T10:50:25.2447197+07:00 0HLN68H0A50E2:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T10:50:25.2707963+07:00 0HLN68H0A50E2:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T10:50:25.2876157+07:00 0HLN68H0A50E2:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T10:50:25.2955148+07:00 0HLN68H0A50E2:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T10:50:25.3078548+07:00 0HLN68H0A50E2:00000004 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T10:50:25.3161772+07:00 0HLN68H0A50E2:00000004 [INF] User logged in. (fdce0db4)
2019-06-01T10:50:25.3237835+07:00 0HLN68H0A50E2:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2558.2272ms. (50a9e262)
2019-06-01T10:50:25.3343331+07:00 0HLN68H0A50E2:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T10:50:25.3473132+07:00 0HLN68H0A50E2:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 2624.2046ms (afa2e885)
2019-06-01T10:50:25.3529842+07:00 0HLN68H0A50E2:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T10:50:25.3795594+07:00 0HLN68H0A50E2:00000004 [INF] Request finished in 2675.9571ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:50:25.3882572+07:00 0HLN68H0A50E2:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T10:50:25.3964976+07:00 0HLN68H0A50E2:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T10:50:25.4038309+07:00 0HLN68H0A50E2:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T10:50:25.4196869+07:00 0HLN68H0A50E2:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:25.4244098+07:00 0HLN68H0A50E2:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:50:25.4299426+07:00 0HLN68H0A50E2:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.4356ms. (50a9e262)
2019-06-01T10:50:25.4379474+07:00 0HLN68H0A50E2:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:50:25.4543027+07:00 0HLN68H0A50E2:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:25.5057570+07:00 0HLN68H0A50E2:00000005 [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:25.5226887+07:00 0HLN68H0A50E2:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:25.5563051+07:00 0HLN68H0A50E2:00000005 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:25.5602542+07:00 0HLN68H0A50E2:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:25.5806571+07:00 0HLN68H0A50E2:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:25.5864918+07:00 0HLN68H0A50E2:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:25.6055116+07:00 0HLN68H0A50E2:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:25.6096170+07:00 0HLN68H0A50E2:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:25.6534147+07:00 0HLN68H0A50E2:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:50:25.8267135+07:00 0HLN68H0A50E2:00000005 [INF] Executed ViewResult - view "Index" executed in 290.3833ms. (f66409e9)
2019-06-01T10:50:25.9185436+07:00 0HLN68H0A50E1:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/common.js?v=y7DqmVon23ErVGJwRwyGN-e1OscQoN09ThbEz09BtJA   (ca22a1cb)
2019-06-01T10:50:25.9219466+07:00 0HLN68H0A50E5:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=-NTPIAAUoLME9zXM3rOh6LLVj8Oq8-uW2W7i4qSZEpM   (ca22a1cb)
2019-06-01T10:50:25.9241743+07:00 0HLN68H0A50E2:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 430.1358ms (afa2e885)
2019-06-01T10:50:25.9495569+07:00 0HLN68H0A50E5:00000003 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T10:50:25.9565140+07:00 0HLN68H0A50E1:00000005 [INF] The file "/app/shared/common.js" was not modified (f1f8d725)
2019-06-01T10:50:26.0389709+07:00 0HLN68H0A50E5:00000003 [INF] Request finished in 61.1966ms 304 application/javascript (791a596a)
2019-06-01T10:50:26.1060581+07:00 0HLN68H0A50E1:00000005 [INF] Request finished in 65.4715ms 304 application/javascript (791a596a)
2019-06-01T10:50:26.1181503+07:00 0HLN68H0A50E2:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T10:50:26.1302759+07:00 0HLN68H0A50E2:00000005 [INF] Request finished in 735.7877ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:50:26.1561840+07:00 0HLN68H0A50E2:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:50:26.1658763+07:00 0HLN68H0A50E2:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:26.1773507+07:00 0HLN68H0A50E2:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:26.1805331+07:00 0HLN68H0A50E1:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:50:26.2242881+07:00 0HLN68H0A50E2:00000006 [INF] Request finished in 26.5726ms 200 application/json (791a596a)
2019-06-01T10:50:26.2298475+07:00 0HLN68H0A50E1:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:50:26.2479049+07:00 0HLN68H0A50E1:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:50:26.2530233+07:00 0HLN68H0A50E2:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T10:50:26.2700936+07:00 0HLN68H0A50E8:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=RRlYsm43OLDG3bxth8Cy6Q   (ca22a1cb)
2019-06-01T10:50:26.2730134+07:00 0HLN68H0A50E1:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:26.2835086+07:00 0HLN68H0A50E2:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T10:50:26.2870516+07:00 0HLN68H0A50E8:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:26.2995196+07:00 0HLN68H0A50E1:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:50:26.3763774+07:00 0HLN68H0A50E8:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:26.4091311+07:00 0HLN68H0A50E2:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T10:50:26.4145621+07:00 0HLN68H0A50E1:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:26.4395848+07:00 0HLN68H0A50E2:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:26.4434937+07:00 0HLN68H0A50E8:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:50:26.4555696+07:00 0HLN68H0A50E2:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T10:50:26.5641754+07:00 0HLN68H0A50E1:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:50:26.7433056+07:00 0HLN68H0A50E1:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:50:26.7737072+07:00 0HLN68H0A50E1:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 447.8367ms. (50a9e262)
2019-06-01T10:50:26.8368829+07:00 0HLN68H0A50E1:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:50:26.8792094+07:00 0HLN68H0A50E2:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 388.1674ms. (50a9e262)
2019-06-01T10:50:26.8878166+07:00 0HLN68H0A50E1:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 607.0341ms (afa2e885)
2019-06-01T10:50:26.9065440+07:00 0HLN68H0A50E2:00000007 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:50:26.9093670+07:00 0HLN68H0A50E1:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:50:26.9302642+07:00 0HLN68H0A50E1:00000006 [INF] Request finished in 740.0231ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:50:26.9355954+07:00 0HLN68H0A50E2:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 501.7238ms (afa2e885)
2019-06-01T10:50:26.9424467+07:00 0HLN68H0A50E2:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T10:50:26.9577727+07:00 0HLN68H0A50E2:00000007 [INF] Request finished in 704.9791ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:50:31.5850304+07:00 0HLN68H0A50E2:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/advertistment/index   (ca22a1cb)
2019-06-01T10:50:31.5908560+07:00 0HLN68H0A50E2:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)"' (500cc934)
2019-06-01T10:50:31.5979248+07:00 0HLN68H0A50E2:00000008 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Advertistment\"}". Executing action "Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)" (a44c0341)
2019-06-01T10:50:31.6038488+07:00 0HLN68H0A50E2:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:31.6083494+07:00 0HLN68H0A50E2:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:50:31.6129048+07:00 0HLN68H0A50E2:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2621ms. (50a9e262)
2019-06-01T10:50:31.6223818+07:00 0HLN68H0A50E2:00000008 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:50:31.6376346+07:00 0HLN68H0A50E2:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:31.6536293+07:00 0HLN68H0A50E2:00000008 [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:31.6576986+07:00 0HLN68H0A50E2:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:31.6723485+07:00 0HLN68H0A50E2:00000008 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:31.6772954+07:00 0HLN68H0A50E2:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:31.6905963+07:00 0HLN68H0A50E2:00000008 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:31.6941959+07:00 0HLN68H0A50E2:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:31.7019583+07:00 0HLN68H0A50E2:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:50:31.7122036+07:00 0HLN68H0A50E2:00000008 [INF] Executed ViewResult - view "Index" executed in 92.1254ms. (f66409e9)
2019-06-01T10:50:31.7189096+07:00 0HLN68H0A50E2:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)" in 114.4072ms (afa2e885)
2019-06-01T10:50:31.7454832+07:00 0HLN68H0A50E2:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)"' (99874f2b)
2019-06-01T10:50:31.7902122+07:00 0HLN68H0A50E2:00000008 [INF] Request finished in 166.1364ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:50:31.7932447+07:00 0HLN68H0A50E8:00000001 [INF] Request finished in 5500.2933ms 101  (791a596a)
2019-06-01T10:50:31.9051466+07:00 0HLN68H0A50E2:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:50:31.9083991+07:00 0HLN68H0A50E1:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:50:31.9177181+07:00 0HLN68H0A50E2:00000009 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:31.9209538+07:00 0HLN68H0A50E1:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:50:31.9309907+07:00 0HLN68H0A50E2:00000009 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:31.9399277+07:00 0HLN68H0A50E1:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:50:31.9723269+07:00 0HLN68H0A50E2:00000009 [INF] Request finished in 45.5572ms 200 application/json (791a596a)
2019-06-01T10:50:31.9963782+07:00 0HLN68H0A50E1:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:32.0142773+07:00 0HLN68H0A50E1:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:50:32.0436405+07:00 0HLN68H0A50E9:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=EYdLB_-RIO0fzOlngX8-vg   (ca22a1cb)
2019-06-01T10:50:32.0490686+07:00 0HLN68H0A50E1:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:32.0732549+07:00 0HLN68H0A50E9:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:32.0766366+07:00 0HLN68H0A50E1:00000007 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:50:32.0959900+07:00 0HLN68H0A50E9:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:32.1052056+07:00 0HLN68H0A50E1:00000007 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:50:32.1235395+07:00 0HLN68H0A50E1:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 91.9732ms. (50a9e262)
2019-06-01T10:50:32.1273060+07:00 0HLN68H0A50E9:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:50:32.1380002+07:00 0HLN68H0A50E1:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:50:32.1557824+07:00 0HLN68H0A50E1:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 198.2119ms (afa2e885)
2019-06-01T10:50:32.1608314+07:00 0HLN68H0A50E1:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:50:32.1750611+07:00 0HLN68H0A50E1:00000007 [INF] Request finished in 274.5507ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:50:35.4202260+07:00 0HLN68H0A50E1:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/footer/index   (ca22a1cb)
2019-06-01T10:50:35.4266552+07:00 0HLN68H0A50E1:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FooterController.Index (Shop3)"' (500cc934)
2019-06-01T10:50:35.4325218+07:00 0HLN68H0A50E1:00000008 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Footer\"}". Executing action "Shop3.Areas.Admin.Controllers.FooterController.Index (Shop3)" (a44c0341)
2019-06-01T10:50:35.4382022+07:00 0HLN68H0A50E1:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:35.4430634+07:00 0HLN68H0A50E1:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FooterController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:50:35.4486748+07:00 0HLN68H0A50E1:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FooterController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2211ms. (50a9e262)
2019-06-01T10:50:35.4566501+07:00 0HLN68H0A50E1:00000008 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:50:35.4685661+07:00 0HLN68H0A50E1:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:35.4800249+07:00 0HLN68H0A50E1:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:35.4843938+07:00 0HLN68H0A50E1:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:35.4932729+07:00 0HLN68H0A50E1:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:35.4985750+07:00 0HLN68H0A50E1:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:35.5076421+07:00 0HLN68H0A50E1:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:35.5121111+07:00 0HLN68H0A50E1:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:35.5184996+07:00 0HLN68H0A50E1:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:50:35.5299798+07:00 0HLN68H0A50E1:00000008 [INF] Executed ViewResult - view "Index" executed in 71.4661ms. (f66409e9)
2019-06-01T10:50:35.5786386+07:00 0HLN68H0A50E9:00000001 [INF] Request finished in 3518.6317ms 101  (791a596a)
2019-06-01T10:50:35.5824397+07:00 0HLN68H0A50E1:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.FooterController.Index (Shop3)" in 98.3597ms (afa2e885)
2019-06-01T10:50:35.5905196+07:00 0HLN68H0A50E1:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FooterController.Index (Shop3)"' (99874f2b)
2019-06-01T10:50:35.6001996+07:00 0HLN68H0A50E1:00000008 [INF] Request finished in 176.0453ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:50:35.6570751+07:00 0HLN68H0A50E2:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:50:35.6587219+07:00 0HLN68H0A50E1:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:50:35.6700133+07:00 0HLN68H0A50E2:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:50:35.6735838+07:00 0HLN68H0A50E1:00000009 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:35.6799690+07:00 0HLN68H0A50E2:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:50:35.6823189+07:00 0HLN68H0A50E1:00000009 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:35.6915517+07:00 0HLN68H0A50E2:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:35.6957942+07:00 0HLN68H0A50E1:00000009 [INF] Request finished in 32.804ms 200 application/json (791a596a)
2019-06-01T10:50:35.7038323+07:00 0HLN68H0A50E2:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:50:35.7082857+07:00 0HLN68H0A50E2:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:35.7172042+07:00 0HLN68H0A50E2:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:50:35.7457018+07:00 0HLN68H0A50E2:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:50:35.7632846+07:00 0HLN68H0A50EA:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=fNXdTKRBRJJ5TbLSFtnXIg   (ca22a1cb)
2019-06-01T10:50:35.7643172+07:00 0HLN68H0A50E2:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 41.963ms. (50a9e262)
2019-06-01T10:50:35.7766102+07:00 0HLN68H0A50E2:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:50:35.7779385+07:00 0HLN68H0A50EA:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:35.7896846+07:00 0HLN68H0A50E2:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 97.0222ms (afa2e885)
2019-06-01T10:50:35.7927040+07:00 0HLN68H0A50EA:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:35.8041699+07:00 0HLN68H0A50E2:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:50:35.8105514+07:00 0HLN68H0A50EA:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:50:35.8178888+07:00 0HLN68H0A50E2:0000000A [INF] Request finished in 153.4493ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:50:36.4968172+07:00 0HLN68H0A50E2:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/feedback/index   (ca22a1cb)
2019-06-01T10:50:36.5019433+07:00 0HLN68H0A50E2:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FeedBackController.Index (Shop3)"' (500cc934)
2019-06-01T10:50:36.5099823+07:00 0HLN68H0A50E2:0000000B [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"FeedBack\"}". Executing action "Shop3.Areas.Admin.Controllers.FeedBackController.Index (Shop3)" (a44c0341)
2019-06-01T10:50:36.5142190+07:00 0HLN68H0A50E2:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:36.5198481+07:00 0HLN68H0A50E2:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.FeedBackController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:50:36.5239851+07:00 0HLN68H0A50E2:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.FeedBackController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2424ms. (50a9e262)
2019-06-01T10:50:36.5327314+07:00 0HLN68H0A50E2:0000000B [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:50:36.5845110+07:00 0HLN68H0A50E2:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:36.5946152+07:00 0HLN68H0A50E2:0000000B [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:36.5992905+07:00 0HLN68H0A50E2:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:36.6083092+07:00 0HLN68H0A50E2:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:36.6138624+07:00 0HLN68H0A50E2:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:36.6223555+07:00 0HLN68H0A50E2:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:36.6280585+07:00 0HLN68H0A50E2:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:36.6349065+07:00 0HLN68H0A50E2:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:50:36.6455616+07:00 0HLN68H0A50E2:0000000B [INF] Executed ViewResult - view "Index" executed in 112.6801ms. (f66409e9)
2019-06-01T10:50:36.6716909+07:00 0HLN68H0A50E2:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.FeedBackController.Index (Shop3)" in 135.6618ms (afa2e885)
2019-06-01T10:50:36.6759431+07:00 0HLN68H0A50EA:00000001 [INF] Request finished in 904.1485ms 101  (791a596a)
2019-06-01T10:50:36.6832149+07:00 0HLN68H0A50E2:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FeedBackController.Index (Shop3)"' (99874f2b)
2019-06-01T10:50:36.6955082+07:00 0HLN68H0A50E2:0000000B [INF] Request finished in 191.8041ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:50:36.8514383+07:00 0HLN68H0A50E2:0000000C [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:50:36.8543737+07:00 0HLN68H0A50E1:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:50:36.8688378+07:00 0HLN68H0A50E2:0000000C [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:36.8741387+07:00 0HLN68H0A50E1:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:50:36.9568290+07:00 0HLN68H0A50E2:0000000C [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:36.9617148+07:00 0HLN68H0A50E1:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:50:36.9802460+07:00 0HLN68H0A50E2:0000000C [INF] Request finished in 122.9603ms 200 application/json (791a596a)
2019-06-01T10:50:37.0171966+07:00 0HLN68H0A50E1:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:37.0469959+07:00 0HLN68H0A50E1:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:50:37.0529881+07:00 0HLN68H0A50EB:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=ktxpUs7NYlvBqgty-t1D5w   (ca22a1cb)
2019-06-01T10:50:37.0658899+07:00 0HLN68H0A50E1:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:37.0712663+07:00 0HLN68H0A50EB:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:37.0781003+07:00 0HLN68H0A50E1:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:50:37.0816647+07:00 0HLN68H0A50EB:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:37.0954050+07:00 0HLN68H0A50E1:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:50:37.1097553+07:00 0HLN68H0A50EB:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:50:37.1120379+07:00 0HLN68H0A50E1:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 48.5332ms. (50a9e262)
2019-06-01T10:50:37.1261958+07:00 0HLN68H0A50E1:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:50:37.1381742+07:00 0HLN68H0A50E1:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 164.7083ms (afa2e885)
2019-06-01T10:50:37.1439124+07:00 0HLN68H0A50E1:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:50:37.1524494+07:00 0HLN68H0A50E1:0000000A [INF] Request finished in 307.971ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:50:37.6017680+07:00 0HLN68H0A50E1:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/contact/index   (ca22a1cb)
2019-06-01T10:50:37.6080134+07:00 0HLN68H0A50E1:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ContactController.Index (Shop3)"' (500cc934)
2019-06-01T10:50:37.6146534+07:00 0HLN68H0A50E1:0000000B [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Contact\"}". Executing action "Shop3.Areas.Admin.Controllers.ContactController.Index (Shop3)" (a44c0341)
2019-06-01T10:50:37.6212982+07:00 0HLN68H0A50E1:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:37.6266742+07:00 0HLN68H0A50E1:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.ContactController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:50:37.6310016+07:00 0HLN68H0A50E1:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.ContactController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2297ms. (50a9e262)
2019-06-01T10:50:37.6397458+07:00 0HLN68H0A50E1:0000000B [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:50:37.6550480+07:00 0HLN68H0A50E1:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:37.6672527+07:00 0HLN68H0A50E1:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:37.6723259+07:00 0HLN68H0A50E1:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:37.6808646+07:00 0HLN68H0A50E1:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:37.6861454+07:00 0HLN68H0A50E1:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:37.6937762+07:00 0HLN68H0A50E1:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:37.6975497+07:00 0HLN68H0A50E1:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:37.7039230+07:00 0HLN68H0A50E1:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:50:37.7185503+07:00 0HLN68H0A50E1:0000000B [INF] Executed ViewResult - view "Index" executed in 74.8996ms. (f66409e9)
2019-06-01T10:50:37.7385749+07:00 0HLN68H0A50EB:00000001 [INF] Request finished in 677.9834ms 101  (791a596a)
2019-06-01T10:50:37.7414131+07:00 0HLN68H0A50E1:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.ContactController.Index (Shop3)" in 104.1287ms (afa2e885)
2019-06-01T10:50:37.7493999+07:00 0HLN68H0A50E1:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ContactController.Index (Shop3)"' (99874f2b)
2019-06-01T10:50:37.7587213+07:00 0HLN68H0A50E1:0000000B [INF] Request finished in 154.0946ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:50:37.9173539+07:00 0HLN68H0A50E1:0000000C [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:50:37.9209070+07:00 0HLN68H0A50E2:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:50:37.9379351+07:00 0HLN68H0A50E1:0000000C [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:37.9400278+07:00 0HLN68H0A50E2:0000000D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:50:37.9553550+07:00 0HLN68H0A50E1:0000000C [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:37.9623725+07:00 0HLN68H0A50E2:0000000D [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:50:37.9951703+07:00 0HLN68H0A50E1:0000000C [INF] Request finished in 54.1558ms 200 application/json (791a596a)
2019-06-01T10:50:38.0038362+07:00 0HLN68H0A50E2:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:38.0465816+07:00 0HLN68H0A50E2:0000000D [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:50:38.0606928+07:00 0HLN68H0A50EC:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=1_8tielXmYAXmfKZqz4SVg   (ca22a1cb)
2019-06-01T10:50:38.0617516+07:00 0HLN68H0A50E2:0000000D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:38.0719502+07:00 0HLN68H0A50EC:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:38.0871218+07:00 0HLN68H0A50E2:0000000D [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:50:38.0895769+07:00 0HLN68H0A50EC:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:38.1066398+07:00 0HLN68H0A50E2:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:50:38.1184601+07:00 0HLN68H0A50EC:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:50:38.1222677+07:00 0HLN68H0A50E2:0000000D [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 60.1304ms. (50a9e262)
2019-06-01T10:50:38.1282480+07:00 0HLN68H0A50E2:0000000D [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:50:38.1423953+07:00 0HLN68H0A50E2:0000000D [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 166.3932ms (afa2e885)
2019-06-01T10:50:38.1537368+07:00 0HLN68H0A50E2:0000000D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:50:38.1635111+07:00 0HLN68H0A50E2:0000000D [INF] Request finished in 250.7636ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:50:39.5362391+07:00 0HLN68H0A50E2:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/slide/index   (ca22a1cb)
2019-06-01T10:50:39.5433188+07:00 0HLN68H0A50E2:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.SlideController.Index (Shop3)"' (500cc934)
2019-06-01T10:50:39.5491880+07:00 0HLN68H0A50E2:0000000E [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Slide\"}". Executing action "Shop3.Areas.Admin.Controllers.SlideController.Index (Shop3)" (a44c0341)
2019-06-01T10:50:39.5545877+07:00 0HLN68H0A50E2:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:39.5601750+07:00 0HLN68H0A50E2:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.SlideController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:50:39.5664043+07:00 0HLN68H0A50E2:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.SlideController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3839ms. (50a9e262)
2019-06-01T10:50:39.5753733+07:00 0HLN68H0A50E2:0000000E [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:50:39.5888187+07:00 0HLN68H0A50E2:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:39.5997262+07:00 0HLN68H0A50E2:0000000E [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:39.6045097+07:00 0HLN68H0A50E2:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:39.6128302+07:00 0HLN68H0A50E2:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:39.6176695+07:00 0HLN68H0A50E2:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:39.6250882+07:00 0HLN68H0A50E2:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:39.6291272+07:00 0HLN68H0A50E2:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:39.6355600+07:00 0HLN68H0A50E2:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:50:39.6459908+07:00 0HLN68H0A50E2:0000000E [INF] Executed ViewResult - view "Index" executed in 70.8143ms. (f66409e9)
2019-06-01T10:50:39.6991086+07:00 0HLN68H0A50E2:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.SlideController.Index (Shop3)" in 97.2536ms (afa2e885)
2019-06-01T10:50:39.7047263+07:00 0HLN68H0A50EC:00000001 [INF] Request finished in 1631.4858ms 101  (791a596a)
2019-06-01T10:50:39.7322614+07:00 0HLN68H0A50E2:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.SlideController.Index (Shop3)"' (99874f2b)
2019-06-01T10:50:39.7431062+07:00 0HLN68H0A50E2:0000000E [INF] Request finished in 201.1616ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:50:39.7874561+07:00 0HLN68H0A50E2:0000000F [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:50:39.7921273+07:00 0HLN68H0A50E1:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:50:39.8020817+07:00 0HLN68H0A50E2:0000000F [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:39.8051521+07:00 0HLN68H0A50E1:0000000D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:50:39.8250257+07:00 0HLN68H0A50E2:0000000F [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:39.8322007+07:00 0HLN68H0A50E1:0000000D [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:50:39.8469321+07:00 0HLN68H0A50E2:0000000F [INF] Request finished in 58.3507ms 200 application/json (791a596a)
2019-06-01T10:50:39.8527902+07:00 0HLN68H0A50E1:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:39.9020184+07:00 0HLN68H0A50E1:0000000D [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:50:39.9082613+07:00 0HLN68H0A50ED:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=WkD0l9eVBeBzvmw5qvvf_g   (ca22a1cb)
2019-06-01T10:50:39.9192201+07:00 0HLN68H0A50E1:0000000D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:39.9224775+07:00 0HLN68H0A50ED:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:39.9305686+07:00 0HLN68H0A50E1:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:50:39.9334810+07:00 0HLN68H0A50ED:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:39.9530309+07:00 0HLN68H0A50E1:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:50:39.9672935+07:00 0HLN68H0A50E1:0000000D [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 51.0842ms. (50a9e262)
2019-06-01T10:50:39.9730965+07:00 0HLN68H0A50ED:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:50:39.9768249+07:00 0HLN68H0A50E1:0000000D [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:50:39.9897944+07:00 0HLN68H0A50E1:0000000D [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 144.7325ms (afa2e885)
2019-06-01T10:50:39.9958531+07:00 0HLN68H0A50E1:0000000D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:50:40.0112906+07:00 0HLN68H0A50E1:0000000D [INF] Request finished in 224.2242ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:50:43.7526971+07:00 0HLN68H0A50E1:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/activity/index   (ca22a1cb)
2019-06-01T10:50:43.7592817+07:00 0HLN68H0A50E1:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ActivityController.Index (Shop3)"' (500cc934)
2019-06-01T10:50:43.7666520+07:00 0HLN68H0A50E1:0000000E [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Activity\"}". Executing action "Shop3.Areas.Admin.Controllers.ActivityController.Index (Shop3)" (a44c0341)
2019-06-01T10:50:43.7736054+07:00 0HLN68H0A50E1:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:43.7777958+07:00 0HLN68H0A50E1:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.ActivityController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:50:43.7820439+07:00 0HLN68H0A50E1:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.ActivityController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2104ms. (50a9e262)
2019-06-01T10:50:43.7901601+07:00 0HLN68H0A50E1:0000000E [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:50:43.8028681+07:00 0HLN68H0A50E1:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:43.8142331+07:00 0HLN68H0A50E1:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:43.8193945+07:00 0HLN68H0A50E1:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:43.8283878+07:00 0HLN68H0A50E1:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:43.8330815+07:00 0HLN68H0A50E1:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:43.8412920+07:00 0HLN68H0A50E1:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:43.8459324+07:00 0HLN68H0A50E1:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:43.8533268+07:00 0HLN68H0A50E1:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:50:43.8635647+07:00 0HLN68H0A50E1:0000000E [INF] Executed ViewResult - view "Index" executed in 72.9632ms. (f66409e9)
2019-06-01T10:50:43.8932037+07:00 0HLN68H0A50E1:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.ActivityController.Index (Shop3)" in 97.1654ms (afa2e885)
2019-06-01T10:50:43.8959898+07:00 0HLN68H0A50ED:00000001 [INF] Request finished in 3977.3431ms 101  (791a596a)
2019-06-01T10:50:43.9035479+07:00 0HLN68H0A50E1:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ActivityController.Index (Shop3)"' (99874f2b)
2019-06-01T10:50:43.9188660+07:00 0HLN68H0A50E1:0000000E [INF] Request finished in 157.1489ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:50:43.9961357+07:00 0HLN68H0A50E1:0000000F [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:50:43.9973455+07:00 0HLN68H0A50E2:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:50:44.0072947+07:00 0HLN68H0A50E1:0000000F [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:44.0088437+07:00 0HLN68H0A50E2:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:50:44.0168840+07:00 0HLN68H0A50E1:0000000F [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:44.0252491+07:00 0HLN68H0A50E2:00000010 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:50:44.0365250+07:00 0HLN68H0A50E1:0000000F [INF] Request finished in 29.6282ms 200 application/json (791a596a)
2019-06-01T10:50:44.0471146+07:00 0HLN68H0A50E2:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:44.0569393+07:00 0HLN68H0A50E2:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:50:44.0789188+07:00 0HLN68H0A50EE:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=Rgy-lXUXldXQOe1ZFkXDLg   (ca22a1cb)
2019-06-01T10:50:44.0815034+07:00 0HLN68H0A50E2:00000010 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:44.0961495+07:00 0HLN68H0A50EE:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:44.1002538+07:00 0HLN68H0A50E2:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:50:44.1093532+07:00 0HLN68H0A50EE:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:44.1113582+07:00 0HLN68H0A50E2:00000010 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:50:44.1248268+07:00 0HLN68H0A50E2:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 54.9275ms. (50a9e262)
2019-06-01T10:50:44.1273036+07:00 0HLN68H0A50EE:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:50:44.1320830+07:00 0HLN68H0A50E2:00000010 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:50:44.1426816+07:00 0HLN68H0A50E2:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 106.9915ms (afa2e885)
2019-06-01T10:50:44.1476445+07:00 0HLN68H0A50E2:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:50:44.1582652+07:00 0HLN68H0A50E2:00000010 [INF] Request finished in 156.8757ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:50:45.6980711+07:00 0HLN68H0A50E2:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/function/index   (ca22a1cb)
2019-06-01T10:50:45.7042906+07:00 0HLN68H0A50E2:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (500cc934)
2019-06-01T10:50:45.7099082+07:00 0HLN68H0A50E2:00000011 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" (a44c0341)
2019-06-01T10:50:45.7140842+07:00 0HLN68H0A50E2:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:45.7198180+07:00 0HLN68H0A50E2:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:50:45.7245810+07:00 0HLN68H0A50E2:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2363ms. (50a9e262)
2019-06-01T10:50:45.7330533+07:00 0HLN68H0A50E2:00000011 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:50:45.7458274+07:00 0HLN68H0A50E2:00000011 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:45.7564707+07:00 0HLN68H0A50E2:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:45.7614233+07:00 0HLN68H0A50E2:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:45.7703414+07:00 0HLN68H0A50E2:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:45.7742462+07:00 0HLN68H0A50E2:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:45.7829728+07:00 0HLN68H0A50E2:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:45.7872251+07:00 0HLN68H0A50E2:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:45.7936583+07:00 0HLN68H0A50E2:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:50:45.8083032+07:00 0HLN68H0A50E2:00000011 [INF] Executed ViewResult - view "Index" executed in 74.4508ms. (f66409e9)
2019-06-01T10:50:45.8372357+07:00 0HLN68H0A50EE:00000001 [INF] Request finished in 1751.3474ms 101  (791a596a)
2019-06-01T10:50:45.8401924+07:00 0HLN68H0A50E2:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)" in 99.9773ms (afa2e885)
2019-06-01T10:50:45.8595106+07:00 0HLN68H0A50E2:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.Index (Shop3)"' (99874f2b)
2019-06-01T10:50:45.8605867+07:00 0HLN68H0A50E1:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/function/index.js?v=TF40IzT4StO1ELgpdnCLDZRqXZ8eP2_PvLUme0Qd_hU   (ca22a1cb)
2019-06-01T10:50:45.8700853+07:00 0HLN68H0A50E2:00000011 [INF] Request finished in 169.3163ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:50:45.8709419+07:00 0HLN68H0A50E1:00000010 [INF] The file "/app/controllers/function/index.js" was not modified (f1f8d725)
2019-06-01T10:50:45.8844660+07:00 0HLN68H0A50E1:00000010 [INF] Request finished in 32.7966ms 304 application/javascript (791a596a)
2019-06-01T10:50:45.9512320+07:00 0HLN68H0A50E1:00000011 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:50:45.9543539+07:00 0HLN68H0A50E2:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:50:45.9612812+07:00 0HLN68H0A50E1:00000011 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:45.9636369+07:00 0HLN68H0A50E2:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:50:45.9713316+07:00 0HLN68H0A50E1:00000011 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:45.9753012+07:00 0HLN68H0A50E2:00000012 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:50:45.9838982+07:00 0HLN68H0A50E1:00000011 [INF] Request finished in 31.9207ms 200 application/json (791a596a)
2019-06-01T10:50:45.9861090+07:00 0HLN68H0A50E2:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:46.0196495+07:00 0HLN68H0A50E5:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T10:50:46.0250850+07:00 0HLN68H0A50E2:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:50:46.0374042+07:00 0HLN68H0A50E2:00000012 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:46.0393213+07:00 0HLN68H0A50EF:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=RRAvprBEFrgtmdrkckU3Iw   (ca22a1cb)
2019-06-01T10:50:46.0415818+07:00 0HLN68H0A50E5:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T10:50:46.0505287+07:00 0HLN68H0A50EF:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:46.0537032+07:00 0HLN68H0A50E2:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:50:46.0622604+07:00 0HLN68H0A50EF:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:46.0660511+07:00 0HLN68H0A50E2:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:50:46.0704663+07:00 0HLN68H0A50E5:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T10:50:46.0787223+07:00 0HLN68H0A50E2:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 41.0592ms. (50a9e262)
2019-06-01T10:50:46.0797303+07:00 0HLN68H0A50E5:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:46.0882418+07:00 0HLN68H0A50E2:00000012 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:50:46.0909873+07:00 0HLN68H0A50E5:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" with arguments (["0", "0"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:50:46.1032277+07:00 0HLN68H0A50E2:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 114.6452ms (afa2e885)
2019-06-01T10:50:46.1075158+07:00 0HLN68H0A50E5:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:46.1155304+07:00 0HLN68H0A50E2:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:50:46.1220826+07:00 0HLN68H0A50EF:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:50:46.1300712+07:00 0HLN68H0A50E2:00000012 [INF] Request finished in 174.2049ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:50:46.1315374+07:00 0HLN68H0A50E5:00000004 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:50:46.1437154+07:00 0HLN68H0A50E5:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 44.4147ms. (50a9e262)
2019-06-01T10:50:46.1530415+07:00 0HLN68H0A50E5:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:50:46.1674824+07:00 0HLN68H0A50E5:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 85.0235ms (afa2e885)
2019-06-01T10:50:46.1744338+07:00 0HLN68H0A50E5:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T10:50:46.1825208+07:00 0HLN68H0A50E5:00000004 [INF] Request finished in 222.2197ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:50:47.3851520+07:00 0HLN68H0A50E5:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/setting/index   (ca22a1cb)
2019-06-01T10:50:47.3909079+07:00 0HLN68H0A50E5:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.SettingController.Index (Shop3)"' (500cc934)
2019-06-01T10:50:47.3976209+07:00 0HLN68H0A50E5:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Setting\"}". Executing action "Shop3.Areas.Admin.Controllers.SettingController.Index (Shop3)" (a44c0341)
2019-06-01T10:50:47.4043191+07:00 0HLN68H0A50E5:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:47.4084102+07:00 0HLN68H0A50E5:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.SettingController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T10:50:47.4127725+07:00 0HLN68H0A50E5:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.SettingController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.233ms. (50a9e262)
2019-06-01T10:50:47.4204882+07:00 0HLN68H0A50E5:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T10:50:47.4320784+07:00 0HLN68H0A50E5:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:47.4446223+07:00 0HLN68H0A50E5:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:47.4508335+07:00 0HLN68H0A50E5:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:47.4603737+07:00 0HLN68H0A50E5:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:47.4643405+07:00 0HLN68H0A50E5:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:47.4721312+07:00 0HLN68H0A50E5:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T10:50:47.4758240+07:00 0HLN68H0A50E5:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:47.4809944+07:00 0HLN68H0A50E5:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T10:50:47.4932574+07:00 0HLN68H0A50E5:00000005 [INF] Executed ViewResult - view "Index" executed in 70.998ms. (f66409e9)
2019-06-01T10:50:47.5213390+07:00 0HLN68H0A50EF:00000001 [INF] Request finished in 1469.0346ms 101  (791a596a)
2019-06-01T10:50:47.5228873+07:00 0HLN68H0A50E5:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.SettingController.Index (Shop3)" in 96.6169ms (afa2e885)
2019-06-01T10:50:47.5333762+07:00 0HLN68H0A50E5:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.SettingController.Index (Shop3)"' (99874f2b)
2019-06-01T10:50:47.5425976+07:00 0HLN68H0A50E5:00000005 [INF] Request finished in 153.887ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T10:50:47.6245356+07:00 0HLN68H0A50E5:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T10:50:47.6254984+07:00 0HLN68H0A50E2:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T10:50:47.6312178+07:00 0HLN68H0A50E2:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T10:50:47.6357651+07:00 0HLN68H0A50E5:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:47.6402435+07:00 0HLN68H0A50E2:00000013 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T10:50:47.6430292+07:00 0HLN68H0A50E5:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:47.6526074+07:00 0HLN68H0A50E2:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T10:50:47.6554906+07:00 0HLN68H0A50E5:00000006 [INF] Request finished in 25.6992ms 200 application/json (791a596a)
2019-06-01T10:50:47.6811177+07:00 0HLN68H0A50E2:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T10:50:47.7030077+07:00 0HLN68H0A50E2:00000013 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T10:50:47.7092728+07:00 0HLN68H0A50EG:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=KVW-s4qdgpl1rHkqePoPng   (ca22a1cb)
2019-06-01T10:50:47.7123058+07:00 0HLN68H0A50E2:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T10:50:47.7195812+07:00 0HLN68H0A50EG:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T10:50:47.7276293+07:00 0HLN68H0A50E2:00000013 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T10:50:47.7294705+07:00 0HLN68H0A50EG:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T10:50:47.7376387+07:00 0HLN68H0A50E2:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 46.6785ms. (50a9e262)
2019-06-01T10:50:47.7462561+07:00 0HLN68H0A50E2:00000013 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T10:50:47.7522586+07:00 0HLN68H0A50EG:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T10:50:47.7597748+07:00 0HLN68H0A50E2:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 105.8624ms (afa2e885)
2019-06-01T10:50:47.7642015+07:00 0HLN68H0A50E2:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T10:50:47.7743616+07:00 0HLN68H0A50E2:00000013 [INF] Request finished in 146.7129ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T10:50:52.5272816+07:00 0HLN68H0A50E2:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/error/index   (ca22a1cb)
2019-06-01T10:50:52.5409385+07:00 0HLN68H0A50E2:00000014 [INF] Request finished in 6.2789ms 404  (791a596a)
2019-06-01T10:50:52.5656958+07:00 0HLN68H0A50EG:00000001 [INF] Request finished in 4843.1878ms 101  (791a596a)
2019-06-01T11:24:42.3911585+07:00 0HLN69470PCJ7:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T11:24:43.6297873+07:00 0HLN69470PCJ7:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:24:43.7052006+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("13"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[Balance], [e].[BirthDay], [e].[ConcurrencyStamp], [e].[DateCreated], [e].[DateModified], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[Status], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2019-06-01T11:24:44.7609372+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("882"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T11:24:44.8072284+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:24:44.8303180+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T11:24:44.8584291+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T11:24:44.8654987+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T11:24:44.8732578+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T11:24:44.8798979+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T11:24:44.8856151+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T11:24:44.8956677+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:24:44.9612635+07:00 0HLN69470PCJ7:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T11:24:48.4434805+07:00 0HLN69470PCJ7:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T11:24:48.4651831+07:00 0HLN69470PCJ7:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:24:49.6050419+07:00 0HLN69470PCJ7:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T11:24:49.6629700+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T11:24:49.6784900+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T11:24:49.7416944+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T11:24:49.7615160+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T11:24:49.8043230+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T11:24:49.8167488+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T11:24:49.8551360+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T11:24:49.8701464+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T11:24:49.8789251+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T11:24:49.8867520+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T11:24:49.9045033+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T11:24:49.9150219+07:00 0HLN69470PCJ7:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 1442.29ms. (50a9e262)
2019-06-01T11:24:49.9450683+07:00 0HLN69470PCJ7:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:24:50.0917049+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T11:24:50.0999493+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T11:24:50.2257638+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T11:24:50.2306422+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T11:24:50.2496973+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T11:24:50.2558023+07:00 0HLN69470PCJ7:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T11:24:50.3779733+07:00 0HLN69470PCJ7:00000001 [INF] Executed ViewResult - view "Index" executed in 443.5163ms. (f66409e9)
2019-06-01T11:24:50.3821592+07:00 0HLN69470PCJ7:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 1934.7586ms (afa2e885)
2019-06-01T11:24:50.3884296+07:00 0HLN69470PCJ7:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T11:24:50.4074465+07:00 0HLN69470PCJ7:00000001 [INF] Request finished in 8061.949ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:24:50.5043597+07:00 0HLN69470PCJ7:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-1.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T11:24:50.5073057+07:00 0HLN69470PCJ8:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-3.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T11:24:50.5099954+07:00 0HLN69470PCJB:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg?w=153   (ca22a1cb)
2019-06-01T11:24:50.5108738+07:00 0HLN69470PCJ9:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/slider/slide-2.jpg?w=865&h=448   (ca22a1cb)
2019-06-01T11:24:50.5177090+07:00 0HLN69470PCJA:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/?w=153   (ca22a1cb)
2019-06-01T11:24:50.5310300+07:00 0HLN69470PCJ9:00000001 [INF] Resizing /client-side/images/slider/slide-2.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (007225c4)
2019-06-01T11:24:50.5331499+07:00 0HLN69470PCJA:00000001 [INF] Resizing / with params w: 153, h: 0, autorotate: False, quality: 100, format: /, mode: max (68a41d8e)
2019-06-01T11:24:50.5441652+07:00 0HLN69470PCJB:00000001 [INF] Resizing /uploaded/images/20190516/celebs_fashion_style___BnNBIkVAGK4___.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (193225de)
2019-06-01T11:24:50.5487958+07:00 0HLN69470PCJ7:00000002 [INF] Resizing /client-side/images/slider/slide-1.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (8a50e38b)
2019-06-01T11:24:50.5555522+07:00 0HLN69470PCJ8:00000001 [INF] Resizing /client-side/images/slider/slide-3.jpg with params w: 865, h: 448, autorotate: False, quality: 100, format: jpg, mode: max (64964c2f)
2019-06-01T11:24:52.5665832+07:00 0HLN69470PCJB:00000001 [INF] Request finished in 2038.443ms 200 image/jpeg (791a596a)
2019-06-01T11:24:53.6119649+07:00 0HLN69470PCJC:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=153   (ca22a1cb)
2019-06-01T11:24:53.6231563+07:00 0HLN69470PCJ7:00000002 [INF] Request finished in 3116.5681ms 200 image/jpeg (791a596a)
2019-06-01T11:24:53.6251941+07:00 0HLN69470PCJC:00000001 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 153, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (53b70e21)
2019-06-01T11:24:53.6388064+07:00 0HLN69470PCJ8:00000001 [INF] Request finished in 3134.8946ms 200 image/jpeg (791a596a)
2019-06-01T11:24:53.6445762+07:00 0HLN69470PCJ9:00000001 [INF] Request finished in 3144.5008ms 200 image/jpeg (791a596a)
2019-06-01T11:24:53.6554631+07:00 0HLN69470PCJC:00000001 [INF] Request finished in 1097.6672ms 200 image/jpeg (791a596a)
2019-06-01T11:24:53.6571608+07:00 0HLN69470PCJB:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:24:53.6785002+07:00 0HLN69470PCJ7:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetColors   (ca22a1cb)
2019-06-01T11:24:54.6724855+07:00 0HLN69470PCJB:00000002 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:24:54.6820592+07:00 0HLN69470PCJB:00000002 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:24:54.6832793+07:00 0HLN69470PCJ8:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Home/GetSizes   (ca22a1cb)
2019-06-01T11:24:54.6926487+07:00 0HLN69470PCJ8:00000002 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (500cc934)
2019-06-01T11:24:54.6946479+07:00 0HLN69470PCJ7:00000003 [INF] Executing endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (500cc934)
2019-06-01T11:24:54.7075858+07:00 0HLN69470PCJ7:00000003 [INF] Route matched with "{action = \"GetColors\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetColors (Shop3)" (a44c0341)
2019-06-01T11:24:54.7163964+07:00 0HLN69470PCJ8:00000002 [INF] Route matched with "{action = \"GetSizes\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.GetSizes (Shop3)" (a44c0341)
2019-06-01T11:24:54.7184777+07:00 0HLN69470PCJ7:00000003 [INF] Executing action method "Shop3.Controllers.HomeController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:24:54.7243214+07:00 0HLN69470PCJ8:00000002 [INF] Executing action method "Shop3.Controllers.HomeController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:24:54.7309614+07:00 0HLN69470PCJ7:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:24:54.7336059+07:00 0HLN69470PCJ8:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:24:55.7281413+07:00 0HLN69470PCJA:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.UnauthorizedAccessException: Access to the path 'E:\project\shop3\Shop3\wwwroot' is denied.
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)
   at System.IO.File.OpenRead(String path)
   at Shop3.Middleware.ImageResizerMiddleware.GetImageData(String imagePath, ResizeParams resizeParams, DateTime lastWriteTimeUtc) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 136
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 105
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T11:24:55.7341745+07:00 0HLN69470PCJ7:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-06-01T11:24:55.7396329+07:00 0HLN69470PCJ8:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-06-01T11:24:55.7440678+07:00 0HLN69470PCJ7:00000003 [INF] Executed action method "Shop3.Controllers.HomeController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1019.1216ms. (50a9e262)
2019-06-01T11:24:55.7521724+07:00 0HLN69470PCJ8:00000002 [INF] Executed action method "Shop3.Controllers.HomeController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1017.524ms. (50a9e262)
2019-06-01T11:24:55.7599882+07:00 0HLN69470PCJ7:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:24:55.7612539+07:00 0HLN69470PCJ8:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:24:55.7879661+07:00 0HLN69470PCJB:00000002 [INF] Request finished in 2128.9775ms 200 application/json (791a596a)
2019-06-01T11:24:55.7933645+07:00 0HLN69470PCJA:00000001 [INF] Request finished in 5276.1987ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T11:24:55.8056037+07:00 0HLN69470PCJ9:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg?w=215   (ca22a1cb)
2019-06-01T11:24:55.8110672+07:00 0HLN69470PCJ9:00000002 [INF] Resizing /client-side/images/products/product-1.jpg with params w: 215, h: 0, autorotate: False, quality: 100, format: jpg, mode: max (419bf0f1)
2019-06-01T11:24:55.8231164+07:00 0HLN69470PCJ8:00000002 [INF] Executed action "Shop3.Controllers.HomeController.GetSizes (Shop3)" in 1098.223ms (afa2e885)
2019-06-01T11:24:55.8251168+07:00 0HLN69470PCJ7:00000003 [INF] Executed action "Shop3.Controllers.HomeController.GetColors (Shop3)" in 1107.0772ms (afa2e885)
2019-06-01T11:24:55.8715475+07:00 0HLN69470PCJ8:00000002 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetSizes (Shop3)"' (99874f2b)
2019-06-01T11:24:55.8815893+07:00 0HLN69470PCJ9:00000002 [INF] Request finished in 33.0719ms 200 image/jpeg (791a596a)
2019-06-01T11:24:55.8851610+07:00 0HLN69470PCJ7:00000003 [INF] Executed endpoint '"Shop3.Controllers.HomeController.GetColors (Shop3)"' (99874f2b)
2019-06-01T11:24:55.9098322+07:00 0HLN69470PCJ7:00000003 [INF] Request finished in 2226.5905ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:24:55.9112800+07:00 0HLN69470PCJ8:00000002 [INF] Request finished in 1210.2111ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:24:55.9505304+07:00 0HLN69470PCJC:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190408/day-dan-guitar.jpg?h=122   (ca22a1cb)
2019-06-01T11:24:57.9552922+07:00 0HLN69470PCJC:00000002 [INF] Resizing /uploaded/images/20190408/day-dan-guitar.jpg with params w: 0, h: 122, autorotate: False, quality: 100, format: jpg, mode: max (29e2edf4)
2019-06-01T11:24:57.9762038+07:00 0HLN69470PCJD:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=pfQihGEulwhp5kIE9jcpRA   (ca22a1cb)
2019-06-01T11:24:57.9794444+07:00 0HLN69470PCJ7:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T11:24:57.9834829+07:00 0HLN69470PCJD:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:24:57.9879285+07:00 0HLN69470PCJD:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:24:57.9924257+07:00 0HLN69470PCJ7:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T11:24:58.0004040+07:00 0HLN69470PCJ7:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T11:24:58.0089694+07:00 0HLN69470PCJ7:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:24:58.0139310+07:00 0HLN69470PCJ7:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.4705ms. (50a9e262)
2019-06-01T11:24:58.0228273+07:00 0HLN69470PCJ7:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:24:59.0494161+07:00 0HLN69470PCJC:00000002 [INF] Request finished in 2111.5375ms 200 image/jpeg (791a596a)
2019-06-01T11:24:59.0747440+07:00 0HLN69470PCJ7:00000004 [INF] Executed ViewResult - view "Index" executed in 1051.6951ms. (f66409e9)
2019-06-01T11:24:59.1659616+07:00 0HLN69470PCJ7:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 1074.3831ms (afa2e885)
2019-06-01T11:24:59.1987349+07:00 0HLN69470PCJ7:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T11:24:59.2077548+07:00 0HLN69470PCJ7:00000004 [INF] Request finished in 1225.5567ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:24:59.2135496+07:00 0HLN69470PCJD:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:24:59.2628489+07:00 0HLN69470PCJD:00000001 [INF] Request finished in 2355.3318ms 101  (791a596a)
2019-06-01T11:25:01.1265549+07:00 0HLN69470PCJ7:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 36 (ca22a1cb)
2019-06-01T11:25:01.1303842+07:00 0HLN69470PCJ7:00000005 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:25:01.1357135+07:00 0HLN69470PCJ7:00000005 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:25:01.1425545+07:00 0HLN69470PCJ7:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T11:25:01.1632715+07:00 0HLN69470PCJ7:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T11:25:01.2063095+07:00 0HLN69470PCJ7:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:25:16.0086506+07:00 0HLN69470PCJ7:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:25:16.0266149+07:00 0HLN69470PCJ7:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T11:25:17.0605623+07:00 0HLN69470PCJ7:00000005 [INF] Executed DbCommand ("31"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T11:25:17.0673926+07:00 0HLN69470PCJ7:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:25:17.0937980+07:00 0HLN69470PCJ7:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T11:25:17.0993697+07:00 0HLN69470PCJ7:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T11:25:17.1110414+07:00 0HLN69470PCJ7:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:25:17.1537860+07:00 0HLN69470PCJ7:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T11:25:17.1762438+07:00 0HLN69470PCJ7:00000005 [INF] User logged in. (fdce0db4)
2019-06-01T11:25:17.1888227+07:00 0HLN69470PCJ7:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 15972.1415ms. (50a9e262)
2019-06-01T11:25:17.1982652+07:00 0HLN69470PCJ7:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T11:25:17.2122270+07:00 0HLN69470PCJ7:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 16042.4602ms (afa2e885)
2019-06-01T11:25:17.2191144+07:00 0HLN69470PCJ7:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T11:25:17.2261638+07:00 0HLN69470PCJ7:00000005 [INF] Request finished in 16097.3681ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:25:17.2669067+07:00 0HLN69470PCJ7:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T11:25:17.2876575+07:00 0HLN69470PCJ7:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T11:25:17.2936001+07:00 0HLN69470PCJ7:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T11:25:17.3111989+07:00 0HLN69470PCJ7:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:25:17.3162843+07:00 0HLN69470PCJ7:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:25:17.3225022+07:00 0HLN69470PCJ7:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.4676ms. (50a9e262)
2019-06-01T11:25:17.3301757+07:00 0HLN69470PCJ7:00000006 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:25:17.3458150+07:00 0HLN69470PCJ7:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:25:17.3923549+07:00 0HLN69470PCJ7:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'test') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:25:17.4087770+07:00 0HLN69470PCJ7:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:25:17.4950530+07:00 0HLN69470PCJ7:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'test') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:25:17.4995441+07:00 0HLN69470PCJ7:00000006 [INF] Authorization failed. (b15dd539)
2019-06-01T11:25:17.5165758+07:00 0HLN69470PCJ7:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'test') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:25:17.5216269+07:00 0HLN69470PCJ7:00000006 [INF] Authorization failed. (b15dd539)
2019-06-01T11:25:17.5391330+07:00 0HLN69470PCJ7:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'test') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:25:17.5429229+07:00 0HLN69470PCJ7:00000006 [INF] Authorization failed. (b15dd539)
2019-06-01T11:25:17.5661820+07:00 0HLN69470PCJ7:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 268.2455ms (afa2e885)
2019-06-01T11:25:17.5706731+07:00 0HLN69470PCJ7:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T11:25:18.5371929+07:00 0HLN69470PCJ7:00000006 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.InvalidOperationException: The following sections have been defined but have not been rendered by the page at '/Areas/Admin/Views/Shared/_Layout.cshtml': 'Scripts'. To ignore an unrendered section call IgnoreSection("sectionName").
   at Microsoft.AspNetCore.Mvc.Razor.RazorPage.EnsureRenderedBodyOrSections()
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 77
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T11:25:18.6569581+07:00 0HLN69470PCJ7:00000006 [INF] Request finished in 1383.9664ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T11:25:48.7947829+07:00 0HLN69470PCJ7:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T11:25:48.7987582+07:00 0HLN69470PCJ7:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T11:25:48.8037777+07:00 0HLN69470PCJ7:00000007 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T11:25:48.8084135+07:00 0HLN69470PCJ7:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:25:48.8132165+07:00 0HLN69470PCJ7:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.034ms. (50a9e262)
2019-06-01T11:25:48.8202610+07:00 0HLN69470PCJ7:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:25:48.8333888+07:00 0HLN69470PCJ7:00000007 [INF] Executed ViewResult - view "Index" executed in 8.2625ms. (f66409e9)
2019-06-01T11:25:48.8971540+07:00 0HLN69470PCJ7:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 29.6204ms (afa2e885)
2019-06-01T11:25:48.9041670+07:00 0HLN69470PCJ7:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T11:25:48.9134175+07:00 0HLN69470PCJ7:00000007 [INF] Request finished in 113.6388ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:25:55.4133411+07:00 0HLN69470PCJ7:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 31 (ca22a1cb)
2019-06-01T11:25:55.4171548+07:00 0HLN69470PCJ7:00000008 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:25:55.4226026+07:00 0HLN69470PCJ7:00000008 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:25:55.4271770+07:00 0HLN69470PCJ7:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T11:25:55.4308644+07:00 0HLN69470PCJ7:00000008 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T11:25:55.4362141+07:00 0HLN69470PCJ7:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:26:02.4769320+07:00 0HLN69470PCJ7:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:26:02.4868225+07:00 0HLN69470PCJ7:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T11:26:02.5050317+07:00 0HLN69470PCJ7:00000008 [WRN] Invalid password for user "c619fb71-4516-4b2f-636a-08d6ad8b73b5". (c2dce6c7)
2019-06-01T11:26:02.5119720+07:00 0HLN69470PCJ7:00000008 [WRN] User "c619fb71-4516-4b2f-636a-08d6ad8b73b5" failed to provide the correct password. (ec8d2479)
2019-06-01T11:26:02.5160225+07:00 0HLN69470PCJ7:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 7076.1172ms. (50a9e262)
2019-06-01T11:26:02.5232192+07:00 0HLN69470PCJ7:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T11:26:02.5303322+07:00 0HLN69470PCJ7:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 7092.8438ms (afa2e885)
2019-06-01T11:26:02.5364774+07:00 0HLN69470PCJ7:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T11:26:02.5423547+07:00 0HLN69470PCJ7:00000008 [INF] Request finished in 7127.2458ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:26:29.3972648+07:00 0HLN69470PCJ7:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T11:26:29.4016927+07:00 0HLN69470PCJ7:00000009 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:26:29.4061772+07:00 0HLN69470PCJ7:00000009 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:26:29.4105866+07:00 0HLN69470PCJ7:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T11:26:29.4149062+07:00 0HLN69470PCJ7:00000009 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T11:26:29.4195766+07:00 0HLN69470PCJ7:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:26:31.4448996+07:00 0HLN69470PCJ7:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:26:31.4533017+07:00 0HLN69470PCJ7:00000009 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T11:26:31.4806022+07:00 0HLN69470PCJ7:00000009 [INF] Executed DbCommand ("12"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T11:26:31.4959101+07:00 0HLN69470PCJ7:00000009 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:26:31.5370530+07:00 0HLN69470PCJ7:00000009 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T11:26:31.5455265+07:00 0HLN69470PCJ7:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T11:26:31.5550407+07:00 0HLN69470PCJ7:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T11:26:31.5614587+07:00 0HLN69470PCJ7:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T11:26:31.5709250+07:00 0HLN69470PCJ7:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T11:26:31.5871448+07:00 0HLN69470PCJ7:00000009 [INF] Executed DbCommand ("4"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T11:26:31.5938563+07:00 0HLN69470PCJ7:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:26:31.6013582+07:00 0HLN69470PCJ7:00000009 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T11:26:31.6885503+07:00 0HLN69470PCJ7:00000009 [INF] User logged in. (fdce0db4)
2019-06-01T11:26:31.7055226+07:00 0HLN69470PCJ7:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2268.9942ms. (50a9e262)
2019-06-01T11:26:31.7733350+07:00 0HLN69470PCJ7:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T11:26:31.7818664+07:00 0HLN69470PCJ7:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 2358.5153ms (afa2e885)
2019-06-01T11:26:31.7902971+07:00 0HLN69470PCJ7:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T11:26:31.8169165+07:00 0HLN69470PCJ7:00000009 [INF] Request finished in 2397.1594ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:26:31.8271303+07:00 0HLN69470PCJ7:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T11:26:31.8333711+07:00 0HLN69470PCJ7:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T11:26:31.8409140+07:00 0HLN69470PCJ7:0000000A [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T11:26:31.8487381+07:00 0HLN69470PCJ7:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:26:31.8774933+07:00 0HLN69470PCJ7:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:26:31.8878355+07:00 0HLN69470PCJ7:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0356ms. (50a9e262)
2019-06-01T11:26:31.8933222+07:00 0HLN69470PCJ7:0000000A [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:26:31.9031237+07:00 0HLN69470PCJ7:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:26:31.9234260+07:00 0HLN69470PCJ7:0000000A [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:26:31.9309251+07:00 0HLN69470PCJ7:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:26:31.9480311+07:00 0HLN69470PCJ7:0000000A [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:26:31.9552856+07:00 0HLN69470PCJ7:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:26:31.9735097+07:00 0HLN69470PCJ7:0000000A [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:26:31.9805029+07:00 0HLN69470PCJ7:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:26:32.0015154+07:00 0HLN69470PCJ7:0000000A [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:26:32.0098009+07:00 0HLN69470PCJ7:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:26:32.0670501+07:00 0HLN69470PCJ7:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:26:32.2747152+07:00 0HLN69470PCJ7:0000000A [INF] Executed ViewResult - view "Index" executed in 266.3238ms. (f66409e9)
2019-06-01T11:26:32.2830802+07:00 0HLN69470PCJ7:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 433.936ms (afa2e885)
2019-06-01T11:26:32.2993490+07:00 0HLN69470PCJ7:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T11:26:32.3134466+07:00 0HLN69470PCJ7:0000000A [INF] Request finished in 476.8049ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:26:32.5296262+07:00 0HLN69470PCJ7:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=-NTPIAAUoLME9zXM3rOh6LLVj8Oq8-uW2W7i4qSZEpM   (ca22a1cb)
2019-06-01T11:26:32.5629090+07:00 0HLN69470PCJ7:0000000B [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T11:26:32.5916724+07:00 0HLN69470PCJ7:0000000B [INF] Request finished in 54.2407ms 304 application/javascript (791a596a)
2019-06-01T11:26:32.8153034+07:00 0HLN69470PCJ7:0000000C [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:26:32.8275664+07:00 0HLN69470PCJC:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:26:32.8284886+07:00 0HLN69470PCJ7:0000000C [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:26:32.8392431+07:00 0HLN69470PCJ7:0000000C [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:26:32.8503549+07:00 0HLN69470PCJC:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:26:32.8519278+07:00 0HLN69470PCJ7:0000000C [INF] Request finished in 31.2237ms 200 application/json (791a596a)
2019-06-01T11:26:32.8626364+07:00 0HLN69470PCJ7:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T11:26:32.8702962+07:00 0HLN69470PCJC:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:26:32.8759926+07:00 0HLN69470PCJ7:0000000D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T11:26:32.8786868+07:00 0HLN69470PCJC:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:26:33.0294399+07:00 0HLN69470PCJC:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:26:33.4245845+07:00 0HLN69470PCJ7:0000000D [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T11:26:33.4667811+07:00 0HLN69470PCJC:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:26:33.4911392+07:00 0HLN69470PCJE:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=411vtBls3KlUTgtbNKLctg   (ca22a1cb)
2019-06-01T11:26:33.6065734+07:00 0HLN69470PCJ7:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T11:26:33.6266173+07:00 0HLN69470PCJE:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:26:33.6594980+07:00 0HLN69470PCJ7:0000000D [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T11:26:33.6605667+07:00 0HLN69470PCJE:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:26:33.7040080+07:00 0HLN69470PCJC:00000003 [INF] Executed DbCommand ("12"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:26:33.7481605+07:00 0HLN69470PCJE:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:26:33.7800797+07:00 0HLN69470PCJC:00000003 [INF] Executed DbCommand ("16"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:26:33.8464312+07:00 0HLN69470PCJC:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 753.4676ms. (50a9e262)
2019-06-01T11:26:33.8638696+07:00 0HLN69470PCJC:00000003 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:26:33.9002216+07:00 0HLN69470PCJC:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 1007.2504ms (afa2e885)
2019-06-01T11:26:33.9294814+07:00 0HLN69470PCJC:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:26:33.9780110+07:00 0HLN69470PCJC:00000003 [INF] Request finished in 1113.3201ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:26:33.9843597+07:00 0HLN69470PCJ7:0000000D [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 289.1472ms. (50a9e262)
2019-06-01T11:26:33.9924939+07:00 0HLN69470PCJ7:0000000D [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:26:34.0223544+07:00 0HLN69470PCJ7:0000000D [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 569.6856ms (afa2e885)
2019-06-01T11:26:34.0293853+07:00 0HLN69470PCJ7:0000000D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T11:26:34.0444224+07:00 0HLN69470PCJ7:0000000D [INF] Request finished in 1173.5543ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:26:36.1431850+07:00 0HLN69470PCJ7:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/report/reader   (ca22a1cb)
2019-06-01T11:26:36.1496490+07:00 0HLN69470PCJ7:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Reader (Shop3)"' (500cc934)
2019-06-01T11:26:36.1585187+07:00 0HLN69470PCJ7:0000000E [INF] Route matched with "{area = \"Admin\", action = \"Reader\", controller = \"Report\"}". Executing action "Shop3.Areas.Admin.Controllers.ReportController.Reader (Shop3)" (a44c0341)
2019-06-01T11:26:36.1626057+07:00 0HLN69470PCJ7:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T11:26:36.1679300+07:00 0HLN69470PCJ7:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.ReportController.Reader (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:26:36.1739641+07:00 0HLN69470PCJ7:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.ReportController.Reader (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2527ms. (50a9e262)
2019-06-01T11:26:36.1817950+07:00 0HLN69470PCJ7:0000000E [INF] Executing ViewResult, running view "Reader". (c83d0e25)
2019-06-01T11:26:36.1955821+07:00 0HLN69470PCJ7:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:26:36.2116305+07:00 0HLN69470PCJ7:0000000E [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:26:36.2169860+07:00 0HLN69470PCJ7:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T11:26:36.2298303+07:00 0HLN69470PCJ7:0000000E [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:26:36.2340255+07:00 0HLN69470PCJ7:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T11:26:36.2483636+07:00 0HLN69470PCJ7:0000000E [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:26:36.2533347+07:00 0HLN69470PCJ7:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T11:26:36.2615865+07:00 0HLN69470PCJ7:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:26:36.2796214+07:00 0HLN69470PCJ7:0000000E [INF] Executed ViewResult - view "Reader" executed in 93.4735ms. (f66409e9)
2019-06-01T11:26:36.3632394+07:00 0HLN69470PCJ7:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.ReportController.Reader (Shop3)" in 121.5994ms (afa2e885)
2019-06-01T11:26:36.3651668+07:00 0HLN69470PCJE:00000001 [INF] Request finished in 2964.9124ms 101  (791a596a)
2019-06-01T11:26:36.3768045+07:00 0HLN69470PCJ9:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/echarts/map/js/world.js   (ca22a1cb)
2019-06-01T11:26:36.3789678+07:00 0HLN69470PCJ7:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Reader (Shop3)"' (99874f2b)
2019-06-01T11:26:36.3930617+07:00 0HLN69470PCJC:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/echarts/dist/echarts.min.js   (ca22a1cb)
2019-06-01T11:26:36.3950650+07:00 0HLN69470PCJ7:0000000E [INF] Request finished in 241.9554ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:26:36.4205550+07:00 0HLN69470PCJ9:00000003 [INF] Sending file. Request path: '"/lib/echarts/map/js/world.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\echarts\map\js\world.js"' (27b0a520)
2019-06-01T11:26:36.4262752+07:00 0HLN69470PCJ9:00000003 [INF] Request finished in 86.8508ms 200 application/javascript (791a596a)
2019-06-01T11:26:36.4471565+07:00 0HLN69470PCJ7:0000000F [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:26:36.4506814+07:00 0HLN69470PCJ8:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:26:36.4601185+07:00 0HLN69470PCJ7:0000000F [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:26:36.4769911+07:00 0HLN69470PCJ7:0000000F [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:26:36.4829542+07:00 0HLN69470PCJ8:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:26:36.4950051+07:00 0HLN69470PCJ7:0000000F [INF] Request finished in 40.8861ms 200 application/json (791a596a)
2019-06-01T11:26:36.5125549+07:00 0HLN69470PCJ8:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:26:36.5472257+07:00 0HLN69470PCJ8:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:26:36.6209011+07:00 0HLN69470PCJC:00000004 [INF] Sending file. Request path: '"/lib/echarts/dist/echarts.min.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\echarts\dist\echarts.min.js"' (27b0a520)
2019-06-01T11:26:36.6745278+07:00 0HLN69470PCJF:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=aiZUDqJMXt7wl3egJM_HZw   (ca22a1cb)
2019-06-01T11:26:36.6801130+07:00 0HLN69470PCJ8:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:26:36.6979415+07:00 0HLN69470PCJC:00000004 [INF] Request finished in 291.0857ms 200 application/javascript (791a596a)
2019-06-01T11:26:36.7000522+07:00 0HLN69470PCJF:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:26:36.7109433+07:00 0HLN69470PCJF:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:26:36.7201769+07:00 0HLN69470PCJ8:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:26:36.7341117+07:00 0HLN69470PCJ8:00000003 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:26:36.7495414+07:00 0HLN69470PCJ8:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:26:36.7579644+07:00 0HLN69470PCJ8:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 56.1488ms. (50a9e262)
2019-06-01T11:26:36.7928403+07:00 0HLN69470PCJ8:00000003 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:26:36.8107369+07:00 0HLN69470PCJ8:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 280.4412ms (afa2e885)
2019-06-01T11:26:36.8281264+07:00 0HLN69470PCJ8:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:26:36.8391475+07:00 0HLN69470PCJ8:00000003 [INF] Request finished in 385.2029ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:26:37.2032236+07:00 0HLN69470PCJF:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:26:43.2789625+07:00 0HLN69470PCJ8:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/report/visitor   (ca22a1cb)
2019-06-01T11:26:43.2861309+07:00 0HLN69470PCJ8:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)"' (500cc934)
2019-06-01T11:26:43.2920805+07:00 0HLN69470PCJ8:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Visitor\", controller = \"Report\"}". Executing action "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)" (a44c0341)
2019-06-01T11:26:43.2961388+07:00 0HLN69470PCJ8:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:26:43.3002335+07:00 0HLN69470PCJ8:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:26:43.3057826+07:00 0HLN69470PCJ8:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2802ms. (50a9e262)
2019-06-01T11:26:43.3127168+07:00 0HLN69470PCJ8:00000004 [INF] Executing ViewResult, running view "Visitor". (c83d0e25)
2019-06-01T11:26:43.3208218+07:00 0HLN69470PCJ8:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:26:43.3300546+07:00 0HLN69470PCJ8:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:26:43.3347586+07:00 0HLN69470PCJ8:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:26:43.3442245+07:00 0HLN69470PCJ8:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:26:43.3478273+07:00 0HLN69470PCJ8:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:26:43.3563689+07:00 0HLN69470PCJ8:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:26:43.3604575+07:00 0HLN69470PCJ8:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:26:43.3669018+07:00 0HLN69470PCJ8:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:26:43.3797132+07:00 0HLN69470PCJ8:00000004 [INF] Executed ViewResult - view "Visitor" executed in 65.8575ms. (f66409e9)
2019-06-01T11:26:43.4061288+07:00 0HLN69470PCJ8:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)" in 87.9732ms (afa2e885)
2019-06-01T11:26:43.4083368+07:00 0HLN69470PCJF:00000001 [INF] Request finished in 6840.4505ms 101  (791a596a)
2019-06-01T11:26:43.4195987+07:00 0HLN69470PCJ8:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)"' (99874f2b)
2019-06-01T11:26:43.4432189+07:00 0HLN69470PCJ8:00000004 [INF] Request finished in 145.9617ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:26:43.5637205+07:00 0HLN69470PCJ8:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:26:43.5767095+07:00 0HLN69470PCJC:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:26:43.5786952+07:00 0HLN69470PCJ8:00000005 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:26:43.5900950+07:00 0HLN69470PCJC:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:26:43.5926591+07:00 0HLN69470PCJ8:00000005 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:26:43.6089278+07:00 0HLN69470PCJC:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:26:43.6106857+07:00 0HLN69470PCJ8:00000005 [INF] Request finished in 58.0614ms 200 application/json (791a596a)
2019-06-01T11:26:43.6202558+07:00 0HLN69470PCJC:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:26:43.6264170+07:00 0HLN69470PCJC:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:26:43.6329754+07:00 0HLN69470PCJC:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:26:43.6412162+07:00 0HLN69470PCJC:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:26:43.6482185+07:00 0HLN69470PCJC:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:26:43.6545315+07:00 0HLN69470PCJC:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 21.9002ms. (50a9e262)
2019-06-01T11:26:43.6592477+07:00 0HLN69470PCJC:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:26:43.6690483+07:00 0HLN69470PCJC:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 50.6247ms (afa2e885)
2019-06-01T11:26:43.6769417+07:00 0HLN69470PCJC:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:26:43.6846078+07:00 0HLN69470PCJC:00000005 [INF] Request finished in 114.5541ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:26:44.0680310+07:00 0HLN69470PCJG:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=rP-l8Mfl3igvbd4fx3UoZg   (ca22a1cb)
2019-06-01T11:26:44.0746776+07:00 0HLN69470PCJG:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:26:44.0792901+07:00 0HLN69470PCJG:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:26:44.2454589+07:00 0HLN69470PCJG:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:27:47.1228814+07:00 0HLN69470PCJC:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/report/visitor   (ca22a1cb)
2019-06-01T11:27:49.3257752+07:00 0HLN69470PCJC:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)"' (500cc934)
2019-06-01T11:27:50.3680037+07:00 0HLN69470PCJC:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Visitor\", controller = \"Report\"}". Executing action "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)" (a44c0341)
2019-06-01T11:27:50.3778781+07:00 0HLN69470PCJC:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:27:50.3836230+07:00 0HLN69470PCJC:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:27:50.3882048+07:00 0HLN69470PCJC:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2096ms. (50a9e262)
2019-06-01T11:27:54.8665063+07:00 0HLN69470PCJC:00000006 [INF] Executing ViewResult, running view "Visitor". (c83d0e25)
2019-06-01T11:27:54.8747085+07:00 0HLN69470PCJC:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:27:54.8878576+07:00 0HLN69470PCJC:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:27:54.8927405+07:00 0HLN69470PCJC:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:27:54.9063881+07:00 0HLN69470PCJC:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:27:54.9101013+07:00 0HLN69470PCJC:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:27:54.9234198+07:00 0HLN69470PCJC:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:27:54.9269038+07:00 0HLN69470PCJC:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:27:54.9333703+07:00 0HLN69470PCJC:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:27:54.9483971+07:00 0HLN69470PCJC:00000006 [INF] Executed ViewResult - view "Visitor" executed in 4551.1429ms. (f66409e9)
2019-06-01T11:27:55.9593132+07:00 0HLN69470PCJC:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)" in 4580.5004ms (afa2e885)
2019-06-01T11:27:55.9669394+07:00 0HLN69470PCJ8:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:27:55.9703843+07:00 0HLN69470PCJC:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)"' (99874f2b)
2019-06-01T11:27:55.9728110+07:00 0HLN69470PCJG:00000001 [INF] Request finished in 70895.3522ms 101  (791a596a)
2019-06-01T11:27:55.9817209+07:00 0HLN69470PCJC:00000006 [INF] Request finished in 8857.7391ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:27:55.9830752+07:00 0HLN69470PCJ8:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:27:55.9923347+07:00 0HLN69470PCJ8:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:27:56.0082768+07:00 0HLN69470PCJ9:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:27:56.0293775+07:00 0HLN69470PCJ8:00000006 [INF] Request finished in 54.8943ms 200 application/json (791a596a)
2019-06-01T11:27:56.0347761+07:00 0HLN69470PCJ9:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:27:56.0417361+07:00 0HLN69470PCJ9:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:27:56.0473685+07:00 0HLN69470PCJ9:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:27:56.0539490+07:00 0HLN69470PCJ9:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:27:56.0610550+07:00 0HLN69470PCJ9:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:27:56.0700593+07:00 0HLN69470PCJ9:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:27:56.0802775+07:00 0HLN69470PCJ9:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:27:56.0883198+07:00 0HLN69470PCJ9:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 26.4705ms. (50a9e262)
2019-06-01T11:27:56.0926312+07:00 0HLN69470PCJ9:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:27:56.1016647+07:00 0HLN69470PCJ9:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 51.0719ms (afa2e885)
2019-06-01T11:27:56.1085028+07:00 0HLN69470PCJ9:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:27:56.1149697+07:00 0HLN69470PCJ9:00000004 [INF] Request finished in 161.0025ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:27:56.4041915+07:00 0HLN69470PCJH:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=ZllcQ26u8iSylxZ644H7JQ   (ca22a1cb)
2019-06-01T11:27:56.4103630+07:00 0HLN69470PCJH:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:27:56.4167068+07:00 0HLN69470PCJH:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:27:56.5385061+07:00 0HLN69470PCJH:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:27:56.6334131+07:00 0HLN69470PCJ9:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T11:27:56.6470090+07:00 0HLN69470PCJ9:00000005 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T11:27:56.6509097+07:00 0HLN69470PCJ9:00000005 [INF] Request finished in 18.7897ms 200 image/x-icon (791a596a)
2019-06-01T11:28:52.5793635+07:00 0HLN69470PCJ9:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/report/visitor   (ca22a1cb)
2019-06-01T11:28:52.5951350+07:00 0HLN69470PCJ9:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)"' (500cc934)
2019-06-01T11:28:52.6110349+07:00 0HLN69470PCJ9:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Visitor\", controller = \"Report\"}". Executing action "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)" (a44c0341)
2019-06-01T11:28:52.6154677+07:00 0HLN69470PCJ9:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:28:52.6201746+07:00 0HLN69470PCJ9:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:28:52.6251657+07:00 0HLN69470PCJ9:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0217ms. (50a9e262)
2019-06-01T11:28:54.6935997+07:00 0HLN69470PCJ9:00000006 [INF] Executing ViewResult, running view "Visitor". (c83d0e25)
2019-06-01T11:28:54.7045072+07:00 0HLN69470PCJ9:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:28:54.7228563+07:00 0HLN69470PCJ9:00000006 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:28:54.7269138+07:00 0HLN69470PCJ9:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:28:54.7395299+07:00 0HLN69470PCJ9:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:28:54.7431857+07:00 0HLN69470PCJ9:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:28:54.7554323+07:00 0HLN69470PCJ9:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:28:54.7591611+07:00 0HLN69470PCJ9:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:28:54.7656534+07:00 0HLN69470PCJ9:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:28:54.7790077+07:00 0HLN69470PCJ9:00000006 [INF] Executed ViewResult - view "Visitor" executed in 2146.3051ms. (f66409e9)
2019-06-01T11:28:54.7848247+07:00 0HLN69470PCJ9:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)" in 2168.0671ms (afa2e885)
2019-06-01T11:28:56.8997337+07:00 0HLN69470PCJ9:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)"' (99874f2b)
2019-06-01T11:28:56.9027483+07:00 0HLN69470PCJH:00000001 [INF] Request finished in 58428.9301ms 101  (791a596a)
2019-06-01T11:28:56.9105583+07:00 0HLN69470PCJ9:00000006 [INF] Request finished in 4326.9847ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:28:56.9129530+07:00 0HLN69470PCJC:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:28:56.9215466+07:00 0HLN69470PCJ8:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:28:56.9224500+07:00 0HLN69470PCJC:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:28:56.9277903+07:00 0HLN69470PCJ8:00000007 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:28:56.9340242+07:00 0HLN69470PCJC:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:28:56.9350014+07:00 0HLN69470PCJ8:00000007 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:28:56.9428647+07:00 0HLN69470PCJC:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:28:56.9457407+07:00 0HLN69470PCJ8:00000007 [INF] Request finished in 46.5554ms 200 application/json (791a596a)
2019-06-01T11:28:56.9504651+07:00 0HLN69470PCJC:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:28:56.9553477+07:00 0HLN69470PCJC:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:28:56.9661685+07:00 0HLN69470PCJC:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:28:56.9767839+07:00 0HLN69470PCJC:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:28:56.9824237+07:00 0HLN69470PCJC:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 26.3987ms. (50a9e262)
2019-06-01T11:28:56.9878214+07:00 0HLN69470PCJC:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:28:56.9950793+07:00 0HLN69470PCJC:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 54.0549ms (afa2e885)
2019-06-01T11:28:57.0012282+07:00 0HLN69470PCJC:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:28:57.0085743+07:00 0HLN69470PCJC:00000007 [INF] Request finished in 113.9342ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:28:57.1877256+07:00 0HLN69470PCJI:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=LGzUUw625uqp6me92vEjrg   (ca22a1cb)
2019-06-01T11:28:57.1937675+07:00 0HLN69470PCJI:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:28:57.1973031+07:00 0HLN69470PCJI:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:28:57.2830162+07:00 0HLN69470PCJI:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:28:57.2851176+07:00 0HLN69470PCJC:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T11:28:57.2985983+07:00 0HLN69470PCJC:00000008 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T11:28:57.3044153+07:00 0HLN69470PCJC:00000008 [INF] Request finished in 21.1167ms 200 image/x-icon (791a596a)
2019-06-01T11:29:34.3162634+07:00 0HLN69470PCJC:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/report/visitor   (ca22a1cb)
2019-06-01T11:29:34.3241941+07:00 0HLN69470PCJC:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)"' (500cc934)
2019-06-01T11:29:34.3304559+07:00 0HLN69470PCJC:00000009 [INF] Route matched with "{area = \"Admin\", action = \"Visitor\", controller = \"Report\"}". Executing action "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)" (a44c0341)
2019-06-01T11:29:34.3362729+07:00 0HLN69470PCJC:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:29:34.3430614+07:00 0HLN69470PCJC:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:29:34.3473412+07:00 0HLN69470PCJC:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0192ms. (50a9e262)
2019-06-01T11:29:34.6944425+07:00 0HLN69470PCJC:00000009 [INF] Executing ViewResult, running view "Visitor". (c83d0e25)
2019-06-01T11:29:34.7015468+07:00 0HLN69470PCJC:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:29:34.7164112+07:00 0HLN69470PCJC:00000009 [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:29:34.7233782+07:00 0HLN69470PCJC:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:29:34.7328215+07:00 0HLN69470PCJC:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:29:34.7415045+07:00 0HLN69470PCJC:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:29:34.7567074+07:00 0HLN69470PCJC:00000009 [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:29:34.7744932+07:00 0HLN69470PCJC:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:29:34.7858183+07:00 0HLN69470PCJC:00000009 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:29:34.8903544+07:00 0HLN69470PCJC:00000009 [INF] Executed ViewResult - view "Visitor" executed in 449.5602ms. (f66409e9)
2019-06-01T11:29:34.9000115+07:00 0HLN69470PCJI:00000001 [INF] Request finished in 37720.1934ms 101  (791a596a)
2019-06-01T11:29:34.9016821+07:00 0HLN69470PCJC:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)" in 559.9564ms (afa2e885)
2019-06-01T11:29:34.9160201+07:00 0HLN69470PCJC:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)"' (99874f2b)
2019-06-01T11:29:34.9309033+07:00 0HLN69470PCJC:00000009 [INF] Request finished in 604.9943ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:29:35.1220561+07:00 0HLN69470PCJC:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:29:35.1485372+07:00 0HLN69470PCJ8:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:29:35.1754914+07:00 0HLN69470PCJC:0000000A [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:29:35.1930804+07:00 0HLN69470PCJC:0000000A [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:29:35.1985671+07:00 0HLN69470PCJ8:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:29:35.2095185+07:00 0HLN69470PCJC:0000000A [INF] Request finished in 112.5102ms 200 application/json (791a596a)
2019-06-01T11:29:35.2117991+07:00 0HLN69470PCJ8:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:29:35.2295550+07:00 0HLN69470PCJ8:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:29:35.2428345+07:00 0HLN69470PCJ8:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:29:35.2501811+07:00 0HLN69470PCJ8:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:29:35.2580994+07:00 0HLN69470PCJ8:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:29:35.2647439+07:00 0HLN69470PCJ8:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:29:35.2706606+07:00 0HLN69470PCJ8:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 21.9975ms. (50a9e262)
2019-06-01T11:29:35.2764144+07:00 0HLN69470PCJ8:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:29:35.2857334+07:00 0HLN69470PCJ8:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 64.7687ms (afa2e885)
2019-06-01T11:29:35.2937158+07:00 0HLN69470PCJ8:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:29:35.3012554+07:00 0HLN69470PCJ8:00000008 [INF] Request finished in 202.289ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:29:35.4701898+07:00 0HLN69470PCJJ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=SHTvn32Ulg3Tbid81HEawg   (ca22a1cb)
2019-06-01T11:29:35.4769952+07:00 0HLN69470PCJJ:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:29:35.4831232+07:00 0HLN69470PCJJ:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:29:35.6240301+07:00 0HLN69470PCJJ:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:29:35.7042053+07:00 0HLN69470PCJ8:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T11:29:35.7234754+07:00 0HLN69470PCJ8:00000009 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T11:29:35.7297761+07:00 0HLN69470PCJ8:00000009 [INF] Request finished in 26.0373ms 200 image/x-icon (791a596a)
2019-06-01T11:30:29.5331916+07:00 0HLN69470PCJ8:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/report/visitor   (ca22a1cb)
2019-06-01T11:30:29.5431920+07:00 0HLN69470PCJ8:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)"' (500cc934)
2019-06-01T11:30:29.5487112+07:00 0HLN69470PCJ8:0000000A [INF] Route matched with "{area = \"Admin\", action = \"Visitor\", controller = \"Report\"}". Executing action "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)" (a44c0341)
2019-06-01T11:30:29.5555592+07:00 0HLN69470PCJ8:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:30:29.5616224+07:00 0HLN69470PCJ8:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:30:29.5671326+07:00 0HLN69470PCJ8:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0422ms. (50a9e262)
2019-06-01T11:30:29.7916718+07:00 0HLN69470PCJ8:0000000A [INF] Executing ViewResult, running view "Visitor". (c83d0e25)
2019-06-01T11:30:29.7999016+07:00 0HLN69470PCJ8:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:30:29.8141912+07:00 0HLN69470PCJ8:0000000A [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:30:29.8187143+07:00 0HLN69470PCJ8:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:30:29.8312800+07:00 0HLN69470PCJ8:0000000A [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:30:29.8355291+07:00 0HLN69470PCJ8:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:30:29.8487451+07:00 0HLN69470PCJ8:0000000A [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:30:29.8534593+07:00 0HLN69470PCJ8:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:30:29.8599139+07:00 0HLN69470PCJ8:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:30:29.8732545+07:00 0HLN69470PCJ8:0000000A [INF] Executed ViewResult - view "Visitor" executed in 297.5053ms. (f66409e9)
2019-06-01T11:30:29.9219199+07:00 0HLN69470PCJ8:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)" in 324.7365ms (afa2e885)
2019-06-01T11:30:29.9331815+07:00 0HLN69470PCJJ:00000001 [INF] Request finished in 54416.199ms 101  (791a596a)
2019-06-01T11:30:29.9358555+07:00 0HLN69470PCJ8:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)"' (99874f2b)
2019-06-01T11:30:29.9457644+07:00 0HLN69470PCJ8:0000000A [INF] Request finished in 412.6486ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:30:30.1083333+07:00 0HLN69470PCJ8:0000000B [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:30:30.1211769+07:00 0HLN69470PCJC:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:30:30.1243674+07:00 0HLN69470PCJ8:0000000B [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:30:30.1300544+07:00 0HLN69470PCJ8:0000000B [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:30:30.1486435+07:00 0HLN69470PCJ8:0000000B [INF] Request finished in 31.1277ms 200 application/json (791a596a)
2019-06-01T11:30:30.1506332+07:00 0HLN69470PCJC:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:30:30.1630611+07:00 0HLN69470PCJC:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:30:30.1723087+07:00 0HLN69470PCJC:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T11:30:30.1948699+07:00 0HLN69470PCJC:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:30:30.2036497+07:00 0HLN69470PCJC:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:30:30.2180551+07:00 0HLN69470PCJC:0000000B [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:30:30.2431299+07:00 0HLN69470PCJC:0000000B [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:30:30.2479505+07:00 0HLN69470PCJC:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 48.4459ms. (50a9e262)
2019-06-01T11:30:30.2555078+07:00 0HLN69470PCJC:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:30:30.2630327+07:00 0HLN69470PCJC:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 92.6214ms (afa2e885)
2019-06-01T11:30:30.2677613+07:00 0HLN69470PCJC:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:30:30.2761170+07:00 0HLN69470PCJC:0000000B [INF] Request finished in 159.7725ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:30:30.4370781+07:00 0HLN69470PCJK:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=jOArajKas_YrZTFbseJLlQ   (ca22a1cb)
2019-06-01T11:30:30.4437591+07:00 0HLN69470PCJK:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:30:30.4512377+07:00 0HLN69470PCJK:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:30:30.4953887+07:00 0HLN69470PCJK:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:30:30.5653090+07:00 0HLN69470PCJC:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T11:30:30.5800884+07:00 0HLN69470PCJC:0000000C [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T11:30:30.5850353+07:00 0HLN69470PCJC:0000000C [INF] Request finished in 19.0088ms 200 image/x-icon (791a596a)
2019-06-01T11:37:10.8934383+07:00 0HLN69470PCJL:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/report/revenues   (ca22a1cb)
2019-06-01T11:37:10.8988452+07:00 0HLN69470PCJL:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)"' (500cc934)
2019-06-01T11:37:10.9039479+07:00 0HLN69470PCJL:00000001 [INF] Route matched with "{area = \"Admin\", action = \"Revenues\", controller = \"Report\"}". Executing action "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)" (a44c0341)
2019-06-01T11:37:10.9089173+07:00 0HLN69470PCJL:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:37:10.9125448+07:00 0HLN69470PCJL:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:37:10.9165439+07:00 0HLN69470PCJL:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2875ms. (50a9e262)
2019-06-01T11:37:11.8442331+07:00 0HLN69470PCJL:00000001 [INF] Executing ViewResult, running view "Revenues". (c83d0e25)
2019-06-01T11:37:11.8518703+07:00 0HLN69470PCJL:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:37:12.9295803+07:00 0HLN69470PCJL:00000001 [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:37:12.9345362+07:00 0HLN69470PCJL:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:37:12.9500972+07:00 0HLN69470PCJL:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:37:12.9559392+07:00 0HLN69470PCJL:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:37:14.0464200+07:00 0HLN69470PCJL:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:37:15.0515901+07:00 0HLN69470PCJL:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:37:15.0638976+07:00 0HLN69470PCJL:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:37:15.0911601+07:00 0HLN69470PCJL:00000001 [INF] Executed ViewResult - view "Revenues" executed in 4154.3637ms. (f66409e9)
2019-06-01T11:37:15.1265536+07:00 0HLN69470PCJK:00000001 [INF] Request finished in 404661.0874ms 101  (791a596a)
2019-06-01T11:37:15.1341373+07:00 0HLN69470PCJL:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)" in 4187.249ms (afa2e885)
2019-06-01T11:37:15.1444002+07:00 0HLN69470PCJL:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)"' (99874f2b)
2019-06-01T11:37:15.1508970+07:00 0HLN69470PCJL:00000001 [INF] Request finished in 4255.3766ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:37:15.3935811+07:00 0HLN69470PCJL:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:37:15.4053776+07:00 0HLN69470PCJL:00000002 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:37:15.4088861+07:00 0HLN69470PCJM:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:37:15.4174248+07:00 0HLN69470PCJL:00000002 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:37:15.4292693+07:00 0HLN69470PCJM:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:37:15.4316492+07:00 0HLN69470PCJL:00000002 [INF] Request finished in 38.3839ms 200 application/json (791a596a)
2019-06-01T11:37:15.4419479+07:00 0HLN69470PCJM:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:37:15.4458736+07:00 0HLN69470PCJM:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:37:15.4515039+07:00 0HLN69470PCJM:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:37:15.4596057+07:00 0HLN69470PCJM:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:37:15.4744335+07:00 0HLN69470PCJM:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:37:15.4955445+07:00 0HLN69470PCJM:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:37:15.5056019+07:00 0HLN69470PCJM:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 44.1152ms. (50a9e262)
2019-06-01T11:37:15.5120081+07:00 0HLN69470PCJM:00000001 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:37:15.5277537+07:00 0HLN69470PCJM:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 70.3482ms (afa2e885)
2019-06-01T11:37:15.5332749+07:00 0HLN69470PCJM:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:37:15.5424241+07:00 0HLN69470PCJM:00000001 [INF] Request finished in 136.8158ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:37:16.0612376+07:00 0HLN69470PCJN:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=VhLaGZorgq4VfLAUbDH4jw   (ca22a1cb)
2019-06-01T11:37:16.0758050+07:00 0HLN69470PCJN:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:37:16.0809668+07:00 0HLN69470PCJN:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:37:16.4570892+07:00 0HLN69470PCJN:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:37:56.5903268+07:00 0HLN69470PCJM:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/report/reader   (ca22a1cb)
2019-06-01T11:37:56.5954156+07:00 0HLN69470PCJM:00000002 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Reader (Shop3)"' (500cc934)
2019-06-01T11:37:56.6010677+07:00 0HLN69470PCJM:00000002 [INF] Route matched with "{area = \"Admin\", action = \"Reader\", controller = \"Report\"}". Executing action "Shop3.Areas.Admin.Controllers.ReportController.Reader (Shop3)" (a44c0341)
2019-06-01T11:37:56.6053147+07:00 0HLN69470PCJM:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:37:56.6089860+07:00 0HLN69470PCJM:00000002 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ReportController.Reader (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:37:56.6128597+07:00 0HLN69470PCJM:00000002 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ReportController.Reader (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0402ms. (50a9e262)
2019-06-01T11:37:56.6166837+07:00 0HLN69470PCJM:00000002 [INF] Executing ViewResult, running view "Reader". (c83d0e25)
2019-06-01T11:37:56.6218562+07:00 0HLN69470PCJM:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:37:56.6347723+07:00 0HLN69470PCJM:00000002 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:37:56.6393495+07:00 0HLN69470PCJM:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:37:56.6517429+07:00 0HLN69470PCJM:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:37:56.6566537+07:00 0HLN69470PCJM:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:37:56.6682061+07:00 0HLN69470PCJM:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:37:56.6730521+07:00 0HLN69470PCJM:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:37:56.6803669+07:00 0HLN69470PCJM:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:37:56.6896945+07:00 0HLN69470PCJM:00000002 [INF] Executed ViewResult - view "Reader" executed in 68.5853ms. (f66409e9)
2019-06-01T11:37:56.7433987+07:00 0HLN69470PCJM:00000002 [INF] Executed action "Shop3.Areas.Admin.Controllers.ReportController.Reader (Shop3)" in 88.8311ms (afa2e885)
2019-06-01T11:37:57.7474011+07:00 0HLN69470PCJM:00000002 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Reader (Shop3)"' (99874f2b)
2019-06-01T11:37:59.0257410+07:00 0HLN69470PCJN:00000001 [INF] Request finished in 40700.4125ms 101  (791a596a)
2019-06-01T11:37:59.0334846+07:00 0HLN69470PCJM:00000002 [INF] Request finished in 1883.0565ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:37:59.0353631+07:00 0HLN69470PCJL:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:37:59.0447502+07:00 0HLN69470PCJM:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:37:59.0458112+07:00 0HLN69470PCJL:00000003 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:37:59.0515031+07:00 0HLN69470PCJL:00000003 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:37:59.0714789+07:00 0HLN69470PCJL:00000003 [INF] Request finished in 1313.6686ms 200 application/json (791a596a)
2019-06-01T11:37:59.0748511+07:00 0HLN69470PCJM:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:37:59.0850312+07:00 0HLN69470PCJM:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:37:59.0877574+07:00 0HLN69470PCJP:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=Bkf4G-VLqbavZbAOsI_O1A   (ca22a1cb)
2019-06-01T11:37:59.0913094+07:00 0HLN69470PCJM:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:37:59.0980737+07:00 0HLN69470PCJP:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:37:59.1008728+07:00 0HLN69470PCJM:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:37:59.1073803+07:00 0HLN69470PCJP:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:37:59.1203030+07:00 0HLN69470PCJM:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:37:59.1244900+07:00 0HLN69470PCJP:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:37:59.1307493+07:00 0HLN69470PCJM:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:37:59.1419879+07:00 0HLN69470PCJM:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:37:59.1475038+07:00 0HLN69470PCJM:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 41.1962ms. (50a9e262)
2019-06-01T11:37:59.1546229+07:00 0HLN69470PCJM:00000003 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:37:59.1671538+07:00 0HLN69470PCJM:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 69.8013ms (afa2e885)
2019-06-01T11:37:59.1762976+07:00 0HLN69470PCJM:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:37:59.1842545+07:00 0HLN69470PCJM:00000003 [INF] Request finished in 140.5369ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:00.3954563+07:00 0HLN69470PCJM:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/report/visitor   (ca22a1cb)
2019-06-01T11:38:00.4133591+07:00 0HLN69470PCJM:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)"' (500cc934)
2019-06-01T11:38:00.4230888+07:00 0HLN69470PCJM:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Visitor\", controller = \"Report\"}". Executing action "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)" (a44c0341)
2019-06-01T11:38:00.4298674+07:00 0HLN69470PCJM:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:00.4355453+07:00 0HLN69470PCJM:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:38:00.4429214+07:00 0HLN69470PCJM:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0164ms. (50a9e262)
2019-06-01T11:38:00.4486871+07:00 0HLN69470PCJM:00000004 [INF] Executing ViewResult, running view "Visitor". (c83d0e25)
2019-06-01T11:38:00.4575265+07:00 0HLN69470PCJM:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:00.4704849+07:00 0HLN69470PCJM:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:00.4765296+07:00 0HLN69470PCJM:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:00.4874924+07:00 0HLN69470PCJM:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:00.4974966+07:00 0HLN69470PCJM:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:00.5093053+07:00 0HLN69470PCJM:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:00.5195531+07:00 0HLN69470PCJM:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:00.5307449+07:00 0HLN69470PCJM:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:38:00.6273823+07:00 0HLN69470PCJM:00000004 [INF] Executed ViewResult - view "Visitor" executed in 88.7736ms. (f66409e9)
2019-06-01T11:38:00.6308835+07:00 0HLN69470PCJP:00000001 [INF] Request finished in 1537.2184ms 101  (791a596a)
2019-06-01T11:38:00.6409745+07:00 0HLN69470PCJM:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)" in 205.2822ms (afa2e885)
2019-06-01T11:38:00.6548302+07:00 0HLN69470PCJM:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Visitor (Shop3)"' (99874f2b)
2019-06-01T11:38:00.6650591+07:00 0HLN69470PCJM:00000004 [INF] Request finished in 276.3628ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:38:00.7158578+07:00 0HLN69470PCJM:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:38:00.7191078+07:00 0HLN69470PCJL:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:38:00.7291932+07:00 0HLN69470PCJM:00000005 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:38:00.7325769+07:00 0HLN69470PCJL:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:38:00.7410265+07:00 0HLN69470PCJM:00000005 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:38:00.7496739+07:00 0HLN69470PCJL:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:38:00.7556071+07:00 0HLN69470PCJM:00000005 [INF] Request finished in 46.8212ms 200 application/json (791a596a)
2019-06-01T11:38:00.7567332+07:00 0HLN69470PCJL:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:00.7625359+07:00 0HLN69470PCJL:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:00.7792091+07:00 0HLN69470PCJL:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:00.7970306+07:00 0HLN69470PCJL:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:38:00.7981358+07:00 0HLN69470PCJQ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=58T041_WyZNlLVNanMhaWA   (ca22a1cb)
2019-06-01T11:38:00.8079340+07:00 0HLN69470PCJQ:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:38:00.8127213+07:00 0HLN69470PCJL:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:38:00.8221646+07:00 0HLN69470PCJQ:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:38:00.8240029+07:00 0HLN69470PCJL:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 50.2038ms. (50a9e262)
2019-06-01T11:38:00.8346150+07:00 0HLN69470PCJL:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:38:00.8431155+07:00 0HLN69470PCJL:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 85.0899ms (afa2e885)
2019-06-01T11:38:00.8479245+07:00 0HLN69470PCJL:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:38:00.8533707+07:00 0HLN69470PCJL:00000004 [INF] Request finished in 148.4995ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:00.9693903+07:00 0HLN69470PCJQ:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:38:02.0694255+07:00 0HLN69470PCJL:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/report/revenues   (ca22a1cb)
2019-06-01T11:38:02.0770489+07:00 0HLN69470PCJL:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)"' (500cc934)
2019-06-01T11:38:02.0825762+07:00 0HLN69470PCJL:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Revenues\", controller = \"Report\"}". Executing action "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)" (a44c0341)
2019-06-01T11:38:02.0867248+07:00 0HLN69470PCJL:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:02.0921599+07:00 0HLN69470PCJL:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:38:02.0961545+07:00 0HLN69470PCJL:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.043ms. (50a9e262)
2019-06-01T11:38:06.1089249+07:00 0HLN69470PCJM:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/report/revenues   (ca22a1cb)
2019-06-01T11:38:06.1182226+07:00 0HLN69470PCJL:00000005 [INF] Executing ViewResult, running view "Revenues". (c83d0e25)
2019-06-01T11:38:06.1216655+07:00 0HLN69470PCJM:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)"' (500cc934)
2019-06-01T11:38:06.1236466+07:00 0HLN69470PCJO:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/report/revenues   (ca22a1cb)
2019-06-01T11:38:06.1609483+07:00 0HLN69470PCJM:00000006 [INF] Route matched with "{area = \"Admin\", action = \"Revenues\", controller = \"Report\"}". Executing action "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)" (a44c0341)
2019-06-01T11:38:06.1635111+07:00 0HLN69470PCJO:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)"' (500cc934)
2019-06-01T11:38:06.1671177+07:00 0HLN69470PCJL:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:06.1688343+07:00 0HLN69470PCJM:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:06.1756104+07:00 0HLN69470PCJO:00000001 [INF] Route matched with "{area = \"Admin\", action = \"Revenues\", controller = \"Report\"}". Executing action "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)" (a44c0341)
2019-06-01T11:38:06.1776724+07:00 0HLN69470PCJM:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:38:06.2078938+07:00 0HLN69470PCJO:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:06.2116601+07:00 0HLN69470PCJM:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0172ms. (50a9e262)
2019-06-01T11:38:06.2193737+07:00 0HLN69470PCJL:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:06.2204313+07:00 0HLN69470PCJM:00000006 [INF] Executing ViewResult, running view "Revenues". (c83d0e25)
2019-06-01T11:38:06.2269487+07:00 0HLN69470PCJL:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:06.2288633+07:00 0HLN69470PCJM:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:06.2400103+07:00 0HLN69470PCJO:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:38:08.5029353+07:00 0HLN69470PCJM:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:08.5072831+07:00 0HLN69470PCJO:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0151ms. (50a9e262)
2019-06-01T11:38:08.5091322+07:00 0HLN69470PCJL:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:08.5152479+07:00 0HLN69470PCJM:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:08.5171339+07:00 0HLN69470PCJL:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:08.5222136+07:00 0HLN69470PCJO:00000001 [INF] Executing ViewResult, running view "Revenues". (c83d0e25)
2019-06-01T11:38:08.5247248+07:00 0HLN69470PCJR:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/report/revenues   (ca22a1cb)
2019-06-01T11:38:08.5319231+07:00 0HLN69470PCJO:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:08.5418960+07:00 0HLN69470PCJM:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:09.4986916+07:00 0HLN69470PCJL:00000005 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:09.5069115+07:00 0HLN69470PCJM:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:09.5086416+07:00 0HLN69470PCJL:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:09.5132676+07:00 0HLN69470PCJR:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)"' (500cc934)
2019-06-01T11:38:09.5154518+07:00 0HLN69470PCJO:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:09.5207593+07:00 0HLN69470PCJL:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:38:09.5227864+07:00 0HLN69470PCJO:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:09.5304782+07:00 0HLN69470PCJR:00000001 [INF] Route matched with "{area = \"Admin\", action = \"Revenues\", controller = \"Report\"}". Executing action "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)" (a44c0341)
2019-06-01T11:38:09.5327872+07:00 0HLN69470PCJM:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:09.5598119+07:00 0HLN69470PCJO:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:09.5609611+07:00 0HLN69470PCJM:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:09.5674206+07:00 0HLN69470PCJO:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:09.5692971+07:00 0HLN69470PCJL:00000005 [INF] Executed ViewResult - view "Revenues" executed in 7464.5907ms. (f66409e9)
2019-06-01T11:38:09.5729652+07:00 0HLN69470PCJR:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:09.5781081+07:00 0HLN69470PCJL:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)" in 7487.4449ms (afa2e885)
2019-06-01T11:38:09.5797299+07:00 0HLN69470PCJM:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:38:09.5868704+07:00 0HLN69470PCJL:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)"' (99874f2b)
2019-06-01T11:38:09.5901582+07:00 0HLN69470PCJO:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:09.5950460+07:00 0HLN69470PCJM:00000006 [INF] Executed ViewResult - view "Revenues" executed in 3376.0218ms. (f66409e9)
2019-06-01T11:38:09.5980721+07:00 0HLN69470PCJL:00000005 [INF] Request finished in 7523.4371ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:38:09.6010693+07:00 0HLN69470PCJO:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:09.6042624+07:00 0HLN69470PCJM:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)" in 3434.8759ms (afa2e885)
2019-06-01T11:38:09.6096758+07:00 0HLN69470PCJR:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:38:09.6113762+07:00 0HLN69470PCJM:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)"' (99874f2b)
2019-06-01T11:38:09.6189836+07:00 0HLN69470PCJO:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:38:09.6215428+07:00 0HLN69470PCJM:00000006 [INF] Request finished in 5612.2743ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:38:09.6235825+07:00 0HLN69470PCJR:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0164ms. (50a9e262)
2019-06-01T11:38:09.6304400+07:00 0HLN69470PCJO:00000001 [INF] Executed ViewResult - view "Revenues" executed in 1116.3867ms. (f66409e9)
2019-06-01T11:38:09.6322061+07:00 0HLN69470PCJR:00000001 [INF] Executing ViewResult, running view "Revenues". (c83d0e25)
2019-06-01T11:38:09.6566812+07:00 0HLN69470PCJO:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)" in 3453.9114ms (afa2e885)
2019-06-01T11:38:09.6608678+07:00 0HLN69470PCJR:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:09.6619378+07:00 0HLN69470PCJO:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)"' (99874f2b)
2019-06-01T11:38:09.6660527+07:00 0HLN69470PCJO:00000001 [INF] Request finished in 3569.2664ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:38:09.6779087+07:00 0HLN69470PCJR:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:09.6823062+07:00 0HLN69470PCJR:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:09.6938664+07:00 0HLN69470PCJR:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:09.6996432+07:00 0HLN69470PCJR:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:09.7087247+07:00 0HLN69470PCJR:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:09.7128764+07:00 0HLN69470PCJR:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:09.7194134+07:00 0HLN69470PCJR:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:38:09.7990413+07:00 0HLN69470PCJR:00000001 [INF] Executed ViewResult - view "Revenues" executed in 98.3884ms. (f66409e9)
2019-06-01T11:38:09.8068789+07:00 0HLN69470PCJQ:00000001 [INF] Request finished in 8947.0773ms 101  (791a596a)
2019-06-01T11:38:09.8088272+07:00 0HLN69470PCJR:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)" in 268.6713ms (afa2e885)
2019-06-01T11:38:09.8135049+07:00 0HLN69470PCJR:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ReportController.Revenues (Shop3)"' (99874f2b)
2019-06-01T11:38:09.8240444+07:00 0HLN69470PCJR:00000001 [INF] Request finished in 3712.3493ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:38:09.9417743+07:00 0HLN69470PCJR:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:38:09.9449517+07:00 0HLN69470PCJS:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:38:09.9483515+07:00 0HLN69470PCJR:00000002 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:38:09.9577287+07:00 0HLN69470PCJS:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:38:09.9597087+07:00 0HLN69470PCJR:00000002 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:38:09.9677562+07:00 0HLN69470PCJS:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:38:09.9699199+07:00 0HLN69470PCJR:00000002 [INF] Request finished in 28.9078ms 200 application/json (791a596a)
2019-06-01T11:38:09.9760262+07:00 0HLN69470PCJS:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:09.9827762+07:00 0HLN69470PCJS:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:09.9898600+07:00 0HLN69470PCJS:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:09.9958792+07:00 0HLN69470PCJS:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:38:10.0128922+07:00 0HLN69470PCJS:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:38:10.0262801+07:00 0HLN69470PCJS:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 30.201ms. (50a9e262)
2019-06-01T11:38:10.0328430+07:00 0HLN69470PCJS:00000001 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:38:10.0441007+07:00 0HLN69470PCJS:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 65.2721ms (afa2e885)
2019-06-01T11:38:10.0510514+07:00 0HLN69470PCJS:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:38:10.0577278+07:00 0HLN69470PCJS:00000001 [INF] Request finished in 115.3738ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:10.2223582+07:00 0HLN69470PCJT:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=A_jnm5SLyBjYO1Kps1MnyA   (ca22a1cb)
2019-06-01T11:38:10.2275049+07:00 0HLN69470PCJT:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:38:10.2339505+07:00 0HLN69470PCJT:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:38:10.3806158+07:00 0HLN69470PCJT:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:38:14.0337976+07:00 0HLN69470PCJS:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/index   (ca22a1cb)
2019-06-01T11:38:14.0415568+07:00 0HLN69470PCJS:00000002 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (500cc934)
2019-06-01T11:38:14.0472335+07:00 0HLN69470PCJS:00000002 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" (a44c0341)
2019-06-01T11:38:14.0517611+07:00 0HLN69470PCJS:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:14.0588684+07:00 0HLN69470PCJS:00000002 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:38:14.0637718+07:00 0HLN69470PCJS:00000002 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2477ms. (50a9e262)
2019-06-01T11:38:14.0727498+07:00 0HLN69470PCJS:00000002 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:38:14.1022550+07:00 0HLN69470PCJS:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:14.1142488+07:00 0HLN69470PCJS:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:14.1190968+07:00 0HLN69470PCJS:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:14.1327095+07:00 0HLN69470PCJS:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:14.1386628+07:00 0HLN69470PCJS:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:14.1467067+07:00 0HLN69470PCJS:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:14.1509425+07:00 0HLN69470PCJS:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:14.1698176+07:00 0HLN69470PCJS:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:14.1751731+07:00 0HLN69470PCJS:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:14.1831592+07:00 0HLN69470PCJS:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:14.1877958+07:00 0HLN69470PCJS:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:14.1954443+07:00 0HLN69470PCJS:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:14.2000703+07:00 0HLN69470PCJS:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:14.2082857+07:00 0HLN69470PCJS:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:38:14.2624670+07:00 0HLN69470PCJS:00000002 [INF] Executed ViewResult - view "Index" executed in 151.4817ms. (f66409e9)
2019-06-01T11:38:14.2695017+07:00 0HLN69470PCJT:00000001 [INF] Request finished in 4046.0963ms 101  (791a596a)
2019-06-01T11:38:14.3009555+07:00 0HLN69470PCJS:00000002 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" in 215.4767ms (afa2e885)
2019-06-01T11:38:14.3123820+07:00 0HLN69470PCJS:00000002 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (99874f2b)
2019-06-01T11:38:14.3151595+07:00 0HLN69470PCJR:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/role/index.js?v=mz1ph8DZRQ6ILDjqZpt6VBJedN7WSh460Gi_H9lmDPk   (ca22a1cb)
2019-06-01T11:38:14.3238044+07:00 0HLN69470PCJS:00000002 [INF] Request finished in 282.8904ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:38:14.3306323+07:00 0HLN69470PCJR:00000003 [INF] The file "/app/controllers/role/index.js" was not modified (f1f8d725)
2019-06-01T11:38:14.3413711+07:00 0HLN69470PCJR:00000003 [INF] Request finished in 30.5337ms 304 application/javascript (791a596a)
2019-06-01T11:38:14.4057156+07:00 0HLN69470PCJR:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:38:14.4066486+07:00 0HLN69470PCJS:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:38:14.4153025+07:00 0HLN69470PCJS:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:38:14.4170978+07:00 0HLN69470PCJR:00000004 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:38:14.4283167+07:00 0HLN69470PCJS:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:38:14.4307856+07:00 0HLN69470PCJR:00000004 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:38:14.4454009+07:00 0HLN69470PCJS:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:14.4526227+07:00 0HLN69470PCJR:00000004 [INF] Request finished in 34.2838ms 200 application/json (791a596a)
2019-06-01T11:38:14.4595290+07:00 0HLN69470PCJS:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:14.4639761+07:00 0HLN69470PCJS:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:14.4721685+07:00 0HLN69470PCJS:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:38:14.4792971+07:00 0HLN69470PCJS:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:38:14.4845681+07:00 0HLN69470PCJS:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 19.8945ms. (50a9e262)
2019-06-01T11:38:14.4972016+07:00 0HLN69470PCJS:00000003 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:38:14.5098977+07:00 0HLN69470PCJU:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=qlwf_0HZdUghTruG74fvPQ   (ca22a1cb)
2019-06-01T11:38:14.5136028+07:00 0HLN69470PCJS:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 69.3246ms (afa2e885)
2019-06-01T11:38:14.5212421+07:00 0HLN69470PCJU:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:38:14.5243547+07:00 0HLN69470PCJV:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:38:14.5269689+07:00 0HLN69470PCJS:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:38:14.5386493+07:00 0HLN69470PCJV:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:38:14.5440884+07:00 0HLN69470PCJS:00000003 [INF] Request finished in 128.1869ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:14.5693607+07:00 0HLN69470PCJV:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:38:14.5754473+07:00 0HLN69470PCJU:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:38:14.5839145+07:00 0HLN69470PCJV:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:14.5897311+07:00 0HLN69470PCJR:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:38:14.5956265+07:00 0HLN69470PCJU:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:38:14.5991875+07:00 0HLN69470PCJV:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:14.6030312+07:00 0HLN69470PCJR:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:38:14.6152409+07:00 0HLN69470PCJV:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:14.6163202+07:00 0HLN69470PCJR:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:38:14.6275005+07:00 0HLN69470PCJR:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:14.6401315+07:00 0HLN69470PCJV:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:38:14.6450611+07:00 0HLN69470PCJR:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:14.6488867+07:00 0HLN69470PCJV:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:38:14.6596773+07:00 0HLN69470PCJV:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 49.8608ms. (50a9e262)
2019-06-01T11:38:14.6664317+07:00 0HLN69470PCJR:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:14.6675932+07:00 0HLN69470PCJV:00000001 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:38:14.6788367+07:00 0HLN69470PCJV:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 98.5935ms (afa2e885)
2019-06-01T11:38:14.6813433+07:00 0HLN69470PCJR:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T11:38:14.7073318+07:00 0HLN69470PCJV:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:38:14.7128649+07:00 0HLN69470PCJV:00000001 [INF] Request finished in 193.9214ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:14.7443435+07:00 0HLN69470PCJR:00000005 [WRN] Query: '"(from AppRole dtoAppRole in DbSet<AppRole> select new AppRoleViewModel{ { 
    Description = [dtoAp..."' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-06-01T11:38:14.7633982+07:00 0HLN69470PCJR:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T11:38:14.7730585+07:00 0HLN69470PCJR:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 120.3067ms. (50a9e262)
2019-06-01T11:38:14.7788087+07:00 0HLN69470PCJR:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:38:14.7959792+07:00 0HLN69470PCJR:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 171.9551ms (afa2e885)
2019-06-01T11:38:14.8013760+07:00 0HLN69470PCJR:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:38:14.8096144+07:00 0HLN69470PCJR:00000005 [INF] Request finished in 306.828ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:14.8168977+07:00 0HLN69470PCJR:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:38:14.8264239+07:00 0HLN69470PCJR:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:38:14.8316726+07:00 0HLN69470PCJR:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:38:14.8367008+07:00 0HLN69470PCJR:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:14.8447553+07:00 0HLN69470PCJR:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:14.8498745+07:00 0HLN69470PCJR:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:14.8595110+07:00 0HLN69470PCJR:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T11:38:14.8645272+07:00 0HLN69470PCJR:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T11:38:14.8688940+07:00 0HLN69470PCJR:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 19.8818ms. (50a9e262)
2019-06-01T11:38:14.8758852+07:00 0HLN69470PCJR:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:38:14.8827332+07:00 0HLN69470PCJR:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 45.1568ms (afa2e885)
2019-06-01T11:38:14.8873046+07:00 0HLN69470PCJR:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:38:14.8944119+07:00 0HLN69470PCJR:00000006 [INF] Request finished in 74.406ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:15.4966932+07:00 0HLN69470PCJR:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/setting/index   (ca22a1cb)
2019-06-01T11:38:15.5021320+07:00 0HLN69470PCJR:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.SettingController.Index (Shop3)"' (500cc934)
2019-06-01T11:38:15.5094567+07:00 0HLN69470PCJR:00000007 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Setting\"}". Executing action "Shop3.Areas.Admin.Controllers.SettingController.Index (Shop3)" (a44c0341)
2019-06-01T11:38:15.5129820+07:00 0HLN69470PCJR:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:15.5181271+07:00 0HLN69470PCJR:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.SettingController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:38:15.5237246+07:00 0HLN69470PCJR:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.SettingController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2453ms. (50a9e262)
2019-06-01T11:38:15.5304959+07:00 0HLN69470PCJR:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:38:15.5434895+07:00 0HLN69470PCJR:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:15.5523440+07:00 0HLN69470PCJR:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:15.5575559+07:00 0HLN69470PCJR:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:15.5654078+07:00 0HLN69470PCJR:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:15.5706644+07:00 0HLN69470PCJR:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:15.5786157+07:00 0HLN69470PCJR:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:15.5829840+07:00 0HLN69470PCJR:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:15.5899232+07:00 0HLN69470PCJR:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:38:15.6012191+07:00 0HLN69470PCJR:00000007 [INF] Executed ViewResult - view "Index" executed in 69.1039ms. (f66409e9)
2019-06-01T11:38:15.6328043+07:00 0HLN69470PCJR:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.SettingController.Index (Shop3)" in 91.892ms (afa2e885)
2019-06-01T11:38:15.6354923+07:00 0HLN69470PCJU:00000001 [INF] Request finished in 1111.5396ms 101  (791a596a)
2019-06-01T11:38:15.6487751+07:00 0HLN69470PCJR:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.SettingController.Index (Shop3)"' (99874f2b)
2019-06-01T11:38:15.6557027+07:00 0HLN69470PCJR:00000007 [INF] Request finished in 159.6458ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:38:15.7375915+07:00 0HLN69470PCJR:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:38:15.7388682+07:00 0HLN69470PCJV:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:38:15.7477716+07:00 0HLN69470PCJR:00000008 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:38:15.7509298+07:00 0HLN69470PCJV:00000002 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:38:15.7586536+07:00 0HLN69470PCJR:00000008 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:38:15.7615037+07:00 0HLN69470PCJV:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:38:15.7752817+07:00 0HLN69470PCJR:00000008 [INF] Request finished in 32.0639ms 200 application/json (791a596a)
2019-06-01T11:38:15.7795463+07:00 0HLN69470PCJV:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:15.8158191+07:00 0HLN69470PCJV:00000002 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:15.8227192+07:00 0HLN69470PCK0:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=0W3HYh25bGL1irdq3dpo1Q   (ca22a1cb)
2019-06-01T11:38:15.8236743+07:00 0HLN69470PCJV:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:15.8277453+07:00 0HLN69470PCK0:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:38:15.8331631+07:00 0HLN69470PCK0:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:38:15.8356804+07:00 0HLN69470PCJV:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:38:15.8490191+07:00 0HLN69470PCJV:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:38:15.8532435+07:00 0HLN69470PCK0:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:38:15.8608726+07:00 0HLN69470PCJV:00000002 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 34.1989ms. (50a9e262)
2019-06-01T11:38:15.8652493+07:00 0HLN69470PCJV:00000002 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:38:15.8748722+07:00 0HLN69470PCJV:00000002 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 104.0532ms (afa2e885)
2019-06-01T11:38:15.8810630+07:00 0HLN69470PCJV:00000002 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:38:15.8890696+07:00 0HLN69470PCJV:00000002 [INF] Request finished in 151.0747ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:16.8060415+07:00 0HLN69470PCJV:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/index   (ca22a1cb)
2019-06-01T11:38:16.8107873+07:00 0HLN69470PCJV:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (500cc934)
2019-06-01T11:38:16.8170938+07:00 0HLN69470PCJV:00000003 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" (a44c0341)
2019-06-01T11:38:16.8224935+07:00 0HLN69470PCJV:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:16.8272268+07:00 0HLN69470PCJV:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:38:16.8318679+07:00 0HLN69470PCJV:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0205ms. (50a9e262)
2019-06-01T11:38:16.8362269+07:00 0HLN69470PCJV:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:38:16.8423053+07:00 0HLN69470PCJV:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:16.8507126+07:00 0HLN69470PCJV:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:16.8553781+07:00 0HLN69470PCJV:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:16.8636497+07:00 0HLN69470PCJV:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:16.8678068+07:00 0HLN69470PCJV:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:16.8759483+07:00 0HLN69470PCJV:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:16.8805510+07:00 0HLN69470PCJV:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:16.8883487+07:00 0HLN69470PCJV:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:16.8927672+07:00 0HLN69470PCJV:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:16.8998023+07:00 0HLN69470PCJV:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:16.9045198+07:00 0HLN69470PCJV:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:16.9118248+07:00 0HLN69470PCJV:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:16.9162010+07:00 0HLN69470PCJV:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:16.9235975+07:00 0HLN69470PCJV:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:38:16.9338005+07:00 0HLN69470PCJV:00000003 [INF] Executed ViewResult - view "Index" executed in 92.726ms. (f66409e9)
2019-06-01T11:38:16.9682633+07:00 0HLN69470PCK0:00000001 [INF] Request finished in 1118.0983ms 101  (791a596a)
2019-06-01T11:38:16.9692024+07:00 0HLN69470PCJV:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)" in 117.6507ms (afa2e885)
2019-06-01T11:38:16.9840118+07:00 0HLN69470PCJV:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.Index (Shop3)"' (99874f2b)
2019-06-01T11:38:16.9902485+07:00 0HLN69470PCJV:00000003 [INF] Request finished in 183.2002ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:38:17.0478362+07:00 0HLN69470PCJV:00000004 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:38:17.0527334+07:00 0HLN69470PCJS:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:38:17.0656921+07:00 0HLN69470PCJS:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:38:17.0670395+07:00 0HLN69470PCJV:00000004 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:38:17.0780687+07:00 0HLN69470PCJS:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:38:17.0816819+07:00 0HLN69470PCJV:00000004 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:38:17.0931600+07:00 0HLN69470PCJS:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:17.0969927+07:00 0HLN69470PCJV:00000004 [INF] Request finished in 51.389ms 200 application/json (791a596a)
2019-06-01T11:38:17.0993504+07:00 0HLN69470PCJR:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:38:17.1080535+07:00 0HLN69470PCJS:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:17.1255657+07:00 0HLN69470PCJR:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:38:17.1401466+07:00 0HLN69470PCJS:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:17.1567583+07:00 0HLN69470PCJR:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:38:17.1605556+07:00 0HLN69470PCJS:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T11:38:17.1657786+07:00 0HLN69470PCJR:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:17.1772925+07:00 0HLN69470PCJS:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T11:38:17.1796728+07:00 0HLN69470PCJR:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:17.1868662+07:00 0HLN69470PCJS:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 69.3098ms. (50a9e262)
2019-06-01T11:38:17.1932280+07:00 0HLN69470PCJR:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:17.1977589+07:00 0HLN69470PCK1:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=x79TNiK23S3yn6jrpAa4Sg   (ca22a1cb)
2019-06-01T11:38:17.2000002+07:00 0HLN69470PCJS:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:38:17.2110414+07:00 0HLN69470PCJR:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:38:17.2128567+07:00 0HLN69470PCJS:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 121.6721ms (afa2e885)
2019-06-01T11:38:17.2249511+07:00 0HLN69470PCJS:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:38:17.2281569+07:00 0HLN69470PCJR:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:38:17.2352280+07:00 0HLN69470PCJS:00000004 [INF] Request finished in 186.6775ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:17.2362775+07:00 0HLN69470PCJR:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 48.5591ms. (50a9e262)
2019-06-01T11:38:17.2418980+07:00 0HLN69470PCK1:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:38:17.2517039+07:00 0HLN69470PCJR:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:38:17.2623185+07:00 0HLN69470PCJS:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:38:17.2657847+07:00 0HLN69470PCK1:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:38:17.2693137+07:00 0HLN69470PCJR:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 93.5945ms (afa2e885)
2019-06-01T11:38:17.2814360+07:00 0HLN69470PCJS:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:38:17.2910934+07:00 0HLN69470PCK1:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:38:17.2932740+07:00 0HLN69470PCJS:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:38:17.2952288+07:00 0HLN69470PCJR:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:38:17.3085219+07:00 0HLN69470PCJS:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:17.3108205+07:00 0HLN69470PCJR:00000009 [INF] Request finished in 261.3384ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:17.3139738+07:00 0HLN69470PCJV:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:38:17.3237260+07:00 0HLN69470PCJS:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:17.3268144+07:00 0HLN69470PCJV:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:38:17.3409428+07:00 0HLN69470PCJS:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:17.3450122+07:00 0HLN69470PCJV:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:38:17.3527475+07:00 0HLN69470PCJS:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetRoles] AS [a]" (0723d8ff)
2019-06-01T11:38:17.3565498+07:00 0HLN69470PCJV:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:17.3667291+07:00 0HLN69470PCJV:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:17.3690018+07:00 0HLN69470PCJS:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T11:38:17.3793227+07:00 0HLN69470PCJV:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:17.3810630+07:00 0HLN69470PCJS:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 45.3903ms. (50a9e262)
2019-06-01T11:38:17.3930658+07:00 0HLN69470PCJS:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:38:17.3951598+07:00 0HLN69470PCJV:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:38:17.4200377+07:00 0HLN69470PCJS:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)" in 99.9564ms (afa2e885)
2019-06-01T11:38:17.4299577+07:00 0HLN69470PCJV:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:38:17.4309304+07:00 0HLN69470PCJS:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:38:17.4437636+07:00 0HLN69470PCJV:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 63.3263ms. (50a9e262)
2019-06-01T11:38:17.4457993+07:00 0HLN69470PCJS:00000005 [INF] Request finished in 189.6626ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:17.4515072+07:00 0HLN69470PCJV:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:38:17.4618244+07:00 0HLN69470PCJV:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 106.6866ms (afa2e885)
2019-06-01T11:38:17.4665648+07:00 0HLN69470PCJV:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:38:17.4764717+07:00 0HLN69470PCJV:00000005 [INF] Request finished in 201.9321ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:18.5137275+07:00 0HLN69470PCJV:00000006 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2019-06-01T11:38:18.5178452+07:00 0HLN69470PCJS:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Function/GetAll   (ca22a1cb)
2019-06-01T11:38:18.5262538+07:00 0HLN69470PCJV:00000006 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:38:18.5290879+07:00 0HLN69470PCJS:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (500cc934)
2019-06-01T11:38:18.5345279+07:00 0HLN69470PCJV:00000006 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:38:18.5428507+07:00 0HLN69470PCJV:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.ListAllFunction (Shop3)"' (500cc934)
2019-06-01T11:38:18.5521915+07:00 0HLN69470PCJS:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Function\"}". Executing action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" (a44c0341)
2019-06-01T11:38:18.5557102+07:00 0HLN69470PCJV:00000006 [INF] Route matched with "{area = \"Admin\", action = \"ListAllFunction\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.ListAllFunction (Shop3)" (a44c0341)
2019-06-01T11:38:18.5644368+07:00 0HLN69470PCJS:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:18.5653836+07:00 0HLN69470PCJV:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:18.5777097+07:00 0HLN69470PCJV:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.ListAllFunction (Shop3)" with arguments (["4be342df-f59e-45fe-66e2-08d6ad8807d3"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:18.5785529+07:00 0HLN69470PCJS:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" with arguments (["0", "0"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:18.5866357+07:00 0HLN69470PCJS:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:18.5988277+07:00 0HLN69470PCJV:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:18.6284605+07:00 0HLN69470PCJS:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:38:18.6446902+07:00 0HLN69470PCJS:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 51.3759ms. (50a9e262)
2019-06-01T11:38:18.6535587+07:00 0HLN69470PCJS:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.FunctionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:38:18.6882127+07:00 0HLN69470PCJV:00000006 [INF] Executed DbCommand ("17"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_0 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2019-06-01T11:38:18.7096895+07:00 0HLN69470PCJS:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)" in 125.5391ms (afa2e885)
2019-06-01T11:38:18.7133085+07:00 0HLN69470PCJS:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.FunctionController.GetAll (Shop3)"' (99874f2b)
2019-06-01T11:38:18.7224371+07:00 0HLN69470PCJS:00000006 [INF] Request finished in 226.2939ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:18.7245150+07:00 0HLN69470PCJV:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.ListAllFunction (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 137.0111ms. (50a9e262)
2019-06-01T11:38:18.7304686+07:00 0HLN69470PCJV:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.PermissionViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:38:18.7472809+07:00 0HLN69470PCJV:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.ListAllFunction (Shop3)" in 182.9606ms (afa2e885)
2019-06-01T11:38:18.7525941+07:00 0HLN69470PCJV:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.ListAllFunction (Shop3)"' (99874f2b)
2019-06-01T11:38:18.7584706+07:00 0HLN69470PCJV:00000006 [INF] Request finished in 265.5661ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:18.7771775+07:00 0HLN69470PCJV:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-treegrid/img/collapse.png   (ca22a1cb)
2019-06-01T11:38:18.7989469+07:00 0HLN69470PCJV:00000007 [INF] Sending file. Request path: '"/lib/jquery-treegrid/img/collapse.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-treegrid\img\collapse.png"' (27b0a520)
2019-06-01T11:38:18.8043496+07:00 0HLN69470PCJV:00000007 [INF] Request finished in 35.0473ms 200 image/png (791a596a)
2019-06-01T11:38:24.9679770+07:00 0HLN69470PCJV:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Role/GetById?id=a40bbaea-d067-467b-66e4-08d6ad8807d3   (ca22a1cb)
2019-06-01T11:38:24.9727979+07:00 0HLN69470PCJV:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)"' (500cc934)
2019-06-01T11:38:24.9830062+07:00 0HLN69470PCJV:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetById\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)" (a44c0341)
2019-06-01T11:38:24.9870280+07:00 0HLN69470PCJV:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:24.9912869+07:00 0HLN69470PCJV:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)" with arguments (["a40bbaea-d067-467b-66e4-08d6ad8807d3"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:24.9985382+07:00 0HLN69470PCJV:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:25.0115474+07:00 0HLN69470PCJV:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__roleId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConcurrencyStamp], [u].[Description], [u].[Name], [u].[NormalizedName]
FROM [AspNetRoles] AS [u]
WHERE [u].[Id] = @__roleId_0" (0723d8ff)
2019-06-01T11:38:25.0318612+07:00 0HLN69470PCJV:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 36.9722ms. (50a9e262)
2019-06-01T11:38:25.0357410+07:00 0HLN69470PCJV:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Application.ViewModels.System.AppRoleViewModel"'. (8a1b66c8)
2019-06-01T11:38:25.0406275+07:00 0HLN69470PCJV:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)" in 52.9045ms (afa2e885)
2019-06-01T11:38:25.0451297+07:00 0HLN69470PCJV:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetById (Shop3)"' (99874f2b)
2019-06-01T11:38:25.0496245+07:00 0HLN69470PCJV:00000008 [INF] Request finished in 80.7749ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:27.1903250+07:00 0HLN69470PCJV:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/index   (ca22a1cb)
2019-06-01T11:38:27.1956371+07:00 0HLN69470PCJV:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (500cc934)
2019-06-01T11:38:27.2028441+07:00 0HLN69470PCJV:00000009 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" (a44c0341)
2019-06-01T11:38:27.2084617+07:00 0HLN69470PCJV:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:27.2131957+07:00 0HLN69470PCJV:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:38:27.2185121+07:00 0HLN69470PCJV:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:27.2318943+07:00 0HLN69470PCJV:00000009 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:27.2361006+07:00 0HLN69470PCJV:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:27.2412256+07:00 0HLN69470PCJV:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 23.4133ms. (50a9e262)
2019-06-01T11:38:27.2475312+07:00 0HLN69470PCJV:00000009 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:38:27.2626951+07:00 0HLN69470PCJV:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:27.2658479+07:00 0HLN69470PCJV:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:27.2756588+07:00 0HLN69470PCJV:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:27.2796997+07:00 0HLN69470PCJV:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:27.2863062+07:00 0HLN69470PCJV:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:27.2911754+07:00 0HLN69470PCJV:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:27.3056370+07:00 0HLN69470PCJV:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:27.3091545+07:00 0HLN69470PCJV:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:27.3164242+07:00 0HLN69470PCJV:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:27.3211324+07:00 0HLN69470PCJV:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:27.3281958+07:00 0HLN69470PCJV:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:38:27.3327315+07:00 0HLN69470PCJV:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:27.3403865+07:00 0HLN69470PCJV:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:38:27.3525186+07:00 0HLN69470PCJV:00000009 [INF] Executed ViewResult - view "Index" executed in 104.2669ms. (f66409e9)
2019-06-01T11:38:27.4362284+07:00 0HLN69470PCJV:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" in 150.0388ms (afa2e885)
2019-06-01T11:38:27.4611580+07:00 0HLN69470PCJS:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/user/index.js?v=FlbA_X4lOavcBTTmpgJmjC9wvlRAOhMWTMDxvyil9PU   (ca22a1cb)
2019-06-01T11:38:27.4729230+07:00 0HLN69470PCJV:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (99874f2b)
2019-06-01T11:38:27.4826408+07:00 0HLN69470PCJS:00000007 [INF] The file "/app/controllers/user/index.js" was not modified (f1f8d725)
2019-06-01T11:38:27.4901722+07:00 0HLN69470PCJV:00000009 [INF] Request finished in 289.2518ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:38:27.5032823+07:00 0HLN69470PCJS:00000007 [INF] Request finished in 45.7382ms 304 application/javascript (791a596a)
2019-06-01T11:38:27.5057787+07:00 0HLN69470PCK1:00000001 [INF] Request finished in 10222.0515ms 101  (791a596a)
2019-06-01T11:38:27.5352668+07:00 0HLN69470PCJS:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:38:27.5486481+07:00 0HLN69470PCJR:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:38:27.5526936+07:00 0HLN69470PCJS:00000008 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:38:27.5910882+07:00 0HLN69470PCJR:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:38:27.5999428+07:00 0HLN69470PCJS:00000008 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:38:27.6378196+07:00 0HLN69470PCJR:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:38:27.6438377+07:00 0HLN69470PCJS:00000008 [INF] Request finished in 88.2083ms 200 application/json (791a596a)
2019-06-01T11:38:27.6548908+07:00 0HLN69470PCJR:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:27.6650196+07:00 0HLN69470PCJV:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:38:27.6832514+07:00 0HLN69470PCJR:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:27.7491689+07:00 0HLN69470PCJV:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:38:27.7604912+07:00 0HLN69470PCJR:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:27.7671348+07:00 0HLN69470PCJV:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:38:27.7793248+07:00 0HLN69470PCJR:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T11:38:27.7834023+07:00 0HLN69470PCJV:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:27.7996386+07:00 0HLN69470PCJR:0000000A [WRN] Query: '"(from AppUser x in DbSet<AppUser> select new AppUserViewModel{ { 
    UserName = [x].UserName, , 
..."' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2019-06-01T11:38:27.8167955+07:00 0HLN69470PCJV:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:27.8406060+07:00 0HLN69470PCJR:0000000A [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T11:38:27.8462372+07:00 0HLN69470PCJV:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:27.8493974+07:00 0HLN69470PCK2:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=JrSCjKB1Fq4idB_hm6o7TA   (ca22a1cb)
2019-06-01T11:38:27.8637555+07:00 0HLN69470PCJR:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 163.2646ms. (50a9e262)
2019-06-01T11:38:27.8662699+07:00 0HLN69470PCJV:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:38:27.8781936+07:00 0HLN69470PCJR:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:38:27.8801017+07:00 0HLN69470PCJV:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:38:27.8814015+07:00 0HLN69470PCK2:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:38:27.8947659+07:00 0HLN69470PCJV:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 63.4227ms. (50a9e262)
2019-06-01T11:38:27.8969805+07:00 0HLN69470PCK2:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:38:27.9108328+07:00 0HLN69470PCJV:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:38:27.9286178+07:00 0HLN69470PCK2:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:38:27.9305288+07:00 0HLN69470PCJR:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 278.1035ms (afa2e885)
2019-06-01T11:38:27.9356725+07:00 0HLN69470PCJV:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 143.8579ms (afa2e885)
2019-06-01T11:38:27.9412175+07:00 0HLN69470PCJR:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:38:27.9762423+07:00 0HLN69470PCJV:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:38:27.9782502+07:00 0HLN69470PCJR:0000000A [INF] Request finished in 408.9403ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:27.9862309+07:00 0HLN69470PCJV:0000000A [INF] Request finished in 460.7069ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:27.9971802+07:00 0HLN69470PCJR:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:38:28.0049201+07:00 0HLN69470PCK3:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/null   (ca22a1cb)
2019-06-01T11:38:28.0152762+07:00 0HLN69470PCJR:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:38:28.0161919+07:00 0HLN69470PCK3:00000001 [INF] Request finished in 15.746ms 404  (791a596a)
2019-06-01T11:38:28.0187531+07:00 0HLN69470PCJS:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:38:28.1577565+07:00 0HLN69470PCJR:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:38:28.1878767+07:00 0HLN69470PCJS:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:38:28.1949159+07:00 0HLN69470PCJR:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:28.2117503+07:00 0HLN69470PCJS:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:38:28.2159292+07:00 0HLN69470PCJR:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:28.2259788+07:00 0HLN69470PCJS:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:28.2326672+07:00 0HLN69470PCJR:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:28.2411661+07:00 0HLN69470PCJS:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:28.2435242+07:00 0HLN69470PCJR:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T11:38:28.2537351+07:00 0HLN69470PCJS:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:28.2580965+07:00 0HLN69470PCJR:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T11:38:28.2649950+07:00 0HLN69470PCJS:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:38:28.2687349+07:00 0HLN69470PCJR:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 42.2666ms. (50a9e262)
2019-06-01T11:38:28.2783139+07:00 0HLN69470PCJS:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:38:28.2808395+07:00 0HLN69470PCJR:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:38:28.2905026+07:00 0HLN69470PCJS:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 37.2701ms. (50a9e262)
2019-06-01T11:38:28.2929719+07:00 0HLN69470PCJR:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 123.3065ms (afa2e885)
2019-06-01T11:38:28.3010786+07:00 0HLN69470PCJS:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:38:28.3073072+07:00 0HLN69470PCJR:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:38:28.3290384+07:00 0HLN69470PCJS:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 90.5115ms (afa2e885)
2019-06-01T11:38:28.3317284+07:00 0HLN69470PCJR:0000000B [INF] Request finished in 322.9892ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:28.3443439+07:00 0HLN69470PCJS:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:38:28.3629084+07:00 0HLN69470PCJR:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/null   (ca22a1cb)
2019-06-01T11:38:28.3751319+07:00 0HLN69470PCJS:00000009 [INF] Request finished in 423.3945ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:28.3904508+07:00 0HLN69470PCJR:0000000C [INF] Request finished in 22.8328ms 404  (791a596a)
2019-06-01T11:38:30.9532553+07:00 0HLN69470PCJR:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/User/GetById?id=c619fb71-4516-4b2f-636a-08d6ad8b73b5   (ca22a1cb)
2019-06-01T11:38:30.9579995+07:00 0HLN69470PCJR:0000000D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)"' (500cc934)
2019-06-01T11:38:30.9660939+07:00 0HLN69470PCJR:0000000D [INF] Route matched with "{area = \"Admin\", action = \"GetById\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)" (a44c0341)
2019-06-01T11:38:30.9714494+07:00 0HLN69470PCJR:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:30.9756820+07:00 0HLN69470PCJR:0000000D [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)" with arguments (["c619fb71-4516-4b2f-636a-08d6ad8b73b5"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:38:30.9823466+07:00 0HLN69470PCJR:0000000D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:30.9912906+07:00 0HLN69470PCJR:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[Balance], [e].[BirthDay], [e].[ConcurrencyStamp], [e].[DateCreated], [e].[DateModified], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[Status], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2019-06-01T11:38:31.0027589+07:00 0HLN69470PCJR:0000000D [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:38:31.0138305+07:00 0HLN69470PCJR:0000000D [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 34.2842ms. (50a9e262)
2019-06-01T11:38:31.0170194+07:00 0HLN69470PCJR:0000000D [INF] Executing ObjectResult, writing value of type '"Shop3.Application.ViewModels.System.AppUserViewModel"'. (8a1b66c8)
2019-06-01T11:38:31.0221932+07:00 0HLN69470PCJR:0000000D [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)" in 51.1187ms (afa2e885)
2019-06-01T11:38:31.0265238+07:00 0HLN69470PCJR:0000000D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)"' (99874f2b)
2019-06-01T11:38:31.0318329+07:00 0HLN69470PCJR:0000000D [INF] Request finished in 77.1187ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:38:31.0380708+07:00 0HLN69470PCJR:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Role/GetAll   (ca22a1cb)
2019-06-01T11:38:31.0428790+07:00 0HLN69470PCJR:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)"' (500cc934)
2019-06-01T11:38:31.0497508+07:00 0HLN69470PCJR:0000000E [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" (a44c0341)
2019-06-01T11:38:31.0539748+07:00 0HLN69470PCJR:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T11:38:31.0578903+07:00 0HLN69470PCJR:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:38:31.0644031+07:00 0HLN69470PCJR:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:38:31.0766583+07:00 0HLN69470PCJR:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]" (0723d8ff)
2019-06-01T11:38:31.0814115+07:00 0HLN69470PCJR:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 19.5023ms. (50a9e262)
2019-06-01T11:38:31.0857471+07:00 0HLN69470PCJR:0000000E [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:38:31.0919969+07:00 0HLN69470PCJR:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" in 36.2818ms (afa2e885)
2019-06-01T11:38:31.0961032+07:00 0HLN69470PCJR:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)"' (99874f2b)
2019-06-01T11:38:31.1018492+07:00 0HLN69470PCJR:0000000E [INF] Request finished in 62.3109ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:40:29.7027193+07:00 0HLN69470PCJR:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/User/GetById?id=c619fb71-4516-4b2f-636a-08d6ad8b73b5   (ca22a1cb)
2019-06-01T11:40:29.7069179+07:00 0HLN69470PCJR:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)"' (500cc934)
2019-06-01T11:40:29.7114000+07:00 0HLN69470PCJR:0000000F [INF] Route matched with "{area = \"Admin\", action = \"GetById\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)" (a44c0341)
2019-06-01T11:40:29.7151899+07:00 0HLN69470PCJR:0000000F [INF] Authorization was successful. (0d575a54)
2019-06-01T11:40:29.7188616+07:00 0HLN69470PCJR:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)" with arguments (["c619fb71-4516-4b2f-636a-08d6ad8b73b5"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:40:29.7236108+07:00 0HLN69470PCJR:0000000F [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:40:29.7316867+07:00 0HLN69470PCJR:0000000F [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[Balance], [e].[BirthDay], [e].[ConcurrencyStamp], [e].[DateCreated], [e].[DateModified], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[Status], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2019-06-01T11:40:29.7408386+07:00 0HLN69470PCJR:0000000F [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:40:29.7457605+07:00 0HLN69470PCJR:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 23.0022ms. (50a9e262)
2019-06-01T11:40:29.7493413+07:00 0HLN69470PCJR:0000000F [INF] Executing ObjectResult, writing value of type '"Shop3.Application.ViewModels.System.AppUserViewModel"'. (8a1b66c8)
2019-06-01T11:40:29.7540715+07:00 0HLN69470PCJR:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)" in 38.2998ms (afa2e885)
2019-06-01T11:40:29.7583586+07:00 0HLN69470PCJR:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)"' (99874f2b)
2019-06-01T11:40:29.7631591+07:00 0HLN69470PCJR:0000000F [INF] Request finished in 61.3903ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:40:29.7691509+07:00 0HLN69470PCJR:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Role/GetAll   (ca22a1cb)
2019-06-01T11:40:29.7739632+07:00 0HLN69470PCJR:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)"' (500cc934)
2019-06-01T11:40:29.7778844+07:00 0HLN69470PCJR:00000010 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" (a44c0341)
2019-06-01T11:40:29.7819115+07:00 0HLN69470PCJR:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:40:29.7856206+07:00 0HLN69470PCJR:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:40:29.7900271+07:00 0HLN69470PCJR:00000010 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:40:29.7967706+07:00 0HLN69470PCJR:00000010 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]" (0723d8ff)
2019-06-01T11:40:29.8010561+07:00 0HLN69470PCJR:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.4141ms. (50a9e262)
2019-06-01T11:40:29.8064665+07:00 0HLN69470PCJR:00000010 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:40:29.8123471+07:00 0HLN69470PCJR:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" in 28.7425ms (afa2e885)
2019-06-01T11:40:29.8154019+07:00 0HLN69470PCJR:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)"' (99874f2b)
2019-06-01T11:40:29.8218130+07:00 0HLN69470PCJR:00000010 [INF] Request finished in 50.8065ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:40:36.1046467+07:00 0HLN69470PCJR:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/User/GetById?id=00f89103-4870-433e-8dc8-08d6d9e029d4   (ca22a1cb)
2019-06-01T11:40:36.1090243+07:00 0HLN69470PCJR:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)"' (500cc934)
2019-06-01T11:40:36.1130964+07:00 0HLN69470PCJR:00000011 [INF] Route matched with "{area = \"Admin\", action = \"GetById\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)" (a44c0341)
2019-06-01T11:40:36.1172884+07:00 0HLN69470PCJR:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:40:36.1219547+07:00 0HLN69470PCJR:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)" with arguments (["00f89103-4870-433e-8dc8-08d6d9e029d4"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:40:36.1260967+07:00 0HLN69470PCJR:00000011 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:40:36.1326804+07:00 0HLN69470PCJR:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[Balance], [e].[BirthDay], [e].[ConcurrencyStamp], [e].[DateCreated], [e].[DateModified], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[Status], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2019-06-01T11:40:36.1392281+07:00 0HLN69470PCJR:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:40:36.1436474+07:00 0HLN69470PCJR:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 17.7054ms. (50a9e262)
2019-06-01T11:40:36.1476523+07:00 0HLN69470PCJR:00000011 [INF] Executing ObjectResult, writing value of type '"Shop3.Application.ViewModels.System.AppUserViewModel"'. (8a1b66c8)
2019-06-01T11:40:36.1539645+07:00 0HLN69470PCJR:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)" in 34.6969ms (afa2e885)
2019-06-01T11:40:36.1577991+07:00 0HLN69470PCJR:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetById (Shop3)"' (99874f2b)
2019-06-01T11:40:36.1652555+07:00 0HLN69470PCJR:00000011 [INF] Request finished in 58.045ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:40:36.1738660+07:00 0HLN69470PCJR:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Role/GetAll   (ca22a1cb)
2019-06-01T11:40:36.1782746+07:00 0HLN69470PCJR:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)"' (500cc934)
2019-06-01T11:40:36.1825171+07:00 0HLN69470PCJR:00000012 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" (a44c0341)
2019-06-01T11:40:36.1875189+07:00 0HLN69470PCJR:00000012 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:40:36.1919874+07:00 0HLN69470PCJR:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:40:36.1965212+07:00 0HLN69470PCJR:00000012 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:40:36.2027870+07:00 0HLN69470PCJR:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]" (0723d8ff)
2019-06-01T11:40:36.2069684+07:00 0HLN69470PCJR:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.0953ms. (50a9e262)
2019-06-01T11:40:36.2111866+07:00 0HLN69470PCJR:00000012 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:40:36.2182914+07:00 0HLN69470PCJR:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" in 28.9509ms (afa2e885)
2019-06-01T11:40:36.2233486+07:00 0HLN69470PCJR:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)"' (99874f2b)
2019-06-01T11:40:36.2297187+07:00 0HLN69470PCJR:00000012 [INF] Request finished in 54.0151ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:40:50.6414304+07:00 0HLN69470PCJR:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Role/GetAll   (ca22a1cb)
2019-06-01T11:40:50.6493052+07:00 0HLN69470PCJR:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)"' (500cc934)
2019-06-01T11:40:50.6559874+07:00 0HLN69470PCJR:00000013 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" (a44c0341)
2019-06-01T11:40:50.6614107+07:00 0HLN69470PCJR:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:40:50.6656347+07:00 0HLN69470PCJR:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:40:50.6723973+07:00 0HLN69470PCJR:00000013 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:40:50.6797893+07:00 0HLN69470PCJR:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]" (0723d8ff)
2019-06-01T11:40:50.6840395+07:00 0HLN69470PCJR:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 14.3384ms. (50a9e262)
2019-06-01T11:40:50.6889708+07:00 0HLN69470PCJR:00000013 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:40:50.6953318+07:00 0HLN69470PCJR:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" in 33.5056ms (afa2e885)
2019-06-01T11:40:50.6990229+07:00 0HLN69470PCJR:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)"' (99874f2b)
2019-06-01T11:40:50.7055768+07:00 0HLN69470PCJR:00000013 [INF] Request finished in 61.5823ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:40:50.7182094+07:00 0HLN69470PCJR:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Role/GetAll   (ca22a1cb)
2019-06-01T11:40:50.7237322+07:00 0HLN69470PCJR:00000014 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)"' (500cc934)
2019-06-01T11:40:50.7369470+07:00 0HLN69470PCJR:00000014 [INF] Route matched with "{area = \"Admin\", action = \"GetAll\", controller = \"Role\"}". Executing action "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" (a44c0341)
2019-06-01T11:40:50.7412838+07:00 0HLN69470PCJR:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:40:50.7441909+07:00 0HLN69470PCJR:00000014 [INF] Executing action method "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:40:50.7480752+07:00 0HLN69470PCJR:00000014 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:40:50.7540346+07:00 0HLN69470PCJR:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoAppRole].[Description], [dtoAppRole].[Id], [dtoAppRole].[Name]
FROM [AspNetRoles] AS [dtoAppRole]" (0723d8ff)
2019-06-01T11:40:50.7580312+07:00 0HLN69470PCJR:00000014 [INF] Executed action method "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.1374ms. (50a9e262)
2019-06-01T11:40:50.7618377+07:00 0HLN69470PCJR:00000014 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.System.AppRoleViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:40:50.7669663+07:00 0HLN69470PCJR:00000014 [INF] Executed action "Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)" in 25.0219ms (afa2e885)
2019-06-01T11:40:50.7708904+07:00 0HLN69470PCJR:00000014 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.RoleController.GetAll (Shop3)"' (99874f2b)
2019-06-01T11:40:50.7755476+07:00 0HLN69470PCJR:00000014 [INF] Request finished in 60.8696ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:41:01.8757157+07:00 0HLN69470PCJR:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/index   (ca22a1cb)
2019-06-01T11:41:01.8826568+07:00 0HLN69470PCJR:00000015 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (500cc934)
2019-06-01T11:41:01.8886691+07:00 0HLN69470PCJR:00000015 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" (a44c0341)
2019-06-01T11:41:01.8939745+07:00 0HLN69470PCJR:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:01.8974748+07:00 0HLN69470PCJR:00000015 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:41:01.9017710+07:00 0HLN69470PCJR:00000015 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:01.9151151+07:00 0HLN69470PCJR:00000015 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:01.9187877+07:00 0HLN69470PCJR:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:01.9236997+07:00 0HLN69470PCJR:00000015 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 21.3948ms. (50a9e262)
2019-06-01T11:41:01.9270383+07:00 0HLN69470PCJR:00000015 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:41:01.9409353+07:00 0HLN69470PCJR:00000015 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:01.9443847+07:00 0HLN69470PCJR:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:01.9574933+07:00 0HLN69470PCJR:00000015 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:01.9609731+07:00 0HLN69470PCJR:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:01.9739252+07:00 0HLN69470PCJR:00000015 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:01.9788508+07:00 0HLN69470PCJR:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:01.9890895+07:00 0HLN69470PCJR:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:01.9968627+07:00 0HLN69470PCJR:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:02.0086038+07:00 0HLN69470PCJR:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:02.0120771+07:00 0HLN69470PCJR:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:02.0188626+07:00 0HLN69470PCJR:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:02.0242645+07:00 0HLN69470PCJR:00000015 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:02.0319223+07:00 0HLN69470PCJR:00000015 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:41:02.0846927+07:00 0HLN69470PCJR:00000015 [INF] Executed ViewResult - view "Index" executed in 109.3525ms. (f66409e9)
2019-06-01T11:41:02.0973303+07:00 0HLN69470PCK2:00000001 [INF] Request finished in 154439.8293ms 101  (791a596a)
2019-06-01T11:41:02.0988047+07:00 0HLN69470PCJR:00000015 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" in 196.7288ms (afa2e885)
2019-06-01T11:41:03.7551345+07:00 0HLN69470PCJR:00000015 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (99874f2b)
2019-06-01T11:41:04.9262535+07:00 0HLN69470PCJS:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/index   (ca22a1cb)
2019-06-01T11:41:04.9306047+07:00 0HLN69470PCJR:00000015 [INF] Request finished in 1889.7822ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:41:04.9360114+07:00 0HLN69470PCJS:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (500cc934)
2019-06-01T11:41:04.9398104+07:00 0HLN69470PCK3:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:41:04.9435979+07:00 0HLN69470PCJR:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:41:04.9452726+07:00 0HLN69470PCJS:0000000A [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" (a44c0341)
2019-06-01T11:41:04.9657792+07:00 0HLN69470PCJS:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:04.9687758+07:00 0HLN69470PCJR:00000016 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:41:04.9756775+07:00 0HLN69470PCJS:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:41:04.9771445+07:00 0HLN69470PCJR:00000016 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:41:04.9837768+07:00 0HLN69470PCJS:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:04.9845916+07:00 0HLN69470PCJR:00000016 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:04.9879868+07:00 0HLN69470PCK3:00000002 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:41:04.9935646+07:00 0HLN69470PCJR:00000016 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:41:04.9947154+07:00 0HLN69470PCK3:00000002 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:41:06.1169606+07:00 0HLN69470PCJR:00000016 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:06.1200733+07:00 0HLN69470PCK3:00000002 [INF] Request finished in 1219.7257ms 200 application/json (791a596a)
2019-06-01T11:41:06.1435604+07:00 0HLN69470PCJR:00000016 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T11:41:06.1455985+07:00 0HLN69470PCJS:0000000A [INF] Executed DbCommand ("1,102"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:06.1559001+07:00 0HLN69470PCJS:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:06.1580141+07:00 0HLN69470PCJR:00000016 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T11:41:06.1842144+07:00 0HLN69470PCK4:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T11:41:06.1874471+07:00 0HLN69470PCJS:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 1180.271ms. (50a9e262)
2019-06-01T11:41:06.1948075+07:00 0HLN69470PCJR:00000016 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1183.7015ms. (50a9e262)
2019-06-01T11:41:06.2189162+07:00 0HLN69470PCJS:0000000A [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:41:06.2220055+07:00 0HLN69470PCJR:00000016 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:41:06.2413306+07:00 0HLN69470PCK6:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=ZKAgkGf_eU4U3quN3pvrrg   (ca22a1cb)
2019-06-01T11:41:06.2447985+07:00 0HLN69470PCJR:00000016 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 1244.5429ms (afa2e885)
2019-06-01T11:41:06.2522344+07:00 0HLN69470PCK6:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:41:06.2562442+07:00 0HLN69470PCJR:00000016 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:41:06.2847932+07:00 0HLN69470PCK6:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:41:06.2889732+07:00 0HLN69470PCJR:00000016 [INF] Request finished in 1321.9591ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:41:06.3428796+07:00 0HLN69470PCJS:0000000A [INF] Executed DbCommand ("11"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:06.3500595+07:00 0HLN69470PCJR:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:41:06.3517087+07:00 0HLN69470PCK6:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:41:06.3685797+07:00 0HLN69470PCJR:00000017 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:41:06.3695446+07:00 0HLN69470PCJS:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:06.3803635+07:00 0HLN69470PCJR:00000017 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:41:06.3858190+07:00 0HLN69470PCJS:0000000A [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:06.3875069+07:00 0HLN69470PCJR:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:06.3926917+07:00 0HLN69470PCJV:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:41:06.3956348+07:00 0HLN69470PCJS:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:06.3984505+07:00 0HLN69470PCJR:00000017 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:41:06.4053005+07:00 0HLN69470PCJV:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:41:06.4065911+07:00 0HLN69470PCJR:00000017 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:06.4172603+07:00 0HLN69470PCJR:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T11:41:06.4181620+07:00 0HLN69470PCJV:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:41:06.4213817+07:00 0HLN69470PCJS:0000000A [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:06.4289493+07:00 0HLN69470PCJR:00000017 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T11:41:06.4297550+07:00 0HLN69470PCJS:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:06.4317912+07:00 0HLN69470PCJV:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:06.4395950+07:00 0HLN69470PCJR:00000017 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 31.2537ms. (50a9e262)
2019-06-01T11:41:06.4418112+07:00 0HLN69470PCJV:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:41:06.4469369+07:00 0HLN69470PCJR:00000017 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:41:06.4541431+07:00 0HLN69470PCJV:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:06.4652910+07:00 0HLN69470PCJR:00000017 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 67.6114ms (afa2e885)
2019-06-01T11:41:06.4682653+07:00 0HLN69470PCJS:0000000A [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:06.4757587+07:00 0HLN69470PCJR:00000017 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:41:06.4815294+07:00 0HLN69470PCJS:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:06.4947995+07:00 0HLN69470PCJR:00000017 [INF] Request finished in 135.766ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:41:06.5038690+07:00 0HLN69470PCJS:0000000A [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:06.5063400+07:00 0HLN69470PCJV:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:41:06.5100340+07:00 0HLN69470PCK4:00000001 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T11:41:06.5164659+07:00 0HLN69470PCJS:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:06.5264602+07:00 0HLN69470PCK4:00000001 [INF] Request finished in 1575.7287ms 200 image/x-icon (791a596a)
2019-06-01T11:41:06.5322875+07:00 0HLN69470PCJV:0000000B [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:41:06.5404143+07:00 0HLN69470PCJS:0000000A [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:06.5426579+07:00 0HLN69470PCJV:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 90.55ms. (50a9e262)
2019-06-01T11:41:06.5489222+07:00 0HLN69470PCJS:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:06.5519474+07:00 0HLN69470PCJV:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:41:06.5657344+07:00 0HLN69470PCJR:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:41:06.5677328+07:00 0HLN69470PCJS:0000000A [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:41:06.5688064+07:00 0HLN69470PCJV:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 133.2109ms (afa2e885)
2019-06-01T11:41:06.5766415+07:00 0HLN69470PCJR:00000018 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:41:06.5829016+07:00 0HLN69470PCJS:0000000A [INF] Executed ViewResult - view "Index" executed in 384.7057ms. (f66409e9)
2019-06-01T11:41:06.5848006+07:00 0HLN69470PCJR:00000018 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:41:06.5923325+07:00 0HLN69470PCJS:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" in 1638.5935ms (afa2e885)
2019-06-01T11:41:06.5947006+07:00 0HLN69470PCJR:00000018 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:06.6018090+07:00 0HLN69470PCJV:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:41:06.6077069+07:00 0HLN69470PCJS:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (99874f2b)
2019-06-01T11:41:06.6100429+07:00 0HLN69470PCJR:00000018 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:41:06.6207756+07:00 0HLN69470PCJS:0000000A [INF] Request finished in 4136.2382ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:41:06.6237217+07:00 0HLN69470PCJR:00000018 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:06.6300728+07:00 0HLN69470PCJV:0000000B [INF] Request finished in 1688.7411ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:41:06.7013634+07:00 0HLN69470PCJR:00000018 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:41:06.7288563+07:00 0HLN69470PCJS:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/images/users.png   (ca22a1cb)
2019-06-01T11:41:06.7311188+07:00 0HLN69470PCJR:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:41:06.7414270+07:00 0HLN69470PCJS:0000000B [INF] The file "/admin-side/images/users.png" was not modified (f1f8d725)
2019-06-01T11:41:06.7451603+07:00 0HLN69470PCJR:00000018 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 121.2364ms. (50a9e262)
2019-06-01T11:41:06.7528961+07:00 0HLN69470PCJS:0000000B [INF] Request finished in 95.6729ms 0 image/png (791a596a)
2019-06-01T11:41:06.7573753+07:00 0HLN69470PCJR:00000018 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:41:06.7614102+07:00 0HLN69470PCJV:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css   (ca22a1cb)
2019-06-01T11:41:06.7680751+07:00 0HLN69470PCJR:00000018 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 173.7409ms (afa2e885)
2019-06-01T11:41:06.7705277+07:00 0HLN69470PCK3:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/font-awesome/css/font-awesome.css   (ca22a1cb)
2019-06-01T11:41:06.7740472+07:00 0HLN69470PCK4:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/null   (ca22a1cb)
2019-06-01T11:41:06.7809207+07:00 0HLN69470PCJR:00000018 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:41:06.7913302+07:00 0HLN69470PCJR:00000018 [INF] Request finished in 223.5062ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:41:06.8231114+07:00 0HLN69470PCK3:00000003 [INF] Sending file. Request path: '"/lib/font-awesome/css/font-awesome.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\font-awesome\css\font-awesome.css"' (27b0a520)
2019-06-01T11:41:06.8504911+07:00 0HLN69470PCK5:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/nprogress/nprogress.css   (ca22a1cb)
2019-06-01T11:41:06.8527003+07:00 0HLN69470PCK3:00000003 [INF] Request finished in 63.4793ms 200 text/css (791a596a)
2019-06-01T11:41:06.8567123+07:00 0HLN69470PCK4:00000002 [INF] Request finished in 217.1464ms 0  (791a596a)
2019-06-01T11:41:06.8698765+07:00 0HLN69470PCK6:00000001 [INF] Request finished in 758.1643ms 101  (791a596a)
2019-06-01T11:41:06.8729325+07:00 0HLN69470PCK7:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap-daterangepicker/daterangepicker.css   (ca22a1cb)
2019-06-01T11:41:06.8874515+07:00 0HLN69470PCK5:00000001 [INF] Sending file. Request path: '"/lib/nprogress/nprogress.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\nprogress\nprogress.css"' (27b0a520)
2019-06-01T11:41:06.8906121+07:00 0HLN69470PCK8:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/styles/metro/notify-metro.css   (ca22a1cb)
2019-06-01T11:41:06.8978031+07:00 0HLN69470PCK5:00000001 [INF] Request finished in 111.318ms 200 text/css (791a596a)
2019-06-01T11:41:06.9055922+07:00 0HLN69470PCK7:00000001 [INF] Sending file. Request path: '"/lib/bootstrap-daterangepicker/daterangepicker.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap-daterangepicker\daterangepicker.css"' (27b0a520)
2019-06-01T11:41:06.9079516+07:00 0HLN69470PCK9:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/iCheck/skins/flat/green.css   (ca22a1cb)
2019-06-01T11:41:06.9322363+07:00 0HLN69470PCK7:00000001 [INF] Request finished in 41.0116ms 200 text/css (791a596a)
2019-06-01T11:41:06.9355335+07:00 0HLN69470PCK9:00000001 [INF] Sending file. Request path: '"/lib/iCheck/skins/flat/green.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\iCheck\skins\flat\green.css"' (27b0a520)
2019-06-01T11:41:06.9601037+07:00 0HLN69470PCK9:00000001 [INF] Request finished in 43.9121ms 200 text/css (791a596a)
2019-06-01T11:41:06.9615142+07:00 0HLN69470PCJV:0000000C [INF] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\css\bootstrap.css"' (27b0a520)
2019-06-01T11:41:06.9760492+07:00 0HLN69470PCJV:0000000C [INF] Request finished in 261.8188ms 200 text/css (791a596a)
2019-06-01T11:41:06.9780713+07:00 0HLN69470PCK3:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/skins/moono/editor.css   (ca22a1cb)
2019-06-01T11:41:06.9920475+07:00 0HLN69470PCK5:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/css/custom.css   (ca22a1cb)
2019-06-01T11:41:06.9937136+07:00 0HLN69470PCK9:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js   (ca22a1cb)
2019-06-01T11:41:07.0035974+07:00 0HLN69470PCK8:00000001 [INF] Sending file. Request path: '"/lib/notifyjs/dist/styles/metro/notify-metro.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\styles\metro\notify-metro.css"' (27b0a520)
2019-06-01T11:41:07.0126087+07:00 0HLN69470PCK3:00000004 [INF] Sending file. Request path: '"/lib/ckeditor/skins/moono/editor.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\skins\moono\editor.css"' (27b0a520)
2019-06-01T11:41:07.0322259+07:00 0HLN69470PCK7:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/signalr/signalr.js   (ca22a1cb)
2019-06-01T11:41:07.0345094+07:00 0HLN69470PCK3:00000004 [INF] Request finished in 99.0596ms 200 text/css (791a596a)
2019-06-01T11:41:07.0423068+07:00 0HLN69470PCJV:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/fastclick/lib/fastclick.js   (ca22a1cb)
2019-06-01T11:41:07.0467584+07:00 0HLN69470PCK8:00000001 [INF] Request finished in 126.6895ms 200 text/css (791a596a)
2019-06-01T11:41:07.0495006+07:00 0HLN69470PCK5:00000002 [INF] Sending file. Request path: '"/admin-side/css/custom.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\css\custom.css"' (27b0a520)
2019-06-01T11:41:07.0672031+07:00 0HLN69470PCK3:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/nprogress/nprogress.js   (ca22a1cb)
2019-06-01T11:41:07.0698619+07:00 0HLN69470PCJV:0000000D [INF] Sending file. Request path: '"/lib/fastclick/lib/fastclick.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\fastclick\lib\fastclick.js"' (27b0a520)
2019-06-01T11:41:07.0724043+07:00 0HLN69470PCK5:00000002 [INF] Request finished in 66.9045ms 200 text/css (791a596a)
2019-06-01T11:41:07.0777315+07:00 0HLN69470PCJV:0000000D [INF] Request finished in 37.4912ms 200 application/javascript (791a596a)
2019-06-01T11:41:07.0796918+07:00 0HLN69470PCK3:00000005 [INF] Sending file. Request path: '"/lib/nprogress/nprogress.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\nprogress\nprogress.js"' (27b0a520)
2019-06-01T11:41:07.1115268+07:00 0HLN69470PCK3:00000005 [INF] Request finished in 26.3396ms 200 application/javascript (791a596a)
2019-06-01T11:41:07.2962790+07:00 0HLN69470PCK8:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.js   (ca22a1cb)
2019-06-01T11:41:07.3162577+07:00 0HLN69470PCK7:00000002 [INF] Sending file. Request path: '"/lib/signalr/signalr.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\signalr\signalr.js"' (27b0a520)
2019-06-01T11:41:07.3198790+07:00 0HLN69470PCK3:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2   (ca22a1cb)
2019-06-01T11:41:07.3301719+07:00 0HLN69470PCK7:00000002 [INF] Request finished in 304.9749ms 200 application/javascript (791a596a)
2019-06-01T11:41:07.3323405+07:00 0HLN69470PCK5:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/mustache/mustache.js   (ca22a1cb)
2019-06-01T11:41:07.3771208+07:00 0HLN69470PCK3:00000006 [INF] Sending file. Request path: '"/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\fonts\glyphicons-halflings-regular.woff2"' (27b0a520)
2019-06-01T11:41:07.3920299+07:00 0HLN69470PCK9:00000002 [INF] Sending file. Request path: '"/lib/jquery/dist/jquery.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery\dist\jquery.js"' (27b0a520)
2019-06-01T11:41:07.4098613+07:00 0HLN69470PCK3:00000006 [INF] Request finished in 76.6867ms 200 font/woff2 (791a596a)
2019-06-01T11:41:07.4119101+07:00 0HLN69470PCK9:00000002 [INF] Request finished in 409.4733ms 200 application/javascript (791a596a)
2019-06-01T11:41:07.4319490+07:00 0HLN69470PCK5:00000003 [INF] Sending file. Request path: '"/lib/mustache/mustache.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\mustache\mustache.js"' (27b0a520)
2019-06-01T11:41:07.4859683+07:00 0HLN69470PCK8:00000002 [INF] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\js\bootstrap.js"' (27b0a520)
2019-06-01T11:41:07.4958945+07:00 0HLN69470PCK7:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/images/img.jpg   (ca22a1cb)
2019-06-01T11:41:07.4982112+07:00 0HLN69470PCK8:00000002 [INF] Request finished in 434.3606ms 200 application/javascript (791a596a)
2019-06-01T11:41:07.5004282+07:00 0HLN69470PCK5:00000003 [INF] Request finished in 323.9701ms 200 application/javascript (791a596a)
2019-06-01T11:41:07.5164294+07:00 0HLN69470PCK3:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/Chart.js/dist/Chart.js   (ca22a1cb)
2019-06-01T11:41:07.5183515+07:00 0HLN69470PCK7:00000003 [INF] Sending file. Request path: '"/admin-side/images/img.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\images\img.jpg"' (27b0a520)
2019-06-01T11:41:07.5248745+07:00 0HLN69470PCJV:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0   (ca22a1cb)
2019-06-01T11:41:07.5340512+07:00 0HLN69470PCK7:00000003 [INF] Request finished in 36.5222ms 200 image/jpeg (791a596a)
2019-06-01T11:41:07.5362858+07:00 0HLN69470PCK8:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/twbs-pagination/jquery.twbsPagination.js   (ca22a1cb)
2019-06-01T11:41:07.5693878+07:00 0HLN69470PCK9:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-sparkline/dist/jquery.sparkline.js   (ca22a1cb)
2019-06-01T11:41:07.5807830+07:00 0HLN69470PCK8:00000003 [INF] Sending file. Request path: '"/lib/twbs-pagination/jquery.twbsPagination.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\twbs-pagination\jquery.twbsPagination.js"' (27b0a520)
2019-06-01T11:41:07.5867563+07:00 0HLN69470PCK7:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/jquery.validate.js   (ca22a1cb)
2019-06-01T11:41:07.5918931+07:00 0HLN69470PCK8:00000003 [INF] Request finished in 55.9458ms 200 application/javascript (791a596a)
2019-06-01T11:41:07.5973011+07:00 0HLN69470PCK5:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/iCheck/icheck.min.js   (ca22a1cb)
2019-06-01T11:41:07.6185975+07:00 0HLN69470PCK7:00000004 [INF] Sending file. Request path: '"/lib/jquery-validation/dist/jquery.validate.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\jquery.validate.js"' (27b0a520)
2019-06-01T11:41:07.6240777+07:00 0HLN69470PCJV:0000000E [INF] Sending file. Request path: '"/lib/font-awesome/fonts/fontawesome-webfont.woff2"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\font-awesome\fonts\fontawesome-webfont.woff2"' (27b0a520)
2019-06-01T11:41:07.6633692+07:00 0HLN69470PCK7:00000004 [INF] Request finished in 58.068ms 200 application/javascript (791a596a)
2019-06-01T11:41:07.6661261+07:00 0HLN69470PCJV:0000000E [INF] Request finished in 324.8744ms 200 font/woff2 (791a596a)
2019-06-01T11:41:07.6758586+07:00 0HLN69470PCK8:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/additional-methods.js   (ca22a1cb)
2019-06-01T11:41:07.6820059+07:00 0HLN69470PCK9:00000003 [INF] Sending file. Request path: '"/lib/jquery-sparkline/dist/jquery.sparkline.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-sparkline\dist\jquery.sparkline.js"' (27b0a520)
2019-06-01T11:41:07.6891271+07:00 0HLN69470PCK7:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation-unobtrusive/src/jquery.validate.unobtrusive.js   (ca22a1cb)
2019-06-01T11:41:07.7003017+07:00 0HLN69470PCK9:00000003 [INF] Request finished in 142.8002ms 200 application/javascript (791a596a)
2019-06-01T11:41:07.7020785+07:00 0HLN69470PCK8:00000004 [INF] Sending file. Request path: '"/lib/jquery-validation/dist/additional-methods.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\additional-methods.js"' (27b0a520)
2019-06-01T11:41:07.7121007+07:00 0HLN69470PCK8:00000004 [INF] Request finished in 38.7659ms 200 application/javascript (791a596a)
2019-06-01T11:41:07.7156284+07:00 0HLN69470PCK7:00000005 [INF] Sending file. Request path: '"/lib/jquery-validation-unobtrusive/src/jquery.validate.unobtrusive.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation-unobtrusive\src\jquery.validate.unobtrusive.js"' (27b0a520)
2019-06-01T11:41:07.7438877+07:00 0HLN69470PCJV:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/ckeditor.js   (ca22a1cb)
2019-06-01T11:41:07.7493400+07:00 0HLN69470PCK7:00000005 [INF] Request finished in 36.6469ms 200 application/javascript (791a596a)
2019-06-01T11:41:07.7693671+07:00 0HLN69470PCK9:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/moment/moment.js   (ca22a1cb)
2019-06-01T11:41:07.7939098+07:00 0HLN69470PCK7:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap-daterangepicker/daterangepicker.js   (ca22a1cb)
2019-06-01T11:41:07.7989847+07:00 0HLN69470PCK8:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/notify.js   (ca22a1cb)
2019-06-01T11:41:07.8030318+07:00 0HLN69470PCK5:00000004 [INF] Sending file. Request path: '"/lib/iCheck/icheck.min.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\iCheck\icheck.min.js"' (27b0a520)
2019-06-01T11:41:07.8121395+07:00 0HLN69470PCK3:00000007 [INF] Sending file. Request path: '"/lib/Chart.js/dist/Chart.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\Chart.js\dist\Chart.js"' (27b0a520)
2019-06-01T11:41:07.8689838+07:00 0HLN69470PCK3:00000007 [INF] Request finished in 308.6725ms 200 application/javascript (791a596a)
2019-06-01T11:41:07.8791652+07:00 0HLN69470PCK9:00000004 [INF] Sending file. Request path: '"/lib/moment/moment.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\moment\moment.js"' (27b0a520)
2019-06-01T11:41:07.8849801+07:00 0HLN69470PCK7:00000006 [INF] Sending file. Request path: '"/lib/bootstrap-daterangepicker/daterangepicker.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap-daterangepicker\daterangepicker.js"' (27b0a520)
2019-06-01T11:41:07.8926938+07:00 0HLN69470PCK9:00000004 [INF] Request finished in 130.6452ms 200 application/javascript (791a596a)
2019-06-01T11:41:07.9335835+07:00 0HLN69470PCK7:00000006 [INF] Request finished in 116.8815ms 200 application/javascript (791a596a)
2019-06-01T11:41:07.9364184+07:00 0HLN69470PCK8:00000005 [INF] Sending file. Request path: '"/lib/notifyjs/dist/notify.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\notify.js"' (27b0a520)
2019-06-01T11:41:07.9451162+07:00 0HLN69470PCK5:00000004 [INF] Request finished in 263.26ms 200 application/javascript (791a596a)
2019-06-01T11:41:07.9490945+07:00 0HLN69470PCK8:00000005 [INF] Request finished in 168.3239ms 200 application/javascript (791a596a)
2019-06-01T11:41:07.9509095+07:00 0HLN69470PCK3:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/styles/metro/notify-metro.js   (ca22a1cb)
2019-06-01T11:41:07.9587630+07:00 0HLN69470PCK9:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/js/custom.js?v=hK7rQw3KRGvTBoFU9qYrRZAOVWKo8ugfIfdqn7el8ko   (ca22a1cb)
2019-06-01T11:41:07.9682805+07:00 0HLN69470PCK3:00000008 [INF] Sending file. Request path: '"/lib/notifyjs/dist/styles/metro/notify-metro.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\styles\metro\notify-metro.js"' (27b0a520)
2019-06-01T11:41:07.9705743+07:00 0HLN69470PCK8:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootbox/src/bootbox.js   (ca22a1cb)
2019-06-01T11:41:07.9777513+07:00 0HLN69470PCK3:00000008 [INF] Request finished in 25.8645ms 200 application/javascript (791a596a)
2019-06-01T11:41:08.0001603+07:00 0HLN69470PCK5:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/localization/messages_vi.js   (ca22a1cb)
2019-06-01T11:41:08.0164158+07:00 0HLN69470PCK7:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/common.js?v=y7DqmVon23ErVGJwRwyGN-e1OscQoN09ThbEz09BtJA   (ca22a1cb)
2019-06-01T11:41:08.0177017+07:00 0HLN69470PCK8:00000006 [INF] Sending file. Request path: '"/lib/bootbox/src/bootbox.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootbox\src\bootbox.js"' (27b0a520)
2019-06-01T11:41:08.0275338+07:00 0HLN69470PCK8:00000006 [INF] Request finished in 61.5494ms 200 application/javascript (791a596a)
2019-06-01T11:41:08.0339683+07:00 0HLN69470PCK7:00000007 [INF] Sending file. Request path: '"/app/shared/common.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\shared\common.js"' (27b0a520)
2019-06-01T11:41:08.0471933+07:00 0HLN69470PCK7:00000007 [INF] Request finished in 50.324ms 200 application/javascript (791a596a)
2019-06-01T11:41:08.0507395+07:00 0HLN69470PCK8:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=-NTPIAAUoLME9zXM3rOh6LLVj8Oq8-uW2W7i4qSZEpM   (ca22a1cb)
2019-06-01T11:41:08.0613151+07:00 0HLN69470PCK3:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/signalR/signalR.js?v=Nfk6vVike0aJRdJYX_p4XmzuQFtluTkuSqYJJ4Uiqm4   (ca22a1cb)
2019-06-01T11:41:08.0632384+07:00 0HLN69470PCK9:00000005 [INF] Sending file. Request path: '"/admin-side/js/custom.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\js\custom.js"' (27b0a520)
2019-06-01T11:41:08.0692261+07:00 0HLN69470PCK8:00000007 [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T11:41:08.0722374+07:00 0HLN69470PCK9:00000005 [INF] Request finished in 114.1693ms 200 application/javascript (791a596a)
2019-06-01T11:41:08.0912486+07:00 0HLN69470PCK8:00000007 [INF] Request finished in 33.4736ms 200 application/javascript (791a596a)
2019-06-01T11:41:08.1107666+07:00 0HLN69470PCK3:00000009 [INF] Sending file. Request path: '"/app/shared/signalR/signalR.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\shared\signalR\signalR.js"' (27b0a520)
2019-06-01T11:41:08.1181557+07:00 0HLN69470PCK9:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/user/index.js?v=FlbA_X4lOavcBTTmpgJmjC9wvlRAOhMWTMDxvyil9PU   (ca22a1cb)
2019-06-01T11:41:08.1289192+07:00 0HLN69470PCK3:00000009 [INF] Request finished in 93.0871ms 200 application/javascript (791a596a)
2019-06-01T11:41:08.1308186+07:00 0HLN69470PCJV:0000000F [INF] Sending file. Request path: '"/lib/ckeditor/ckeditor.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\ckeditor.js"' (27b0a520)
2019-06-01T11:41:08.1361799+07:00 0HLN69470PCK9:00000006 [INF] Sending file. Request path: '"/app/controllers/user/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\user\index.js"' (27b0a520)
2019-06-01T11:41:08.1396761+07:00 0HLN69470PCJV:0000000F [INF] Request finished in 418.0312ms 200 application/javascript (791a596a)
2019-06-01T11:41:08.1667554+07:00 0HLN69470PCK9:00000006 [INF] Request finished in 30.3737ms 200 application/javascript (791a596a)
2019-06-01T11:41:08.1824797+07:00 0HLN69470PCK5:00000005 [INF] Sending file. Request path: '"/lib/jquery-validation/dist/localization/messages_vi.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\localization\messages_vi.js"' (27b0a520)
2019-06-01T11:41:08.1922451+07:00 0HLN69470PCK5:00000005 [INF] Request finished in 206.7838ms 200 application/javascript (791a596a)
2019-06-01T11:41:08.3697498+07:00 0HLN69470PCK7:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:41:08.3738212+07:00 0HLN69470PCK8:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:41:08.3824951+07:00 0HLN69470PCK7:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:41:08.3846765+07:00 0HLN69470PCK8:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:41:08.3936607+07:00 0HLN69470PCK7:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:41:08.3977193+07:00 0HLN69470PCK8:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:41:08.4065933+07:00 0HLN69470PCK7:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:08.4083746+07:00 0HLN69470PCK8:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:08.4159011+07:00 0HLN69470PCK7:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:41:08.4177099+07:00 0HLN69470PCK8:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:41:08.4195048+07:00 0HLN69470PCJV:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:41:08.4274994+07:00 0HLN69470PCK7:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:08.4285472+07:00 0HLN69470PCK8:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:08.4386281+07:00 0HLN69470PCK7:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:41:08.4399589+07:00 0HLN69470PCK8:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T11:41:08.4418982+07:00 0HLN69470PCJV:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:41:08.4487224+07:00 0HLN69470PCK7:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:41:08.4531039+07:00 0HLN69470PCJV:00000010 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:41:08.4601464+07:00 0HLN69470PCK8:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T11:41:08.4616233+07:00 0HLN69470PCK7:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 32.9575ms. (50a9e262)
2019-06-01T11:41:08.4695724+07:00 0HLN69470PCK8:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 42.5357ms. (50a9e262)
2019-06-01T11:41:08.4735494+07:00 0HLN69470PCK7:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:41:08.4835663+07:00 0HLN69470PCK8:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:41:08.4865726+07:00 0HLN69470PCK7:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 78.3511ms (afa2e885)
2019-06-01T11:41:08.4961669+07:00 0HLN69470PCK8:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 86.1943ms (afa2e885)
2019-06-01T11:41:08.4972188+07:00 0HLN69470PCK7:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:41:08.5087400+07:00 0HLN69470PCK8:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:41:08.5127626+07:00 0HLN69470PCK7:00000008 [INF] Request finished in 150.4515ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:41:08.5409118+07:00 0HLN69470PCK8:00000008 [INF] Request finished in 162.4384ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:41:08.5569467+07:00 0HLN69470PCJV:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:08.5673012+07:00 0HLN69470PCK9:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:41:08.5830681+07:00 0HLN69470PCJV:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:41:08.6075132+07:00 0HLN69470PCK8:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/images/users.png   (ca22a1cb)
2019-06-01T11:41:08.6131358+07:00 0HLN69470PCJV:00000010 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:08.6166447+07:00 0HLN69470PCK9:00000007 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:41:08.6273085+07:00 0HLN69470PCK8:00000009 [INF] Sending file. Request path: '"/admin-side/images/users.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\images\users.png"' (27b0a520)
2019-06-01T11:41:08.6293475+07:00 0HLN69470PCK7:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:41:08.6356642+07:00 0HLN69470PCK8:00000009 [INF] Request finished in 50.0914ms 200 image/png (791a596a)
2019-06-01T11:41:08.6466533+07:00 0HLN69470PCK7:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:41:08.6528388+07:00 0HLN69470PCJV:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:41:08.6762311+07:00 0HLN69470PCK7:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:41:08.6796888+07:00 0HLN69470PCK5:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/null   (ca22a1cb)
2019-06-01T11:41:08.6963875+07:00 0HLN69470PCK7:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:08.6992941+07:00 0HLN69470PCK5:00000006 [INF] Request finished in 36.3454ms 404  (791a596a)
2019-06-01T11:41:08.7265051+07:00 0HLN69470PCK7:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:41:08.7381572+07:00 0HLN69470PCJV:00000010 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:41:08.7409765+07:00 0HLN69470PCK7:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:08.7545540+07:00 0HLN69470PCJV:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 156.3941ms. (50a9e262)
2019-06-01T11:41:08.7629630+07:00 0HLN69470PCK7:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T11:41:08.7661244+07:00 0HLN69470PCK9:00000007 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:41:08.7728411+07:00 0HLN69470PCJV:00000010 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:41:08.7874811+07:00 0HLN69470PCK7:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T11:41:08.7934303+07:00 0HLN69470PCJV:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 320.2032ms (afa2e885)
2019-06-01T11:41:08.8020406+07:00 0HLN69470PCK7:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 61.3193ms. (50a9e262)
2019-06-01T11:41:08.8049325+07:00 0HLN69470PCKA:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=yrrJoWMQ2vVXVG5Qn7F4rw   (ca22a1cb)
2019-06-01T11:41:08.8142749+07:00 0HLN69470PCK7:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:41:08.8159447+07:00 0HLN69470PCKA:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:41:08.8298216+07:00 0HLN69470PCK7:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 139.4829ms (afa2e885)
2019-06-01T11:41:08.8326027+07:00 0HLN69470PCKA:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:41:08.8380242+07:00 0HLN69470PCJV:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:41:08.8425966+07:00 0HLN69470PCK7:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:41:08.8491889+07:00 0HLN69470PCJV:00000010 [INF] Request finished in 490.0545ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:41:08.8560324+07:00 0HLN69470PCK7:00000009 [INF] Request finished in 225.1013ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:41:08.8835364+07:00 0HLN69470PCK7:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/null   (ca22a1cb)
2019-06-01T11:41:08.8846092+07:00 0HLN69470PCKA:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:41:08.8991085+07:00 0HLN69470PCK9:00000007 [INF] Request finished in 445.6082ms 200 application/json (791a596a)
2019-06-01T11:41:08.9076459+07:00 0HLN69470PCK7:0000000A [INF] Request finished in 15.3862ms 404  (791a596a)
2019-06-01T11:41:43.9466178+07:00 0HLN69470PCK7:0000000B [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/User/Delete application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T11:41:43.9507589+07:00 0HLN69470PCK7:0000000B [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:41:43.9548274+07:00 0HLN69470PCK7:0000000B [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:41:43.9594280+07:00 0HLN69470PCK7:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.Delete (Shop3)"' (500cc934)
2019-06-01T11:41:43.9678899+07:00 0HLN69470PCK7:0000000B [INF] Route matched with "{area = \"Admin\", action = \"Delete\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.Delete (Shop3)" (a44c0341)
2019-06-01T11:41:43.9735195+07:00 0HLN69470PCK7:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:43.9787227+07:00 0HLN69470PCK7:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.Delete (Shop3)" with arguments (["4cddc7fe-61ae-4646-9bfb-08d6c8aca99c"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:41:43.9849591+07:00 0HLN69470PCK7:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:43.9961775+07:00 0HLN69470PCK7:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[Balance], [e].[BirthDay], [e].[ConcurrencyStamp], [e].[DateCreated], [e].[DateModified], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[Status], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2019-06-01T11:41:44.3577826+07:00 0HLN69470PCK7:0000000B [ERR] Failed executing DbCommand ("250"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [AspNetUsers]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Bills_AspNetUsers_CustomerId". The conflict occurred in database "Shop3", table "dbo.Bills", column 'CustomerId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:904adeec-2a65-4cec-a241-7a4b2037e3a2
Error Number:547,State:0,Class:16
2019-06-01T11:41:44.4007347+07:00 0HLN69470PCK7:0000000B [ERR] An exception occurred in the database while saving changes for context type '"Shop3.Data.EF.AppDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The DELETE statement conflicted with the REFERENCE constraint \"FK_Bills_AspNetUsers_CustomerId\". The conflict occurred in database \"Shop3\", table \"dbo.Bills\", column 'CustomerId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The DELETE statement conflicted with the REFERENCE constraint "FK_Bills_AspNetUsers_CustomerId". The conflict occurred in database "Shop3", table "dbo.Bills", column 'CustomerId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-06-01T11:41:45.9931335+07:00 0HLN69470PCK7:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.Delete (Shop3)" in 2021.8711ms (afa2e885)
2019-06-01T11:41:45.9967515+07:00 0HLN69470PCK7:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.Delete (Shop3)"' (99874f2b)
2019-06-01T11:41:48.1323116+07:00 0HLN69470PCK7:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2019-06-01T11:41:48.1621757+07:00 0HLN69470PCK7:0000000B [INF] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2019-06-01T11:41:48.2152453+07:00 0HLN69470PCK7:0000000B [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The DELETE statement conflicted with the REFERENCE constraint "FK_Bills_AspNetUsers_CustomerId". The conflict occurred in database "Shop3", table "dbo.Bills", column 'CustomerId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.DeleteAsync(TUser user, CancellationToken cancellationToken)
   at Shop3.Application.Implementation.UserService.DeleteAsync(String id) in E:\project\shop3\Shop3.Application\Implementation\UserService.cs:line 74
   at Shop3.Areas.Admin.Controllers.UserController.Delete(String id) in E:\project\shop3\Shop3\Areas\Admin\Controllers\UserController.cs:line 134
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 77
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T11:41:48.2917014+07:00 0HLN69470PCK7:0000000B [INF] Request finished in 4344.254ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T11:41:51.1088359+07:00 0HLN69470PCK7:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/index   (ca22a1cb)
2019-06-01T11:41:51.1142177+07:00 0HLN69470PCK7:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (500cc934)
2019-06-01T11:41:51.1191907+07:00 0HLN69470PCK7:0000000C [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" (a44c0341)
2019-06-01T11:41:51.1262923+07:00 0HLN69470PCK7:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:51.1333561+07:00 0HLN69470PCK7:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:41:51.1399990+07:00 0HLN69470PCK7:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:51.1528523+07:00 0HLN69470PCK7:0000000C [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:51.1604486+07:00 0HLN69470PCK7:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:51.1653425+07:00 0HLN69470PCK7:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 27.2245ms. (50a9e262)
2019-06-01T11:41:51.1712707+07:00 0HLN69470PCK7:0000000C [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:41:51.1841557+07:00 0HLN69470PCK7:0000000C [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:51.1903148+07:00 0HLN69470PCK7:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:51.2049548+07:00 0HLN69470PCK7:0000000C [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:51.2095977+07:00 0HLN69470PCK7:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:51.2279652+07:00 0HLN69470PCK7:0000000C [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:51.2332962+07:00 0HLN69470PCK7:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:51.2498085+07:00 0HLN69470PCK7:0000000C [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:51.2544289+07:00 0HLN69470PCK7:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:51.2691943+07:00 0HLN69470PCK7:0000000C [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:51.2764227+07:00 0HLN69470PCK7:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:51.2911012+07:00 0HLN69470PCK7:0000000C [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:51.2961039+07:00 0HLN69470PCK7:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:51.3049469+07:00 0HLN69470PCK7:0000000C [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:41:52.5784371+07:00 0HLN69470PCK7:0000000C [INF] Executed ViewResult - view "Index" executed in 140.9582ms. (f66409e9)
2019-06-01T11:41:55.9974981+07:00 0HLN69470PCK7:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" in 1460.9222ms (afa2e885)
2019-06-01T11:41:56.0069451+07:00 0HLN69470PCJV:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/index   (ca22a1cb)
2019-06-01T11:41:56.0165791+07:00 0HLN69470PCK7:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (99874f2b)
2019-06-01T11:41:56.1057475+07:00 0HLN69470PCJV:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (500cc934)
2019-06-01T11:41:56.1139468+07:00 0HLN69470PCK7:0000000C [INF] Request finished in 4918.8037ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:41:56.1171165+07:00 0HLN69470PCJV:00000011 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" (a44c0341)
2019-06-01T11:41:56.1293274+07:00 0HLN69470PCJV:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:56.1325356+07:00 0HLN69470PCK5:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:41:56.1433065+07:00 0HLN69470PCJV:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:41:56.1454115+07:00 0HLN69470PCK5:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:41:56.1571411+07:00 0HLN69470PCJV:00000011 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:56.2494143+07:00 0HLN69470PCK5:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:41:56.2526446+07:00 0HLN69470PCKA:00000001 [INF] Request finished in 42592.6144ms 101  (791a596a)
2019-06-01T11:41:56.2636756+07:00 0HLN69470PCJV:00000011 [INF] Executed DbCommand ("91"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:56.2646906+07:00 0HLN69470PCK5:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:56.2794397+07:00 0HLN69470PCK5:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:41:56.2804341+07:00 0HLN69470PCJV:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:56.2954048+07:00 0HLN69470PCJV:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 139.0997ms. (50a9e262)
2019-06-01T11:41:56.2965912+07:00 0HLN69470PCK5:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:56.2993859+07:00 0HLN69470PCK8:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:41:56.3108800+07:00 0HLN69470PCJV:00000011 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:41:56.3140009+07:00 0HLN69470PCK8:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:41:56.3171492+07:00 0HLN69470PCK5:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:41:56.3299635+07:00 0HLN69470PCK8:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:41:56.3325251+07:00 0HLN69470PCK9:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:41:56.3506162+07:00 0HLN69470PCK5:00000007 [INF] Executed DbCommand ("14"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:41:56.3526901+07:00 0HLN69470PCJV:00000011 [INF] Executed DbCommand ("27"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:56.3585387+07:00 0HLN69470PCK8:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:56.3649875+07:00 0HLN69470PCK5:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 72.1291ms. (50a9e262)
2019-06-01T11:41:56.3662712+07:00 0HLN69470PCJV:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:56.4017485+07:00 0HLN69470PCK8:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:41:56.4104036+07:00 0HLN69470PCK5:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:41:56.4236234+07:00 0HLN69470PCJV:00000011 [INF] Executed DbCommand ("12"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:56.4306206+07:00 0HLN69470PCK5:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 161.1666ms (afa2e885)
2019-06-01T11:41:56.4364607+07:00 0HLN69470PCJV:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:56.4408069+07:00 0HLN69470PCK5:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:41:56.4593177+07:00 0HLN69470PCK7:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:41:56.4627728+07:00 0HLN69470PCK5:00000007 [INF] Request finished in 459.0396ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:41:56.4738223+07:00 0HLN69470PCJV:00000011 [INF] Executed DbCommand ("14"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:56.4820524+07:00 0HLN69470PCK7:0000000D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:41:56.4830719+07:00 0HLN69470PCJV:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:56.4862620+07:00 0HLN69470PCK8:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:56.4972967+07:00 0HLN69470PCK7:0000000D [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:41:56.5034010+07:00 0HLN69470PCK8:0000000A [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T11:41:56.5104237+07:00 0HLN69470PCK7:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:56.5143744+07:00 0HLN69470PCK9:00000008 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:41:56.5201828+07:00 0HLN69470PCK7:0000000D [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:41:56.5256376+07:00 0HLN69470PCJV:00000011 [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:56.5324372+07:00 0HLN69470PCK8:0000000A [INF] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T11:41:56.5364853+07:00 0HLN69470PCK7:0000000D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:56.5380122+07:00 0HLN69470PCJV:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:56.5516482+07:00 0HLN69470PCK8:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 130.8056ms. (50a9e262)
2019-06-01T11:41:56.5559272+07:00 0HLN69470PCK7:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:41:56.5630538+07:00 0HLN69470PCK9:00000008 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:41:56.5727609+07:00 0HLN69470PCK7:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:41:56.5786037+07:00 0HLN69470PCJV:00000011 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:56.5862037+07:00 0HLN69470PCK7:0000000D [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 52.7166ms. (50a9e262)
2019-06-01T11:41:56.5928084+07:00 0HLN69470PCJV:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:56.6006710+07:00 0HLN69470PCK8:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:41:56.6112101+07:00 0HLN69470PCK7:0000000D [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:41:56.6182861+07:00 0HLN69470PCJV:00000011 [INF] Executed DbCommand ("3"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:41:56.6292593+07:00 0HLN69470PCK7:0000000D [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 114.2727ms (afa2e885)
2019-06-01T11:41:56.6319830+07:00 0HLN69470PCJV:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:56.6363887+07:00 0HLN69470PCK8:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 271.7765ms (afa2e885)
2019-06-01T11:41:56.6427325+07:00 0HLN69470PCK7:0000000D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:41:56.6507419+07:00 0HLN69470PCK8:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:41:56.6577589+07:00 0HLN69470PCK7:0000000D [INF] Request finished in 223.48ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:41:56.6614739+07:00 0HLN69470PCJV:00000011 [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:41:56.7192760+07:00 0HLN69470PCJV:00000011 [INF] Executed ViewResult - view "Index" executed in 367.9455ms. (f66409e9)
2019-06-01T11:41:56.7245540+07:00 0HLN69470PCK8:0000000A [INF] Request finished in 667.6597ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:41:56.7324268+07:00 0HLN69470PCJV:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" in 603.4239ms (afa2e885)
2019-06-01T11:41:56.7431128+07:00 0HLN69470PCK8:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:41:56.7439956+07:00 0HLN69470PCJV:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (99874f2b)
2019-06-01T11:41:56.7549921+07:00 0HLN69470PCJV:00000011 [INF] Request finished in 1824.0485ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:41:56.7582733+07:00 0HLN69470PCK8:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:41:56.7639981+07:00 0HLN69470PCKB:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=JqSt0tSmB4-moYr7V9VwZw   (ca22a1cb)
2019-06-01T11:41:56.7685428+07:00 0HLN69470PCK8:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:41:56.7759767+07:00 0HLN69470PCK7:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/null   (ca22a1cb)
2019-06-01T11:41:56.8177945+07:00 0HLN69470PCK8:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:56.8242261+07:00 0HLN69470PCK7:0000000E [INF] Request finished in 15.6668ms 404  (791a596a)
2019-06-01T11:41:56.8328168+07:00 0HLN69470PCK8:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:41:56.8420759+07:00 0HLN69470PCKB:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:41:56.8450371+07:00 0HLN69470PCK8:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:56.8529243+07:00 0HLN69470PCK3:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/nprogress/nprogress.css   (ca22a1cb)
2019-06-01T11:41:56.8570892+07:00 0HLN69470PCK8:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T11:41:56.8583603+07:00 0HLN69470PCKB:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:41:56.8663052+07:00 0HLN69470PCK3:0000000A [INF] Sending file. Request path: '"/lib/nprogress/nprogress.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\nprogress\nprogress.css"' (27b0a520)
2019-06-01T11:41:56.8699845+07:00 0HLN69470PCK8:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T11:41:57.5807568+07:00 0HLN69470PCK3:0000000A [INF] Request finished in 21.0018ms 200 text/css (791a596a)
2019-06-01T11:41:57.5827051+07:00 0HLN69470PCK8:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 37.364ms. (50a9e262)
2019-06-01T11:41:57.5902837+07:00 0HLN69470PCK8:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:41:57.5961754+07:00 0HLN69470PCK9:00000008 [INF] Request finished in 585.9388ms 200 application/json (791a596a)
2019-06-01T11:41:57.5983662+07:00 0HLN69470PCK5:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/font-awesome/css/font-awesome.css   (ca22a1cb)
2019-06-01T11:41:57.6013430+07:00 0HLN69470PCK8:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 820.7008ms (afa2e885)
2019-06-01T11:41:57.6094898+07:00 0HLN69470PCK8:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:41:57.6120872+07:00 0HLN69470PCK9:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css   (ca22a1cb)
2019-06-01T11:41:57.6184486+07:00 0HLN69470PCK5:00000008 [INF] Sending file. Request path: '"/lib/font-awesome/css/font-awesome.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\font-awesome\css\font-awesome.css"' (27b0a520)
2019-06-01T11:41:57.6201561+07:00 0HLN69470PCK8:0000000B [INF] Request finished in 880.903ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:41:57.6266431+07:00 0HLN69470PCK5:00000008 [INF] Request finished in 31.4809ms 200 text/css (791a596a)
2019-06-01T11:41:57.6428334+07:00 0HLN69470PCKB:00000001 [ERR] Failed connection handshake. (ebdbcf97)
2019-06-01T11:41:57.6510767+07:00 0HLN69470PCJV:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap-daterangepicker/daterangepicker.css   (ca22a1cb)
2019-06-01T11:41:57.6572026+07:00 0HLN69470PCKB:00000001 [INF] Request finished in 1043.1363ms 101  (791a596a)
2019-06-01T11:41:57.6590869+07:00 0HLN69470PCKC:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/styles/metro/notify-metro.css   (ca22a1cb)
2019-06-01T11:41:57.6666668+07:00 0HLN69470PCKD:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/iCheck/skins/flat/green.css   (ca22a1cb)
2019-06-01T11:41:57.6733610+07:00 0HLN69470PCJV:00000012 [INF] Sending file. Request path: '"/lib/bootstrap-daterangepicker/daterangepicker.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap-daterangepicker\daterangepicker.css"' (27b0a520)
2019-06-01T11:41:57.7274451+07:00 0HLN69470PCKC:00000001 [INF] Sending file. Request path: '"/lib/notifyjs/dist/styles/metro/notify-metro.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\styles\metro\notify-metro.css"' (27b0a520)
2019-06-01T11:41:57.7304309+07:00 0HLN69470PCJV:00000012 [INF] Request finished in 42.7294ms 200 text/css (791a596a)
2019-06-01T11:41:57.7434307+07:00 0HLN69470PCKC:00000001 [INF] Request finished in 78.7958ms 200 text/css (791a596a)
2019-06-01T11:41:57.7489536+07:00 0HLN69470PCK5:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/css/custom.css   (ca22a1cb)
2019-06-01T11:41:57.7562585+07:00 0HLN69470PCK3:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/skins/moono/editor.css   (ca22a1cb)
2019-06-01T11:41:57.7610840+07:00 0HLN69470PCK9:00000009 [INF] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\css\bootstrap.css"' (27b0a520)
2019-06-01T11:41:57.7685363+07:00 0HLN69470PCK3:0000000B [INF] Sending file. Request path: '"/lib/ckeditor/skins/moono/editor.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\skins\moono\editor.css"' (27b0a520)
2019-06-01T11:41:57.7701585+07:00 0HLN69470PCK9:00000009 [INF] Request finished in 157.5768ms 200 text/css (791a596a)
2019-06-01T11:41:57.7782110+07:00 0HLN69470PCK3:0000000B [INF] Request finished in 60.2444ms 200 text/css (791a596a)
2019-06-01T11:41:57.7894254+07:00 0HLN69470PCKD:00000001 [INF] Sending file. Request path: '"/lib/iCheck/skins/flat/green.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\iCheck\skins\flat\green.css"' (27b0a520)
2019-06-01T11:41:57.8099943+07:00 0HLN69470PCJV:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js   (ca22a1cb)
2019-06-01T11:41:57.8118934+07:00 0HLN69470PCKC:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0   (ca22a1cb)
2019-06-01T11:41:57.8226240+07:00 0HLN69470PCK5:00000009 [INF] Sending file. Request path: '"/admin-side/css/custom.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\css\custom.css"' (27b0a520)
2019-06-01T11:41:57.8269831+07:00 0HLN69470PCKD:00000001 [INF] Request finished in 145.9436ms 200 text/css (791a596a)
2019-06-01T11:41:57.8798621+07:00 0HLN69470PCK5:00000009 [INF] Request finished in 81.9638ms 200 text/css (791a596a)
2019-06-01T11:41:57.8838638+07:00 0HLN69470PCK9:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/signalr/signalr.js   (ca22a1cb)
2019-06-01T11:41:57.8887991+07:00 0HLN69470PCK3:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.js   (ca22a1cb)
2019-06-01T11:41:57.9238223+07:00 0HLN69470PCKC:00000002 [INF] Sending file. Request path: '"/lib/font-awesome/fonts/fontawesome-webfont.woff2"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\font-awesome\fonts\fontawesome-webfont.woff2"' (27b0a520)
2019-06-01T11:41:57.9258798+07:00 0HLN69470PCK5:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2   (ca22a1cb)
2019-06-01T11:41:57.9328886+07:00 0HLN69470PCKC:00000002 [INF] Request finished in 133.4534ms 200 font/woff2 (791a596a)
2019-06-01T11:41:57.9443663+07:00 0HLN69470PCK3:0000000C [INF] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\js\bootstrap.js"' (27b0a520)
2019-06-01T11:41:57.9463426+07:00 0HLN69470PCKD:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/images/img.jpg   (ca22a1cb)
2019-06-01T11:41:57.9483105+07:00 0HLN69470PCK5:0000000A [INF] Sending file. Request path: '"/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\fonts\glyphicons-halflings-regular.woff2"' (27b0a520)
2019-06-01T11:41:57.9582625+07:00 0HLN69470PCK3:0000000C [INF] Request finished in 69.0625ms 200 application/javascript (791a596a)
2019-06-01T11:41:57.9603155+07:00 0HLN69470PCK5:0000000A [INF] Request finished in 39.9056ms 200 font/woff2 (791a596a)
2019-06-01T11:41:57.9688845+07:00 0HLN69470PCKC:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/fastclick/lib/fastclick.js   (ca22a1cb)
2019-06-01T11:41:57.9806948+07:00 0HLN69470PCK9:0000000A [INF] Sending file. Request path: '"/lib/signalr/signalr.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\signalr\signalr.js"' (27b0a520)
2019-06-01T11:41:57.9826682+07:00 0HLN69470PCK5:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/nprogress/nprogress.js   (ca22a1cb)
2019-06-01T11:41:57.9890465+07:00 0HLN69470PCK9:0000000A [INF] Request finished in 153.7418ms 200 application/javascript (791a596a)
2019-06-01T11:41:57.9900343+07:00 0HLN69470PCKC:00000003 [INF] Sending file. Request path: '"/lib/fastclick/lib/fastclick.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\fastclick\lib\fastclick.js"' (27b0a520)
2019-06-01T11:41:58.0024902+07:00 0HLN69470PCKC:00000003 [INF] Request finished in 40.1997ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.0094793+07:00 0HLN69470PCK5:0000000B [INF] Sending file. Request path: '"/lib/nprogress/nprogress.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\nprogress\nprogress.js"' (27b0a520)
2019-06-01T11:41:58.0171572+07:00 0HLN69470PCK3:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/mustache/mustache.js   (ca22a1cb)
2019-06-01T11:41:58.0180012+07:00 0HLN69470PCK5:0000000B [INF] Request finished in 38.4389ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.0330677+07:00 0HLN69470PCJV:00000013 [INF] Sending file. Request path: '"/lib/jquery/dist/jquery.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery\dist\jquery.js"' (27b0a520)
2019-06-01T11:41:58.0354932+07:00 0HLN69470PCK3:0000000D [INF] Sending file. Request path: '"/lib/mustache/mustache.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\mustache\mustache.js"' (27b0a520)
2019-06-01T11:41:58.0424023+07:00 0HLN69470PCJV:00000013 [INF] Request finished in 242.8395ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.0443793+07:00 0HLN69470PCK3:0000000D [INF] Request finished in 32.8139ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.0500906+07:00 0HLN69470PCK9:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/twbs-pagination/jquery.twbsPagination.js   (ca22a1cb)
2019-06-01T11:41:58.0584478+07:00 0HLN69470PCK5:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-sparkline/dist/jquery.sparkline.js   (ca22a1cb)
2019-06-01T11:41:58.0613656+07:00 0HLN69470PCKC:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/iCheck/icheck.min.js   (ca22a1cb)
2019-06-01T11:41:58.0665602+07:00 0HLN69470PCKD:00000002 [INF] Sending file. Request path: '"/admin-side/images/img.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\images\img.jpg"' (27b0a520)
2019-06-01T11:41:58.0699658+07:00 0HLN69470PCK9:0000000B [INF] Sending file. Request path: '"/lib/twbs-pagination/jquery.twbsPagination.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\twbs-pagination\jquery.twbsPagination.js"' (27b0a520)
2019-06-01T11:41:58.0899264+07:00 0HLN69470PCK9:0000000B [INF] Request finished in 27.8161ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.0978920+07:00 0HLN69470PCKC:00000004 [INF] Sending file. Request path: '"/lib/iCheck/icheck.min.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\iCheck\icheck.min.js"' (27b0a520)
2019-06-01T11:41:58.1287046+07:00 0HLN69470PCJV:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/jquery.validate.js   (ca22a1cb)
2019-06-01T11:41:58.1321376+07:00 0HLN69470PCK3:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/additional-methods.js   (ca22a1cb)
2019-06-01T11:41:58.1341910+07:00 0HLN69470PCKC:00000004 [INF] Request finished in 45.8473ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.1405664+07:00 0HLN69470PCKD:00000002 [INF] Request finished in 159.1001ms 200 image/jpeg (791a596a)
2019-06-01T11:41:58.1748474+07:00 0HLN69470PCJV:00000014 [INF] Sending file. Request path: '"/lib/jquery-validation/dist/jquery.validate.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\jquery.validate.js"' (27b0a520)
2019-06-01T11:41:58.1767419+07:00 0HLN69470PCK5:0000000C [INF] Sending file. Request path: '"/lib/jquery-sparkline/dist/jquery.sparkline.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-sparkline\dist\jquery.sparkline.js"' (27b0a520)
2019-06-01T11:41:58.1834435+07:00 0HLN69470PCK3:0000000E [INF] Sending file. Request path: '"/lib/jquery-validation/dist/additional-methods.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\additional-methods.js"' (27b0a520)
2019-06-01T11:41:58.1856440+07:00 0HLN69470PCJV:00000014 [INF] Request finished in 72.0979ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.1943435+07:00 0HLN69470PCK5:0000000C [INF] Request finished in 126.7194ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.1964104+07:00 0HLN69470PCK3:0000000E [INF] Request finished in 76.8229ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.2186131+07:00 0HLN69470PCKC:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation-unobtrusive/src/jquery.validate.unobtrusive.js   (ca22a1cb)
2019-06-01T11:41:58.2204834+07:00 0HLN69470PCK9:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/localization/messages_vi.js   (ca22a1cb)
2019-06-01T11:41:58.2300354+07:00 0HLN69470PCJV:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/ckeditor.js   (ca22a1cb)
2019-06-01T11:41:58.2309454+07:00 0HLN69470PCKC:00000005 [INF] Sending file. Request path: '"/lib/jquery-validation-unobtrusive/src/jquery.validate.unobtrusive.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation-unobtrusive\src\jquery.validate.unobtrusive.js"' (27b0a520)
2019-06-01T11:41:58.2339230+07:00 0HLN69470PCKD:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/Chart.js/dist/Chart.js   (ca22a1cb)
2019-06-01T11:41:58.2425753+07:00 0HLN69470PCKC:00000005 [INF] Request finished in 29.94ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.2447755+07:00 0HLN69470PCK9:0000000C [INF] Sending file. Request path: '"/lib/jquery-validation/dist/localization/messages_vi.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\localization\messages_vi.js"' (27b0a520)
2019-06-01T11:41:58.2794372+07:00 0HLN69470PCK9:0000000C [INF] Request finished in 42.6128ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.2821425+07:00 0HLN69470PCK3:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap-daterangepicker/daterangepicker.js   (ca22a1cb)
2019-06-01T11:41:58.2855315+07:00 0HLN69470PCK5:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/moment/moment.js   (ca22a1cb)
2019-06-01T11:41:58.3044612+07:00 0HLN69470PCK9:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/styles/metro/notify-metro.js   (ca22a1cb)
2019-06-01T11:41:58.3082474+07:00 0HLN69470PCKC:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/notify.js   (ca22a1cb)
2019-06-01T11:41:58.3113641+07:00 0HLN69470PCK3:0000000F [INF] Sending file. Request path: '"/lib/bootstrap-daterangepicker/daterangepicker.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap-daterangepicker\daterangepicker.js"' (27b0a520)
2019-06-01T11:41:58.3318790+07:00 0HLN69470PCK9:0000000D [INF] Sending file. Request path: '"/lib/notifyjs/dist/styles/metro/notify-metro.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\styles\metro\notify-metro.js"' (27b0a520)
2019-06-01T11:41:58.3357198+07:00 0HLN69470PCK3:0000000F [INF] Request finished in 52.6871ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.3416386+07:00 0HLN69470PCKC:00000006 [INF] Sending file. Request path: '"/lib/notifyjs/dist/notify.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\notify.js"' (27b0a520)
2019-06-01T11:41:58.3565773+07:00 0HLN69470PCKC:00000006 [INF] Request finished in 55.1445ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.3593584+07:00 0HLN69470PCK9:0000000D [INF] Request finished in 45.5921ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.3719171+07:00 0HLN69470PCK3:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootbox/src/bootbox.js   (ca22a1cb)
2019-06-01T11:41:58.3767676+07:00 0HLN69470PCK9:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/common.js?v=y7DqmVon23ErVGJwRwyGN-e1OscQoN09ThbEz09BtJA   (ca22a1cb)
2019-06-01T11:41:58.3800972+07:00 0HLN69470PCKC:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/js/custom.js?v=hK7rQw3KRGvTBoFU9qYrRZAOVWKo8ugfIfdqn7el8ko   (ca22a1cb)
2019-06-01T11:41:58.4028242+07:00 0HLN69470PCK5:0000000D [INF] Sending file. Request path: '"/lib/moment/moment.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\moment\moment.js"' (27b0a520)
2019-06-01T11:41:58.4134531+07:00 0HLN69470PCKD:00000003 [INF] Sending file. Request path: '"/lib/Chart.js/dist/Chart.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\Chart.js\dist\Chart.js"' (27b0a520)
2019-06-01T11:41:58.4162691+07:00 0HLN69470PCK5:0000000D [INF] Request finished in 156.0983ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.4242908+07:00 0HLN69470PCKD:00000003 [INF] Request finished in 255.0857ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.4289830+07:00 0HLN69470PCK9:0000000E [INF] Sending file. Request path: '"/app/shared/common.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\shared\common.js"' (27b0a520)
2019-06-01T11:41:58.4322486+07:00 0HLN69470PCK5:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/signalR/signalR.js?v=Nfk6vVike0aJRdJYX_p4XmzuQFtluTkuSqYJJ4Uiqm4   (ca22a1cb)
2019-06-01T11:41:58.4400057+07:00 0HLN69470PCK9:0000000E [INF] Request finished in 66.3191ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.4430002+07:00 0HLN69470PCK3:00000010 [INF] Sending file. Request path: '"/lib/bootbox/src/bootbox.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootbox\src\bootbox.js"' (27b0a520)
2019-06-01T11:41:58.4628947+07:00 0HLN69470PCK9:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=-NTPIAAUoLME9zXM3rOh6LLVj8Oq8-uW2W7i4qSZEpM   (ca22a1cb)
2019-06-01T11:41:58.4675614+07:00 0HLN69470PCK5:0000000E [INF] Sending file. Request path: '"/app/shared/signalR/signalR.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\shared\signalR\signalR.js"' (27b0a520)
2019-06-01T11:41:58.4695589+07:00 0HLN69470PCK3:00000010 [INF] Request finished in 81.3377ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.4893390+07:00 0HLN69470PCK5:0000000E [INF] Request finished in 45.8904ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.4934814+07:00 0HLN69470PCKC:00000007 [INF] Sending file. Request path: '"/admin-side/js/custom.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\js\custom.js"' (27b0a520)
2019-06-01T11:41:58.5037078+07:00 0HLN69470PCKC:00000007 [INF] Request finished in 124.6899ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.5122633+07:00 0HLN69470PCK3:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/user/index.js?v=FlbA_X4lOavcBTTmpgJmjC9wvlRAOhMWTMDxvyil9PU   (ca22a1cb)
2019-06-01T11:41:58.5194973+07:00 0HLN69470PCK9:0000000F [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T11:41:58.5301656+07:00 0HLN69470PCJV:00000015 [INF] Sending file. Request path: '"/lib/ckeditor/ckeditor.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\ckeditor.js"' (27b0a520)
2019-06-01T11:41:58.5327691+07:00 0HLN69470PCK9:0000000F [INF] Request finished in 70.148ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.5349311+07:00 0HLN69470PCK3:00000011 [INF] Sending file. Request path: '"/app/controllers/user/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\user\index.js"' (27b0a520)
2019-06-01T11:41:58.5530723+07:00 0HLN69470PCJV:00000015 [INF] Request finished in 314.0715ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.5626575+07:00 0HLN69470PCK3:00000011 [INF] Request finished in 33.4358ms 200 application/javascript (791a596a)
2019-06-01T11:41:58.6897249+07:00 0HLN69470PCKC:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:41:58.6929553+07:00 0HLN69470PCK9:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:41:58.7016957+07:00 0HLN69470PCKC:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:41:58.7045950+07:00 0HLN69470PCK9:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:41:58.7132485+07:00 0HLN69470PCKC:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:41:58.7153712+07:00 0HLN69470PCK9:00000010 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:41:58.7223099+07:00 0HLN69470PCKC:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:58.7243919+07:00 0HLN69470PCK9:00000010 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:58.7306208+07:00 0HLN69470PCKC:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:41:58.7325515+07:00 0HLN69470PCK9:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:41:58.7413379+07:00 0HLN69470PCKC:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:58.7424256+07:00 0HLN69470PCK9:00000010 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:58.7454512+07:00 0HLN69470PCJV:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:41:58.7474097+07:00 0HLN69470PCK3:00000012 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:41:58.7530196+07:00 0HLN69470PCKC:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:41:58.7558955+07:00 0HLN69470PCK9:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T11:41:58.7651398+07:00 0HLN69470PCKC:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:41:58.7675107+07:00 0HLN69470PCK9:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T11:41:58.7736153+07:00 0HLN69470PCKC:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 34.6055ms. (50a9e262)
2019-06-01T11:41:58.7754873+07:00 0HLN69470PCK9:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 35.7197ms. (50a9e262)
2019-06-01T11:41:58.7809683+07:00 0HLN69470PCKC:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:41:58.7820514+07:00 0HLN69470PCK9:00000010 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:41:58.7904247+07:00 0HLN69470PCJV:00000016 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:41:58.7961662+07:00 0HLN69470PCKC:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 68.5702ms (afa2e885)
2019-06-01T11:41:58.7982712+07:00 0HLN69470PCK9:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 67.78ms (afa2e885)
2019-06-01T11:41:58.8042204+07:00 0HLN69470PCKC:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:41:58.8069519+07:00 0HLN69470PCK9:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:41:58.8132333+07:00 0HLN69470PCKC:00000008 [INF] Request finished in 137.9469ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:41:58.8182072+07:00 0HLN69470PCK9:00000010 [INF] Request finished in 138.6772ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:41:58.8257810+07:00 0HLN69470PCK3:00000012 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:41:58.8289317+07:00 0HLN69470PCJV:00000016 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:41:58.8384862+07:00 0HLN69470PCK3:00000012 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:41:59.1677482+07:00 0HLN69470PCJV:00000016 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:59.2093306+07:00 0HLN69470PCKC:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:41:59.2148022+07:00 0HLN69470PCJV:00000016 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:41:59.2261068+07:00 0HLN69470PCKC:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:41:59.2280325+07:00 0HLN69470PCJV:00000016 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:59.2328367+07:00 0HLN69470PCKC:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:41:59.2352892+07:00 0HLN69470PCK9:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/images/users.png   (ca22a1cb)
2019-06-01T11:41:59.2438873+07:00 0HLN69470PCKC:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:41:59.2494060+07:00 0HLN69470PCJV:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:41:59.2564797+07:00 0HLN69470PCKC:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:41:59.2639283+07:00 0HLN69470PCK9:00000011 [INF] Sending file. Request path: '"/admin-side/images/users.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\images\users.png"' (27b0a520)
2019-06-01T11:41:59.2693166+07:00 0HLN69470PCKC:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:41:59.2766430+07:00 0HLN69470PCJV:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:41:59.2851283+07:00 0HLN69470PCJV:00000016 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 61.9494ms. (50a9e262)
2019-06-01T11:41:59.2883135+07:00 0HLN69470PCKC:00000009 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T11:41:59.2982347+07:00 0HLN69470PCJV:00000016 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:41:59.3008981+07:00 0HLN69470PCKC:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T11:41:59.3102602+07:00 0HLN69470PCK9:00000011 [INF] Request finished in 87.366ms 200 image/png (791a596a)
2019-06-01T11:41:59.3168973+07:00 0HLN69470PCKC:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 44.5628ms. (50a9e262)
2019-06-01T11:41:59.3227807+07:00 0HLN69470PCJV:00000016 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 469.5421ms (afa2e885)
2019-06-01T11:41:59.3319931+07:00 0HLN69470PCKC:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:41:59.3339450+07:00 0HLN69470PCJV:00000016 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:41:59.3460410+07:00 0HLN69470PCKC:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 98.8237ms (afa2e885)
2019-06-01T11:41:59.3478105+07:00 0HLN69470PCJV:00000016 [INF] Request finished in 669.2872ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:41:59.3526753+07:00 0HLN69470PCKC:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:41:59.3679127+07:00 0HLN69470PCKC:00000009 [INF] Request finished in 179.8008ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:41:59.3707861+07:00 0HLN69470PCKE:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=0v8SLbdMkpZ860OavrhWMw   (ca22a1cb)
2019-06-01T11:41:59.3802617+07:00 0HLN69470PCK3:00000012 [INF] Request finished in 175.7151ms 200 application/json (791a596a)
2019-06-01T11:41:59.3815508+07:00 0HLN69470PCKE:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:41:59.3922674+07:00 0HLN69470PCKE:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:41:59.3932123+07:00 0HLN69470PCK5:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/null   (ca22a1cb)
2019-06-01T11:41:59.4186986+07:00 0HLN69470PCK5:0000000F [INF] Request finished in 218.4445ms 404  (791a596a)
2019-06-01T11:41:59.4359676+07:00 0HLN69470PCKE:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:41:59.4529611+07:00 0HLN69470PCK5:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T11:41:59.4742863+07:00 0HLN69470PCK5:00000010 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T11:41:59.4814961+07:00 0HLN69470PCK5:00000010 [INF] Request finished in 28.7905ms 200 image/x-icon (791a596a)
2019-06-01T11:42:03.1944063+07:00 0HLN69470PCK5:00000011 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/User/Delete application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T11:42:03.1994763+07:00 0HLN69470PCK5:00000011 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:42:03.2030102+07:00 0HLN69470PCK5:00000011 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:42:03.2096834+07:00 0HLN69470PCK5:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.Delete (Shop3)"' (500cc934)
2019-06-01T11:42:03.2153027+07:00 0HLN69470PCK5:00000011 [INF] Route matched with "{area = \"Admin\", action = \"Delete\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.Delete (Shop3)" (a44c0341)
2019-06-01T11:42:03.2199997+07:00 0HLN69470PCK5:00000011 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:42:03.2256965+07:00 0HLN69470PCK5:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.Delete (Shop3)" with arguments (["4cddc7fe-61ae-4646-9bfb-08d6c8aca99c"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:42:03.2300658+07:00 0HLN69470PCK5:00000011 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:42:03.2377937+07:00 0HLN69470PCK5:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[Balance], [e].[BirthDay], [e].[ConcurrencyStamp], [e].[DateCreated], [e].[DateModified], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[Status], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2019-06-01T11:42:03.2626762+07:00 0HLN69470PCK5:00000011 [ERR] Failed executing DbCommand ("9"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [AspNetUsers]
WHERE [Id] = @p0 AND [ConcurrencyStamp] = @p1;
SELECT @@ROWCOUNT;" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Bills_AspNetUsers_CustomerId". The conflict occurred in database "Shop3", table "dbo.Bills", column 'CustomerId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:904adeec-2a65-4cec-a241-7a4b2037e3a2
Error Number:547,State:0,Class:16
2019-06-01T11:42:03.2924546+07:00 0HLN69470PCK5:00000011 [ERR] An exception occurred in the database while saving changes for context type '"Shop3.Data.EF.AppDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The DELETE statement conflicted with the REFERENCE constraint \"FK_Bills_AspNetUsers_CustomerId\". The conflict occurred in database \"Shop3\", table \"dbo.Bills\", column 'CustomerId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The DELETE statement conflicted with the REFERENCE constraint "FK_Bills_AspNetUsers_CustomerId". The conflict occurred in database "Shop3", table "dbo.Bills", column 'CustomerId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.DeleteAsync(TUser user, CancellationToken cancellationToken)
2019-06-01T11:42:03.4032287+07:00 0HLN69470PCK5:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.Delete (Shop3)" in 183.8907ms (afa2e885)
2019-06-01T11:42:03.4098039+07:00 0HLN69470PCK5:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.Delete (Shop3)"' (99874f2b)
2019-06-01T11:42:03.5768659+07:00 0HLN69470PCK5:00000011 [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2019-06-01T11:42:03.5864950+07:00 0HLN69470PCK5:00000011 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2019-06-01T11:42:03.6206865+07:00 0HLN69470PCK5:00000011 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The DELETE statement conflicted with the REFERENCE constraint "FK_Bills_AspNetUsers_CustomerId". The conflict occurred in database "Shop3", table "dbo.Bills", column 'CustomerId'.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.DeleteAsync(TUser user, CancellationToken cancellationToken)
   at Shop3.Application.Implementation.UserService.DeleteAsync(String id) in E:\project\shop3\Shop3.Application\Implementation\UserService.cs:line 74
   at Shop3.Areas.Admin.Controllers.UserController.Delete(String id) in E:\project\shop3\Shop3\Areas\Admin\Controllers\UserController.cs:line 134
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Shop3.Middleware.ImageResizerMiddleware.Invoke(HttpContext context) in E:\project\shop3\Shop3\Middleware\ImageResizerMiddleware.cs:line 77
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-06-01T11:42:03.7082742+07:00 0HLN69470PCK5:00000011 [INF] Request finished in 508.7507ms 500 text/html; charset=utf-8 (791a596a)
2019-06-01T11:42:49.8200021+07:00 0HLN69470PCK5:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Announcement/MarkAsReadAll   (ca22a1cb)
2019-06-01T11:42:49.8213395+07:00 0HLN69470PCKC:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Announcement/MarkAsReadAll   (ca22a1cb)
2019-06-01T11:42:49.8279410+07:00 0HLN69470PCK5:00000012 [INF] Executing endpoint '"405 HTTP Method Not Supported"' (500cc934)
2019-06-01T11:42:49.8523241+07:00 0HLN69470PCKC:0000000A [INF] Executing endpoint '"405 HTTP Method Not Supported"' (500cc934)
2019-06-01T11:42:49.8575635+07:00 0HLN69470PCK5:00000012 [INF] Executed endpoint '"405 HTTP Method Not Supported"' (99874f2b)
2019-06-01T11:42:49.8614986+07:00 0HLN69470PCKC:0000000A [INF] Executed endpoint '"405 HTTP Method Not Supported"' (99874f2b)
2019-06-01T11:42:49.8683467+07:00 0HLN69470PCK5:00000012 [INF] Request finished in 44.7043ms 405  (791a596a)
2019-06-01T11:42:49.8708784+07:00 0HLN69470PCKC:0000000A [INF] Request finished in 46.8692ms 405  (791a596a)
2019-06-01T11:42:56.0556560+07:00 0HLN69470PCKC:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/index   (ca22a1cb)
2019-06-01T11:42:56.0596770+07:00 0HLN69470PCKC:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (500cc934)
2019-06-01T11:42:56.0634267+07:00 0HLN69470PCKC:0000000B [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" (a44c0341)
2019-06-01T11:42:56.0670793+07:00 0HLN69470PCKC:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T11:42:56.0721997+07:00 0HLN69470PCKC:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:42:56.0788585+07:00 0HLN69470PCKC:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:42:56.0974312+07:00 0HLN69470PCKC:0000000B [INF] Executed DbCommand ("10"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:42:56.1019776+07:00 0HLN69470PCKC:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T11:42:56.1079493+07:00 0HLN69470PCKC:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 29.7927ms. (50a9e262)
2019-06-01T11:42:56.1133385+07:00 0HLN69470PCKC:0000000B [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:42:56.1238390+07:00 0HLN69470PCKC:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:42:56.1278575+07:00 0HLN69470PCKC:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T11:42:56.1351784+07:00 0HLN69470PCKC:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:42:56.1397413+07:00 0HLN69470PCKC:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T11:42:56.1474701+07:00 0HLN69470PCKC:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:42:56.1515370+07:00 0HLN69470PCKC:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T11:42:56.1602274+07:00 0HLN69470PCKC:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:42:56.1640941+07:00 0HLN69470PCKC:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T11:42:56.1719284+07:00 0HLN69470PCKC:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:42:56.1758500+07:00 0HLN69470PCKC:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T11:42:56.1831759+07:00 0HLN69470PCKC:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:42:56.1875994+07:00 0HLN69470PCKC:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T11:42:56.1945306+07:00 0HLN69470PCKC:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:42:56.2741260+07:00 0HLN69470PCKC:0000000B [INF] Executed ViewResult - view "Index" executed in 88.0401ms. (f66409e9)
2019-06-01T11:42:56.2803065+07:00 0HLN69470PCKE:00000001 [INF] Request finished in 57077.5252ms 101  (791a596a)
2019-06-01T11:42:56.2814795+07:00 0HLN69470PCKC:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" in 211.1912ms (afa2e885)
2019-06-01T11:42:56.2901371+07:00 0HLN69470PCKC:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (99874f2b)
2019-06-01T11:42:56.2973146+07:00 0HLN69470PCKC:0000000B [INF] Request finished in 240.9983ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:42:56.9352952+07:00 0HLN69470PCKC:0000000C [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:42:56.9652077+07:00 0HLN69470PCJV:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:42:56.9768446+07:00 0HLN69470PCKC:0000000C [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:42:56.9783736+07:00 0HLN69470PCJV:00000017 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:42:56.9832992+07:00 0HLN69470PCKC:0000000C [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:42:56.9842506+07:00 0HLN69470PCJV:00000017 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:42:56.9863843+07:00 0HLN69470PCK9:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T11:42:58.0206304+07:00 0HLN69470PCJV:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:42:58.0228610+07:00 0HLN69470PCKC:0000000C [INF] Request finished in 73.0711ms 200 application/json (791a596a)
2019-06-01T11:42:58.0451096+07:00 0HLN69470PCK9:00000012 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T11:42:58.0503076+07:00 0HLN69470PCJV:00000017 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:42:58.0567958+07:00 0HLN69470PCK9:00000012 [INF] Request finished in 1125.4411ms 200 image/x-icon (791a596a)
2019-06-01T11:42:58.0586423+07:00 0HLN69470PCJV:00000017 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:42:58.0633024+07:00 0HLN69470PCKF:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=KYtBWeesdT3xA6oZDmxroQ   (ca22a1cb)
2019-06-01T11:42:58.0683075+07:00 0HLN69470PCK5:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:42:58.0700027+07:00 0HLN69470PCJV:00000017 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T11:42:58.0748446+07:00 0HLN69470PCKF:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:42:58.0764572+07:00 0HLN69470PCK5:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:42:58.0829762+07:00 0HLN69470PCJV:00000017 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T11:42:58.0840253+07:00 0HLN69470PCKF:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:42:58.0866226+07:00 0HLN69470PCK5:00000013 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:42:58.0937664+07:00 0HLN69470PCJV:00000017 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 33.5138ms. (50a9e262)
2019-06-01T11:42:58.0950492+07:00 0HLN69470PCK5:00000013 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:42:58.1007694+07:00 0HLN69470PCJV:00000017 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:42:58.1017360+07:00 0HLN69470PCKF:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:42:58.1088733+07:00 0HLN69470PCK5:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:42:58.1097196+07:00 0HLN69470PCJV:00000017 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 1117.4509ms (afa2e885)
2019-06-01T11:42:58.1159633+07:00 0HLN69470PCJV:00000017 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:42:58.1182919+07:00 0HLN69470PCK5:00000013 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:42:58.1224022+07:00 0HLN69470PCJV:00000017 [INF] Request finished in 1197.1395ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:42:58.1390841+07:00 0HLN69470PCK5:00000013 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:42:58.1445126+07:00 0HLN69470PCJV:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:42:58.1453524+07:00 0HLN69470PCK9:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/null   (ca22a1cb)
2019-06-01T11:42:58.1549507+07:00 0HLN69470PCJV:00000018 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:42:58.1568994+07:00 0HLN69470PCK9:00000013 [INF] Request finished in 9.732ms 404  (791a596a)
2019-06-01T11:42:58.1635399+07:00 0HLN69470PCJV:00000018 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:42:58.1667432+07:00 0HLN69470PCK5:00000013 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:42:58.1727670+07:00 0HLN69470PCJV:00000018 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:42:58.1753528+07:00 0HLN69470PCK5:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 58.0647ms. (50a9e262)
2019-06-01T11:42:58.1826812+07:00 0HLN69470PCJV:00000018 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:42:58.1836223+07:00 0HLN69470PCK5:00000013 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:42:58.1934025+07:00 0HLN69470PCJV:00000018 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:42:58.1975571+07:00 0HLN69470PCK5:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 98.2542ms (afa2e885)
2019-06-01T11:42:58.1993958+07:00 0HLN69470PCK9:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:42:58.2041048+07:00 0HLN69470PCK5:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:42:58.2089696+07:00 0HLN69470PCJV:00000018 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T11:42:58.2170979+07:00 0HLN69470PCK9:00000014 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:42:58.2215764+07:00 0HLN69470PCK5:00000013 [INF] Request finished in 1285.9751ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:42:58.2299820+07:00 0HLN69470PCJV:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T11:42:58.2390406+07:00 0HLN69470PCK9:00000014 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:42:58.2420136+07:00 0HLN69470PCJV:00000018 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 47.387ms. (50a9e262)
2019-06-01T11:42:58.2475566+07:00 0HLN69470PCK9:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:42:58.2501014+07:00 0HLN69470PCJV:00000018 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:42:58.2590512+07:00 0HLN69470PCK9:00000014 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:42:58.2601461+07:00 0HLN69470PCJV:00000018 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 85.9121ms (afa2e885)
2019-06-01T11:42:58.2681892+07:00 0HLN69470PCJV:00000018 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:42:58.2739677+07:00 0HLN69470PCK9:00000014 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:42:58.2859238+07:00 0HLN69470PCJV:00000018 [INF] Request finished in 137.4817ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:42:58.2884587+07:00 0HLN69470PCK9:00000014 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:42:58.2940997+07:00 0HLN69470PCJV:00000019 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/null   (ca22a1cb)
2019-06-01T11:42:58.3070750+07:00 0HLN69470PCJV:00000019 [INF] Request finished in 5.3218ms 404  (791a596a)
2019-06-01T11:42:58.3090630+07:00 0HLN69470PCK9:00000014 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:42:58.3155943+07:00 0HLN69470PCK9:00000014 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 50.1025ms. (50a9e262)
2019-06-01T11:42:58.3214384+07:00 0HLN69470PCK9:00000014 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:42:58.3278486+07:00 0HLN69470PCK9:00000014 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 82.6809ms (afa2e885)
2019-06-01T11:42:58.3329067+07:00 0HLN69470PCK9:00000014 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:42:58.3420238+07:00 0HLN69470PCK9:00000014 [INF] Request finished in 143.4329ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:43:04.7611804+07:00 0HLN69470PCK9:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Announcement/MarkAsReadAll   (ca22a1cb)
2019-06-01T11:43:04.7653404+07:00 0HLN69470PCK9:00000015 [INF] Executing endpoint '"405 HTTP Method Not Supported"' (500cc934)
2019-06-01T11:43:04.7687377+07:00 0HLN69470PCK9:00000015 [INF] Executed endpoint '"405 HTTP Method Not Supported"' (99874f2b)
2019-06-01T11:43:04.7763275+07:00 0HLN69470PCK9:00000015 [INF] Request finished in 11.908ms 405  (791a596a)
2019-06-01T11:43:04.7809067+07:00 0HLN69470PCJV:0000001A [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Announcement/MarkAsReadAll   (ca22a1cb)
2019-06-01T11:43:04.7854422+07:00 0HLN69470PCJV:0000001A [INF] Executing endpoint '"405 HTTP Method Not Supported"' (500cc934)
2019-06-01T11:43:04.7902885+07:00 0HLN69470PCJV:0000001A [INF] Executed endpoint '"405 HTTP Method Not Supported"' (99874f2b)
2019-06-01T11:43:04.7967110+07:00 0HLN69470PCJV:0000001A [INF] Request finished in 16.2584ms 405  (791a596a)
2019-06-01T11:43:17.6482705+07:00 0HLN69470PCJV:0000001B [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Announcement/MarkAsReadAll   (ca22a1cb)
2019-06-01T11:43:17.6529331+07:00 0HLN69470PCJV:0000001B [INF] Executing endpoint '"405 HTTP Method Not Supported"' (500cc934)
2019-06-01T11:43:17.6571788+07:00 0HLN69470PCJV:0000001B [INF] Executed endpoint '"405 HTTP Method Not Supported"' (99874f2b)
2019-06-01T11:43:17.6645831+07:00 0HLN69470PCJV:0000001B [INF] Request finished in 13.9766ms 405  (791a596a)
2019-06-01T11:43:57.9316578+07:00 0HLN69470PCJV:0000001C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/index   (ca22a1cb)
2019-06-01T11:43:57.9358362+07:00 0HLN69470PCJV:0000001C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (500cc934)
2019-06-01T11:43:57.9407618+07:00 0HLN69470PCJV:0000001C [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" (a44c0341)
2019-06-01T11:43:57.9451323+07:00 0HLN69470PCJV:0000001C [INF] Authorization was successful. (0d575a54)
2019-06-01T11:43:57.9491248+07:00 0HLN69470PCJV:0000001C [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:43:57.9532647+07:00 0HLN69470PCJV:0000001C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:43:57.9662518+07:00 0HLN69470PCJV:0000001C [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:43:57.9705234+07:00 0HLN69470PCJV:0000001C [INF] Authorization was successful. (0d575a54)
2019-06-01T11:43:57.9755613+07:00 0HLN69470PCJV:0000001C [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 21.5027ms. (50a9e262)
2019-06-01T11:43:57.9788918+07:00 0HLN69470PCJV:0000001C [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:43:57.9914711+07:00 0HLN69470PCJV:0000001C [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:43:57.9954650+07:00 0HLN69470PCJV:0000001C [INF] Authorization was successful. (0d575a54)
2019-06-01T11:43:58.0077955+07:00 0HLN69470PCJV:0000001C [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:43:58.0132914+07:00 0HLN69470PCJV:0000001C [INF] Authorization was successful. (0d575a54)
2019-06-01T11:43:58.0272578+07:00 0HLN69470PCJV:0000001C [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:43:58.0310177+07:00 0HLN69470PCJV:0000001C [INF] Authorization was successful. (0d575a54)
2019-06-01T11:43:58.0419376+07:00 0HLN69470PCJV:0000001C [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:43:58.0458473+07:00 0HLN69470PCJV:0000001C [INF] Authorization was successful. (0d575a54)
2019-06-01T11:43:58.0547506+07:00 0HLN69470PCJV:0000001C [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:43:58.0617672+07:00 0HLN69470PCJV:0000001C [INF] Authorization was successful. (0d575a54)
2019-06-01T11:43:58.0710316+07:00 0HLN69470PCJV:0000001C [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:43:58.0761287+07:00 0HLN69470PCJV:0000001C [INF] Authorization was successful. (0d575a54)
2019-06-01T11:43:58.0844339+07:00 0HLN69470PCJV:0000001C [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:43:58.9414547+07:00 0HLN69470PCJV:0000001C [INF] Executed ViewResult - view "Index" executed in 917.7711ms. (f66409e9)
2019-06-01T11:43:58.9901267+07:00 0HLN69470PCKF:00000001 [INF] Request finished in 60884.9687ms 101  (791a596a)
2019-06-01T11:43:58.9917267+07:00 0HLN69470PCJV:0000001C [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)" in 1000.8566ms (afa2e885)
2019-06-01T11:43:59.0062629+07:00 0HLN69470PCK9:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=IMD3ovDnFCD3sBrwebvG8zeN4U59ZdTgM4AYqHYETUo   (ca22a1cb)
2019-06-01T11:43:59.0117447+07:00 0HLN69470PCJV:0000001C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.Index (Shop3)"' (99874f2b)
2019-06-01T11:44:00.1475592+07:00 0HLN69470PCJV:0000001C [INF] Request finished in 1085.2926ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:44:00.1605720+07:00 0HLN69470PCK9:00000016 [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T11:44:00.1694578+07:00 0HLN69470PCK5:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:44:00.1732494+07:00 0HLN69470PCK9:00000016 [INF] Request finished in 1170.2829ms 200 application/javascript (791a596a)
2019-06-01T11:44:00.1832720+07:00 0HLN69470PCJV:0000001D [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:44:00.1865864+07:00 0HLN69470PCK5:00000014 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:44:00.1919846+07:00 0HLN69470PCK9:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:44:00.2034484+07:00 0HLN69470PCK5:00000014 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:44:00.2101926+07:00 0HLN69470PCK9:00000017 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:44:00.2242557+07:00 0HLN69470PCK5:00000014 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:44:00.2273798+07:00 0HLN69470PCK9:00000017 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:44:00.2452895+07:00 0HLN69470PCK9:00000017 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:44:00.2493371+07:00 0HLN69470PCK5:00000014 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:44:00.2544436+07:00 0HLN69470PCKC:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T11:44:00.2613137+07:00 0HLN69470PCK9:00000017 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:44:00.2632846+07:00 0HLN69470PCK5:00000014 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:44:00.2694458+07:00 0HLN69470PCKC:0000000D [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T11:44:00.2751033+07:00 0HLN69470PCK9:00000017 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:44:00.2811915+07:00 0HLN69470PCK5:00000014 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T11:44:00.2830396+07:00 0HLN69470PCKC:0000000D [INF] Request finished in 25.2044ms 200 image/x-icon (791a596a)
2019-06-01T11:44:00.2840669+07:00 0HLN69470PCJV:0000001D [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:44:00.3059779+07:00 0HLN69470PCJV:0000001D [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:44:00.3147012+07:00 0HLN69470PCK9:00000017 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:44:00.3181264+07:00 0HLN69470PCK5:00000014 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T11:44:00.3325214+07:00 0HLN69470PCK5:00000014 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 68.9312ms. (50a9e262)
2019-06-01T11:44:00.3388517+07:00 0HLN69470PCK9:00000017 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:44:00.4099003+07:00 0HLN69470PCK5:00000014 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:44:00.4133625+07:00 0HLN69470PCK9:00000017 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 77.8251ms. (50a9e262)
2019-06-01T11:44:00.4285629+07:00 0HLN69470PCK5:00000014 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 206.5368ms (afa2e885)
2019-06-01T11:44:00.4304197+07:00 0HLN69470PCK9:00000017 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:44:00.4353103+07:00 0HLN69470PCKG:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=tePuLdNnu4HQXtwyXTD2aw   (ca22a1cb)
2019-06-01T11:44:00.4463401+07:00 0HLN69470PCK5:00000014 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:44:00.4497583+07:00 0HLN69470PCK9:00000017 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 204.9335ms (afa2e885)
2019-06-01T11:44:00.4665406+07:00 0HLN69470PCK5:00000014 [INF] Request finished in 291.0471ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:44:00.4676270+07:00 0HLN69470PCK9:00000017 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:44:00.4696303+07:00 0HLN69470PCKG:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:44:00.4829833+07:00 0HLN69470PCK9:00000017 [INF] Request finished in 289.9628ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:44:00.4917530+07:00 0HLN69470PCJV:0000001D [INF] Request finished in 148.7719ms 200 application/json (791a596a)
2019-06-01T11:44:00.5019019+07:00 0HLN69470PCKG:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:44:00.5260097+07:00 0HLN69470PCJV:0000001E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:44:00.5331720+07:00 0HLN69470PCK5:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/null   (ca22a1cb)
2019-06-01T11:44:00.5566091+07:00 0HLN69470PCK9:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:44:00.5610050+07:00 0HLN69470PCK5:00000015 [INF] Request finished in 10.2974ms 404  (791a596a)
2019-06-01T11:44:00.5620257+07:00 0HLN69470PCKG:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:44:00.5681746+07:00 0HLN69470PCJV:0000001E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:44:00.5702341+07:00 0HLN69470PCK9:00000018 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:44:00.5794657+07:00 0HLN69470PCJV:0000001E [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:44:00.5825807+07:00 0HLN69470PCK9:00000018 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"User\"}". Executing action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:44:00.5885520+07:00 0HLN69470PCJV:0000001E [INF] Authorization was successful. (0d575a54)
2019-06-01T11:44:00.5930734+07:00 0HLN69470PCK9:00000018 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:44:00.5993639+07:00 0HLN69470PCJV:0000001E [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:44:00.6006070+07:00 0HLN69470PCK9:00000018 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" with arguments (["", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:44:00.6119349+07:00 0HLN69470PCJV:0000001E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:44:00.6130419+07:00 0HLN69470PCK9:00000018 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:44:00.6214513+07:00 0HLN69470PCK9:00000018 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AspNetUsers] AS [a]" (0723d8ff)
2019-06-01T11:44:00.6254968+07:00 0HLN69470PCJV:0000001E [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:44:00.6307518+07:00 0HLN69470PCK9:00000018 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AspNetUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-06-01T11:44:00.6378234+07:00 0HLN69470PCJV:0000001E [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:44:00.6435169+07:00 0HLN69470PCK9:00000018 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 31.1121ms. (50a9e262)
2019-06-01T11:44:00.6495345+07:00 0HLN69470PCJV:0000001E [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 38.7712ms. (50a9e262)
2019-06-01T11:44:00.6519427+07:00 0HLN69470PCK9:00000018 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AppUserViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:44:00.6629188+07:00 0HLN69470PCJV:0000001E [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:44:00.6728042+07:00 0HLN69470PCK9:00000018 [INF] Executed action "Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)" in 70.2793ms (afa2e885)
2019-06-01T11:44:00.6869003+07:00 0HLN69470PCJV:0000001E [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 83.6573ms (afa2e885)
2019-06-01T11:44:00.7131423+07:00 0HLN69470PCK9:00000018 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UserController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:44:00.7442672+07:00 0HLN69470PCJV:0000001E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:44:00.7523488+07:00 0HLN69470PCK9:00000018 [INF] Request finished in 189.3385ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:44:00.7532321+07:00 0HLN69470PCJV:0000001E [INF] Request finished in 231.7278ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:44:00.7644284+07:00 0HLN69470PCK9:00000019 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/user/null   (ca22a1cb)
2019-06-01T11:44:00.7755681+07:00 0HLN69470PCK9:00000019 [INF] Request finished in 5.4149ms 404  (791a596a)
2019-06-01T11:44:09.1942914+07:00 0HLN69470PCK9:0000001A [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Announcement/MarkAsReadAll   (ca22a1cb)
2019-06-01T11:44:09.1982931+07:00 0HLN69470PCK9:0000001A [INF] Executing endpoint '"405 HTTP Method Not Supported"' (500cc934)
2019-06-01T11:44:09.2011912+07:00 0HLN69470PCK9:0000001A [INF] Executed endpoint '"405 HTTP Method Not Supported"' (99874f2b)
2019-06-01T11:44:09.2093384+07:00 0HLN69470PCK9:0000001A [INF] Request finished in 10.8898ms 405  (791a596a)
2019-06-01T11:44:09.2173228+07:00 0HLN69470PCK9:0000001B [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Announcement/MarkAsReadAll   (ca22a1cb)
2019-06-01T11:44:09.2243107+07:00 0HLN69470PCK9:0000001B [INF] Executing endpoint '"405 HTTP Method Not Supported"' (500cc934)
2019-06-01T11:44:09.2319550+07:00 0HLN69470PCK9:0000001B [INF] Executed endpoint '"405 HTTP Method Not Supported"' (99874f2b)
2019-06-01T11:44:09.2422368+07:00 0HLN69470PCK9:0000001B [INF] Request finished in 19.003ms 405  (791a596a)
2019-06-01T11:50:49.6346337+07:00 0HLN69470PCKH:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T11:50:49.6400884+07:00 0HLN69470PCKH:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T11:50:49.6452826+07:00 0HLN69470PCKH:00000001 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T11:50:49.6493995+07:00 0HLN69470PCKH:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:50:49.6534640+07:00 0HLN69470PCKH:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:50:49.6580215+07:00 0HLN69470PCKH:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2239ms. (50a9e262)
2019-06-01T11:50:49.6644339+07:00 0HLN69470PCKH:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:50:49.7238709+07:00 0HLN69470PCKH:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:50:53.8830171+07:00 0HLN69470PCKH:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:50:53.9459593+07:00 0HLN69470PCKH:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:50:53.9627048+07:00 0HLN69470PCKH:00000001 [INF] Executed DbCommand ("10"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:50:53.9695815+07:00 0HLN69470PCKH:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:50:53.9840483+07:00 0HLN69470PCKH:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:50:53.9877907+07:00 0HLN69470PCKH:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:50:53.9967207+07:00 0HLN69470PCKH:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:50:54.0791067+07:00 0HLN69470PCKH:00000001 [INF] Executed ViewResult - view "Index" executed in 4341.0155ms. (f66409e9)
2019-06-01T11:50:54.1802386+07:00 0HLN69470PCKG:00000001 [INF] Request finished in 413831.8585ms 101  (791a596a)
2019-06-01T11:50:54.1837253+07:00 0HLN69470PCKH:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 4433.854ms (afa2e885)
2019-06-01T11:50:54.1977741+07:00 0HLN69470PCKH:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T11:50:54.2182377+07:00 0HLN69470PCKH:00000001 [INF] Request finished in 4568.8454ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:50:54.4769050+07:00 0HLN69470PCKH:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=IMD3ovDnFCD3sBrwebvG8zeN4U59ZdTgM4AYqHYETUo   (ca22a1cb)
2019-06-01T11:50:54.5148808+07:00 0HLN69470PCKH:00000002 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T11:50:54.5329562+07:00 0HLN69470PCKH:00000002 [INF] Request finished in 52.6403ms 304 application/javascript (791a596a)
2019-06-01T11:50:54.8475196+07:00 0HLN69470PCKH:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:50:54.8609522+07:00 0HLN69470PCKH:00000003 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:50:54.8652312+07:00 0HLN69470PCKJ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:50:54.8775824+07:00 0HLN69470PCKH:00000003 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:50:54.8863721+07:00 0HLN69470PCKJ:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T11:50:54.8927803+07:00 0HLN69470PCKI:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:50:54.8958757+07:00 0HLN69470PCKH:00000003 [INF] Request finished in 47.9376ms 200 application/json (791a596a)
2019-06-01T11:50:54.9073489+07:00 0HLN69470PCKJ:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T11:50:54.9242187+07:00 0HLN69470PCKI:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:50:54.9294798+07:00 0HLN69470PCKJ:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:50:55.1533388+07:00 0HLN69470PCKI:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:50:55.1589216+07:00 0HLN69470PCKJ:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:50:55.1668445+07:00 0HLN69470PCKI:00000001 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:50:55.1695907+07:00 0HLN69470PCKK:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=JVgLf2u0On8fPed1SxSriw   (ca22a1cb)
2019-06-01T11:50:55.1776958+07:00 0HLN69470PCKJ:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:50:55.1809630+07:00 0HLN69470PCKI:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:50:55.1821052+07:00 0HLN69470PCKK:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:50:55.1882693+07:00 0HLN69470PCKI:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:50:55.1939234+07:00 0HLN69470PCKK:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:50:55.2198832+07:00 0HLN69470PCKK:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:50:55.2285519+07:00 0HLN69470PCKI:00000001 [INF] Executed DbCommand ("14"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:50:55.2373937+07:00 0HLN69470PCKI:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:50:55.2791057+07:00 0HLN69470PCKI:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 56.594ms. (50a9e262)
2019-06-01T11:50:55.2851677+07:00 0HLN69470PCKJ:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:50:55.3066499+07:00 0HLN69470PCKI:00000001 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:50:55.3294683+07:00 0HLN69470PCKI:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 153.6302ms (afa2e885)
2019-06-01T11:50:55.3340599+07:00 0HLN69470PCKI:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:50:55.3603983+07:00 0HLN69470PCKI:00000001 [INF] Request finished in 489.3567ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:50:55.4313062+07:00 0HLN69470PCKJ:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:50:55.4716968+07:00 0HLN69470PCKJ:00000001 [INF] Executed DbCommand ("33"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T11:50:55.5039256+07:00 0HLN69470PCKJ:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T11:50:55.5159355+07:00 0HLN69470PCKJ:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T11:50:55.5270838+07:00 0HLN69470PCKJ:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T11:50:55.5390238+07:00 0HLN69470PCKJ:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T11:50:55.5503293+07:00 0HLN69470PCKJ:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T11:50:55.5557713+07:00 0HLN69470PCKJ:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 392.2606ms. (50a9e262)
2019-06-01T11:50:55.5597278+07:00 0HLN69470PCKJ:00000001 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:50:55.5661976+07:00 0HLN69470PCKJ:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 652.6509ms (afa2e885)
2019-06-01T11:50:55.5703921+07:00 0HLN69470PCKJ:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T11:50:55.5788417+07:00 0HLN69470PCKJ:00000001 [INF] Request finished in 724.7747ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:50:55.5941890+07:00 0HLN69470PCKJ:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:50:55.6002961+07:00 0HLN69470PCKJ:00000002 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:50:55.6055977+07:00 0HLN69470PCKJ:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:50:55.6126234+07:00 0HLN69470PCKJ:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:50:55.6169422+07:00 0HLN69470PCKJ:00000002 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:50:55.6222509+07:00 0HLN69470PCKJ:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:50:55.6281360+07:00 0HLN69470PCKJ:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:50:55.6337220+07:00 0HLN69470PCKJ:00000002 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:50:55.6385868+07:00 0HLN69470PCKJ:00000002 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.6326ms. (50a9e262)
2019-06-01T11:50:55.6432793+07:00 0HLN69470PCKJ:00000002 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:50:55.6499731+07:00 0HLN69470PCKJ:00000002 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 37.8703ms (afa2e885)
2019-06-01T11:50:55.6553262+07:00 0HLN69470PCKJ:00000002 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:50:55.6616523+07:00 0HLN69470PCKJ:00000002 [INF] Request finished in 71.5503ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:51:00.7797941+07:00 0HLN69470PCKJ:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Announcement/MarkAsReadAll   (ca22a1cb)
2019-06-01T11:51:00.7855111+07:00 0HLN69470PCKJ:00000003 [INF] Executing endpoint '"405 HTTP Method Not Supported"' (500cc934)
2019-06-01T11:51:00.7936222+07:00 0HLN69470PCKJ:00000003 [INF] Executed endpoint '"405 HTTP Method Not Supported"' (99874f2b)
2019-06-01T11:51:00.8002668+07:00 0HLN69470PCKJ:00000003 [INF] Request finished in 17.796ms 405  (791a596a)
2019-06-01T11:51:53.5123831+07:00 0HLN69470PCKJ:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T11:51:53.5160819+07:00 0HLN69470PCKJ:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T11:51:53.5208179+07:00 0HLN69470PCKJ:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T11:51:53.5286595+07:00 0HLN69470PCKJ:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:51:53.5330219+07:00 0HLN69470PCKJ:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:51:53.5369705+07:00 0HLN69470PCKJ:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0201ms. (50a9e262)
2019-06-01T11:51:53.5431338+07:00 0HLN69470PCKJ:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:51:53.5485890+07:00 0HLN69470PCKJ:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:51:53.5643141+07:00 0HLN69470PCKJ:00000004 [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:51:53.5684187+07:00 0HLN69470PCKJ:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:51:53.5822001+07:00 0HLN69470PCKJ:00000004 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:51:53.5859276+07:00 0HLN69470PCKJ:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:51:53.6013090+07:00 0HLN69470PCKJ:00000004 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:51:53.6066029+07:00 0HLN69470PCKJ:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:51:53.6146291+07:00 0HLN69470PCKJ:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:51:56.6715296+07:00 0HLN69470PCKJ:00000004 [INF] Executed ViewResult - view "Index" executed in 78.9439ms. (f66409e9)
2019-06-01T11:52:06.6355994+07:00 0HLN69470PCKH:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/font-awesome/css/font-awesome.css   (ca22a1cb)
2019-06-01T11:52:06.6377459+07:00 0HLN69470PCKJ:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 3150.9463ms (afa2e885)
2019-06-01T11:52:06.6507288+07:00 0HLN69470PCKJ:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T11:52:06.6523666+07:00 0HLN69470PCKH:00000004 [INF] Sending file. Request path: '"/lib/font-awesome/css/font-awesome.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\font-awesome\css\font-awesome.css"' (27b0a520)
2019-06-01T11:52:06.6579916+07:00 0HLN69470PCKI:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css   (ca22a1cb)
2019-06-01T11:52:06.6662229+07:00 0HLN69470PCKH:00000004 [INF] Request finished in 11021.6192ms 200 text/css (791a596a)
2019-06-01T11:52:06.6695079+07:00 0HLN69470PCKJ:00000004 [INF] Request finished in 13143.6733ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:52:06.6745195+07:00 0HLN69470PCKK:00000001 [INF] Request finished in 60475.858ms 101  (791a596a)
2019-06-01T11:52:06.6808490+07:00 0HLN69470PCKH:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/iCheck/skins/flat/green.css   (ca22a1cb)
2019-06-01T11:52:06.6929208+07:00 0HLN69470PCKJ:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/skins/moono/editor.css   (ca22a1cb)
2019-06-01T11:52:06.6939517+07:00 0HLN69470PCKH:00000005 [INF] Sending file. Request path: '"/lib/iCheck/skins/flat/green.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\iCheck\skins\flat\green.css"' (27b0a520)
2019-06-01T11:52:06.6963280+07:00 0HLN69470PCKM:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/styles/metro/notify-metro.css   (ca22a1cb)
2019-06-01T11:52:06.7008908+07:00 0HLN69470PCKN:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap-daterangepicker/daterangepicker.css   (ca22a1cb)
2019-06-01T11:52:06.7029700+07:00 0HLN69470PCKH:00000005 [INF] Request finished in 23.058ms 200 text/css (791a596a)
2019-06-01T11:52:06.7183242+07:00 0HLN69470PCKM:00000001 [INF] Sending file. Request path: '"/lib/notifyjs/dist/styles/metro/notify-metro.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\styles\metro\notify-metro.css"' (27b0a520)
2019-06-01T11:52:06.7198183+07:00 0HLN69470PCKJ:00000005 [INF] Sending file. Request path: '"/lib/ckeditor/skins/moono/editor.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\skins\moono\editor.css"' (27b0a520)
2019-06-01T11:52:06.7281913+07:00 0HLN69470PCKM:00000001 [INF] Request finished in 80.8183ms 200 text/css (791a596a)
2019-06-01T11:52:06.7318040+07:00 0HLN69470PCKJ:00000005 [INF] Request finished in 41.1556ms 200 text/css (791a596a)
2019-06-01T11:52:06.7399037+07:00 0HLN69470PCKH:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/css/custom.css   (ca22a1cb)
2019-06-01T11:52:06.7453683+07:00 0HLN69470PCKM:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery/dist/jquery.js   (ca22a1cb)
2019-06-01T11:52:06.7471008+07:00 0HLN69470PCKJ:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/images/img.jpg   (ca22a1cb)
2019-06-01T11:52:06.7487439+07:00 0HLN69470PCKN:00000001 [INF] Sending file. Request path: '"/lib/bootstrap-daterangepicker/daterangepicker.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap-daterangepicker\daterangepicker.css"' (27b0a520)
2019-06-01T11:52:06.7539932+07:00 0HLN69470PCKL:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/nprogress/nprogress.css   (ca22a1cb)
2019-06-01T11:52:06.7586942+07:00 0HLN69470PCKN:00000001 [INF] Request finished in 111.2831ms 200 text/css (791a596a)
2019-06-01T11:52:06.7604739+07:00 0HLN69470PCKJ:00000006 [INF] Sending file. Request path: '"/admin-side/images/img.jpg"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\images\img.jpg"' (27b0a520)
2019-06-01T11:52:06.7820908+07:00 0HLN69470PCKJ:00000006 [INF] Request finished in 23.1942ms 200 image/jpeg (791a596a)
2019-06-01T11:52:06.7845876+07:00 0HLN69470PCKH:00000006 [INF] Sending file. Request path: '"/admin-side/css/custom.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\css\custom.css"' (27b0a520)
2019-06-01T11:52:06.7944456+07:00 0HLN69470PCKH:00000006 [INF] Request finished in 56.308ms 200 text/css (791a596a)
2019-06-01T11:52:06.7962753+07:00 0HLN69470PCKJ:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/js/bootstrap.js   (ca22a1cb)
2019-06-01T11:52:06.7979172+07:00 0HLN69470PCKN:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/signalr/signalr.js   (ca22a1cb)
2019-06-01T11:52:06.8075074+07:00 0HLN69470PCKL:00000001 [INF] Sending file. Request path: '"/lib/nprogress/nprogress.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\nprogress\nprogress.css"' (27b0a520)
2019-06-01T11:52:06.8095746+07:00 0HLN69470PCKH:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/nprogress/nprogress.js   (ca22a1cb)
2019-06-01T11:52:06.8198253+07:00 0HLN69470PCKL:00000001 [INF] Request finished in 170.0343ms 200 text/css (791a596a)
2019-06-01T11:52:06.8425551+07:00 0HLN69470PCKH:00000007 [INF] Sending file. Request path: '"/lib/nprogress/nprogress.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\nprogress\nprogress.js"' (27b0a520)
2019-06-01T11:52:06.8456390+07:00 0HLN69470PCKJ:00000007 [INF] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\js\bootstrap.js"' (27b0a520)
2019-06-01T11:52:06.8508533+07:00 0HLN69470PCKH:00000007 [INF] Request finished in 42.9291ms 200 application/javascript (791a596a)
2019-06-01T11:52:06.8525715+07:00 0HLN69470PCKJ:00000007 [INF] Request finished in 58.0725ms 200 application/javascript (791a596a)
2019-06-01T11:52:06.8621112+07:00 0HLN69470PCKM:00000002 [INF] Sending file. Request path: '"/lib/jquery/dist/jquery.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery\dist\jquery.js"' (27b0a520)
2019-06-01T11:52:06.8689670+07:00 0HLN69470PCKI:00000002 [INF] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\css\bootstrap.css"' (27b0a520)
2019-06-01T11:52:06.8789222+07:00 0HLN69470PCKH:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/twbs-pagination/jquery.twbsPagination.js   (ca22a1cb)
2019-06-01T11:52:06.8814605+07:00 0HLN69470PCKN:00000002 [INF] Sending file. Request path: '"/lib/signalr/signalr.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\signalr\signalr.js"' (27b0a520)
2019-06-01T11:52:06.8832538+07:00 0HLN69470PCKM:00000002 [INF] Request finished in 128.4634ms 200 application/javascript (791a596a)
2019-06-01T11:52:06.8920899+07:00 0HLN69470PCKN:00000002 [INF] Request finished in 119.7976ms 200 application/javascript (791a596a)
2019-06-01T11:52:06.8941276+07:00 0HLN69470PCKH:00000008 [INF] Sending file. Request path: '"/lib/twbs-pagination/jquery.twbsPagination.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\twbs-pagination\jquery.twbsPagination.js"' (27b0a520)
2019-06-01T11:52:06.9077977+07:00 0HLN69470PCKH:00000008 [INF] Request finished in 27.49ms 200 application/javascript (791a596a)
2019-06-01T11:52:06.9173509+07:00 0HLN69470PCKJ:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0   (ca22a1cb)
2019-06-01T11:52:06.9207844+07:00 0HLN69470PCKM:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/Chart.js/dist/Chart.js   (ca22a1cb)
2019-06-01T11:52:06.9265259+07:00 0HLN69470PCKI:00000002 [INF] Request finished in 11238.2705ms 200 text/css (791a596a)
2019-06-01T11:52:06.9309230+07:00 0HLN69470PCKN:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2   (ca22a1cb)
2019-06-01T11:52:06.9520750+07:00 0HLN69470PCKH:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap/dist/css/bootstrap.css.map   (ca22a1cb)
2019-06-01T11:52:06.9610190+07:00 0HLN69470PCKN:00000003 [INF] Sending file. Request path: '"/lib/bootstrap/dist/fonts/glyphicons-halflings-regular.woff2"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\fonts\glyphicons-halflings-regular.woff2"' (27b0a520)
2019-06-01T11:52:06.9739556+07:00 0HLN69470PCKI:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/mustache/mustache.js   (ca22a1cb)
2019-06-01T11:52:06.9763855+07:00 0HLN69470PCKN:00000003 [INF] Request finished in 43.7074ms 200 font/woff2 (791a596a)
2019-06-01T11:52:06.9857156+07:00 0HLN69470PCKJ:00000008 [INF] Sending file. Request path: '"/lib/font-awesome/fonts/fontawesome-webfont.woff2"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\font-awesome\fonts\fontawesome-webfont.woff2"' (27b0a520)
2019-06-01T11:52:06.9965070+07:00 0HLN69470PCKI:00000003 [INF] Sending file. Request path: '"/lib/mustache/mustache.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\mustache\mustache.js"' (27b0a520)
2019-06-01T11:52:06.9985861+07:00 0HLN69470PCKJ:00000008 [INF] Request finished in 83.4875ms 200 font/woff2 (791a596a)
2019-06-01T11:52:07.0071642+07:00 0HLN69470PCKI:00000003 [INF] Request finished in 60.9771ms 200 application/javascript (791a596a)
2019-06-01T11:52:07.0280249+07:00 0HLN69470PCKJ:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/iCheck/icheck.min.js   (ca22a1cb)
2019-06-01T11:52:07.0357041+07:00 0HLN69470PCKN:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-sparkline/dist/jquery.sparkline.js   (ca22a1cb)
2019-06-01T11:52:07.8403533+07:00 0HLN69470PCKJ:00000009 [INF] Sending file. Request path: '"/lib/iCheck/icheck.min.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\iCheck\icheck.min.js"' (27b0a520)
2019-06-01T11:52:07.8420907+07:00 0HLN69470PCKN:00000004 [INF] Sending file. Request path: '"/lib/jquery-sparkline/dist/jquery.sparkline.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-sparkline\dist\jquery.sparkline.js"' (27b0a520)
2019-06-01T11:52:07.8430651+07:00 0HLN69470PCKH:00000009 [INF] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.css.map"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap\dist\css\bootstrap.css.map"' (27b0a520)
2019-06-01T11:52:07.8492879+07:00 0HLN69470PCKN:00000004 [INF] Request finished in 835.0483ms 200 application/javascript (791a596a)
2019-06-01T11:52:07.8510224+07:00 0HLN69470PCKJ:00000009 [INF] Request finished in 837.125ms 200 application/javascript (791a596a)
2019-06-01T11:52:07.8619208+07:00 0HLN69470PCKH:00000009 [INF] Request finished in 909.2911ms 200 text/plain (791a596a)
2019-06-01T11:52:07.8639044+07:00 0HLN69470PCKN:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/signalr/signalr.js.map   (ca22a1cb)
2019-06-01T11:52:07.8655520+07:00 0HLN69470PCKJ:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation-unobtrusive/src/jquery.validate.unobtrusive.js   (ca22a1cb)
2019-06-01T11:52:07.8776099+07:00 0HLN69470PCKI:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/jquery.validate.js   (ca22a1cb)
2019-06-01T11:52:07.8842420+07:00 0HLN69470PCKH:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/localization/messages_vi.js   (ca22a1cb)
2019-06-01T11:52:07.8874433+07:00 0HLN69470PCKJ:0000000A [INF] Sending file. Request path: '"/lib/jquery-validation-unobtrusive/src/jquery.validate.unobtrusive.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation-unobtrusive\src\jquery.validate.unobtrusive.js"' (27b0a520)
2019-06-01T11:52:07.8985945+07:00 0HLN69470PCKJ:0000000A [INF] Request finished in 30.514ms 200 application/javascript (791a596a)
2019-06-01T11:52:07.9003339+07:00 0HLN69470PCKI:00000004 [INF] Sending file. Request path: '"/lib/jquery-validation/dist/jquery.validate.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\jquery.validate.js"' (27b0a520)
2019-06-01T11:52:07.9091775+07:00 0HLN69470PCKI:00000004 [INF] Request finished in 869.4364ms 200 application/javascript (791a596a)
2019-06-01T11:52:07.9131791+07:00 0HLN69470PCKJ:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/ckeditor/ckeditor.js   (ca22a1cb)
2019-06-01T11:52:07.9254437+07:00 0HLN69470PCKH:0000000A [INF] Sending file. Request path: '"/lib/jquery-validation/dist/localization/messages_vi.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\localization\messages_vi.js"' (27b0a520)
2019-06-01T11:52:07.9288989+07:00 0HLN69470PCKI:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/moment/moment.js   (ca22a1cb)
2019-06-01T11:52:07.9372340+07:00 0HLN69470PCKH:0000000A [INF] Request finished in 57.979ms 200 application/javascript (791a596a)
2019-06-01T11:52:07.9429254+07:00 0HLN69470PCKN:00000005 [INF] Sending file. Request path: '"/lib/signalr/signalr.js.map"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\signalr\signalr.js.map"' (27b0a520)
2019-06-01T11:52:07.9535930+07:00 0HLN69470PCKN:00000005 [INF] Request finished in 88.093ms 200 text/plain (791a596a)
2019-06-01T11:52:07.9565689+07:00 0HLN69470PCKH:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootstrap-daterangepicker/daterangepicker.js   (ca22a1cb)
2019-06-01T11:52:07.9636516+07:00 0HLN69470PCKM:00000003 [INF] Sending file. Request path: '"/lib/Chart.js/dist/Chart.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\Chart.js\dist\Chart.js"' (27b0a520)
2019-06-01T11:52:07.9791183+07:00 0HLN69470PCKN:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/notify.js   (ca22a1cb)
2019-06-01T11:52:07.9819798+07:00 0HLN69470PCKH:0000000B [INF] Sending file. Request path: '"/lib/bootstrap-daterangepicker/daterangepicker.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootstrap-daterangepicker\daterangepicker.js"' (27b0a520)
2019-06-01T11:52:07.9863490+07:00 0HLN69470PCKM:00000003 [INF] Request finished in 1061.7037ms 200 application/javascript (791a596a)
2019-06-01T11:52:07.9958793+07:00 0HLN69470PCKH:0000000B [INF] Request finished in 35.2266ms 200 application/javascript (791a596a)
2019-06-01T11:52:07.9989095+07:00 0HLN69470PCKN:00000006 [INF] Sending file. Request path: '"/lib/notifyjs/dist/notify.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\notify.js"' (27b0a520)
2019-06-01T11:52:08.0078424+07:00 0HLN69470PCKN:00000006 [INF] Request finished in 37.7661ms 200 application/javascript (791a596a)
2019-06-01T11:52:08.0146949+07:00 0HLN69470PCKH:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/bootbox/src/bootbox.js   (ca22a1cb)
2019-06-01T11:52:08.0180504+07:00 0HLN69470PCKJ:0000000B [INF] Sending file. Request path: '"/lib/ckeditor/ckeditor.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\ckeditor\ckeditor.js"' (27b0a520)
2019-06-01T11:52:08.0265533+07:00 0HLN69470PCKN:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/common.js?v=y7DqmVon23ErVGJwRwyGN-e1OscQoN09ThbEz09BtJA   (ca22a1cb)
2019-06-01T11:52:08.0304421+07:00 0HLN69470PCKH:0000000C [INF] Sending file. Request path: '"/lib/bootbox/src/bootbox.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\bootbox\src\bootbox.js"' (27b0a520)
2019-06-01T11:52:08.0381836+07:00 0HLN69470PCKJ:0000000B [INF] Request finished in 116.1209ms 200 application/javascript (791a596a)
2019-06-01T11:52:08.0417606+07:00 0HLN69470PCKH:0000000C [INF] Request finished in 29.6943ms 200 application/javascript (791a596a)
2019-06-01T11:52:08.0523801+07:00 0HLN69470PCKN:00000007 [INF] Sending file. Request path: '"/app/shared/common.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\shared\common.js"' (27b0a520)
2019-06-01T11:52:08.0644486+07:00 0HLN69470PCKN:00000007 [INF] Request finished in 35.4366ms 200 application/javascript (791a596a)
2019-06-01T11:52:08.0666374+07:00 0HLN69470PCKH:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=IMD3ovDnFCD3sBrwebvG8zeN4U59ZdTgM4AYqHYETUo   (ca22a1cb)
2019-06-01T11:52:08.0820129+07:00 0HLN69470PCKJ:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/js/custom.js?v=hK7rQw3KRGvTBoFU9qYrRZAOVWKo8ugfIfdqn7el8ko   (ca22a1cb)
2019-06-01T11:52:08.0839867+07:00 0HLN69470PCKN:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/signalR/signalR.js?v=Nfk6vVike0aJRdJYX_p4XmzuQFtluTkuSqYJJ4Uiqm4   (ca22a1cb)
2019-06-01T11:52:08.1004433+07:00 0HLN69470PCKH:0000000D [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T11:52:08.1030812+07:00 0HLN69470PCKN:00000008 [INF] Sending file. Request path: '"/app/shared/signalR/signalR.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\shared\signalR\signalR.js"' (27b0a520)
2019-06-01T11:52:08.1130373+07:00 0HLN69470PCKH:0000000D [INF] Request finished in 45.6631ms 200 application/javascript (791a596a)
2019-06-01T11:52:08.1153168+07:00 0HLN69470PCKN:00000008 [INF] Request finished in 34.5997ms 200 application/javascript (791a596a)
2019-06-01T11:52:08.1225401+07:00 0HLN69470PCKJ:0000000C [INF] Sending file. Request path: '"/admin-side/js/custom.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\js\custom.js"' (27b0a520)
2019-06-01T11:52:08.1333118+07:00 0HLN69470PCKM:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/jquery-validation/dist/additional-methods.js   (ca22a1cb)
2019-06-01T11:52:08.1350833+07:00 0HLN69470PCKJ:0000000C [INF] Request finished in 69.4579ms 200 application/javascript (791a596a)
2019-06-01T11:52:08.1469910+07:00 0HLN69470PCKL:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/fastclick/lib/fastclick.js   (ca22a1cb)
2019-06-01T11:52:08.1554259+07:00 0HLN69470PCKM:00000004 [INF] Sending file. Request path: '"/lib/jquery-validation/dist/additional-methods.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\jquery-validation\dist\additional-methods.js"' (27b0a520)
2019-06-01T11:52:08.1643670+07:00 0HLN69470PCKI:00000005 [INF] Sending file. Request path: '"/lib/moment/moment.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\moment\moment.js"' (27b0a520)
2019-06-01T11:52:08.1698402+07:00 0HLN69470PCKM:00000004 [INF] Request finished in 61.7ms 200 application/javascript (791a596a)
2019-06-01T11:52:08.1709963+07:00 0HLN69470PCKL:00000002 [INF] Sending file. Request path: '"/lib/fastclick/lib/fastclick.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\fastclick\lib\fastclick.js"' (27b0a520)
2019-06-01T11:52:08.1804962+07:00 0HLN69470PCKL:00000002 [INF] Request finished in 1231.7282ms 200 application/javascript (791a596a)
2019-06-01T11:52:08.1829052+07:00 0HLN69470PCKI:00000005 [INF] Request finished in 248.7714ms 200 application/javascript (791a596a)
2019-06-01T11:52:08.1929068+07:00 0HLN69470PCKI:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/notifyjs/dist/styles/metro/notify-metro.js   (ca22a1cb)
2019-06-01T11:52:08.2064600+07:00 0HLN69470PCKI:00000006 [INF] Sending file. Request path: '"/lib/notifyjs/dist/styles/metro/notify-metro.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\notifyjs\dist\styles\metro\notify-metro.js"' (27b0a520)
2019-06-01T11:52:08.2235640+07:00 0HLN69470PCKI:00000006 [INF] Request finished in 19.5318ms 200 application/javascript (791a596a)
2019-06-01T11:52:08.3539918+07:00 0HLN69470PCKI:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:52:08.3618925+07:00 0HLN69470PCKL:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:52:08.3638696+07:00 0HLN69470PCKM:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:52:08.3726724+07:00 0HLN69470PCKL:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:52:08.3742228+07:00 0HLN69470PCKM:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T11:52:08.3825879+07:00 0HLN69470PCKL:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:52:08.3849977+07:00 0HLN69470PCKM:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T11:52:08.3922774+07:00 0HLN69470PCKL:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:52:08.3933887+07:00 0HLN69470PCKM:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:52:08.3981489+07:00 0HLN69470PCKI:00000007 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:52:08.4083232+07:00 0HLN69470PCKL:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:52:08.4122986+07:00 0HLN69470PCKM:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:52:08.4352660+07:00 0HLN69470PCKL:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:52:08.4376377+07:00 0HLN69470PCKM:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:52:08.4503847+07:00 0HLN69470PCKJ:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T11:52:08.4536114+07:00 0HLN69470PCKI:00000007 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:52:08.4595917+07:00 0HLN69470PCKL:00000003 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:52:08.4654006+07:00 0HLN69470PCKJ:0000000D [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T11:52:08.4686609+07:00 0HLN69470PCKM:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:52:08.4804089+07:00 0HLN69470PCKJ:0000000D [INF] Request finished in 31.2057ms 200 image/x-icon (791a596a)
2019-06-01T11:52:08.5041910+07:00 0HLN69470PCKL:00000003 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:52:08.5114584+07:00 0HLN69470PCKM:00000005 [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:52:08.5166612+07:00 0HLN69470PCKI:00000007 [INF] Request finished in 118.1434ms 200 application/json (791a596a)
2019-06-01T11:52:08.5194276+07:00 0HLN69470PCKL:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 95.9769ms. (50a9e262)
2019-06-01T11:52:08.5302965+07:00 0HLN69470PCKO:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=hQoL7ZDpGOjBDdTD2CFdHw   (ca22a1cb)
2019-06-01T11:52:08.5354501+07:00 0HLN69470PCKM:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T11:52:08.5396885+07:00 0HLN69470PCKL:00000003 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:52:08.5481644+07:00 0HLN69470PCKO:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:52:08.5515224+07:00 0HLN69470PCKL:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 157.4419ms (afa2e885)
2019-06-01T11:52:08.5607658+07:00 0HLN69470PCKO:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:52:08.5664741+07:00 0HLN69470PCKM:00000005 [INF] Executed DbCommand ("12"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T11:52:08.5791957+07:00 0HLN69470PCKL:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:52:08.5966419+07:00 0HLN69470PCKM:00000005 [INF] Executed DbCommand ("12"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T11:52:08.5977672+07:00 0HLN69470PCKO:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:52:08.5999999+07:00 0HLN69470PCKL:00000003 [INF] Request finished in 230.2636ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:52:08.6172745+07:00 0HLN69470PCKM:00000005 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T11:52:08.6184974+07:00 0HLN69470PCKL:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin-side/images/users.png   (ca22a1cb)
2019-06-01T11:52:08.6373024+07:00 0HLN69470PCKL:00000004 [INF] Sending file. Request path: '"/admin-side/images/users.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\admin-side\images\users.png"' (27b0a520)
2019-06-01T11:52:08.6449745+07:00 0HLN69470PCKM:00000005 [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T11:52:08.6541889+07:00 0HLN69470PCKL:00000004 [INF] Request finished in 34.5841ms 200 image/png (791a596a)
2019-06-01T11:52:08.6633909+07:00 0HLN69470PCKM:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T11:52:08.6691756+07:00 0HLN69470PCKM:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 251.3561ms. (50a9e262)
2019-06-01T11:52:08.6798029+07:00 0HLN69470PCKM:00000005 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:52:08.6882217+07:00 0HLN69470PCKM:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 295.3146ms (afa2e885)
2019-06-01T11:52:08.6988322+07:00 0HLN69470PCKM:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T11:52:08.7201565+07:00 0HLN69470PCKM:00000005 [INF] Request finished in 350.1601ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:52:08.7343332+07:00 0HLN69470PCKM:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:52:08.7465453+07:00 0HLN69470PCKM:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:52:08.7516547+07:00 0HLN69470PCKM:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:52:08.7615726+07:00 0HLN69470PCKM:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:52:08.7676382+07:00 0HLN69470PCKM:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:52:08.7761482+07:00 0HLN69470PCKM:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:52:08.7841601+07:00 0HLN69470PCKM:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:52:08.7997809+07:00 0HLN69470PCKM:00000006 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:52:08.8071574+07:00 0HLN69470PCKM:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 32.2202ms. (50a9e262)
2019-06-01T11:52:08.8163323+07:00 0HLN69470PCKM:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:52:08.8244846+07:00 0HLN69470PCKM:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 64.9287ms (afa2e885)
2019-06-01T11:52:08.8309584+07:00 0HLN69470PCKM:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:52:08.8409063+07:00 0HLN69470PCKM:00000006 [INF] Request finished in 104.2017ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:52:13.4157940+07:00 0HLN69470PCKM:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Announcement/MarkAsReadAll   (ca22a1cb)
2019-06-01T11:52:13.4196853+07:00 0HLN69470PCKM:00000007 [INF] Executing endpoint '"405 HTTP Method Not Supported"' (500cc934)
2019-06-01T11:52:13.4238892+07:00 0HLN69470PCKM:00000007 [INF] Executed endpoint '"405 HTTP Method Not Supported"' (99874f2b)
2019-06-01T11:52:13.4314309+07:00 0HLN69470PCKM:00000007 [INF] Request finished in 12.2502ms 405  (791a596a)
2019-06-01T11:52:22.5377143+07:00 0HLN69470PCKM:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/MarkAsRead application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T11:52:22.5419937+07:00 0HLN69470PCKM:00000008 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:52:22.5454395+07:00 0HLN69470PCKM:00000008 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:52:22.5500043+07:00 0HLN69470PCKM:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)"' (500cc934)
2019-06-01T11:52:22.5561360+07:00 0HLN69470PCKM:00000008 [INF] Route matched with "{area = \"Admin\", action = \"MarkAsRead\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)" (a44c0341)
2019-06-01T11:52:22.5604708+07:00 0HLN69470PCKM:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:52:22.5644966+07:00 0HLN69470PCKM:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)" with arguments (["ae9f97e0-5feb-4995-ac8b-f424c4d57e4a"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:52:36.9733058+07:00 0HLN69470PCKM:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:52:36.9733427+07:00 0HLN69470PCKL:00000005 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/MarkAsRead application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T11:52:36.9784807+07:00 0HLN69470PCKL:00000005 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:52:36.9824927+07:00 0HLN69470PCKL:00000005 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:52:36.9888545+07:00 0HLN69470PCKL:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)"' (500cc934)
2019-06-01T11:52:36.9940909+07:00 0HLN69470PCKL:00000005 [INF] Route matched with "{area = \"Admin\", action = \"MarkAsRead\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)" (a44c0341)
2019-06-01T11:52:36.9980623+07:00 0HLN69470PCKL:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:52:37.0034662+07:00 0HLN69470PCKL:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)" with arguments (["ae9f97e0-5feb-4995-ac8b-f424c4d57e4a"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:52:38.3652050+07:00 0HLN69470PCKL:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:52:38.3749588+07:00 0HLN69470PCKL:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[AnnouncementId] = @__id_0) AND ([x].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T11:52:38.3764410+07:00 0HLN69470PCKM:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[AnnouncementId] = @__id_0) AND ([x].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T11:52:38.3950679+07:00 0HLN69470PCKL:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [y].[Id], [y].[Content], [y].[DateCreated], [y].[DateModified], [y].[Status], [y].[Title], [y].[UserId]
FROM [Announcements] AS [y]
WHERE ([y].[Id] = @__id_0) AND ([y].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T11:52:38.3965785+07:00 0HLN69470PCKM:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [y].[Id], [y].[Content], [y].[DateCreated], [y].[DateModified], [y].[Status], [y].[Title], [y].[UserId]
FROM [Announcements] AS [y]
WHERE ([y].[Id] = @__id_0) AND ([y].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T11:52:38.5054021+07:00 0HLN69470PCKL:00000005 [INF] Executed DbCommand ("55"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AnnouncementUsers] SET [HasRead] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T11:52:38.5516101+07:00 0HLN69470PCKL:00000005 [INF] Executed DbCommand ("41"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Announcements] SET [DateModified] = @p0, [Status] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T11:52:38.5576516+07:00 0HLN69470PCKM:00000008 [INF] Executed DbCommand ("108"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AnnouncementUsers] SET [HasRead] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T11:52:38.5633270+07:00 0HLN69470PCKM:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Announcements] SET [DateModified] = @p0, [Status] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T11:52:38.5763645+07:00 0HLN69470PCKM:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16005.0912ms. (50a9e262)
2019-06-01T11:52:38.5781590+07:00 0HLN69470PCKL:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1566.1402ms. (50a9e262)
2019-06-01T11:52:38.5833393+07:00 0HLN69470PCKM:00000008 [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-06-01T11:52:38.5855514+07:00 0HLN69470PCKL:00000005 [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-06-01T11:52:39.5347170+07:00 0HLN69470PCKM:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)" in 16028.8471ms (afa2e885)
2019-06-01T11:52:39.5430616+07:00 0HLN69470PCKL:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)" in 1591.6068ms (afa2e885)
2019-06-01T11:52:39.5534083+07:00 0HLN69470PCKM:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)"' (99874f2b)
2019-06-01T11:52:39.5614243+07:00 0HLN69470PCKL:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)"' (99874f2b)
2019-06-01T11:52:39.5855305+07:00 0HLN69470PCKM:00000008 [INF] Request finished in 17019.3087ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:52:39.5888597+07:00 0HLN69470PCKL:00000005 [INF] Request finished in 2618.4048ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:52:39.6008942+07:00 0HLN69470PCKM:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:52:39.6031206+07:00 0HLN69470PCKI:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:52:39.6115215+07:00 0HLN69470PCKI:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:52:39.6141319+07:00 0HLN69470PCKM:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T11:52:39.6200774+07:00 0HLN69470PCKI:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:52:39.6210886+07:00 0HLN69470PCKM:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T11:52:39.6505720+07:00 0HLN69470PCKI:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:52:39.6526980+07:00 0HLN69470PCKM:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:52:39.6590032+07:00 0HLN69470PCKI:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:52:39.6610824+07:00 0HLN69470PCKM:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:52:39.6674230+07:00 0HLN69470PCKI:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:52:39.6685080+07:00 0HLN69470PCKM:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:52:39.6777552+07:00 0HLN69470PCKI:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:52:39.6787017+07:00 0HLN69470PCKM:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:52:39.6871157+07:00 0HLN69470PCKI:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:52:39.6907009+07:00 0HLN69470PCKM:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:52:39.6974869+07:00 0HLN69470PCKI:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 28.1788ms. (50a9e262)
2019-06-01T11:52:39.7003534+07:00 0HLN69470PCKM:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T11:52:39.7046541+07:00 0HLN69470PCKI:00000008 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:52:39.7184981+07:00 0HLN69470PCKM:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T11:52:39.7281926+07:00 0HLN69470PCKL:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:52:39.7303086+07:00 0HLN69470PCKI:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 85.1055ms (afa2e885)
2019-06-01T11:52:39.7329909+07:00 0HLN69470PCKM:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T11:52:39.7404276+07:00 0HLN69470PCKL:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:52:39.7425560+07:00 0HLN69470PCKM:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T11:52:39.7488457+07:00 0HLN69470PCKL:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:52:39.7518422+07:00 0HLN69470PCKM:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T11:52:39.7588649+07:00 0HLN69470PCKL:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:52:39.7628161+07:00 0HLN69470PCKI:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:52:39.7693145+07:00 0HLN69470PCKM:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T11:52:39.7714536+07:00 0HLN69470PCKL:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:52:39.7791836+07:00 0HLN69470PCKM:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 110.4253ms. (50a9e262)
2019-06-01T11:52:39.7810631+07:00 0HLN69470PCKL:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:52:39.7839513+07:00 0HLN69470PCKI:00000008 [INF] Request finished in 177.4078ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:52:39.7866114+07:00 0HLN69470PCKM:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:52:39.7959775+07:00 0HLN69470PCKL:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:52:39.8035759+07:00 0HLN69470PCKM:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 166.6127ms (afa2e885)
2019-06-01T11:52:39.8107509+07:00 0HLN69470PCKL:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:52:39.8121408+07:00 0HLN69470PCKM:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T11:52:39.8321937+07:00 0HLN69470PCKL:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 39.3365ms. (50a9e262)
2019-06-01T11:52:39.8339812+07:00 0HLN69470PCKM:00000009 [INF] Request finished in 220.8847ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:52:39.8397686+07:00 0HLN69470PCKL:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:52:39.8407816+07:00 0HLN69470PCKI:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:52:39.8506544+07:00 0HLN69470PCKL:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 91.9104ms (afa2e885)
2019-06-01T11:52:39.8561986+07:00 0HLN69470PCKM:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:52:39.8580197+07:00 0HLN69470PCKL:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:52:39.8604714+07:00 0HLN69470PCKI:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T11:52:39.8671380+07:00 0HLN69470PCKL:00000006 [INF] Request finished in 142.5483ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:52:39.8681661+07:00 0HLN69470PCKM:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:52:39.8769317+07:00 0HLN69470PCKM:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:52:39.8781215+07:00 0HLN69470PCKI:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T11:52:39.8835692+07:00 0HLN69470PCKM:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:52:39.8854289+07:00 0HLN69470PCKI:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:52:39.8920955+07:00 0HLN69470PCKM:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:52:39.8933194+07:00 0HLN69470PCKI:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:52:39.8999504+07:00 0HLN69470PCKM:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:52:39.9011548+07:00 0HLN69470PCKI:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:52:39.9096570+07:00 0HLN69470PCKM:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:52:39.9109587+07:00 0HLN69470PCKI:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:52:39.9184143+07:00 0HLN69470PCKM:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:52:39.9204509+07:00 0HLN69470PCKI:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:52:39.9267056+07:00 0HLN69470PCKM:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 26.3934ms. (50a9e262)
2019-06-01T11:52:39.9299967+07:00 0HLN69470PCKI:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T11:52:39.9361025+07:00 0HLN69470PCKM:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:52:39.9382050+07:00 0HLN69470PCKI:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T11:52:39.9468652+07:00 0HLN69470PCKM:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 59.9966ms (afa2e885)
2019-06-01T11:52:39.9499540+07:00 0HLN69470PCKI:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T11:52:39.9539122+07:00 0HLN69470PCKM:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:52:39.9624368+07:00 0HLN69470PCKI:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T11:52:39.9633444+07:00 0HLN69470PCKM:0000000A [INF] Request finished in 106.4048ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:52:39.9691548+07:00 0HLN69470PCKI:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T11:52:39.9758798+07:00 0HLN69470PCKI:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T11:52:39.9804971+07:00 0HLN69470PCKI:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 81.9264ms. (50a9e262)
2019-06-01T11:52:39.9858100+07:00 0HLN69470PCKI:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:52:39.9938908+07:00 0HLN69470PCKI:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 107.0768ms (afa2e885)
2019-06-01T11:52:39.9984520+07:00 0HLN69470PCKI:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T11:52:40.0093898+07:00 0HLN69470PCKI:00000009 [INF] Request finished in 204.4855ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:52:40.0173176+07:00 0HLN69470PCKI:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:52:40.0258255+07:00 0HLN69470PCKI:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:52:40.0308027+07:00 0HLN69470PCKI:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:52:40.0357492+07:00 0HLN69470PCKI:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:52:40.0409804+07:00 0HLN69470PCKI:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:52:40.0468569+07:00 0HLN69470PCKI:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:52:40.0526764+07:00 0HLN69470PCKI:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:52:40.0596790+07:00 0HLN69470PCKI:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:52:40.0646251+07:00 0HLN69470PCKI:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.9021ms. (50a9e262)
2019-06-01T11:52:40.0693832+07:00 0HLN69470PCKI:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:52:40.0788220+07:00 0HLN69470PCKI:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 38.8775ms (afa2e885)
2019-06-01T11:52:40.0842206+07:00 0HLN69470PCKI:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:52:40.0911592+07:00 0HLN69470PCKI:0000000A [INF] Request finished in 71.3365ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:52:45.5120409+07:00 0HLN69470PCKI:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Announcement/MarkAsReadAll   (ca22a1cb)
2019-06-01T11:52:45.5161804+07:00 0HLN69470PCKI:0000000B [INF] Executing endpoint '"405 HTTP Method Not Supported"' (500cc934)
2019-06-01T11:52:45.5197746+07:00 0HLN69470PCKI:0000000B [INF] Executed endpoint '"405 HTTP Method Not Supported"' (99874f2b)
2019-06-01T11:52:45.5288844+07:00 0HLN69470PCKI:0000000B [INF] Request finished in 11.7796ms 405  (791a596a)
2019-06-01T11:54:44.1422849+07:00 0HLN69470PCKI:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Announcement/MarkAsReadAll   (ca22a1cb)
2019-06-01T11:54:44.1465606+07:00 0HLN69470PCKI:0000000C [INF] Executing endpoint '"405 HTTP Method Not Supported"' (500cc934)
2019-06-01T11:54:44.1494259+07:00 0HLN69470PCKI:0000000C [INF] Executed endpoint '"405 HTTP Method Not Supported"' (99874f2b)
2019-06-01T11:54:44.1578554+07:00 0HLN69470PCKI:0000000C [INF] Request finished in 10.6408ms 405  (791a596a)
2019-06-01T11:57:46.7454496+07:00 0HLN69MMGP6EC:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/   (ca22a1cb)
2019-06-01T11:57:47.8238762+07:00 0HLN69MMGP6EC:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:57:47.8971951+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("18"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[Balance], [e].[BirthDay], [e].[ConcurrencyStamp], [e].[DateCreated], [e].[DateModified], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[Status], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2019-06-01T11:57:51.4022699+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("2,238"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T11:57:51.4192919+07:00 0HLN69MMGP6ED:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin   (ca22a1cb)
2019-06-01T11:57:51.4259126+07:00 0HLN69MMGP6ED:00000001 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:57:51.4345916+07:00 0HLN69MMGP6ED:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[Balance], [e].[BirthDay], [e].[ConcurrencyStamp], [e].[DateCreated], [e].[DateModified], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[Status], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AspNetUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2019-06-01T11:57:51.4472267+07:00 0HLN69MMGP6ED:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T11:57:52.4995400+07:00 0HLN69MMGP6ED:00000001 [INF] Executed DbCommand ("1,025"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:57:52.5202940+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:57:52.5371182+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T11:57:52.5383453+07:00 0HLN69MMGP6ED:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T11:57:52.5697615+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T11:57:52.5704901+07:00 0HLN69MMGP6ED:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T11:57:52.5837327+07:00 0HLN69MMGP6ED:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T11:57:52.5849956+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T11:57:52.5925479+07:00 0HLN69MMGP6ED:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T11:57:52.5942103+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T11:57:52.6021471+07:00 0HLN69MMGP6ED:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T11:57:52.6035871+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T11:57:52.6085996+07:00 0HLN69MMGP6ED:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T11:57:52.6133290+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T11:57:52.6190738+07:00 0HLN69MMGP6ED:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:57:52.6246041+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:57:52.6924712+07:00 0HLN69MMGP6EC:00000001 [INF] Executing endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T11:57:52.6933503+07:00 0HLN69MMGP6ED:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (500cc934)
2019-06-01T11:57:54.6860765+07:00 0HLN69MMGP6ED:00000001 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" (a44c0341)
2019-06-01T11:57:54.6869741+07:00 0HLN69MMGP6EC:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\", area = \"\"}". Executing action "Shop3.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T11:57:54.7086611+07:00 0HLN69MMGP6EC:00000001 [INF] Executing action method "Shop3.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:57:54.7094762+07:00 0HLN69MMGP6ED:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:57:55.7379452+07:00 0HLN69MMGP6ED:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.7942ms. (50a9e262)
2019-06-01T11:57:56.8330360+07:00 0HLN69MMGP6ED:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:57:56.8615963+07:00 0HLN69MMGP6EC:00000001 [WRN] The Include operation for navigation '"[c].Products"' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information. (10efaee6)
2019-06-01T11:57:56.9520372+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [c].[DateCreated], [c].[DateModified], [c].[Description], [c].[HomeFlag], [c].[HomeOrder], [c].[Id], [c].[Image], [c].[Name], [c].[ParentId], [c].[SeoAlias], [c].[SeoDescription], [c].[SeoKeywords], [c].[SeoPageTitle], [c].[SortOrder], [c].[Status]
FROM [ProductCategories] AS [c]
WHERE [c].[HomeFlag] = 1
ORDER BY [c].[HomeOrder], [c].[Id]" (0723d8ff)
2019-06-01T11:57:57.0995715+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[HomeOrder], [t].[Id], [c.Products].[CategoryId], [c.Products].[Content], [c.Products].[DateCreated], [c.Products].[DateModified], [c.Products].[Description], [c.Products].[HomeFlag], [c.Products].[HotFlag], [c.Products].[Id] AS [Id0], [c.Products].[Image], [c.Products].[Name], [c.Products].[OriginalPrice], [c.Products].[Price], [c.Products].[PromotionPrice], [c.Products].[SeoAlias], [c.Products].[SeoDescription], [c.Products].[SeoKeywords], [c.Products].[SeoPageTitle], [c.Products].[Status], [c.Products].[Tags], [c.Products].[Unit], [c.Products].[ViewCount]
FROM [Products] AS [c.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [c0].[HomeOrder], [c0].[Id]
    FROM [ProductCategories] AS [c0]
    WHERE [c0].[HomeFlag] = 1
    ORDER BY [c0].[HomeOrder], [c0].[Id]
) AS [t] ON [c.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[HomeOrder], [t].[Id]" (0723d8ff)
2019-06-01T11:57:57.1936395+07:00 0HLN69MMGP6ED:00000001 [INF] Executed ViewResult - view "Index" executed in 1219.8394ms. (f66409e9)
2019-06-01T11:57:57.2762105+07:00 0HLN69MMGP6EE:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/animate.css/animate.css   (ca22a1cb)
2019-06-01T11:57:57.2881990+07:00 0HLN69MMGP6ED:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)" in 2507.0896ms (afa2e885)
2019-06-01T11:57:57.2932329+07:00 0HLN69MMGP6EF:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/bundled/site-admin.min.js   (ca22a1cb)
2019-06-01T11:57:57.3098934+07:00 0HLN69MMGP6ED:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Index (Shop3)"' (99874f2b)
2019-06-01T11:57:57.3332083+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("50"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) AND ([x].[HotFlag] = 1)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T11:57:57.3541546+07:00 0HLN69MMGP6ED:00000001 [INF] Request finished in 5928.3655ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:57:57.3610823+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) AND ([x0].[HotFlag] = 1)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T11:57:57.3987425+07:00 0HLN69MMGP6EF:00000001 [INF] Sending file. Request path: '"/bundled/site-admin.min.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\bundled\site-admin.min.js"' (27b0a520)
2019-06-01T11:57:57.4295823+07:00 0HLN69MMGP6EF:00000001 [INF] Request finished in 131.1043ms 200 application/javascript (791a596a)
2019-06-01T11:57:57.4467782+07:00 0HLN69MMGP6EE:00000001 [INF] Sending file. Request path: '"/lib/animate.css/animate.css"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\animate.css\animate.css"' (27b0a520)
2019-06-01T11:57:57.4940442+07:00 0HLN69MMGP6EE:00000001 [INF] Request finished in 311.3072ms 200 text/css (791a596a)
2019-06-01T11:57:57.4962772+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("16"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T11:57:57.5133128+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T11:57:57.6139555+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[Status], [x].[Tags], [x].[ViewCount]
FROM [Blogs] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id]" (0723d8ff)
2019-06-01T11:57:57.6323673+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [x.BlogTags].[BlogId], [x.BlogTags].[TagId]
FROM [BlogTags] AS [x.BlogTags]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id]
    FROM [Blogs] AS [x0]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id]
) AS [t] ON [x.BlogTags].[BlogId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T11:57:57.6550972+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(@__p_0) [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE [x].[Status] = 1
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]" (0723d8ff)
2019-06-01T11:57:57.6665056+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT TOP(@__p_0) [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE [x0].[Status] = 1
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-06-01T11:57:57.6859185+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupAlias_0='?' (Size = 25)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[Description], [x].[DisplayOrder], [x].[GroupAlias], [x].[Id], [x].[Image], [x].[Name], [x].[Status], [x].[Url]
FROM [Slides] AS [x]
WHERE ([x].[Status] = 1) AND ([x].[GroupAlias] = @__groupAlias_0)" (0723d8ff)
2019-06-01T11:57:57.6950898+07:00 0HLN69MMGP6EC:00000001 [INF] Executed action method "Shop3.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 2979.4039ms. (50a9e262)
2019-06-01T11:57:57.7094742+07:00 0HLN69MMGP6EC:00000001 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:57:57.8151972+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T11:57:57.8272883+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T11:57:57.9354104+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T11:57:57.9414137+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T11:57:57.9582547+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-06-01T11:57:57.9641439+07:00 0HLN69MMGP6EC:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-06-01T11:57:58.0011207+07:00 0HLN69MMGP6EC:00000001 [INF] Executed ViewResult - view "Index" executed in 301.4725ms. (f66409e9)
2019-06-01T11:57:58.0056922+07:00 0HLN69MMGP6EC:00000001 [INF] Executed action "Shop3.Controllers.HomeController.Index (Shop3)" in 3314.2549ms (afa2e885)
2019-06-01T11:57:58.0101775+07:00 0HLN69MMGP6EC:00000001 [INF] Executed endpoint '"Shop3.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T11:57:58.0155236+07:00 0HLN69MMGP6EC:00000001 [INF] Request finished in 11319.6169ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:58:22.3709108+07:00 0HLN69MMGP6EE:00000002 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 30 (ca22a1cb)
2019-06-01T11:58:22.3766592+07:00 0HLN69MMGP6EE:00000002 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:58:22.3799344+07:00 0HLN69MMGP6EE:00000002 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:58:22.3870937+07:00 0HLN69MMGP6EE:00000002 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-06-01T11:58:22.4050486+07:00 0HLN69MMGP6EE:00000002 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-06-01T11:58:22.4489472+07:00 0HLN69MMGP6EE:00000002 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:58:24.2383447+07:00 0HLN69MMGP6EE:00000002 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:58:24.2549651+07:00 0HLN69MMGP6EE:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-06-01T11:58:24.3301407+07:00 0HLN69MMGP6EE:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-06-01T11:58:24.3391807+07:00 0HLN69MMGP6EE:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:58:24.3509005+07:00 0HLN69MMGP6EE:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T11:58:24.3591766+07:00 0HLN69MMGP6EE:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T11:58:24.3641670+07:00 0HLN69MMGP6EE:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T11:58:24.3693990+07:00 0HLN69MMGP6EE:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T11:58:24.3747451+07:00 0HLN69MMGP6EE:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-06-01T11:58:24.3799684+07:00 0HLN69MMGP6EE:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-06-01T11:58:24.3852615+07:00 0HLN69MMGP6EE:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:58:24.3941136+07:00 0HLN69MMGP6EE:00000002 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-06-01T11:58:24.4007893+07:00 0HLN69MMGP6EE:00000002 [INF] User logged in. (fdce0db4)
2019-06-01T11:58:24.4074224+07:00 0HLN69MMGP6EE:00000002 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1954.1633ms. (50a9e262)
2019-06-01T11:58:24.4205165+07:00 0HLN69MMGP6EE:00000002 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-06-01T11:58:24.4787326+07:00 0HLN69MMGP6EE:00000002 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 2069.7103ms (afa2e885)
2019-06-01T11:58:24.4832963+07:00 0HLN69MMGP6EE:00000002 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-06-01T11:58:24.5062809+07:00 0HLN69MMGP6EE:00000002 [INF] Request finished in 2116.637ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:58:24.5152972+07:00 0HLN69MMGP6EE:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-06-01T11:58:24.5246785+07:00 0HLN69MMGP6EE:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-06-01T11:58:24.5299560+07:00 0HLN69MMGP6EE:00000003 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-06-01T11:58:24.5454604+07:00 0HLN69MMGP6EE:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:58:24.5496327+07:00 0HLN69MMGP6EE:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:58:24.5547707+07:00 0HLN69MMGP6EE:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.3835ms. (50a9e262)
2019-06-01T11:58:24.5623231+07:00 0HLN69MMGP6EE:00000003 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:58:24.5771769+07:00 0HLN69MMGP6EE:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:58:24.6222804+07:00 0HLN69MMGP6EE:00000003 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:58:24.6372150+07:00 0HLN69MMGP6EE:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:58:24.6688589+07:00 0HLN69MMGP6EE:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:58:24.6735082+07:00 0HLN69MMGP6EE:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:58:24.6906180+07:00 0HLN69MMGP6EE:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:58:24.6946225+07:00 0HLN69MMGP6EE:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:58:24.7108251+07:00 0HLN69MMGP6EE:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:58:24.7144441+07:00 0HLN69MMGP6EE:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:58:24.7564038+07:00 0HLN69MMGP6EE:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:58:24.8821907+07:00 0HLN69MMGP6EE:00000003 [INF] Executed ViewResult - view "Index" executed in 276.5831ms. (f66409e9)
2019-06-01T11:58:24.8950387+07:00 0HLN69MMGP6EE:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 356.6413ms (afa2e885)
2019-06-01T11:58:24.9007577+07:00 0HLN69MMGP6EE:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-06-01T11:58:24.9067540+07:00 0HLN69MMGP6EE:00000003 [INF] Request finished in 390.4087ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:58:25.0306653+07:00 0HLN69MMGP6EE:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=cnUNyT-R9OOamTlp4eZq5PXY3EWvo8_jAhp6jw3f2_E   (ca22a1cb)
2019-06-01T11:58:25.0340056+07:00 0HLN69MMGP6EF:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot/jquery.flot.js   (ca22a1cb)
2019-06-01T11:58:25.0605287+07:00 0HLN69MMGP6EG:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot/jquery.flot.time.js   (ca22a1cb)
2019-06-01T11:58:25.0687272+07:00 0HLN69MMGP6ED:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot/jquery.flot.pie.js   (ca22a1cb)
2019-06-01T11:58:25.0726336+07:00 0HLN69MMGP6EE:00000004 [INF] Sending file. Request path: '"/app/controllers/announcement/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\announcement\index.js"' (27b0a520)
2019-06-01T11:58:25.0814812+07:00 0HLN69MMGP6EG:00000001 [INF] Sending file. Request path: '"/lib/flot/jquery.flot.time.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot\jquery.flot.time.js"' (27b0a520)
2019-06-01T11:58:25.0832819+07:00 0HLN69MMGP6EE:00000004 [INF] Request finished in 68.2846ms 200 application/javascript (791a596a)
2019-06-01T11:58:25.1154965+07:00 0HLN69MMGP6EG:00000001 [INF] Request finished in 50.8688ms 200 application/javascript (791a596a)
2019-06-01T11:58:25.1444839+07:00 0HLN69MMGP6EE:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot.orderbars/examples/js/flot/flot.js?v=ZWkLRHhD6K51A_MsBsEn6_Fff_35iRylixXwYcivq1E   (ca22a1cb)
2019-06-01T11:58:25.1537039+07:00 0HLN69MMGP6EG:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot.curvedlines/curvedLines.js?v=9AKXK0iOIqYrz8VFbQaczNFQXQFFo-d-jarmfaYOleI   (ca22a1cb)
2019-06-01T11:58:25.1565807+07:00 0HLN69MMGP6ED:00000002 [INF] Sending file. Request path: '"/lib/flot/jquery.flot.pie.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot\jquery.flot.pie.js"' (27b0a520)
2019-06-01T11:58:25.2046102+07:00 0HLN69MMGP6EG:00000002 [INF] Sending file. Request path: '"/lib/flot.curvedlines/curvedLines.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot.curvedlines\curvedLines.js"' (27b0a520)
2019-06-01T11:58:25.2103898+07:00 0HLN69MMGP6EE:00000005 [INF] Sending file. Request path: '"/lib/flot.orderbars/examples/js/flot/flot.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot.orderbars\examples\js\flot\flot.js"' (27b0a520)
2019-06-01T11:58:25.2308928+07:00 0HLN69MMGP6EG:00000002 [INF] Request finished in 74.2017ms 200 application/javascript (791a596a)
2019-06-01T11:58:25.2394102+07:00 0HLN69MMGP6EE:00000005 [INF] Request finished in 98.7921ms 200 application/javascript (791a596a)
2019-06-01T11:58:25.2641109+07:00 0HLN69MMGP6ED:00000002 [INF] Request finished in 147.1317ms 200 application/javascript (791a596a)
2019-06-01T11:58:25.2681847+07:00 0HLN69MMGP6EE:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/home/index.js?v=KwTBcLrSL0xc_e8eO4oOAEhFu3mxsMlNH1RCgJqSWfU   (ca22a1cb)
2019-06-01T11:58:25.2756752+07:00 0HLN69MMGP6EI:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot/jquery.flot.resize.js   (ca22a1cb)
2019-06-01T11:58:25.2875698+07:00 0HLN69MMGP6ED:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/DateJS/build/date.js?v=9-ciUBQZlmXXgLiiI8v2hLUf1BMGgBez1dTPyiOwPjg   (ca22a1cb)
2019-06-01T11:58:25.2992103+07:00 0HLN69MMGP6EF:00000002 [INF] Sending file. Request path: '"/lib/flot/jquery.flot.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot\jquery.flot.js"' (27b0a520)
2019-06-01T11:58:25.3024452+07:00 0HLN69MMGP6EI:00000001 [INF] Sending file. Request path: '"/lib/flot/jquery.flot.resize.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot\jquery.flot.resize.js"' (27b0a520)
2019-06-01T11:58:25.3276189+07:00 0HLN69MMGP6EF:00000002 [INF] Request finished in 294.3263ms 200 application/javascript (791a596a)
2019-06-01T11:58:25.3318815+07:00 0HLN69MMGP6EI:00000001 [INF] Request finished in 229.9706ms 200 application/javascript (791a596a)
2019-06-01T11:58:25.3591430+07:00 0HLN69MMGP6EF:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot-spline/js/jquery.flot.spline.js?v=m8xKSe9ZpgdwRX9992NbHbp9ADPyVB3DUWM1IkKdJjE   (ca22a1cb)
2019-06-01T11:58:25.3632262+07:00 0HLN69MMGP6EH:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/lib/flot/jquery.flot.stack.js   (ca22a1cb)
2019-06-01T11:58:25.3878617+07:00 0HLN69MMGP6EH:00000001 [INF] Sending file. Request path: '"/lib/flot/jquery.flot.stack.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot\jquery.flot.stack.js"' (27b0a520)
2019-06-01T11:58:25.3900119+07:00 0HLN69MMGP6EF:00000003 [INF] Sending file. Request path: '"/lib/flot-spline/js/jquery.flot.spline.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\flot-spline\js\jquery.flot.spline.js"' (27b0a520)
2019-06-01T11:58:25.4026617+07:00 0HLN69MMGP6EH:00000001 [INF] Request finished in 350.9244ms 200 application/javascript (791a596a)
2019-06-01T11:58:25.4046260+07:00 0HLN69MMGP6EF:00000003 [INF] Request finished in 55.5043ms 200 application/javascript (791a596a)
2019-06-01T11:58:25.4117038+07:00 0HLN69MMGP6ED:00000003 [INF] Sending file. Request path: '"/lib/DateJS/build/date.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\lib\DateJS\build\date.js"' (27b0a520)
2019-06-01T11:58:25.4237653+07:00 0HLN69MMGP6ED:00000003 [INF] Request finished in 138.351ms 200 application/javascript (791a596a)
2019-06-01T11:58:25.4297505+07:00 0HLN69MMGP6EE:00000006 [INF] Sending file. Request path: '"/app/controllers/home/index.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\home\index.js"' (27b0a520)
2019-06-01T11:58:25.4341034+07:00 0HLN69MMGP6EE:00000006 [INF] Request finished in 182.9561ms 200 application/javascript (791a596a)
2019-06-01T11:58:25.4582637+07:00 0HLN69MMGP6EE:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:58:25.4730374+07:00 0HLN69MMGP6EF:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:58:25.4734001+07:00 0HLN69MMGP6EE:00000007 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:58:25.4830670+07:00 0HLN69MMGP6EE:00000007 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:58:25.4840073+07:00 0HLN69MMGP6EF:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:58:25.4912286+07:00 0HLN69MMGP6EF:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:58:25.5011026+07:00 0HLN69MMGP6EF:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:58:25.5090034+07:00 0HLN69MMGP6EH:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/GetRevenue   (ca22a1cb)
2019-06-01T11:58:25.5152163+07:00 0HLN69MMGP6EF:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:58:25.5179121+07:00 0HLN69MMGP6EH:00000002 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (500cc934)
2019-06-01T11:58:25.5306456+07:00 0HLN69MMGP6EH:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetRevenue\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" (a44c0341)
2019-06-01T11:58:25.5345176+07:00 0HLN69MMGP6EE:00000007 [INF] Request finished in 70.2493ms 200 application/json (791a596a)
2019-06-01T11:58:25.5402128+07:00 0HLN69MMGP6EH:00000002 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:58:25.5459440+07:00 0HLN69MMGP6EF:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:58:25.5497881+07:00 0HLN69MMGP6EH:00000002 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" with arguments (["", ""]) - Validation state: Valid (4e3479ed)
2019-06-01T11:58:25.6315900+07:00 0HLN69MMGP6EF:00000004 [INF] Executed DbCommand ("21"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:58:25.6316605+07:00 0HLN69MMGP6EJ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=bJiay9t3FflDsbBvod1g-w   (ca22a1cb)
2019-06-01T11:58:25.6383403+07:00 0HLN69MMGP6EJ:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:58:25.6501138+07:00 0HLN69MMGP6EJ:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:58:25.6786274+07:00 0HLN69MMGP6EF:00000004 [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:58:25.6903690+07:00 0HLN69MMGP6EF:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 166.0847ms. (50a9e262)
2019-06-01T11:58:25.7356539+07:00 0HLN69MMGP6EF:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:58:25.7698065+07:00 0HLN69MMGP6EH:00000002 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 202.5926ms. (50a9e262)
2019-06-01T11:58:25.7801732+07:00 0HLN69MMGP6EF:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 263.0775ms (afa2e885)
2019-06-01T11:58:25.7878873+07:00 0HLN69MMGP6EH:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.Dapper.ViewModels.RevenueReportViewModel, Shop3.Application.Dapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:58:25.8203754+07:00 0HLN69MMGP6EF:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:58:25.8295496+07:00 0HLN69MMGP6EJ:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:58:25.8367229+07:00 0HLN69MMGP6EH:00000002 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)" in 259.2153ms (afa2e885)
2019-06-01T11:58:25.8430926+07:00 0HLN69MMGP6EF:00000004 [INF] Request finished in 361.6292ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:58:25.8806454+07:00 0HLN69MMGP6EH:00000002 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.GetRevenue (Shop3)"' (99874f2b)
2019-06-01T11:58:25.8978199+07:00 0HLN69MMGP6EH:00000002 [INF] Request finished in 383.5611ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:58:46.4984992+07:00 0HLN69MMGP6EH:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/MarkAsReadAll  0 (ca22a1cb)
2019-06-01T11:58:46.5024319+07:00 0HLN69MMGP6EH:00000003 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:58:46.5075290+07:00 0HLN69MMGP6EH:00000003 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:58:46.5148105+07:00 0HLN69MMGP6EH:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsReadAll (Shop3)"' (500cc934)
2019-06-01T11:58:46.5198567+07:00 0HLN69MMGP6EH:00000003 [INF] Route matched with "{area = \"Admin\", action = \"MarkAsReadAll\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsReadAll (Shop3)" (a44c0341)
2019-06-01T11:58:46.5246756+07:00 0HLN69MMGP6EH:00000003 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:58:46.5283104+07:00 0HLN69MMGP6EH:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsReadAll (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:58:56.5328889+07:00 0HLN69MMGP6EH:00000003 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:58:56.5451108+07:00 0HLN69MMGP6EH:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
WHERE ([x].[UserId] = @__userId_0) AND ([x].[Status] = 0)" (0723d8ff)
2019-06-01T11:58:56.5573516+07:00 0HLN69MMGP6EH:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[UserId] = @__userId_0) AND ([x].[HasRead] = 0)" (0723d8ff)
2019-06-01T11:58:56.5697606+07:00 0HLN69MMGP6EH:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[UserId] = @__userId_0) AND ([x].[HasRead] = 0)" (0723d8ff)
2019-06-01T11:58:56.5986879+07:00 0HLN69MMGP6EH:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
WHERE ([x].[UserId] = @__userId_0) AND ([x].[Status] = 0)" (0723d8ff)
2019-06-01T11:58:56.6759374+07:00 0HLN69MMGP6EH:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AnnouncementUsers] SET [HasRead] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T11:58:56.6821672+07:00 0HLN69MMGP6EH:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@p2='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Announcements] SET [DateModified] = @p0, [Status] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-06-01T11:58:56.6947460+07:00 0HLN69MMGP6EH:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsReadAll (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10162.9081ms. (50a9e262)
2019-06-01T11:58:56.6980047+07:00 0HLN69MMGP6EH:00000003 [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-06-01T11:58:56.7042885+07:00 0HLN69MMGP6EH:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsReadAll (Shop3)" in 10178.3612ms (afa2e885)
2019-06-01T11:58:56.7088486+07:00 0HLN69MMGP6EH:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsReadAll (Shop3)"' (99874f2b)
2019-06-01T11:58:56.7370069+07:00 0HLN69MMGP6EH:00000003 [INF] Request finished in 10215.5173ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:58:57.6204380+07:00 0HLN69MMGP6EH:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:58:57.6295174+07:00 0HLN69MMGP6EH:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:58:57.6370463+07:00 0HLN69MMGP6EH:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:58:57.6996798+07:00 0HLN69MMGP6EH:00000004 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:58:57.7436128+07:00 0HLN69MMGP6EH:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:58:57.7471915+07:00 0HLN69MMGP6EH:00000004 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:58:57.7520309+07:00 0HLN69MMGP6EH:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:58:57.7815734+07:00 0HLN69MMGP6EH:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:58:57.8251393+07:00 0HLN69MMGP6EH:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 38.1103ms. (50a9e262)
2019-06-01T11:58:57.8493740+07:00 0HLN69MMGP6EH:00000004 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:58:57.8623049+07:00 0HLN69MMGP6EH:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 212.5491ms (afa2e885)
2019-06-01T11:58:57.8659492+07:00 0HLN69MMGP6EH:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:58:57.8730716+07:00 0HLN69MMGP6EH:00000004 [INF] Request finished in 259.2826ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:59:06.2073220+07:00 0HLN69MMGP6EH:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/advertistment/index   (ca22a1cb)
2019-06-01T11:59:06.2138262+07:00 0HLN69MMGP6EH:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)"' (500cc934)
2019-06-01T11:59:06.2179907+07:00 0HLN69MMGP6EH:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Advertistment\"}". Executing action "Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)" (a44c0341)
2019-06-01T11:59:06.2216998+07:00 0HLN69MMGP6EH:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:59:06.2267021+07:00 0HLN69MMGP6EH:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:59:06.2305179+07:00 0HLN69MMGP6EH:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.1989ms. (50a9e262)
2019-06-01T11:59:06.3174577+07:00 0HLN69MMGP6EH:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:59:06.3344366+07:00 0HLN69MMGP6EH:00000005 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:59:06.3433690+07:00 0HLN69MMGP6EH:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:59:06.3468698+07:00 0HLN69MMGP6EH:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:59:06.3575811+07:00 0HLN69MMGP6EH:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:59:06.3607996+07:00 0HLN69MMGP6EH:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:59:06.3677682+07:00 0HLN69MMGP6EH:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:59:06.3711611+07:00 0HLN69MMGP6EH:00000005 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:59:07.3249219+07:00 0HLN69MMGP6EH:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:59:08.4276722+07:00 0HLN69MMGP6EH:00000005 [INF] Executed ViewResult - view "Index" executed in 1101.9256ms. (f66409e9)
2019-06-01T11:59:08.4420053+07:00 0HLN69MMGP6EJ:00000001 [INF] Request finished in 41795.6658ms 101  (791a596a)
2019-06-01T11:59:08.4483269+07:00 0HLN69MMGP6EE:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:59:08.4559367+07:00 0HLN69MMGP6EH:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)" in 2209.7955ms (afa2e885)
2019-06-01T11:59:08.4632439+07:00 0HLN69MMGP6EE:00000008 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:59:08.4658687+07:00 0HLN69MMGP6EH:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AdvertistmentController.Index (Shop3)"' (99874f2b)
2019-06-01T11:59:08.4735302+07:00 0HLN69MMGP6EE:00000008 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:59:08.4963256+07:00 0HLN69MMGP6EH:00000005 [INF] Request finished in 2266.9573ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:59:10.4953562+07:00 0HLN69MMGP6EE:00000008 [INF] Request finished in 44.5652ms 200 application/json (791a596a)
2019-06-01T11:59:10.4998112+07:00 0HLN69MMGP6EF:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=cnUNyT-R9OOamTlp4eZq5PXY3EWvo8_jAhp6jw3f2_E   (ca22a1cb)
2019-06-01T11:59:10.5034079+07:00 0HLN69MMGP6EK:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=o91IlrPf94rrDoLE_MGvqw   (ca22a1cb)
2019-06-01T11:59:10.5119039+07:00 0HLN69MMGP6EK:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:59:10.5140163+07:00 0HLN69MMGP6EF:00000005 [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T11:59:10.5166391+07:00 0HLN69MMGP6EK:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:59:10.5284897+07:00 0HLN69MMGP6EF:00000005 [INF] Request finished in 2081.2471ms 304 application/javascript (791a596a)
2019-06-01T11:59:11.6190517+07:00 0HLN69MMGP6EK:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:59:11.6408605+07:00 0HLN69MMGP6EF:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:59:11.6459792+07:00 0HLN69MMGP6EF:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:59:11.6496723+07:00 0HLN69MMGP6EF:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:59:11.6533643+07:00 0HLN69MMGP6EF:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:59:11.6588979+07:00 0HLN69MMGP6EF:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:59:11.6634143+07:00 0HLN69MMGP6EF:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:59:11.6684966+07:00 0HLN69MMGP6EF:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:59:11.6951739+07:00 0HLN69MMGP6EF:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:59:11.6988038+07:00 0HLN69MMGP6EF:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 36.1464ms. (50a9e262)
2019-06-01T11:59:11.7032379+07:00 0HLN69MMGP6EF:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:59:11.7090947+07:00 0HLN69MMGP6EF:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 53.7808ms (afa2e885)
2019-06-01T11:59:11.7136177+07:00 0HLN69MMGP6EF:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:59:11.7187558+07:00 0HLN69MMGP6EF:00000006 [INF] Request finished in 94.5964ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:59:12.0290390+07:00 0HLN69MMGP6EF:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T11:59:12.0352286+07:00 0HLN69MMGP6EF:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T11:59:12.0401923+07:00 0HLN69MMGP6EF:00000007 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T11:59:12.0446616+07:00 0HLN69MMGP6EF:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:59:12.0484475+07:00 0HLN69MMGP6EF:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T11:59:12.0520787+07:00 0HLN69MMGP6EF:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2014ms. (50a9e262)
2019-06-01T11:59:12.0590993+07:00 0HLN69MMGP6EF:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T11:59:12.0749828+07:00 0HLN69MMGP6EF:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:59:12.0836905+07:00 0HLN69MMGP6EF:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:59:12.0875054+07:00 0HLN69MMGP6EF:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:59:12.0958940+07:00 0HLN69MMGP6EF:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:59:12.0995871+07:00 0HLN69MMGP6EF:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:59:12.1075477+07:00 0HLN69MMGP6EF:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T11:59:12.1113770+07:00 0HLN69MMGP6EF:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:59:12.1174295+07:00 0HLN69MMGP6EF:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T11:59:12.1290759+07:00 0HLN69MMGP6EF:00000007 [INF] Executed ViewResult - view "Index" executed in 67.1515ms. (f66409e9)
2019-06-01T11:59:12.1674148+07:00 0HLN69MMGP6EF:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 88.9045ms (afa2e885)
2019-06-01T11:59:12.1830923+07:00 0HLN69MMGP6EF:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T11:59:12.1841101+07:00 0HLN69MMGP6EK:00000001 [INF] Request finished in 1672.3953ms 101  (791a596a)
2019-06-01T11:59:12.1929548+07:00 0HLN69MMGP6EF:00000007 [INF] Request finished in 159.6129ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T11:59:12.2829030+07:00 0HLN69MMGP6EE:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:59:12.2849350+07:00 0HLN69MMGP6EH:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:59:12.2871237+07:00 0HLN69MMGP6EF:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T11:59:12.2936686+07:00 0HLN69MMGP6EE:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:59:12.2958811+07:00 0HLN69MMGP6EH:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T11:59:12.3014979+07:00 0HLN69MMGP6EE:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:59:12.3038278+07:00 0HLN69MMGP6EF:00000008 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:59:12.3135049+07:00 0HLN69MMGP6EE:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:59:12.3159779+07:00 0HLN69MMGP6EH:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T11:59:12.3181269+07:00 0HLN69MMGP6EF:00000008 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:59:12.4070614+07:00 0HLN69MMGP6EE:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:59:12.4128911+07:00 0HLN69MMGP6EF:00000008 [INF] Request finished in 112.8717ms 200 application/json (791a596a)
2019-06-01T11:59:12.4242330+07:00 0HLN69MMGP6EE:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:59:12.4266289+07:00 0HLN69MMGP6EH:00000006 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:59:12.4419794+07:00 0HLN69MMGP6EE:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:59:12.4435901+07:00 0HLN69MMGP6EH:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:59:12.4521464+07:00 0HLN69MMGP6EE:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:59:12.4635507+07:00 0HLN69MMGP6EL:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=zgj2fmQJZ4T4T8C-564nLA   (ca22a1cb)
2019-06-01T11:59:12.4857980+07:00 0HLN69MMGP6EE:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 45.0539ms. (50a9e262)
2019-06-01T11:59:12.4943654+07:00 0HLN69MMGP6EH:00000006 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:59:12.4958363+07:00 0HLN69MMGP6EE:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:59:12.5028881+07:00 0HLN69MMGP6EL:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:59:12.5047892+07:00 0HLN69MMGP6EE:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 194.1175ms (afa2e885)
2019-06-01T11:59:12.5143831+07:00 0HLN69MMGP6EL:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:59:12.5164011+07:00 0HLN69MMGP6EE:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:59:12.5534809+07:00 0HLN69MMGP6EE:00000009 [INF] Request finished in 245.7573ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:59:12.5559309+07:00 0HLN69MMGP6EL:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T11:59:12.5881934+07:00 0HLN69MMGP6EH:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T11:59:12.6986541+07:00 0HLN69MMGP6EH:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:59:12.7130295+07:00 0HLN69MMGP6EH:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T11:59:12.7324518+07:00 0HLN69MMGP6EH:00000006 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T11:59:12.7466126+07:00 0HLN69MMGP6EH:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T11:59:12.7596764+07:00 0HLN69MMGP6EH:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T11:59:12.7705121+07:00 0HLN69MMGP6EH:00000006 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T11:59:12.7832071+07:00 0HLN69MMGP6EH:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T11:59:12.7904046+07:00 0HLN69MMGP6EH:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 340.1166ms. (50a9e262)
2019-06-01T11:59:12.7985473+07:00 0HLN69MMGP6EH:00000006 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:59:12.8041108+07:00 0HLN69MMGP6EH:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 481.9142ms (afa2e885)
2019-06-01T11:59:12.8105231+07:00 0HLN69MMGP6EH:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T11:59:12.8144197+07:00 0HLN69MMGP6EH:00000006 [INF] Request finished in 538.0697ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:59:12.8260382+07:00 0HLN69MMGP6EH:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T11:59:12.8323442+07:00 0HLN69MMGP6EH:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T11:59:12.8367397+07:00 0HLN69MMGP6EH:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T11:59:12.8412562+07:00 0HLN69MMGP6EH:00000007 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:59:12.8462487+07:00 0HLN69MMGP6EH:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:59:12.8503963+07:00 0HLN69MMGP6EH:00000007 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T11:59:12.8567385+07:00 0HLN69MMGP6EH:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T11:59:12.8633981+07:00 0HLN69MMGP6EH:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T11:59:12.8676348+07:00 0HLN69MMGP6EH:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 17.2816ms. (50a9e262)
2019-06-01T11:59:12.8715766+07:00 0HLN69MMGP6EH:00000007 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T11:59:12.8785793+07:00 0HLN69MMGP6EH:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 35.0325ms (afa2e885)
2019-06-01T11:59:12.8827396+07:00 0HLN69MMGP6EH:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T11:59:12.8874958+07:00 0HLN69MMGP6EH:00000007 [INF] Request finished in 61.3886ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T11:59:49.1094931+07:00 0HLN69MMGP6EH:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/MarkAsRead application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T11:59:51.2309339+07:00 0HLN69MMGP6EE:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Announcement/MarkAsRead application/x-www-form-urlencoded; charset=UTF-8 39 (ca22a1cb)
2019-06-01T11:59:51.2325146+07:00 0HLN69MMGP6EH:00000008 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:59:51.2377408+07:00 0HLN69MMGP6EH:00000008 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:59:51.2388054+07:00 0HLN69MMGP6EE:0000000A [INF] CORS policy execution failed. (09b6f179)
2019-06-01T11:59:51.2455263+07:00 0HLN69MMGP6EH:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)"' (500cc934)
2019-06-01T11:59:51.2470938+07:00 0HLN69MMGP6EE:0000000A [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T11:59:51.2503714+07:00 0HLN69MMGP6EE:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)"' (500cc934)
2019-06-01T11:59:51.2576645+07:00 0HLN69MMGP6EH:00000008 [INF] Route matched with "{area = \"Admin\", action = \"MarkAsRead\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)" (a44c0341)
2019-06-01T11:59:51.2625154+07:00 0HLN69MMGP6EE:0000000A [INF] Route matched with "{area = \"Admin\", action = \"MarkAsRead\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)" (a44c0341)
2019-06-01T11:59:51.2634578+07:00 0HLN69MMGP6EH:00000008 [INF] Authorization was successful. (0d575a54)
2019-06-01T11:59:51.2681367+07:00 0HLN69MMGP6EE:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T11:59:51.2738028+07:00 0HLN69MMGP6EH:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)" with arguments (["ae777e74-98e3-4ec2-8b5d-ec9727b9139d"]) - Validation state: Valid (4e3479ed)
2019-06-01T11:59:51.2761375+07:00 0HLN69MMGP6EE:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)" with arguments (["ae9f97e0-5feb-4995-ac8b-f424c4d57e4a"]) - Validation state: Valid (4e3479ed)
2019-06-01T12:00:02.9190609+07:00 0HLN69MMGP6EE:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T12:00:02.9200033+07:00 0HLN69MMGP6EH:00000008 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T12:00:02.9422527+07:00 0HLN69MMGP6EE:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[AnnouncementId] = @__id_0) AND ([x].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T12:00:02.9433452+07:00 0HLN69MMGP6EH:00000008 [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [x].[Id], [x].[AnnouncementId], [x].[HasRead], [x].[UserId]
FROM [AnnouncementUsers] AS [x]
WHERE ([x].[AnnouncementId] = @__id_0) AND ([x].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T12:00:02.9570613+07:00 0HLN69MMGP6EE:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [y].[Id], [y].[Content], [y].[DateCreated], [y].[DateModified], [y].[Status], [y].[Title], [y].[UserId]
FROM [Announcements] AS [y]
WHERE ([y].[Id] = @__id_0) AND ([y].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T12:00:02.9585669+07:00 0HLN69MMGP6EH:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (Size = 450), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [y].[Id], [y].[Content], [y].[DateCreated], [y].[DateModified], [y].[Status], [y].[Title], [y].[UserId]
FROM [Announcements] AS [y]
WHERE ([y].[Id] = @__id_0) AND ([y].[UserId] = @__userId_1)" (0723d8ff)
2019-06-01T12:00:02.9643851+07:00 0HLN69MMGP6EE:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11682.4482ms. (50a9e262)
2019-06-01T12:00:02.9668631+07:00 0HLN69MMGP6EH:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11686.84ms. (50a9e262)
2019-06-01T12:00:02.9722514+07:00 0HLN69MMGP6EE:0000000A [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-06-01T12:00:02.9732274+07:00 0HLN69MMGP6EH:00000008 [INF] Executing ObjectResult, writing value of type '"System.Boolean"'. (8a1b66c8)
2019-06-01T12:00:02.9876774+07:00 0HLN69MMGP6EH:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)" in 11715.665ms (afa2e885)
2019-06-01T12:00:02.9879437+07:00 0HLN69MMGP6EE:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)" in 11711.697ms (afa2e885)
2019-06-01T12:00:02.9938944+07:00 0HLN69MMGP6EE:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)"' (99874f2b)
2019-06-01T12:00:03.0082728+07:00 0HLN69MMGP6EH:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.MarkAsRead (Shop3)"' (99874f2b)
2019-06-01T12:00:03.9807823+07:00 0HLN69MMGP6EE:0000000A [INF] Request finished in 13883.7617ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T12:00:04.0123400+07:00 0HLN69MMGP6EF:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T12:00:04.0173615+07:00 0HLN69MMGP6EH:00000008 [INF] Request finished in 16850.1482ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T12:00:04.0218936+07:00 0HLN69MMGP6EF:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T12:00:04.0283375+07:00 0HLN69MMGP6EE:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T12:00:04.0309796+07:00 0HLN69MMGP6EF:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T12:00:04.0391445+07:00 0HLN69MMGP6EE:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T12:00:04.0413048+07:00 0HLN69MMGP6EF:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T12:00:04.0481874+07:00 0HLN69MMGP6EE:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T12:00:04.0503268+07:00 0HLN69MMGP6EF:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T12:00:04.0605796+07:00 0HLN69MMGP6EE:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T12:00:04.0637533+07:00 0HLN69MMGP6EF:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T12:00:04.0677873+07:00 0HLN69MMGP6EE:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T12:00:04.0775924+07:00 0HLN69MMGP6EE:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T12:00:04.0850611+07:00 0HLN69MMGP6EF:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T12:00:04.1049963+07:00 0HLN69MMGP6EF:00000009 [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T12:00:04.1073951+07:00 0HLN69MMGP6EE:0000000B [INF] Executed DbCommand ("12"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T12:00:04.1119026+07:00 0HLN69MMGP6EF:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 54.7433ms. (50a9e262)
2019-06-01T12:00:04.1204589+07:00 0HLN69MMGP6EF:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T12:00:04.1308223+07:00 0HLN69MMGP6EE:0000000B [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T12:00:04.1465426+07:00 0HLN69MMGP6EF:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 89.0534ms (afa2e885)
2019-06-01T12:00:04.1608859+07:00 0HLN69MMGP6EE:0000000B [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T12:00:04.1633355+07:00 0HLN69MMGP6EF:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T12:00:04.1745918+07:00 0HLN69MMGP6EF:00000009 [INF] Request finished in 1153.151ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T12:00:04.1768104+07:00 0HLN69MMGP6EE:0000000B [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T12:00:04.1830677+07:00 0HLN69MMGP6EH:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T12:00:04.1912596+07:00 0HLN69MMGP6EE:0000000B [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T12:00:04.1931801+07:00 0HLN69MMGP6EH:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T12:00:04.2036666+07:00 0HLN69MMGP6EH:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T12:00:04.2120063+07:00 0HLN69MMGP6EE:0000000B [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T12:00:04.2136489+07:00 0HLN69MMGP6EH:00000009 [INF] Authorization was successful. (0d575a54)
2019-06-01T12:00:04.2203210+07:00 0HLN69MMGP6EH:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T12:00:04.2283283+07:00 0HLN69MMGP6EE:0000000B [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T12:00:04.2301700+07:00 0HLN69MMGP6EH:00000009 [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T12:00:04.2442257+07:00 0HLN69MMGP6EH:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T12:00:04.2457802+07:00 0HLN69MMGP6EE:0000000B [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T12:00:04.2532957+07:00 0HLN69MMGP6EH:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T12:00:04.2556210+07:00 0HLN69MMGP6EE:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 179.2925ms. (50a9e262)
2019-06-01T12:00:04.2632329+07:00 0HLN69MMGP6EH:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 33.0477ms. (50a9e262)
2019-06-01T12:00:04.2680903+07:00 0HLN69MMGP6EE:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T12:00:05.1785446+07:00 0HLN69MMGP6EE:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 220.1762ms (afa2e885)
2019-06-01T12:00:05.1825798+07:00 0HLN69MMGP6EF:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T12:00:05.1934849+07:00 0HLN69MMGP6EE:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T12:00:05.2099538+07:00 0HLN69MMGP6EF:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T12:00:05.2251886+07:00 0HLN69MMGP6EE:0000000B [INF] Request finished in 1179.2437ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T12:00:05.2574930+07:00 0HLN69MMGP6EF:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T12:00:05.2623151+07:00 0HLN69MMGP6EH:00000009 [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T12:00:05.2638619+07:00 0HLN69MMGP6EF:0000000A [INF] Authorization was successful. (0d575a54)
2019-06-01T12:00:05.2734536+07:00 0HLN69MMGP6EH:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 1059.4091ms (afa2e885)
2019-06-01T12:00:05.2794031+07:00 0HLN69MMGP6EF:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T12:00:05.2819090+07:00 0HLN69MMGP6EE:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T12:00:05.2909978+07:00 0HLN69MMGP6EF:0000000A [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T12:00:05.2937883+07:00 0HLN69MMGP6EE:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T12:00:05.2951000+07:00 0HLN69MMGP6EH:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T12:00:05.3040054+07:00 0HLN69MMGP6EE:0000000C [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T12:00:05.3063730+07:00 0HLN69MMGP6EF:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T12:00:05.3132620+07:00 0HLN69MMGP6EE:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T12:00:05.3221929+07:00 0HLN69MMGP6EF:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T12:00:05.3243931+07:00 0HLN69MMGP6EE:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T12:00:05.3264082+07:00 0HLN69MMGP6EH:00000009 [INF] Request finished in 1138.4774ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T12:00:05.3327409+07:00 0HLN69MMGP6EF:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T12:00:05.3360230+07:00 0HLN69MMGP6EE:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T12:00:05.3450470+07:00 0HLN69MMGP6EF:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T12:00:05.3477321+07:00 0HLN69MMGP6EE:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T12:00:05.3587036+07:00 0HLN69MMGP6EF:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T12:00:05.3597801+07:00 0HLN69MMGP6EE:0000000C [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T12:00:05.3675704+07:00 0HLN69MMGP6EE:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 35.4592ms. (50a9e262)
2019-06-01T12:00:05.3698724+07:00 0HLN69MMGP6EF:0000000A [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T12:00:05.3798815+07:00 0HLN69MMGP6EE:0000000C [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T12:00:05.3819852+07:00 0HLN69MMGP6EF:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T12:00:05.3920981+07:00 0HLN69MMGP6EE:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 76.8758ms (afa2e885)
2019-06-01T12:00:05.3947901+07:00 0HLN69MMGP6EF:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T12:00:05.4030383+07:00 0HLN69MMGP6EE:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T12:00:05.4050683+07:00 0HLN69MMGP6EF:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 115.7024ms. (50a9e262)
2019-06-01T12:00:05.4126752+07:00 0HLN69MMGP6EE:0000000C [INF] Request finished in 131.8977ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T12:00:05.4153653+07:00 0HLN69MMGP6EF:0000000A [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T12:00:05.4247212+07:00 0HLN69MMGP6EF:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 158.0515ms (afa2e885)
2019-06-01T12:00:05.4292574+07:00 0HLN69MMGP6EF:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T12:00:05.4405103+07:00 0HLN69MMGP6EF:0000000A [INF] Request finished in 1153.0058ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T12:00:05.4474884+07:00 0HLN69MMGP6EF:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T12:00:05.4524065+07:00 0HLN69MMGP6EF:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T12:00:05.4575327+07:00 0HLN69MMGP6EF:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T12:00:05.4621213+07:00 0HLN69MMGP6EF:0000000B [INF] Authorization was successful. (0d575a54)
2019-06-01T12:00:05.4664672+07:00 0HLN69MMGP6EF:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T12:00:05.4713600+07:00 0HLN69MMGP6EF:0000000B [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T12:00:05.4774354+07:00 0HLN69MMGP6EF:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T12:00:05.4835909+07:00 0HLN69MMGP6EF:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T12:00:05.4881431+07:00 0HLN69MMGP6EF:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 17.2098ms. (50a9e262)
2019-06-01T12:00:05.4929517+07:00 0HLN69MMGP6EF:0000000B [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T12:00:05.5008028+07:00 0HLN69MMGP6EF:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 35.5798ms (afa2e885)
2019-06-01T12:00:05.5055822+07:00 0HLN69MMGP6EF:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T12:00:05.5113620+07:00 0HLN69MMGP6EF:0000000B [INF] Request finished in 62.7708ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T12:02:01.5827715+07:00 0HLN69MMGP6EF:0000000C [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/index   (ca22a1cb)
2019-06-01T12:02:01.5869065+07:00 0HLN69MMGP6EF:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (500cc934)
2019-06-01T12:02:01.5916955+07:00 0HLN69MMGP6EF:0000000C [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" (a44c0341)
2019-06-01T12:02:01.5968010+07:00 0HLN69MMGP6EF:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T12:02:01.6005032+07:00 0HLN69MMGP6EF:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-06-01T12:02:01.6042755+07:00 0HLN69MMGP6EF:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.043ms. (50a9e262)
2019-06-01T12:02:01.6103095+07:00 0HLN69MMGP6EF:0000000C [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-06-01T12:02:01.6159830+07:00 0HLN69MMGP6EF:0000000C [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T12:02:01.6304962+07:00 0HLN69MMGP6EF:0000000C [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T12:02:01.6344461+07:00 0HLN69MMGP6EF:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T12:02:01.6463460+07:00 0HLN69MMGP6EF:0000000C [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T12:02:01.6499833+07:00 0HLN69MMGP6EF:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T12:02:01.6630082+07:00 0HLN69MMGP6EF:0000000C [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-06-01T12:02:01.6674254+07:00 0HLN69MMGP6EF:0000000C [INF] Authorization was successful. (0d575a54)
2019-06-01T12:02:01.6748289+07:00 0HLN69MMGP6EF:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-06-01T12:02:01.6897716+07:00 0HLN69MMGP6EF:0000000C [INF] Executed ViewResult - view "Index" executed in 72.6887ms. (f66409e9)
2019-06-01T12:02:03.2353227+07:00 0HLN69MMGP6EF:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)" in 98.1816ms (afa2e885)
2019-06-01T12:02:06.4296598+07:00 0HLN69MMGP6EE:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/announcement/index.js?v=cnUNyT-R9OOamTlp4eZq5PXY3EWvo8_jAhp6jw3f2_E   (ca22a1cb)
2019-06-01T12:02:06.4313328+07:00 0HLN69MMGP6EL:00000001 [INF] Request finished in 169583.0099ms 101  (791a596a)
2019-06-01T12:02:06.4330842+07:00 0HLN69MMGP6EF:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.Index (Shop3)"' (99874f2b)
2019-06-01T12:02:06.4464742+07:00 0HLN69MMGP6EE:0000000D [INF] The file "/app/controllers/announcement/index.js" was not modified (f1f8d725)
2019-06-01T12:02:06.4600336+07:00 0HLN69MMGP6EF:0000000C [INF] Request finished in 4856.8415ms 200 text/html; charset=utf-8 (791a596a)
2019-06-01T12:02:07.4780315+07:00 0HLN69MMGP6EE:0000000D [INF] Request finished in 4414.647ms 304 application/javascript (791a596a)
2019-06-01T12:02:07.4894490+07:00 0HLN69MMGP6EH:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Shop3Hub/negotiate text/plain;charset=UTF-8 0 (ca22a1cb)
2019-06-01T12:02:07.4934916+07:00 0HLN69MMGP6EF:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllAnnouncementOfUserPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T12:02:07.5000466+07:00 0HLN69MMGP6EE:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T12:02:07.5102567+07:00 0HLN69MMGP6EF:0000000D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (500cc934)
2019-06-01T12:02:07.5120930+07:00 0HLN69MMGP6EE:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T12:02:07.5208536+07:00 0HLN69MMGP6EF:0000000D [INF] Route matched with "{area = \"Admin\", action = \"GetAllAnnouncementOfUserPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" (a44c0341)
2019-06-01T12:02:07.5219494+07:00 0HLN69MMGP6EE:0000000E [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T12:02:07.5277545+07:00 0HLN69MMGP6EH:0000000A [INF] CORS policy execution failed. (09b6f179)
2019-06-01T12:02:07.5363638+07:00 0HLN69MMGP6EF:0000000D [INF] Authorization was successful. (0d575a54)
2019-06-01T12:02:07.5383014+07:00 0HLN69MMGP6EE:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T12:02:07.5501074+07:00 0HLN69MMGP6EF:0000000D [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T12:02:07.5588445+07:00 0HLN69MMGP6EE:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T12:02:07.5600536+07:00 0HLN69MMGP6EH:0000000A [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T12:02:07.5801541+07:00 0HLN69MMGP6EF:0000000D [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T12:02:07.5869791+07:00 0HLN69MMGP6EE:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T12:02:07.5917684+07:00 0HLN69MMGP6ED:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-06-01T12:02:07.5967744+07:00 0HLN69MMGP6EF:0000000D [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0" (0723d8ff)
2019-06-01T12:02:07.6085082+07:00 0HLN69MMGP6ED:00000004 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-06-01T12:02:07.6098665+07:00 0HLN69MMGP6EE:0000000E [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T12:02:07.6165754+07:00 0HLN69MMGP6ED:00000004 [INF] Request finished in 37.9609ms 200 image/x-icon (791a596a)
2019-06-01T12:02:07.6187969+07:00 0HLN69MMGP6EF:0000000D [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first].[Id], [first].[Title], [first].[DateCreated], [first].[UserId], [first].[Content], [first.AppUser].[FullName], [first].[Status]
FROM [Announcements] AS [first]
INNER JOIN [AspNetUsers] AS [first.AppUser] ON [first].[UserId] = [first.AppUser].[Id]
LEFT JOIN [AnnouncementUsers] AS [last] ON [first].[Id] = [last].[AnnouncementId]
WHERE [last].[UserId] = @__userId_0
ORDER BY [first].[DateCreated] DESC, [first].[Id]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T12:02:07.6206083+07:00 0HLN69MMGP6EH:0000000A [INF] Request finished in 3170.0585ms 200 application/json (791a596a)
2019-06-01T12:02:07.6332145+07:00 0HLN69MMGP6EE:0000000E [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T12:02:07.6351136+07:00 0HLN69MMGP6EF:0000000D [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers].[Id], [first.AnnouncementUsers].[AnnouncementId], [first.AnnouncementUsers].[HasRead], [first.AnnouncementUsers].[UserId], [t].[DateCreated], [t].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers]
INNER JOIN (
    SELECT [first0].[DateCreated], [first0].[Id]
    FROM [Announcements] AS [first0]
    INNER JOIN [AspNetUsers] AS [first.AppUser0] ON [first0].[UserId] = [first.AppUser0].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last0] ON [first0].[Id] = [last0].[AnnouncementId]
    WHERE [last0].[UserId] = @__userId_0
    ORDER BY [first0].[DateCreated] DESC, [first0].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t] ON [first.AnnouncementUsers].[AnnouncementId] = [t].[Id]
ORDER BY [t].[DateCreated] DESC, [t].[Id]" (0723d8ff)
2019-06-01T12:02:07.6414705+07:00 0HLN69MMGP6EE:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 74.443ms. (50a9e262)
2019-06-01T12:02:07.6442275+07:00 0HLN69MMGP6EM:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Shop3Hub?id=GOx8SpcZlu-3RixVcu5bcw   (ca22a1cb)
2019-06-01T12:02:07.6516679+07:00 0HLN69MMGP6EE:0000000E [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T12:02:07.6537200+07:00 0HLN69MMGP6EF:0000000D [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers0].[Id], [first.AnnouncementUsers0].[AnnouncementId], [first.AnnouncementUsers0].[HasRead], [first.AnnouncementUsers0].[UserId], [t0].[DateCreated], [t0].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers0]
INNER JOIN (
    SELECT [first1].[DateCreated], [first1].[Id]
    FROM [Announcements] AS [first1]
    INNER JOIN [AspNetUsers] AS [first.AppUser1] ON [first1].[UserId] = [first.AppUser1].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last1] ON [first1].[Id] = [last1].[AnnouncementId]
    WHERE [last1].[UserId] = @__userId_0
    ORDER BY [first1].[DateCreated] DESC, [first1].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t0] ON [first.AnnouncementUsers0].[AnnouncementId] = [t0].[Id]
ORDER BY [t0].[DateCreated] DESC, [t0].[Id]" (0723d8ff)
2019-06-01T12:02:07.6548063+07:00 0HLN69MMGP6EM:00000001 [INF] CORS policy execution failed. (09b6f179)
2019-06-01T12:02:07.6669064+07:00 0HLN69MMGP6EE:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 127.9014ms (afa2e885)
2019-06-01T12:02:07.6726430+07:00 0HLN69MMGP6EF:0000000D [INF] Executed DbCommand ("10"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers1].[Id], [first.AnnouncementUsers1].[AnnouncementId], [first.AnnouncementUsers1].[HasRead], [first.AnnouncementUsers1].[UserId], [t1].[DateCreated], [t1].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers1]
INNER JOIN (
    SELECT [first2].[DateCreated], [first2].[Id]
    FROM [Announcements] AS [first2]
    INNER JOIN [AspNetUsers] AS [first.AppUser2] ON [first2].[UserId] = [first.AppUser2].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last2] ON [first2].[Id] = [last2].[AnnouncementId]
    WHERE [last2].[UserId] = @__userId_0
    ORDER BY [first2].[DateCreated] DESC, [first2].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t1] ON [first.AnnouncementUsers1].[AnnouncementId] = [t1].[Id]
ORDER BY [t1].[DateCreated] DESC, [t1].[Id]" (0723d8ff)
2019-06-01T12:02:07.6763325+07:00 0HLN69MMGP6EE:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T12:02:07.6797910+07:00 0HLN69MMGP6EM:00000001 [INF] Request origin "https://localhost:5001" does not have permission to access the resource. (a03d560b)
2019-06-01T12:02:07.6895222+07:00 0HLN69MMGP6EE:0000000E [INF] Request finished in 194.4679ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T12:02:08.6105844+07:00 0HLN69MMGP6EF:0000000D [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers2].[Id], [first.AnnouncementUsers2].[AnnouncementId], [first.AnnouncementUsers2].[HasRead], [first.AnnouncementUsers2].[UserId], [t2].[DateCreated], [t2].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers2]
INNER JOIN (
    SELECT [first3].[DateCreated], [first3].[Id]
    FROM [Announcements] AS [first3]
    INNER JOIN [AspNetUsers] AS [first.AppUser3] ON [first3].[UserId] = [first.AppUser3].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last3] ON [first3].[Id] = [last3].[AnnouncementId]
    WHERE [last3].[UserId] = @__userId_0
    ORDER BY [first3].[DateCreated] DESC, [first3].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t2] ON [first.AnnouncementUsers2].[AnnouncementId] = [t2].[Id]
ORDER BY [t2].[DateCreated] DESC, [t2].[Id]" (0723d8ff)
2019-06-01T12:02:08.6281791+07:00 0HLN69MMGP6EM:00000001 [INF] Completed connection handshake. Using HubProtocol '"json"'. (421947a1)
2019-06-01T12:02:08.6315222+07:00 0HLN69MMGP6EF:0000000D [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers3].[Id], [first.AnnouncementUsers3].[AnnouncementId], [first.AnnouncementUsers3].[HasRead], [first.AnnouncementUsers3].[UserId], [t3].[DateCreated], [t3].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers3]
INNER JOIN (
    SELECT [first4].[DateCreated], [first4].[Id]
    FROM [Announcements] AS [first4]
    INNER JOIN [AspNetUsers] AS [first.AppUser4] ON [first4].[UserId] = [first.AppUser4].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last4] ON [first4].[Id] = [last4].[AnnouncementId]
    WHERE [last4].[UserId] = @__userId_0
    ORDER BY [first4].[DateCreated] DESC, [first4].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t3] ON [first.AnnouncementUsers3].[AnnouncementId] = [t3].[Id]
ORDER BY [t3].[DateCreated] DESC, [t3].[Id]" (0723d8ff)
2019-06-01T12:02:08.6425491+07:00 0HLN69MMGP6EF:0000000D [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [first.AnnouncementUsers4].[Id], [first.AnnouncementUsers4].[AnnouncementId], [first.AnnouncementUsers4].[HasRead], [first.AnnouncementUsers4].[UserId], [t4].[DateCreated], [t4].[Id]
FROM [AnnouncementUsers] AS [first.AnnouncementUsers4]
INNER JOIN (
    SELECT [first5].[DateCreated], [first5].[Id]
    FROM [Announcements] AS [first5]
    INNER JOIN [AspNetUsers] AS [first.AppUser5] ON [first5].[UserId] = [first.AppUser5].[Id]
    LEFT JOIN [AnnouncementUsers] AS [last5] ON [first5].[Id] = [last5].[AnnouncementId]
    WHERE [last5].[UserId] = @__userId_0
    ORDER BY [first5].[DateCreated] DESC, [first5].[Id]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [t4] ON [first.AnnouncementUsers4].[AnnouncementId] = [t4].[Id]
ORDER BY [t4].[DateCreated] DESC, [t4].[Id]" (0723d8ff)
2019-06-01T12:02:08.6485816+07:00 0HLN69MMGP6EF:0000000D [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1092.669ms. (50a9e262)
2019-06-01T12:02:08.6752256+07:00 0HLN69MMGP6EF:0000000D [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T12:02:08.6838553+07:00 0HLN69MMGP6EF:0000000D [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)" in 1154.5992ms (afa2e885)
2019-06-01T12:02:08.6877404+07:00 0HLN69MMGP6EF:0000000D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllAnnouncementOfUserPaging (Shop3)"' (99874f2b)
2019-06-01T12:02:08.6938939+07:00 0HLN69MMGP6EF:0000000D [INF] Request finished in 1207.7122ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T12:02:08.7156809+07:00 0HLN69MMGP6EF:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/announcement/GetAllPaging?page=1&pageSize=10   (ca22a1cb)
2019-06-01T12:02:08.7296813+07:00 0HLN69MMGP6EF:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (500cc934)
2019-06-01T12:02:08.7375624+07:00 0HLN69MMGP6EF:0000000E [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Announcement\"}". Executing action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" (a44c0341)
2019-06-01T12:02:08.7518672+07:00 0HLN69MMGP6EF:0000000E [INF] Authorization was successful. (0d575a54)
2019-06-01T12:02:08.7583672+07:00 0HLN69MMGP6EF:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" with arguments (["1", "10"]) - Validation state: Valid (4e3479ed)
2019-06-01T12:02:08.7638126+07:00 0HLN69MMGP6EF:0000000E [INF] Entity Framework Core "2.2.4-servicing-10062" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-06-01T12:02:08.7707902+07:00 0HLN69MMGP6EF:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))" (0723d8ff)
2019-06-01T12:02:08.7795401+07:00 0HLN69MMGP6EF:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Id], [x].[Status], [x].[Title], [x].[UserId]
FROM [Announcements] AS [x]
LEFT JOIN [AnnouncementUsers] AS [y] ON [x].[Id] = [y].[AnnouncementId]
WHERE ([y].[HasRead] = 0) AND ([y].[UserId] IS NULL OR ([y].[UserId] = @__userId_0))
ORDER BY [x].[DateCreated] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2019-06-01T12:02:08.7898347+07:00 0HLN69MMGP6EF:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 21.2229ms. (50a9e262)
2019-06-01T12:02:08.7960858+07:00 0HLN69MMGP6EF:0000000E [INF] Executing ObjectResult, writing value of type '"Shop3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.System.AnnouncementViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-06-01T12:02:08.8074084+07:00 0HLN69MMGP6EF:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)" in 58.6945ms (afa2e885)
2019-06-01T12:02:08.8124624+07:00 0HLN69MMGP6EF:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.AnnouncementController.GetAllPaging (Shop3)"' (99874f2b)
2019-06-01T12:02:08.8212251+07:00 0HLN69MMGP6EF:0000000E [INF] Request finished in 105.8366ms 200 application/json; charset=utf-8 (791a596a)
2019-06-01T12:02:11.2715013+07:00 0HLN69MMGP6EM:00000001 [INF] Request finished in 3680.7149ms 101  (791a596a)
