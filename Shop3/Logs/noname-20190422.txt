2019-04-22T00:00:00.4822411+07:00 0HLM6FB2VR8M9:00000003 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2019-04-22T00:00:00.4899330+07:00 0HLM6FB2VR8M9:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (500cc934)
2019-04-22T00:00:00.5283191+07:00 0HLM6FB2VR8M9:00000003 [INF] Route matched with "{area = \"Admin\", action = \"Authen\", controller = \"Login\"}". Executing action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" (a44c0341)
2019-04-22T00:00:00.6022650+07:00 0HLM6FB2VR8M9:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" with arguments (["Shop3.Models.AccountViewModels.LoginViewModel"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:00:00.6219506+07:00 0HLM6FB2VR8M9:00000003 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:00:00.7969139+07:00 0HLM6FB2VR8M9:00000003 [INF] Executed DbCommand ("20"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AspNetUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2019-04-22T00:00:01.5707782+07:00 0HLM6FB2VR8M9:00000003 [INF] Executed DbCommand ("8"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AspNetUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2019-04-22T00:00:01.6950362+07:00 0HLM6FB2VR8M9:00000003 [INF] Executed DbCommand ("26"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-04-22T00:00:01.7719158+07:00 0HLM6FB2VR8M9:00000003 [INF] Executed DbCommand ("38"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-04-22T00:00:01.8192565+07:00 0HLM6FB2VR8M9:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-04-22T00:00:01.8357714+07:00 0HLM6FB2VR8M9:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-04-22T00:00:01.8448594+07:00 0HLM6FB2VR8M9:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-04-22T00:00:01.8513705+07:00 0HLM6FB2VR8M9:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AspNetRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2019-04-22T00:00:01.8574337+07:00 0HLM6FB2VR8M9:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AspNetRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2019-04-22T00:00:01.8677739+07:00 0HLM6FB2VR8M9:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AspNetUserRoles] AS [userRole]
INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2019-04-22T00:00:01.8836967+07:00 0HLM6FB2VR8M9:00000003 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2019-04-22T00:00:01.8931716+07:00 0HLM6FB2VR8M9:00000003 [INF] User logged in. (fdce0db4)
2019-04-22T00:00:01.9002022+07:00 0HLM6FB2VR8M9:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1293.4055ms. (50a9e262)
2019-04-22T00:00:01.9185648+07:00 0HLM6FB2VR8M9:00000003 [INF] Executing ObjectResult, writing value of type '"Shp3.Utilities.Dtos.GenericResult"'. (8a1b66c8)
2019-04-22T00:00:02.3292036+07:00 0HLM6FB2VR8M9:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)" in 1796.1481ms (afa2e885)
2019-04-22T00:00:02.3369074+07:00 0HLM6FB2VR8M9:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.LoginController.Authen (Shop3)"' (99874f2b)
2019-04-22T00:00:02.3483573+07:00 0HLM6FB2VR8M9:00000003 [INF] Request finished in 1863.6902ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:00:02.3711630+07:00 0HLM6FB2VR8M9:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Home/Index   (ca22a1cb)
2019-04-22T00:00:02.3800336+07:00 0HLM6FB2VR8M9:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (500cc934)
2019-04-22T00:00:02.3875954+07:00 0HLM6FB2VR8M9:00000004 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Home\"}". Executing action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" (a44c0341)
2019-04-22T00:00:02.4105160+07:00 0HLM6FB2VR8M9:00000004 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:00:02.4162669+07:00 0HLM6FB2VR8M9:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:00:02.4225521+07:00 0HLM6FB2VR8M9:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 1.0941ms. (50a9e262)
2019-04-22T00:00:02.4345685+07:00 0HLM6FB2VR8M9:00000004 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-04-22T00:00:02.4695232+07:00 0HLM6FB2VR8M9:00000004 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:00:02.5536651+07:00 0HLM6FB2VR8M9:00000004 [INF] Executed DbCommand ("12"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-04-22T00:00:02.6100299+07:00 0HLM6FB2VR8M9:00000004 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:00:02.7965558+07:00 0HLM6FB2VR8M9:00000004 [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-04-22T00:00:03.1240832+07:00 0HLM6FB2VR8M9:00000004 [INF] Executed ViewResult - view "Index" executed in 421.4354ms. (f66409e9)
2019-04-22T00:00:03.3155347+07:00 0HLM6FB2VR8M9:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)" in 745.0338ms (afa2e885)
2019-04-22T00:00:03.4986387+07:00 0HLM6FB2VR8M9:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.HomeController.Index (Shop3)"' (99874f2b)
2019-04-22T00:00:03.6421418+07:00 0HLM6FB2VR8M9:00000004 [INF] Request finished in 1134.5591ms 200 text/html; charset=utf-8 (791a596a)
2019-04-22T00:00:05.8680319+07:00 0HLM6FB2VR8M9:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/product/index   (ca22a1cb)
2019-04-22T00:00:05.8784528+07:00 0HLM6FB2VR8M9:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)"' (500cc934)
2019-04-22T00:00:05.8889866+07:00 0HLM6FB2VR8M9:00000005 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)" (a44c0341)
2019-04-22T00:00:05.9029685+07:00 0HLM6FB2VR8M9:00000005 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:00:05.9145874+07:00 0HLM6FB2VR8M9:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:00:05.9260741+07:00 0HLM6FB2VR8M9:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.2272ms. (50a9e262)
2019-04-22T00:00:05.9365288+07:00 0HLM6FB2VR8M9:00000005 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-04-22T00:00:05.9547162+07:00 0HLM6FB2VR8M9:00000005 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:00:05.9798001+07:00 0HLM6FB2VR8M9:00000005 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-04-22T00:00:05.9842103+07:00 0HLM6FB2VR8M9:00000005 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:00:06.0052438+07:00 0HLM6FB2VR8M9:00000005 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-04-22T00:00:06.0116844+07:00 0HLM6FB2VR8M9:00000005 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:00:06.0819105+07:00 0HLM6FB2VR8M9:00000005 [INF] Executed DbCommand ("14"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-04-22T00:00:06.0988578+07:00 0HLM6FB2VR8M9:00000005 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:00:06.1536245+07:00 0HLM6FB2VR8M9:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-04-22T00:00:06.4184036+07:00 0HLM6FB2VR8M9:00000005 [INF] Executed ViewResult - view "Index" executed in 237.0244ms. (f66409e9)
2019-04-22T00:00:06.5216630+07:00 0HLM6FB2VR8M8:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/product/index.js   (ca22a1cb)
2019-04-22T00:00:06.5361828+07:00 0HLM6FB2VR8MA:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/product/image-management.js   (ca22a1cb)
2019-04-22T00:00:06.6028926+07:00 0HLM6FB2VR8M9:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)" in 529.5355ms (afa2e885)
2019-04-22T00:00:06.7118395+07:00 0HLM6FB2VR8M8:00000003 [INF] The file "/app/controllers/product/index.js" was not modified (f1f8d725)
2019-04-22T00:00:06.9208282+07:00 0HLM6FB2VR8MA:00000003 [INF] Sending file. Request path: '"/app/controllers/product/image-management.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\product\image-management.js"' (27b0a520)
2019-04-22T00:00:07.1472479+07:00 0HLM6FB2VR8MB:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Bill/GetSizes   (ca22a1cb)
2019-04-22T00:00:07.1590116+07:00 0HLM6FB2VR8M7:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Bill/GetColors   (ca22a1cb)
2019-04-22T00:00:07.1650091+07:00 0HLM6FB2VR8M8:00000003 [INF] Request finished in 319.4067ms 304 application/javascript (791a596a)
2019-04-22T00:00:07.1767584+07:00 0HLM6FB2VR8MB:00000001 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)"' (500cc934)
2019-04-22T00:00:07.1840492+07:00 0HLM6FB2VR8M7:00000002 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)"' (500cc934)
2019-04-22T00:00:07.1971892+07:00 0HLM6FB2VR8MB:00000001 [INF] Route matched with "{area = \"Admin\", action = \"GetSizes\", controller = \"Bill\"}". Executing action "Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)" (a44c0341)
2019-04-22T00:00:07.2109784+07:00 0HLM6FB2VR8M7:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetColors\", controller = \"Bill\"}". Executing action "Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)" (a44c0341)
2019-04-22T00:00:07.2126120+07:00 0HLM6FB2VR8MB:00000001 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:00:07.2264381+07:00 0HLM6FB2VR8M7:00000002 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:00:07.2347773+07:00 0HLM6FB2VR8MB:00000001 [INF] Executing action method "Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:00:07.2505447+07:00 0HLM6FB2VR8M7:00000002 [INF] Executing action method "Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:00:07.2586796+07:00 0HLM6FB2VR8MB:00000001 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:00:07.2732360+07:00 0HLM6FB2VR8M8:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/product/GetAllCategories   (ca22a1cb)
2019-04-22T00:00:07.2825136+07:00 0HLM6FB2VR8M7:00000002 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:00:07.2969365+07:00 0HLM6FB2VR8M8:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)"' (500cc934)
2019-04-22T00:00:07.3098005+07:00 0HLM6FB2VR8MB:00000001 [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-04-22T00:00:07.3373123+07:00 0HLM6FB2VR8MB:00000001 [INF] Executed action method "Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 77.4043ms. (50a9e262)
2019-04-22T00:00:07.3440241+07:00 0HLM6FB2VR8M7:00000002 [INF] Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-04-22T00:00:07.3492918+07:00 0HLM6FB2VR8M8:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAllCategories\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)" (a44c0341)
2019-04-22T00:00:07.3573005+07:00 0HLM6FB2VR8MB:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:00:07.3723786+07:00 0HLM6FB2VR8M7:00000002 [INF] Executed action method "Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 95.0543ms. (50a9e262)
2019-04-22T00:00:07.3787412+07:00 0HLM6FB2VR8MB:00000001 [INF] Executed action "Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)" in 161.4539ms (afa2e885)
2019-04-22T00:00:07.3861057+07:00 0HLM6FB2VR8M7:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:00:07.3970428+07:00 0HLM6FB2VR8MB:00000001 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)"' (99874f2b)
2019-04-22T00:00:07.4087921+07:00 0HLM6FB2VR8M7:00000002 [INF] Executed action "Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)" in 178.3376ms (afa2e885)
2019-04-22T00:00:07.4112155+07:00 0HLM6FB2VR8MB:00000001 [INF] Request finished in 404.7827ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:00:07.4195063+07:00 0HLM6FB2VR8M7:00000002 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)"' (99874f2b)
2019-04-22T00:00:07.4308073+07:00 0HLM6FB2VR8M8:00000004 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:00:07.4429378+07:00 0HLM6FB2VR8M7:00000002 [INF] Request finished in 466.1267ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:00:07.4522005+07:00 0HLM6FB2VR8M8:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:00:07.4642153+07:00 0HLM6FB2VR8MA:00000003 [INF] Request finished in 502.0451ms 200 application/javascript (791a596a)
2019-04-22T00:00:07.4666633+07:00 0HLM6FB2VR8M8:00000004 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:00:07.5005873+07:00 0HLM6FB2VR8M9:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)"' (99874f2b)
2019-04-22T00:00:07.5910756+07:00 0HLM6FB2VR8MA:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/product/GetAllPaging?categoryId=--Select+category--&keyword=&page=1&pageSize=10   (ca22a1cb)
2019-04-22T00:00:07.6214670+07:00 0HLM6FB2VR8M9:00000005 [INF] Request finished in 1644.3068ms 200 text/html; charset=utf-8 (791a596a)
2019-04-22T00:00:07.6455208+07:00 0HLM6FB2VR8MA:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)"' (500cc934)
2019-04-22T00:00:07.6772877+07:00 0HLM6FB2VR8MA:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" (a44c0341)
2019-04-22T00:00:07.7046243+07:00 0HLM6FB2VR8MA:00000004 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:00:07.7362711+07:00 0HLM6FB2VR8MA:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" with arguments (["", "", "1", "10"]) - Validation state: Invalid (4e3479ed)
2019-04-22T00:00:07.7703023+07:00 0HLM6FB2VR8MA:00000004 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:00:07.7989279+07:00 0HLM6FB2VR8M8:00000004 [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-04-22T00:00:07.8143199+07:00 0HLM6FB2VR8MA:00000004 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE ([x].[Status] = 1) OR ([x].[Status] = 0)" (0723d8ff)
2019-04-22T00:00:07.8294469+07:00 0HLM6FB2VR8M8:00000004 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-04-22T00:00:07.8856959+07:00 0HLM6FB2VR8M8:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 392.0787ms. (50a9e262)
2019-04-22T00:00:07.9178973+07:00 0HLM6FB2VR8M8:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductCategoryViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:00:07.9612566+07:00 0HLM6FB2VR8MA:00000004 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) OR ([x].[Status] = 0)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-04-22T00:00:07.9967318+07:00 0HLM6FB2VR8M8:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)" in 614.5062ms (afa2e885)
2019-04-22T00:00:08.0137534+07:00 0HLM6FB2VR8MA:00000004 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) OR ([x0].[Status] = 0)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:00:08.0299281+07:00 0HLM6FB2VR8M8:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)"' (99874f2b)
2019-04-22T00:00:08.0484463+07:00 0HLM6FB2VR8MA:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 290.8886ms. (50a9e262)
2019-04-22T00:00:08.0523597+07:00 0HLM6FB2VR8M8:00000004 [INF] Request finished in 833.6127ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:00:08.0608811+07:00 0HLM6FB2VR8MA:00000004 [INF] Executing ObjectResult, writing value of type '"Shp3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.Products.ProductViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:00:08.0752278+07:00 0HLM6FB2VR8MA:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" in 388.4082ms (afa2e885)
2019-04-22T00:00:08.0816566+07:00 0HLM6FB2VR8MA:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)"' (99874f2b)
2019-04-22T00:00:08.1391088+07:00 0HLM6FB2VR8MA:00000004 [INF] Request finished in 610.0332ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:00:08.1865882+07:00 0HLM6FB2VR8M9:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg   (ca22a1cb)
2019-04-22T00:00:08.2142949+07:00 0HLM6FB2VR8MA:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/product/GetAllPaging?categoryId=&keyword=&page=1&pageSize=10   (ca22a1cb)
2019-04-22T00:00:08.2171072+07:00 0HLM6FB2VR8M9:00000006 [INF] Request finished in 75.7308ms 404  (791a596a)
2019-04-22T00:00:08.2249681+07:00 0HLM6FB2VR8MA:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)"' (500cc934)
2019-04-22T00:00:08.2353599+07:00 0HLM6FB2VR8M8:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/admin-side/images/user.png   (ca22a1cb)
2019-04-22T00:00:08.2485603+07:00 0HLM6FB2VR8MA:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" (a44c0341)
2019-04-22T00:00:08.2598386+07:00 0HLM6FB2VR8M8:00000005 [INF] Request finished in 124.3606ms 404  (791a596a)
2019-04-22T00:00:08.2629931+07:00 0HLM6FB2VR8MA:00000005 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:00:08.2712848+07:00 0HLM6FB2VR8MA:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" with arguments (["", "", "1", "10"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:00:08.2806928+07:00 0HLM6FB2VR8MA:00000005 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:00:08.2861542+07:00 0HLM6FB2VR8MA:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE ([x].[Status] = 1) OR ([x].[Status] = 0)" (0723d8ff)
2019-04-22T00:00:08.3024287+07:00 0HLM6FB2VR8MA:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) OR ([x].[Status] = 0)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-04-22T00:00:08.3178768+07:00 0HLM6FB2VR8MA:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) OR ([x0].[Status] = 0)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:00:08.3274001+07:00 0HLM6FB2VR8MA:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 49.2233ms. (50a9e262)
2019-04-22T00:00:08.3352652+07:00 0HLM6FB2VR8MA:00000005 [INF] Executing ObjectResult, writing value of type '"Shp3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.Products.ProductViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:00:08.3513591+07:00 0HLM6FB2VR8MA:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" in 87.4871ms (afa2e885)
2019-04-22T00:00:08.3576196+07:00 0HLM6FB2VR8MA:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)"' (99874f2b)
2019-04-22T00:00:08.4056647+07:00 0HLM6FB2VR8MA:00000005 [INF] Request finished in 185.2676ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:00:08.4082965+07:00 0HLM6FB2VR8M8:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg   (ca22a1cb)
2019-04-22T00:00:08.4225690+07:00 0HLM6FB2VR8M8:00000006 [INF] Request finished in 9.1827ms 404  (791a596a)
2019-04-22T00:00:08.4298194+07:00 0HLM6FB2VR8MA:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/admin-side/images/user.png   (ca22a1cb)
2019-04-22T00:00:08.4452553+07:00 0HLM6FB2VR8MA:00000006 [INF] Request finished in 18.6658ms 404  (791a596a)
2019-04-22T00:00:18.2345049+07:00 0HLM6FB2VR8MA:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:00:18.2478412+07:00 0HLM6FB2VR8MA:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:00:18.2746518+07:00 0HLM6FB2VR8MA:00000007 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:00:18.2961669+07:00 0HLM6FB2VR8MA:00000007 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:00:18.3123703+07:00 0HLM6FB2VR8MA:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:00:18.3218058+07:00 0HLM6FB2VR8MA:00000007 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:00:18.4040352+07:00 0HLM6FB2VR8MA:00000007 [INF] Executed DbCommand ("5"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:00:18.4381927+07:00 0HLM6FB2VR8MA:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 105.586ms. (50a9e262)
2019-04-22T00:00:18.4512697+07:00 0HLM6FB2VR8MA:00000007 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:00:18.4635207+07:00 0HLM6FB2VR8MA:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 178.098ms (afa2e885)
2019-04-22T00:00:18.4709796+07:00 0HLM6FB2VR8MA:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:00:18.4850321+07:00 0HLM6FB2VR8MA:00000007 [INF] Request finished in 302.2966ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:00:21.9198543+07:00 0HLM6FB2VR8MA:00000008 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Upload/UploadImage multipart/form-data; boundary=----WebKitFormBoundaryM1sIhqyvtw6U49Fw 89502 (ca22a1cb)
2019-04-22T00:00:22.1644626+07:00 0HLM6FB2VR8MA:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)"' (500cc934)
2019-04-22T00:00:22.2278925+07:00 0HLM6FB2VR8MA:00000008 [INF] Route matched with "{area = \"Admin\", action = \"UploadImage\", controller = \"Upload\"}". Executing action "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" (a44c0341)
2019-04-22T00:00:22.2634383+07:00 0HLM6FB2VR8MA:00000008 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:00:22.2803674+07:00 0HLM6FB2VR8MA:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:00:22.3230182+07:00 0HLM6FB2VR8MA:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 36.8369ms. (50a9e262)
2019-04-22T00:00:22.3328627+07:00 0HLM6FB2VR8MA:00000008 [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-04-22T00:00:22.3477328+07:00 0HLM6FB2VR8MA:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" in 105.2422ms (afa2e885)
2019-04-22T00:00:22.3654772+07:00 0HLM6FB2VR8MA:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)"' (99874f2b)
2019-04-22T00:00:22.4060331+07:00 0HLM6FB2VR8MA:00000008 [INF] Request finished in 669.6894ms 200 text/plain; charset=utf-8 (791a596a)
2019-04-22T00:00:36.1224906+07:00 0HLM6FB2VR8MA:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190422/Untitled-1.png   (ca22a1cb)
2019-04-22T00:00:36.1380491+07:00 0HLM6FB2VR8MA:00000009 [INF] Sending file. Request path: '"/uploaded/images/20190422/Untitled-1.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\uploaded\images\20190422\Untitled-1.png"' (27b0a520)
2019-04-22T00:00:36.1494498+07:00 0HLM6FB2VR8MA:00000009 [INF] Request finished in 30.1776ms 200 image/png (791a596a)
2019-04-22T00:00:41.2292155+07:00 0HLM6FB2VR8MA:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 74 (ca22a1cb)
2019-04-22T00:00:41.2331642+07:00 0HLM6FB2VR8MA:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:00:41.2393275+07:00 0HLM6FB2VR8MA:0000000A [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:00:41.2439823+07:00 0HLM6FB2VR8MA:0000000A [INF] Authorization was successful. (0d575a54)
2019-04-22T00:00:41.2526345+07:00 0HLM6FB2VR8MA:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:00:41.2569353+07:00 0HLM6FB2VR8MA:0000000A [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:00:41.2713230+07:00 0HLM6FB2VR8MA:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:00:41.4557771+07:00 0HLM6FB2VR8MA:0000000A [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ProductImages] ([Caption], [Path], [ProductId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [ProductImages]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-04-22T00:00:41.4920811+07:00 0HLM6FB2VR8MA:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 235.4174ms. (50a9e262)
2019-04-22T00:00:41.4952770+07:00 0HLM6FB2VR8MA:0000000A [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:00:41.5022301+07:00 0HLM6FB2VR8MA:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 256.5796ms (afa2e885)
2019-04-22T00:00:41.5056606+07:00 0HLM6FB2VR8MA:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:00:41.5123581+07:00 0HLM6FB2VR8MA:0000000A [INF] Request finished in 280.4705ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:00:44.6633558+07:00 0HLM6FB2VR8MA:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:00:44.7004491+07:00 0HLM6FB2VR8MA:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:00:44.7161271+07:00 0HLM6FB2VR8MA:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:00:44.7247022+07:00 0HLM6FB2VR8MA:0000000B [INF] Authorization was successful. (0d575a54)
2019-04-22T00:00:44.7722522+07:00 0HLM6FB2VR8MA:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:00:44.7822444+07:00 0HLM6FB2VR8MA:0000000B [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:00:44.8714641+07:00 0HLM6FB2VR8MA:0000000B [INF] Executed DbCommand ("27"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:00:44.9011023+07:00 0HLM6FB2VR8MA:0000000B [INF] Executed DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:00:44.9114120+07:00 0HLM6FB2VR8MA:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 132.7015ms. (50a9e262)
2019-04-22T00:00:44.9194054+07:00 0HLM6FB2VR8MA:0000000B [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:00:44.9374403+07:00 0HLM6FB2VR8MA:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 210.4118ms (afa2e885)
2019-04-22T00:00:44.9485431+07:00 0HLM6FB2VR8MA:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:00:44.9545784+07:00 0HLM6FB2VR8MA:0000000B [INF] Request finished in 328.4053ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:00:47.8780303+07:00 0HLM6FB2VR8MA:0000000C [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Upload/UploadImage multipart/form-data; boundary=----WebKitFormBoundary73X2eoYvZb16XFKp 136942 (ca22a1cb)
2019-04-22T00:00:47.8973008+07:00 0HLM6FB2VR8MA:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)"' (500cc934)
2019-04-22T00:00:47.9012934+07:00 0HLM6FB2VR8MA:0000000C [INF] Route matched with "{area = \"Admin\", action = \"UploadImage\", controller = \"Upload\"}". Executing action "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" (a44c0341)
2019-04-22T00:00:47.9068692+07:00 0HLM6FB2VR8MA:0000000C [INF] Authorization was successful. (0d575a54)
2019-04-22T00:00:47.9125398+07:00 0HLM6FB2VR8MA:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:00:47.9229444+07:00 0HLM6FB2VR8MA:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.0822ms. (50a9e262)
2019-04-22T00:00:47.9289882+07:00 0HLM6FB2VR8MA:0000000C [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-04-22T00:00:47.9377106+07:00 0HLM6FB2VR8MA:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" in 28.1046ms (afa2e885)
2019-04-22T00:00:47.9435433+07:00 0HLM6FB2VR8MA:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)"' (99874f2b)
2019-04-22T00:00:47.9860007+07:00 0HLM6FB2VR8MA:0000000C [INF] Request finished in 135.0486ms 200 text/plain; charset=utf-8 (791a596a)
2019-04-22T00:00:49.6401591+07:00 0HLM6FB2VR8MA:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190422/Capture.PNG   (ca22a1cb)
2019-04-22T00:00:49.6562752+07:00 0HLM6FB2VR8MA:0000000D [INF] Sending file. Request path: '"/uploaded/images/20190422/Capture.PNG"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\uploaded\images\20190422\Capture.PNG"' (27b0a520)
2019-04-22T00:00:49.6645731+07:00 0HLM6FB2VR8MA:0000000D [INF] Request finished in 21.3107ms 200 image/png (791a596a)
2019-04-22T00:00:52.0932671+07:00 0HLM6FB2VR8MA:0000000E [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 133 (ca22a1cb)
2019-04-22T00:00:52.0977579+07:00 0HLM6FB2VR8MA:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:00:52.1015777+07:00 0HLM6FB2VR8MA:0000000E [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:00:52.1062456+07:00 0HLM6FB2VR8MA:0000000E [INF] Authorization was successful. (0d575a54)
2019-04-22T00:00:52.1126621+07:00 0HLM6FB2VR8MA:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:00:52.1170391+07:00 0HLM6FB2VR8MA:0000000E [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:00:52.1237181+07:00 0HLM6FB2VR8MA:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:00:52.1491322+07:00 0HLM6FB2VR8MA:0000000E [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-04-22T00:00:52.1592652+07:00 0HLM6FB2VR8MA:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ProductImages] ([Caption], [Path], [ProductId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [ProductImages]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-04-22T00:00:52.1651700+07:00 0HLM6FB2VR8MA:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ProductImages] ([Caption], [Path], [ProductId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [ProductImages]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-04-22T00:00:52.1768955+07:00 0HLM6FB2VR8MA:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 57.8888ms. (50a9e262)
2019-04-22T00:00:52.1812967+07:00 0HLM6FB2VR8MA:0000000E [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:00:52.1899827+07:00 0HLM6FB2VR8MA:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 80.0237ms (afa2e885)
2019-04-22T00:00:52.1952044+07:00 0HLM6FB2VR8MA:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:00:52.2006505+07:00 0HLM6FB2VR8MA:0000000E [INF] Request finished in 106.5878ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:00:56.9425472+07:00 0HLM6FB2VR8MA:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:00:56.9492446+07:00 0HLM6FB2VR8MA:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:00:56.9544225+07:00 0HLM6FB2VR8MA:0000000F [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:00:56.9611646+07:00 0HLM6FB2VR8MA:0000000F [INF] Authorization was successful. (0d575a54)
2019-04-22T00:00:56.9669410+07:00 0HLM6FB2VR8MA:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:00:56.9713000+07:00 0HLM6FB2VR8MA:0000000F [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:00:56.9892655+07:00 0HLM6FB2VR8MA:0000000F [INF] Executed DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:00:57.0031659+07:00 0HLM6FB2VR8MA:0000000F [INF] Executed DbCommand ("6"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:00:57.0111741+07:00 0HLM6FB2VR8MA:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 36.7044ms. (50a9e262)
2019-04-22T00:00:57.0209796+07:00 0HLM6FB2VR8MA:0000000F [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:00:57.0372594+07:00 0HLM6FB2VR8MA:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 66.8943ms (afa2e885)
2019-04-22T00:00:57.0440882+07:00 0HLM6FB2VR8MA:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:00:57.0534604+07:00 0HLM6FB2VR8MA:0000000F [INF] Request finished in 110.8328ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:00.1547666+07:00 0HLM6FB2VR8MA:00000010 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 133 (ca22a1cb)
2019-04-22T00:01:00.1734961+07:00 0HLM6FB2VR8MA:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:01:00.1847863+07:00 0HLM6FB2VR8MA:00000010 [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:01:00.1919080+07:00 0HLM6FB2VR8MA:00000010 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:00.2004183+07:00 0HLM6FB2VR8MA:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:01:00.2079970+07:00 0HLM6FB2VR8MA:00000010 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:00.2188922+07:00 0HLM6FB2VR8MA:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:01:00.2822338+07:00 0HLM6FB2VR8MA:00000010 [INF] Executed DbCommand ("29"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 250), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [ProductImages]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DECLARE @inserted2 TABLE ([Id] int, [_Position] [int]);
MERGE [ProductImages] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1)) AS i ([Caption], [Path], [ProductId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Caption], [Path], [ProductId])
VALUES (i.[Caption], i.[Path], i.[ProductId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted2;

SELECT [t].[Id] FROM [ProductImages] t
INNER JOIN @inserted2 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2019-04-22T00:01:00.2899655+07:00 0HLM6FB2VR8MA:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 83.8309ms. (50a9e262)
2019-04-22T00:01:00.2999310+07:00 0HLM6FB2VR8MA:00000010 [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:01:00.3069706+07:00 0HLM6FB2VR8MA:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 115.4014ms (afa2e885)
2019-04-22T00:01:00.3157697+07:00 0HLM6FB2VR8MA:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:01:00.3307974+07:00 0HLM6FB2VR8MA:00000010 [INF] Request finished in 166.3827ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:01.9707437+07:00 0HLM6FB2VR8MA:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:01:01.9806850+07:00 0HLM6FB2VR8MA:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:01:01.9961337+07:00 0HLM6FB2VR8MA:00000011 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:01:02.0004778+07:00 0HLM6FB2VR8MA:00000011 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:02.0078346+07:00 0HLM6FB2VR8MA:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:01:02.0131187+07:00 0HLM6FB2VR8MA:00000011 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:02.0334341+07:00 0HLM6FB2VR8MA:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:01:02.0546346+07:00 0HLM6FB2VR8MA:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:01:02.0605796+07:00 0HLM6FB2VR8MA:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 47.4395ms. (50a9e262)
2019-04-22T00:01:02.0672927+07:00 0HLM6FB2VR8MA:00000011 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:01:02.0773205+07:00 0HLM6FB2VR8MA:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 71.8605ms (afa2e885)
2019-04-22T00:01:02.0843806+07:00 0HLM6FB2VR8MA:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:01:02.0887015+07:00 0HLM6FB2VR8MA:00000011 [INF] Request finished in 138.4484ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:04.5269484+07:00 0HLM6FB2VR8MA:00000012 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 133 (ca22a1cb)
2019-04-22T00:01:04.5319892+07:00 0HLM6FB2VR8MA:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:01:04.5367696+07:00 0HLM6FB2VR8MA:00000012 [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:01:04.5438120+07:00 0HLM6FB2VR8MA:00000012 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:04.5499917+07:00 0HLM6FB2VR8MA:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:01:04.5547076+07:00 0HLM6FB2VR8MA:00000012 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:04.5620606+07:00 0HLM6FB2VR8MA:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:01:04.6166911+07:00 0HLM6FB2VR8MA:00000012 [INF] Executed DbCommand ("49"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 250), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [ProductImages]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DECLARE @inserted2 TABLE ([Id] int, [_Position] [int]);
MERGE [ProductImages] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1)) AS i ([Caption], [Path], [ProductId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Caption], [Path], [ProductId])
VALUES (i.[Caption], i.[Path], i.[ProductId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted2;

SELECT [t].[Id] FROM [ProductImages] t
INNER JOIN @inserted2 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2019-04-22T00:01:04.6246830+07:00 0HLM6FB2VR8MA:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 68.5903ms. (50a9e262)
2019-04-22T00:01:04.6300180+07:00 0HLM6FB2VR8MA:00000012 [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:01:04.6368249+07:00 0HLM6FB2VR8MA:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 93.4088ms (afa2e885)
2019-04-22T00:01:04.6424770+07:00 0HLM6FB2VR8MA:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:01:04.6526387+07:00 0HLM6FB2VR8MA:00000012 [INF] Request finished in 120.576ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:07.6856299+07:00 0HLM6FB2VR8MA:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:01:07.6909504+07:00 0HLM6FB2VR8MA:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:01:07.6985029+07:00 0HLM6FB2VR8MA:00000013 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:01:07.7042731+07:00 0HLM6FB2VR8MA:00000013 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:07.7112701+07:00 0HLM6FB2VR8MA:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:01:07.7176939+07:00 0HLM6FB2VR8MA:00000013 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:07.7339789+07:00 0HLM6FB2VR8MA:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:01:07.7495400+07:00 0HLM6FB2VR8MA:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:01:07.7540906+07:00 0HLM6FB2VR8MA:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 38.5161ms. (50a9e262)
2019-04-22T00:01:07.7591158+07:00 0HLM6FB2VR8MA:00000013 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:01:07.7706161+07:00 0HLM6FB2VR8MA:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 61.9175ms (afa2e885)
2019-04-22T00:01:07.7753903+07:00 0HLM6FB2VR8MA:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:01:07.7852860+07:00 0HLM6FB2VR8MA:00000013 [INF] Request finished in 99.7398ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:09.0129374+07:00 0HLM6FB2VR8MA:00000014 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 133 (ca22a1cb)
2019-04-22T00:01:09.0490920+07:00 0HLM6FB2VR8MA:00000014 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:01:09.1114748+07:00 0HLM6FB2VR8MA:00000014 [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:01:09.1190292+07:00 0HLM6FB2VR8MA:00000014 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:09.1298416+07:00 0HLM6FB2VR8MA:00000014 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:01:09.1354408+07:00 0HLM6FB2VR8MA:00000014 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:09.1430333+07:00 0HLM6FB2VR8MA:00000014 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:01:09.1688012+07:00 0HLM6FB2VR8MA:00000014 [INF] Executed DbCommand ("16"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 250), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [ProductImages]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DECLARE @inserted2 TABLE ([Id] int, [_Position] [int]);
MERGE [ProductImages] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1)) AS i ([Caption], [Path], [ProductId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Caption], [Path], [ProductId])
VALUES (i.[Caption], i.[Path], i.[ProductId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted2;

SELECT [t].[Id] FROM [ProductImages] t
INNER JOIN @inserted2 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2019-04-22T00:01:09.1787347+07:00 0HLM6FB2VR8MA:00000014 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 40.7561ms. (50a9e262)
2019-04-22T00:01:09.1834949+07:00 0HLM6FB2VR8MA:00000014 [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:01:09.1978013+07:00 0HLM6FB2VR8MA:00000014 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 72.2814ms (afa2e885)
2019-04-22T00:01:09.2018600+07:00 0HLM6FB2VR8MA:00000014 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:01:09.2065964+07:00 0HLM6FB2VR8MA:00000014 [INF] Request finished in 202.5173ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:10.4689644+07:00 0HLM6FB2VR8MA:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/product/index   (ca22a1cb)
2019-04-22T00:01:10.4735109+07:00 0HLM6FB2VR8MA:00000015 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)"' (500cc934)
2019-04-22T00:01:10.4800344+07:00 0HLM6FB2VR8MA:00000015 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)" (a44c0341)
2019-04-22T00:01:10.4869131+07:00 0HLM6FB2VR8MA:00000015 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:10.4953787+07:00 0HLM6FB2VR8MA:00000015 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:01:10.5049004+07:00 0HLM6FB2VR8MA:00000015 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0291ms. (50a9e262)
2019-04-22T00:01:10.5115072+07:00 0HLM6FB2VR8MA:00000015 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-04-22T00:01:10.5180889+07:00 0HLM6FB2VR8MA:00000015 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:10.5870925+07:00 0HLM6FB2VR8MA:00000015 [INF] Executed DbCommand ("23"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-04-22T00:01:10.5944954+07:00 0HLM6FB2VR8MA:00000015 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:10.6220417+07:00 0HLM6FB2VR8MA:00000015 [INF] Executed DbCommand ("13"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-04-22T00:01:10.6344360+07:00 0HLM6FB2VR8MA:00000015 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:10.6597328+07:00 0HLM6FB2VR8MA:00000015 [INF] Executed DbCommand ("13"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-04-22T00:01:10.6780618+07:00 0HLM6FB2VR8MA:00000015 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:10.8770297+07:00 0HLM6FB2VR8MA:00000015 [INF] Executed DbCommand ("126"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-04-22T00:01:11.3656688+07:00 0HLM6FB2VR8MA:00000015 [INF] Executed ViewResult - view "Index" executed in 373.3382ms. (f66409e9)
2019-04-22T00:01:11.3844229+07:00 0HLM6FB2VR8M8:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/product/image-management.js   (ca22a1cb)
2019-04-22T00:01:11.4041857+07:00 0HLM6FB2VR8MA:00000015 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)" in 887.6627ms (afa2e885)
2019-04-22T00:01:11.4130591+07:00 0HLM6FB2VR8M8:00000007 [INF] The file "/app/controllers/product/image-management.js" was not modified (f1f8d725)
2019-04-22T00:01:11.4305489+07:00 0HLM6FB2VR8MA:00000015 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)"' (99874f2b)
2019-04-22T00:01:11.4378280+07:00 0HLM6FB2VR8M8:00000007 [INF] Request finished in 209.4482ms 304 application/javascript (791a596a)
2019-04-22T00:01:11.4556335+07:00 0HLM6FB2VR8MA:00000015 [INF] Request finished in 969.9081ms 200 text/html; charset=utf-8 (791a596a)
2019-04-22T00:01:11.4635905+07:00 0HLM6FB2VR8M9:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/product/index.js   (ca22a1cb)
2019-04-22T00:01:11.4814929+07:00 0HLM6FB2VR8M9:00000007 [INF] The file "/app/controllers/product/index.js" was not modified (f1f8d725)
2019-04-22T00:01:11.4929702+07:00 0HLM6FB2VR8M9:00000007 [INF] Request finished in 199.2832ms 304 application/javascript (791a596a)
2019-04-22T00:01:13.9683962+07:00 0HLM6FB2VR8MA:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/product/GetAllPaging?categoryId=--Select+category--&keyword=&page=1&pageSize=10   (ca22a1cb)
2019-04-22T00:01:13.9703979+07:00 0HLM6FB2VR8M9:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/product/GetAllCategories   (ca22a1cb)
2019-04-22T00:01:13.9725028+07:00 0HLM6FB2VR8M8:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Bill/GetColors   (ca22a1cb)
2019-04-22T00:01:13.9798395+07:00 0HLM6FB2VR8MA:00000016 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)"' (500cc934)
2019-04-22T00:01:13.9815515+07:00 0HLM6FB2VR8M8:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)"' (500cc934)
2019-04-22T00:01:13.9880844+07:00 0HLM6FB2VR8MA:00000016 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" (a44c0341)
2019-04-22T00:01:13.9930436+07:00 0HLM6FB2VR8M9:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)"' (500cc934)
2019-04-22T00:01:13.9967830+07:00 0HLM6FB2VR8M8:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetColors\", controller = \"Bill\"}". Executing action "Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)" (a44c0341)
2019-04-22T00:01:13.9983568+07:00 0HLM6FB2VR8MA:00000016 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:14.0045476+07:00 0HLM6FB2VR8M9:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetAllCategories\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)" (a44c0341)
2019-04-22T00:01:14.0062420+07:00 0HLM6FB2VR8M8:00000008 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:14.0138678+07:00 0HLM6FB2VR8MA:00000016 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" with arguments (["", "", "1", "10"]) - Validation state: Invalid (4e3479ed)
2019-04-22T00:01:14.0231469+07:00 0HLM6FB2VR8M9:00000008 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:14.0302453+07:00 0HLM6FB2VR8M8:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:01:14.0363388+07:00 0HLM6FB2VR8MA:00000016 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:14.0557197+07:00 0HLM6FB2VR8M9:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:01:14.0653857+07:00 0HLM6FB2VR8MA:00000016 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE ([x].[Status] = 1) OR ([x].[Status] = 0)" (0723d8ff)
2019-04-22T00:01:14.0735851+07:00 0HLM6FB2VR8M8:00000008 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:14.0973964+07:00 0HLM6FB2VR8M9:00000008 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:14.0984052+07:00 0HLM6FB2VR8MA:00000016 [INF] Executed DbCommand ("14"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) OR ([x].[Status] = 0)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-04-22T00:01:14.1021985+07:00 0HLM6FB2VR8M8:00000008 [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-04-22T00:01:14.1207818+07:00 0HLM6FB2VR8M8:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 71.1474ms. (50a9e262)
2019-04-22T00:01:14.1423564+07:00 0HLM6FB2VR8MA:00000016 [INF] Executed DbCommand ("11"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) OR ([x0].[Status] = 0)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:01:14.1519174+07:00 0HLM6FB2VR8M7:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Bill/GetSizes   (ca22a1cb)
2019-04-22T00:01:14.1569402+07:00 0HLM6FB2VR8M9:00000008 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-04-22T00:01:14.1717082+07:00 0HLM6FB2VR8M8:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:01:14.1813004+07:00 0HLM6FB2VR8MA:00000016 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 135.8473ms. (50a9e262)
2019-04-22T00:01:14.2081106+07:00 0HLM6FB2VR8M9:00000008 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-04-22T00:01:14.2116470+07:00 0HLM6FB2VR8MA:00000016 [INF] Executing ObjectResult, writing value of type '"Shp3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.Products.ProductViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:01:14.2151695+07:00 0HLM6FB2VR8M8:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)" in 179.9368ms (afa2e885)
2019-04-22T00:01:14.2287146+07:00 0HLM6FB2VR8M8:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)"' (99874f2b)
2019-04-22T00:01:14.2322112+07:00 0HLM6FB2VR8M9:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 156.8598ms. (50a9e262)
2019-04-22T00:01:14.2360561+07:00 0HLM6FB2VR8MA:00000016 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" in 229.7353ms (afa2e885)
2019-04-22T00:01:14.2909587+07:00 0HLM6FB2VR8M9:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductCategoryViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:01:14.2943987+07:00 0HLM6FB2VR8MA:00000016 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)"' (99874f2b)
2019-04-22T00:01:14.3002333+07:00 0HLM6FB2VR8M8:00000008 [INF] Request finished in 274.8959ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:14.3354010+07:00 0HLM6FB2VR8M9:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)" in 290.0164ms (afa2e885)
2019-04-22T00:01:14.3389735+07:00 0HLM6FB2VR8MA:00000016 [INF] Request finished in 351.1072ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:14.3851859+07:00 0HLM6FB2VR8M9:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)"' (99874f2b)
2019-04-22T00:01:14.4131847+07:00 0HLM6FB2VR8MA:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/product/GetAllPaging?categoryId=--Select+category--&keyword=&page=1&pageSize=10   (ca22a1cb)
2019-04-22T00:01:14.4185069+07:00 0HLM6FB2VR8M9:00000008 [INF] Request finished in 449.5318ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:14.4706403+07:00 0HLM6FB2VR8MA:00000017 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)"' (500cc934)
2019-04-22T00:01:14.4802149+07:00 0HLM6FB2VR8M7:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)"' (500cc934)
2019-04-22T00:01:14.4928413+07:00 0HLM6FB2VR8M9:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/admin-side/images/user.png   (ca22a1cb)
2019-04-22T00:01:14.5033337+07:00 0HLM6FB2VR8M8:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg   (ca22a1cb)
2019-04-22T00:01:14.5064783+07:00 0HLM6FB2VR8M9:00000009 [INF] Request finished in 21.3173ms 404  (791a596a)
2019-04-22T00:01:14.5148980+07:00 0HLM6FB2VR8MA:00000017 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" (a44c0341)
2019-04-22T00:01:14.5496987+07:00 0HLM6FB2VR8M8:00000009 [INF] Request finished in 21.0186ms 404  (791a596a)
2019-04-22T00:01:14.5511076+07:00 0HLM6FB2VR8MA:00000017 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:14.5792311+07:00 0HLM6FB2VR8M7:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetSizes\", controller = \"Bill\"}". Executing action "Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)" (a44c0341)
2019-04-22T00:01:14.5890817+07:00 0HLM6FB2VR8MA:00000017 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" with arguments (["", "", "1", "10"]) - Validation state: Invalid (4e3479ed)
2019-04-22T00:01:14.6024507+07:00 0HLM6FB2VR8M7:00000003 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:14.6058534+07:00 0HLM6FB2VR8MA:00000017 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:14.6436016+07:00 0HLM6FB2VR8M7:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:01:14.6461160+07:00 0HLM6FB2VR8MA:00000017 [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE ([x].[Status] = 1) OR ([x].[Status] = 0)" (0723d8ff)
2019-04-22T00:01:14.6506206+07:00 0HLM6FB2VR8MB:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-04-22T00:01:14.6673013+07:00 0HLM6FB2VR8M7:00000003 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:14.6708955+07:00 0HLM6FB2VR8MA:00000017 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) OR ([x].[Status] = 0)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-04-22T00:01:14.6823129+07:00 0HLM6FB2VR8MB:00000002 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-04-22T00:01:14.6875199+07:00 0HLM6FB2VR8MA:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) OR ([x0].[Status] = 0)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:01:14.6941087+07:00 0HLM6FB2VR8M7:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-04-22T00:01:14.6975548+07:00 0HLM6FB2VR8MB:00000002 [INF] Request finished in 482.0188ms 200 image/x-icon (791a596a)
2019-04-22T00:01:14.7059949+07:00 0HLM6FB2VR8MA:00000017 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 104.0258ms. (50a9e262)
2019-04-22T00:01:14.7124693+07:00 0HLM6FB2VR8M7:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 50.6239ms. (50a9e262)
2019-04-22T00:01:14.7145627+07:00 0HLM6FB2VR8MA:00000017 [INF] Executing ObjectResult, writing value of type '"Shp3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.Products.ProductViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:01:14.7269415+07:00 0HLM6FB2VR8M7:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:01:14.7279827+07:00 0HLM6FB2VR8MA:00000017 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" in 200.7154ms (afa2e885)
2019-04-22T00:01:14.7366375+07:00 0HLM6FB2VR8M7:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)" in 146.761ms (afa2e885)
2019-04-22T00:01:14.7392615+07:00 0HLM6FB2VR8MA:00000017 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)"' (99874f2b)
2019-04-22T00:01:14.7547052+07:00 0HLM6FB2VR8M7:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)"' (99874f2b)
2019-04-22T00:01:14.7634214+07:00 0HLM6FB2VR8MA:00000017 [INF] Request finished in 357.1134ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:14.7698592+07:00 0HLM6FB2VR8M7:00000003 [INF] Request finished in 799.8293ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:14.7814933+07:00 0HLM6FB2VR8MA:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg   (ca22a1cb)
2019-04-22T00:01:14.7896446+07:00 0HLM6FB2VR8M7:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/admin-side/images/user.png   (ca22a1cb)
2019-04-22T00:01:14.8061751+07:00 0HLM6FB2VR8MA:00000018 [INF] Request finished in 15.6418ms 404  (791a596a)
2019-04-22T00:01:14.8107211+07:00 0HLM6FB2VR8M7:00000004 [INF] Request finished in 11.7571ms 404  (791a596a)
2019-04-22T00:01:15.2561246+07:00 0HLM6FB2VR8M7:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:01:15.2639187+07:00 0HLM6FB2VR8M7:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:01:15.2712651+07:00 0HLM6FB2VR8M7:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:01:15.2780676+07:00 0HLM6FB2VR8M7:00000005 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:15.2837534+07:00 0HLM6FB2VR8M7:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:01:15.2886989+07:00 0HLM6FB2VR8M7:00000005 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:15.2994932+07:00 0HLM6FB2VR8M7:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:01:15.3095901+07:00 0HLM6FB2VR8M7:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:01:15.3193902+07:00 0HLM6FB2VR8M7:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 26.379ms. (50a9e262)
2019-04-22T00:01:15.3231708+07:00 0HLM6FB2VR8M7:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:01:15.3345784+07:00 0HLM6FB2VR8M7:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 52.3688ms (afa2e885)
2019-04-22T00:01:15.3391129+07:00 0HLM6FB2VR8M7:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:01:15.3504598+07:00 0HLM6FB2VR8M7:00000005 [INF] Request finished in 89.2566ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:15.3551704+07:00 0HLM6FB2VR8MA:00000019 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190422/Capture.PNG   (ca22a1cb)
2019-04-22T00:01:15.3646182+07:00 0HLM6FB2VR8M7:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190422/Untitled-1.png   (ca22a1cb)
2019-04-22T00:01:15.3659383+07:00 0HLM6FB2VR8MA:00000019 [INF] The file "/uploaded/images/20190422/Capture.PNG" was not modified (f1f8d725)
2019-04-22T00:01:15.3734769+07:00 0HLM6FB2VR8M7:00000006 [INF] The file "/uploaded/images/20190422/Untitled-1.png" was not modified (f1f8d725)
2019-04-22T00:01:15.3779785+07:00 0HLM6FB2VR8MA:00000019 [INF] Request finished in 17.8473ms 304 image/png (791a596a)
2019-04-22T00:01:15.3873046+07:00 0HLM6FB2VR8M7:00000006 [INF] Request finished in 21.0079ms 304 image/png (791a596a)
2019-04-22T00:01:18.1735835+07:00 0HLM6FB2VR8M7:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 12 (ca22a1cb)
2019-04-22T00:01:18.1846686+07:00 0HLM6FB2VR8M7:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:01:18.1892102+07:00 0HLM6FB2VR8M7:00000007 [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:01:18.1960910+07:00 0HLM6FB2VR8M7:00000007 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:18.2061143+07:00 0HLM6FB2VR8M7:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:01:18.2150805+07:00 0HLM6FB2VR8M7:00000007 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:18.2193915+07:00 0HLM6FB2VR8M7:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:01:18.2260065+07:00 0HLM6FB2VR8M7:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-04-22T00:01:18.2319383+07:00 0HLM6FB2VR8M7:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-04-22T00:01:18.2390706+07:00 0HLM6FB2VR8M7:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 28.5649ms. (50a9e262)
2019-04-22T00:01:18.2443084+07:00 0HLM6FB2VR8M7:00000007 [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:01:18.2509992+07:00 0HLM6FB2VR8M7:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 55.1934ms (afa2e885)
2019-04-22T00:01:18.2556836+07:00 0HLM6FB2VR8M7:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:01:18.2629262+07:00 0HLM6FB2VR8M7:00000007 [INF] Request finished in 85.9766ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:19.6217525+07:00 0HLM6FB2VR8M7:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:01:19.6287618+07:00 0HLM6FB2VR8M7:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:01:19.6343823+07:00 0HLM6FB2VR8M7:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:01:19.6417193+07:00 0HLM6FB2VR8M7:00000008 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:19.6479736+07:00 0HLM6FB2VR8M7:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:01:19.6535236+07:00 0HLM6FB2VR8M7:00000008 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:19.6686461+07:00 0HLM6FB2VR8M7:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:01:19.6734317+07:00 0HLM6FB2VR8M7:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 20.7228ms. (50a9e262)
2019-04-22T00:01:19.6808671+07:00 0HLM6FB2VR8M7:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:01:19.6882165+07:00 0HLM6FB2VR8M7:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 46.6166ms (afa2e885)
2019-04-22T00:01:19.6967322+07:00 0HLM6FB2VR8M7:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:01:19.7023474+07:00 0HLM6FB2VR8M7:00000008 [INF] Request finished in 88.9128ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:23.3816536+07:00 0HLM6FB2VR8M7:00000009 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:01:23.3878046+07:00 0HLM6FB2VR8M7:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:01:23.3941747+07:00 0HLM6FB2VR8M7:00000009 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:01:23.3987716+07:00 0HLM6FB2VR8M7:00000009 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:23.4047650+07:00 0HLM6FB2VR8M7:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:01:23.4113214+07:00 0HLM6FB2VR8M7:00000009 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:23.4205332+07:00 0HLM6FB2VR8M7:00000009 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:01:23.4311589+07:00 0HLM6FB2VR8M7:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 15.9138ms. (50a9e262)
2019-04-22T00:01:23.4378986+07:00 0HLM6FB2VR8M7:00000009 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:01:23.4475363+07:00 0HLM6FB2VR8M7:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 43.9585ms (afa2e885)
2019-04-22T00:01:23.4543867+07:00 0HLM6FB2VR8M7:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:01:23.4639265+07:00 0HLM6FB2VR8M7:00000009 [INF] Request finished in 77.4699ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:25.7347532+07:00 0HLM6FB2VR8M7:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Upload/UploadImage multipart/form-data; boundary=----WebKitFormBoundaryifms1BRoRAyYX7q8 89502 (ca22a1cb)
2019-04-22T00:01:25.7401652+07:00 0HLM6FB2VR8M7:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)"' (500cc934)
2019-04-22T00:01:25.7538740+07:00 0HLM6FB2VR8M7:0000000A [INF] Route matched with "{area = \"Admin\", action = \"UploadImage\", controller = \"Upload\"}". Executing action "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" (a44c0341)
2019-04-22T00:01:25.7681263+07:00 0HLM6FB2VR8M7:0000000A [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:25.7728860+07:00 0HLM6FB2VR8M7:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:01:25.7847145+07:00 0HLM6FB2VR8M7:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.8125ms. (50a9e262)
2019-04-22T00:01:25.8053463+07:00 0HLM6FB2VR8M7:0000000A [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-04-22T00:01:25.8141147+07:00 0HLM6FB2VR8M7:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" in 51.5889ms (afa2e885)
2019-04-22T00:01:25.8197935+07:00 0HLM6FB2VR8M7:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)"' (99874f2b)
2019-04-22T00:01:25.8388803+07:00 0HLM6FB2VR8M7:0000000A [INF] Request finished in 99.0281ms 200 text/plain; charset=utf-8 (791a596a)
2019-04-22T00:01:25.8497948+07:00 0HLM6FB2VR8M7:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190422/Untitled-1.png   (ca22a1cb)
2019-04-22T00:01:25.8917570+07:00 0HLM6FB2VR8M7:0000000B [INF] Sending file. Request path: '"/uploaded/images/20190422/Untitled-1.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\uploaded\images\20190422\Untitled-1.png"' (27b0a520)
2019-04-22T00:01:25.9009689+07:00 0HLM6FB2VR8M7:0000000B [INF] Request finished in 48.2395ms 200 image/png (791a596a)
2019-04-22T00:01:26.5621943+07:00 0HLM6FB2VR8M7:0000000C [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 74 (ca22a1cb)
2019-04-22T00:01:26.5684532+07:00 0HLM6FB2VR8M7:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:01:26.5725045+07:00 0HLM6FB2VR8M7:0000000C [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:01:26.5800598+07:00 0HLM6FB2VR8M7:0000000C [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:26.5859814+07:00 0HLM6FB2VR8M7:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:01:26.5914481+07:00 0HLM6FB2VR8M7:0000000C [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:26.5975634+07:00 0HLM6FB2VR8M7:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:01:26.6040520+07:00 0HLM6FB2VR8M7:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ProductImages] ([Caption], [Path], [ProductId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [ProductImages]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-04-22T00:01:26.6102608+07:00 0HLM6FB2VR8M7:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.9345ms. (50a9e262)
2019-04-22T00:01:26.6146682+07:00 0HLM6FB2VR8M7:0000000C [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:01:26.6210699+07:00 0HLM6FB2VR8M7:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 42.322ms (afa2e885)
2019-04-22T00:01:26.6275342+07:00 0HLM6FB2VR8M7:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:01:26.6877665+07:00 0HLM6FB2VR8M7:0000000C [INF] Request finished in 73.9618ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:28.2137804+07:00 0HLM6FB2VR8M7:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:01:28.2221407+07:00 0HLM6FB2VR8M7:0000000D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:01:28.2289780+07:00 0HLM6FB2VR8M7:0000000D [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:01:28.2368220+07:00 0HLM6FB2VR8M7:0000000D [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:28.2493230+07:00 0HLM6FB2VR8M7:0000000D [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:01:28.2550830+07:00 0HLM6FB2VR8M7:0000000D [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:28.2734613+07:00 0HLM6FB2VR8M7:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:01:28.3171121+07:00 0HLM6FB2VR8M7:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:01:28.3206866+07:00 0HLM6FB2VR8M7:0000000D [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 67.9039ms. (50a9e262)
2019-04-22T00:01:28.3273636+07:00 0HLM6FB2VR8M7:0000000D [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:01:28.3391331+07:00 0HLM6FB2VR8M7:0000000D [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 98.7392ms (afa2e885)
2019-04-22T00:01:28.3484988+07:00 0HLM6FB2VR8M7:0000000D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:01:28.3536302+07:00 0HLM6FB2VR8M7:0000000D [INF] Request finished in 140.0172ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:30.6509500+07:00 0HLM6FB2VR8M7:0000000E [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 74 (ca22a1cb)
2019-04-22T00:01:30.6547770+07:00 0HLM6FB2VR8M7:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:01:30.6608566+07:00 0HLM6FB2VR8M7:0000000E [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:01:30.6649021+07:00 0HLM6FB2VR8M7:0000000E [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:30.6697493+07:00 0HLM6FB2VR8M7:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:01:30.6749787+07:00 0HLM6FB2VR8M7:0000000E [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:30.6807039+07:00 0HLM6FB2VR8M7:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:01:30.6854920+07:00 0HLM6FB2VR8M7:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-04-22T00:01:30.6947297+07:00 0HLM6FB2VR8M7:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ProductImages] ([Caption], [Path], [ProductId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [ProductImages]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-04-22T00:01:30.6997419+07:00 0HLM6FB2VR8M7:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 26.0627ms. (50a9e262)
2019-04-22T00:01:30.7034087+07:00 0HLM6FB2VR8M7:0000000E [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:01:30.7105193+07:00 0HLM6FB2VR8M7:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 42.594ms (afa2e885)
2019-04-22T00:01:30.7146937+07:00 0HLM6FB2VR8M7:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:01:30.7212693+07:00 0HLM6FB2VR8M7:0000000E [INF] Request finished in 67.6808ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:31.9163223+07:00 0HLM6FB2VR8M7:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:01:31.9216520+07:00 0HLM6FB2VR8M7:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:01:31.9357952+07:00 0HLM6FB2VR8M7:0000000F [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:01:31.9418768+07:00 0HLM6FB2VR8M7:0000000F [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:31.9478678+07:00 0HLM6FB2VR8M7:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:01:31.9523868+07:00 0HLM6FB2VR8M7:0000000F [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:31.9678017+07:00 0HLM6FB2VR8M7:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:01:31.9852355+07:00 0HLM6FB2VR8M7:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:01:31.9952524+07:00 0HLM6FB2VR8M7:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 37.9347ms. (50a9e262)
2019-04-22T00:01:32.0006690+07:00 0HLM6FB2VR8M7:0000000F [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:01:32.0151966+07:00 0HLM6FB2VR8M7:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 65.2627ms (afa2e885)
2019-04-22T00:01:32.0734596+07:00 0HLM6FB2VR8M7:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:01:32.1186723+07:00 0HLM6FB2VR8M7:0000000F [INF] Request finished in 161.0482ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:35.4744598+07:00 0HLM6FB2VR8M7:00000010 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 74 (ca22a1cb)
2019-04-22T00:01:35.4785329+07:00 0HLM6FB2VR8M7:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:01:35.4818658+07:00 0HLM6FB2VR8M7:00000010 [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:01:35.4853956+07:00 0HLM6FB2VR8M7:00000010 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:35.4894350+07:00 0HLM6FB2VR8M7:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:01:35.4948479+07:00 0HLM6FB2VR8M7:00000010 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:35.5002083+07:00 0HLM6FB2VR8M7:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:01:35.5045069+07:00 0HLM6FB2VR8M7:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-04-22T00:01:35.5103601+07:00 0HLM6FB2VR8M7:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ProductImages] ([Caption], [Path], [ProductId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [ProductImages]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-04-22T00:01:35.5142297+07:00 0HLM6FB2VR8M7:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 21.7058ms. (50a9e262)
2019-04-22T00:01:35.5186046+07:00 0HLM6FB2VR8M7:00000010 [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:01:35.5231712+07:00 0HLM6FB2VR8M7:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 36.9247ms (afa2e885)
2019-04-22T00:01:35.5280869+07:00 0HLM6FB2VR8M7:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:01:35.5322457+07:00 0HLM6FB2VR8M7:00000010 [INF] Request finished in 57.2697ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:36.9491018+07:00 0HLM6FB2VR8M7:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:01:36.9548450+07:00 0HLM6FB2VR8M7:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:01:36.9623646+07:00 0HLM6FB2VR8M7:00000011 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:01:36.9683659+07:00 0HLM6FB2VR8M7:00000011 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:36.9723121+07:00 0HLM6FB2VR8M7:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:01:36.9786329+07:00 0HLM6FB2VR8M7:00000011 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:01:36.9900787+07:00 0HLM6FB2VR8M7:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:01:37.0170969+07:00 0HLM6FB2VR8M7:00000011 [INF] Executed DbCommand ("10"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:01:37.0209312+07:00 0HLM6FB2VR8M7:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 44.9349ms. (50a9e262)
2019-04-22T00:01:37.0339683+07:00 0HLM6FB2VR8M7:00000011 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:01:37.0837340+07:00 0HLM6FB2VR8M7:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 72.5275ms (afa2e885)
2019-04-22T00:01:37.1171104+07:00 0HLM6FB2VR8M7:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:01:37.1226173+07:00 0HLM6FB2VR8M7:00000011 [INF] Request finished in 173.7714ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:40.4001337+07:00 0HLM6FB2VR8M7:00000012 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Upload/UploadImage multipart/form-data; boundary=----WebKitFormBoundary8xGpN3NR7oAm1e0x 44 (ca22a1cb)
2019-04-22T00:01:40.4042001+07:00 0HLM6FB2VR8M7:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)"' (500cc934)
2019-04-22T00:01:40.4089082+07:00 0HLM6FB2VR8M7:00000012 [INF] Route matched with "{area = \"Admin\", action = \"UploadImage\", controller = \"Upload\"}". Executing action "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" (a44c0341)
2019-04-22T00:01:40.4139687+07:00 0HLM6FB2VR8M7:00000012 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:40.4172790+07:00 0HLM6FB2VR8M7:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:01:40.4211885+07:00 0HLM6FB2VR8M7:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)", returned result "Microsoft.AspNetCore.Mvc.BadRequestObjectResult" in 0.4328ms. (50a9e262)
2019-04-22T00:01:40.4271884+07:00 0HLM6FB2VR8M7:00000012 [INF] Executing ObjectResult, writing value of type '"Microsoft.AspNetCore.Http.Internal.FormFileCollection"'. (8a1b66c8)
2019-04-22T00:01:40.4394822+07:00 0HLM6FB2VR8M7:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" in 26.1202ms (afa2e885)
2019-04-22T00:01:40.4457763+07:00 0HLM6FB2VR8M7:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)"' (99874f2b)
2019-04-22T00:01:40.4509324+07:00 0HLM6FB2VR8M7:00000012 [INF] Request finished in 48.9772ms 400 application/json; charset=utf-8 (791a596a)
2019-04-22T00:01:55.0950022+07:00 0HLM6FB2VR8M7:00000013 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 74 (ca22a1cb)
2019-04-22T00:01:55.0991240+07:00 0HLM6FB2VR8M7:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:01:55.1025550+07:00 0HLM6FB2VR8M7:00000013 [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:01:55.1064032+07:00 0HLM6FB2VR8M7:00000013 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:01:55.1114494+07:00 0HLM6FB2VR8M7:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:02:06.9983507+07:00 0HLM6FB2VR8M7:00000013 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:02:07.0208676+07:00 0HLM6FB2VR8M7:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:02:15.4711613+07:00 0HLM6FB2VR8M7:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-04-22T00:02:15.4773291+07:00 0HLM6FB2VR8M7:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ProductImages] ([Caption], [Path], [ProductId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [ProductImages]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-04-22T00:02:15.4810895+07:00 0HLM6FB2VR8M7:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 20366.6482ms. (50a9e262)
2019-04-22T00:02:15.4856795+07:00 0HLM6FB2VR8M7:00000013 [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:02:15.4915014+07:00 0HLM6FB2VR8M7:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 20383.3456ms (afa2e885)
2019-04-22T00:02:15.4954752+07:00 0HLM6FB2VR8M7:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:02:15.5023138+07:00 0HLM6FB2VR8M7:00000013 [INF] Request finished in 20407.2176ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:02:20.0527416+07:00 0HLM6FB2VR8M7:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:02:20.0655162+07:00 0HLM6FB2VR8M7:00000014 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:02:20.0707084+07:00 0HLM6FB2VR8M7:00000014 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:02:20.0755490+07:00 0HLM6FB2VR8M7:00000014 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:02:20.0825008+07:00 0HLM6FB2VR8M7:00000014 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:02:20.0896864+07:00 0HLM6FB2VR8M7:00000014 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:02:20.1041480+07:00 0HLM6FB2VR8M7:00000014 [INF] Executed DbCommand ("9"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:02:20.1228984+07:00 0HLM6FB2VR8M7:00000014 [INF] Executed DbCommand ("9"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:02:20.1306354+07:00 0HLM6FB2VR8M7:00000014 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 40.5197ms. (50a9e262)
2019-04-22T00:02:20.1356479+07:00 0HLM6FB2VR8M7:00000014 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:02:20.1493697+07:00 0HLM6FB2VR8M7:00000014 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 65.2598ms (afa2e885)
2019-04-22T00:02:20.1556138+07:00 0HLM6FB2VR8M7:00000014 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:02:20.1652775+07:00 0HLM6FB2VR8M7:00000014 [INF] Request finished in 108.7917ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:02:23.5951860+07:00 0HLM6FB2VR8M7:00000015 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 74 (ca22a1cb)
2019-04-22T00:02:23.5992577+07:00 0HLM6FB2VR8M7:00000015 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:02:23.6027852+07:00 0HLM6FB2VR8M7:00000015 [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:02:23.6064553+07:00 0HLM6FB2VR8M7:00000015 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:02:23.6116007+07:00 0HLM6FB2VR8M7:00000015 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:02:26.9174591+07:00 0HLM6FB2VR8M7:00000015 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:02:26.9285263+07:00 0HLM6FB2VR8M7:00000015 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:02:41.9491064+07:00 0HLM6FB2VR8M7:00000015 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-04-22T00:02:41.9535843+07:00 0HLM6FB2VR8M7:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ProductImages] ([Caption], [Path], [ProductId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [ProductImages]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-04-22T00:02:42.0266092+07:00 0HLM6FB2VR8M7:00000015 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18383.2057ms. (50a9e262)
2019-04-22T00:02:42.0330645+07:00 0HLM6FB2VR8M7:00000015 [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:02:42.0505283+07:00 0HLM6FB2VR8M7:00000015 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 18430.7963ms (afa2e885)
2019-04-22T00:02:42.0591433+07:00 0HLM6FB2VR8M7:00000015 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:02:42.0668688+07:00 0HLM6FB2VR8M7:00000015 [INF] Request finished in 18468.6744ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:02:45.4351786+07:00 0HLM6FB2VR8M7:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:02:45.4394313+07:00 0HLM6FB2VR8M7:00000016 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:02:45.4479170+07:00 0HLM6FB2VR8M7:00000016 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:02:45.4534797+07:00 0HLM6FB2VR8M7:00000016 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:02:45.4598896+07:00 0HLM6FB2VR8M7:00000016 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:02:45.4645247+07:00 0HLM6FB2VR8M7:00000016 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:02:45.4714050+07:00 0HLM6FB2VR8M7:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:02:45.4831830+07:00 0HLM6FB2VR8M7:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:02:45.4893566+07:00 0HLM6FB2VR8M7:00000016 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 23.7907ms. (50a9e262)
2019-04-22T00:02:45.4953952+07:00 0HLM6FB2VR8M7:00000016 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:02:45.5017455+07:00 0HLM6FB2VR8M7:00000016 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 48.8008ms (afa2e885)
2019-04-22T00:02:45.5051158+07:00 0HLM6FB2VR8M7:00000016 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:02:45.5112138+07:00 0HLM6FB2VR8M7:00000016 [INF] Request finished in 73.4761ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:03:23.5449898+07:00 0HLM6FB2VR8M7:00000017 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Upload/UploadImage multipart/form-data; boundary=----WebKitFormBoundaryTnd7x7YVRJI6eLfF 136942 (ca22a1cb)
2019-04-22T00:03:23.5497139+07:00 0HLM6FB2VR8M7:00000017 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)"' (500cc934)
2019-04-22T00:03:23.5539482+07:00 0HLM6FB2VR8M7:00000017 [INF] Route matched with "{area = \"Admin\", action = \"UploadImage\", controller = \"Upload\"}". Executing action "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" (a44c0341)
2019-04-22T00:03:23.5595544+07:00 0HLM6FB2VR8M7:00000017 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:03:23.5646148+07:00 0HLM6FB2VR8M7:00000017 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:03:23.5904693+07:00 0HLM6FB2VR8M7:00000017 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.7757ms. (50a9e262)
2019-04-22T00:03:23.5961464+07:00 0HLM6FB2VR8M7:00000017 [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-04-22T00:03:23.6032499+07:00 0HLM6FB2VR8M7:00000017 [INF] Executed action "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" in 42.3938ms (afa2e885)
2019-04-22T00:03:23.6109878+07:00 0HLM6FB2VR8M7:00000017 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)"' (99874f2b)
2019-04-22T00:03:23.6368381+07:00 0HLM6FB2VR8M7:00000017 [INF] Request finished in 77.1039ms 200 text/plain; charset=utf-8 (791a596a)
2019-04-22T00:03:25.5305915+07:00 0HLM6FB2VR8M7:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190422/Capture.PNG   (ca22a1cb)
2019-04-22T00:03:25.5483445+07:00 0HLM6FB2VR8M7:00000018 [INF] Sending file. Request path: '"/uploaded/images/20190422/Capture.PNG"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\uploaded\images\20190422\Capture.PNG"' (27b0a520)
2019-04-22T00:03:25.5526998+07:00 0HLM6FB2VR8M7:00000018 [INF] Request finished in 25.5425ms 200 image/png (791a596a)
2019-04-22T00:03:26.7308500+07:00 0HLM6FB2VR8M7:00000019 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 133 (ca22a1cb)
2019-04-22T00:03:26.7398842+07:00 0HLM6FB2VR8M7:00000019 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:03:26.7495269+07:00 0HLM6FB2VR8M7:00000019 [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:03:26.7613082+07:00 0HLM6FB2VR8M7:00000019 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:03:26.7678157+07:00 0HLM6FB2VR8M7:00000019 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:03:31.6037656+07:00 0HLM6FB2VR8M7:00000019 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:03:31.6140537+07:00 0HLM6FB2VR8M7:00000019 [INF] Executed DbCommand ("3"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:03:31.6210321+07:00 0HLM6FB2VR8M7:00000019 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-04-22T00:03:31.6280515+07:00 0HLM6FB2VR8M7:00000019 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ProductImages] ([Caption], [Path], [ProductId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [ProductImages]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-04-22T00:03:31.6343425+07:00 0HLM6FB2VR8M7:00000019 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ProductImages] ([Caption], [Path], [ProductId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [ProductImages]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-04-22T00:03:31.6391789+07:00 0HLM6FB2VR8M7:00000019 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4867.4297ms. (50a9e262)
2019-04-22T00:03:31.6453624+07:00 0HLM6FB2VR8M7:00000019 [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:03:31.6515006+07:00 0HLM6FB2VR8M7:00000019 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 4896.1099ms (afa2e885)
2019-04-22T00:03:31.6614395+07:00 0HLM6FB2VR8M7:00000019 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:03:31.6991815+07:00 0HLM6FB2VR8M7:00000019 [INF] Request finished in 4937.6931ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:03:34.7268192+07:00 0HLM6FB2VR8M7:0000001A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:03:34.7322731+07:00 0HLM6FB2VR8M7:0000001A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:03:34.7367971+07:00 0HLM6FB2VR8M7:0000001A [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:03:34.7447023+07:00 0HLM6FB2VR8M7:0000001A [INF] Authorization was successful. (0d575a54)
2019-04-22T00:03:34.7492988+07:00 0HLM6FB2VR8M7:0000001A [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:03:34.7552795+07:00 0HLM6FB2VR8M7:0000001A [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:03:34.7689508+07:00 0HLM6FB2VR8M7:0000001A [INF] Executed DbCommand ("6"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:03:34.7828910+07:00 0HLM6FB2VR8M7:0000001A [INF] Executed DbCommand ("6"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:03:34.7866547+07:00 0HLM6FB2VR8M7:0000001A [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 33.9803ms. (50a9e262)
2019-04-22T00:03:34.7905394+07:00 0HLM6FB2VR8M7:0000001A [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:03:34.7969119+07:00 0HLM6FB2VR8M7:0000001A [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 54.313ms (afa2e885)
2019-04-22T00:03:34.8012856+07:00 0HLM6FB2VR8M7:0000001A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:03:34.8055781+07:00 0HLM6FB2VR8M7:0000001A [INF] Request finished in 80.8299ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:03:38.9148347+07:00 0HLM6FB2VR8M7:0000001B [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Upload/UploadImage   (ca22a1cb)
2019-04-22T00:03:38.9293148+07:00 0HLM6FB2VR8M7:0000001B [INF] Executing endpoint '"405 HTTP Method Not Supported"' (500cc934)
2019-04-22T00:03:38.9402998+07:00 0HLM6FB2VR8M7:0000001B [INF] Executed endpoint '"405 HTTP Method Not Supported"' (99874f2b)
2019-04-22T00:03:38.9460048+07:00 0HLM6FB2VR8M7:0000001B [INF] Request finished in 37.1954ms 405  (791a596a)
2019-04-22T00:03:44.2945287+07:00 0HLM6FB2VR8M7:0000001C [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 133 (ca22a1cb)
2019-04-22T00:03:44.2982661+07:00 0HLM6FB2VR8M7:0000001C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:03:44.3015679+07:00 0HLM6FB2VR8M7:0000001C [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:03:44.3058112+07:00 0HLM6FB2VR8M7:0000001C [INF] Authorization was successful. (0d575a54)
2019-04-22T00:03:44.3109861+07:00 0HLM6FB2VR8M7:0000001C [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:03:47.2531060+07:00 0HLM6FB2VR8M7:0000001C [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:03:47.2597960+07:00 0HLM6FB2VR8M7:0000001C [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:03:47.2772976+07:00 0HLM6FB2VR8M7:0000001C [INF] Executed DbCommand ("11"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 250), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [ProductImages]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DECLARE @inserted2 TABLE ([Id] int, [_Position] [int]);
MERGE [ProductImages] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1)) AS i ([Caption], [Path], [ProductId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Caption], [Path], [ProductId])
VALUES (i.[Caption], i.[Path], i.[ProductId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted2;

SELECT [t].[Id] FROM [ProductImages] t
INNER JOIN @inserted2 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2019-04-22T00:03:47.3118809+07:00 0HLM6FB2VR8M7:0000001C [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2997.3419ms. (50a9e262)
2019-04-22T00:03:47.3166194+07:00 0HLM6FB2VR8M7:0000001C [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:03:47.3456008+07:00 0HLM6FB2VR8M7:0000001C [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 3015.6012ms (afa2e885)
2019-04-22T00:03:47.3495445+07:00 0HLM6FB2VR8M7:0000001C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:03:47.3603917+07:00 0HLM6FB2VR8M7:0000001C [INF] Request finished in 3058.9271ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:04:02.2783950+07:00 0HLM6FB2VR8M7:0000001D [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:04:02.2826342+07:00 0HLM6FB2VR8M7:0000001D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:04:02.2921320+07:00 0HLM6FB2VR8M7:0000001D [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:04:02.2985956+07:00 0HLM6FB2VR8M7:0000001D [INF] Authorization was successful. (0d575a54)
2019-04-22T00:04:02.3032655+07:00 0HLM6FB2VR8M7:0000001D [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:04:02.3103991+07:00 0HLM6FB2VR8M7:0000001D [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:04:02.3289771+07:00 0HLM6FB2VR8M7:0000001D [INF] Executed DbCommand ("8"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:04:02.3449213+07:00 0HLM6FB2VR8M7:0000001D [INF] Executed DbCommand ("6"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:04:02.3510551+07:00 0HLM6FB2VR8M7:0000001D [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 42.3778ms. (50a9e262)
2019-04-22T00:04:02.3562859+07:00 0HLM6FB2VR8M7:0000001D [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:04:02.3639108+07:00 0HLM6FB2VR8M7:0000001D [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 64.576ms (afa2e885)
2019-04-22T00:04:02.3687240+07:00 0HLM6FB2VR8M7:0000001D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:04:02.3756638+07:00 0HLM6FB2VR8M7:0000001D [INF] Request finished in 102.9218ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:04:36.9990809+07:00 0HLM6FB2VR8M7:0000001E [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 133 (ca22a1cb)
2019-04-22T00:04:37.0033411+07:00 0HLM6FB2VR8M7:0000001E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:04:37.0065136+07:00 0HLM6FB2VR8M7:0000001E [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:04:37.0123897+07:00 0HLM6FB2VR8M7:0000001E [INF] Authorization was successful. (0d575a54)
2019-04-22T00:04:37.0205538+07:00 0HLM6FB2VR8M7:0000001E [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:04:39.2696475+07:00 0HLM6FB2VR8M7:0000001E [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:04:39.2758612+07:00 0HLM6FB2VR8M7:0000001E [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:04:39.2968060+07:00 0HLM6FB2VR8M7:0000001E [INF] Executed DbCommand ("13"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 250), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [ProductImages]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DECLARE @inserted2 TABLE ([Id] int, [_Position] [int]);
MERGE [ProductImages] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1)) AS i ([Caption], [Path], [ProductId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Caption], [Path], [ProductId])
VALUES (i.[Caption], i.[Path], i.[ProductId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted2;

SELECT [t].[Id] FROM [ProductImages] t
INNER JOIN @inserted2 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2019-04-22T00:04:39.3093890+07:00 0HLM6FB2VR8M7:0000001E [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2282.379ms. (50a9e262)
2019-04-22T00:04:39.3135027+07:00 0HLM6FB2VR8M7:0000001E [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:04:39.3206711+07:00 0HLM6FB2VR8M7:0000001E [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 2307.3062ms (afa2e885)
2019-04-22T00:04:39.3261037+07:00 0HLM6FB2VR8M7:0000001E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:04:39.3562813+07:00 0HLM6FB2VR8M7:0000001E [INF] Request finished in 2332.9177ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:04:56.0686329+07:00 0HLM6FB2VR8M7:0000001F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:04:56.0735302+07:00 0HLM6FB2VR8M7:0000001F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:04:56.0785205+07:00 0HLM6FB2VR8M7:0000001F [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:04:56.0840105+07:00 0HLM6FB2VR8M7:0000001F [INF] Authorization was successful. (0d575a54)
2019-04-22T00:04:56.0884852+07:00 0HLM6FB2VR8M7:0000001F [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:04:56.0955650+07:00 0HLM6FB2VR8M7:0000001F [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:04:56.1127412+07:00 0HLM6FB2VR8M7:0000001F [INF] Executed DbCommand ("6"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:04:56.1290096+07:00 0HLM6FB2VR8M7:0000001F [INF] Executed DbCommand ("5"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:04:56.1347970+07:00 0HLM6FB2VR8M7:0000001F [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 40.9087ms. (50a9e262)
2019-04-22T00:04:56.1401587+07:00 0HLM6FB2VR8M7:0000001F [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:04:56.1469923+07:00 0HLM6FB2VR8M7:0000001F [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 61.9138ms (afa2e885)
2019-04-22T00:04:56.1506695+07:00 0HLM6FB2VR8M7:0000001F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:04:56.1572790+07:00 0HLM6FB2VR8M7:0000001F [INF] Request finished in 85.7542ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:04:56.1641017+07:00 0HLM6FB2VR8M7:00000020 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190422/Untitled-1.png   (ca22a1cb)
2019-04-22T00:04:56.1678419+07:00 0HLM6FB2VR8M7:00000020 [INF] The file "/uploaded/images/20190422/Untitled-1.png" was not modified (f1f8d725)
2019-04-22T00:04:56.1746112+07:00 0HLM6FB2VR8M7:00000020 [INF] Request finished in 7.3591ms 304 image/png (791a596a)
2019-04-22T00:05:06.6532237+07:00 0HLM6FB2VR8M7:00000021 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:05:06.6605435+07:00 0HLM6FB2VR8M7:00000021 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:05:06.6662304+07:00 0HLM6FB2VR8M7:00000021 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:05:06.6735506+07:00 0HLM6FB2VR8M7:00000021 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:05:06.7001398+07:00 0HLM6FB2VR8M7:00000021 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:05:06.7073226+07:00 0HLM6FB2VR8M7:00000021 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:05:06.7304015+07:00 0HLM6FB2VR8M7:00000021 [INF] Executed DbCommand ("8"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:05:06.7657336+07:00 0HLM6FB2VR8M7:00000021 [INF] Executed DbCommand ("5"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:05:06.7832721+07:00 0HLM6FB2VR8M7:00000021 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 65.8354ms. (50a9e262)
2019-04-22T00:05:06.7976693+07:00 0HLM6FB2VR8M7:00000021 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:05:06.8203441+07:00 0HLM6FB2VR8M7:00000021 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 131.8231ms (afa2e885)
2019-04-22T00:05:06.8294427+07:00 0HLM6FB2VR8M7:00000021 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:05:06.8346858+07:00 0HLM6FB2VR8M7:00000021 [INF] Request finished in 181.5926ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:05:12.2084122+07:00 0HLM6FB2VR8M7:00000022 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:05:12.2141800+07:00 0HLM6FB2VR8M7:00000022 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:05:12.2191109+07:00 0HLM6FB2VR8M7:00000022 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:05:12.2255827+07:00 0HLM6FB2VR8M7:00000022 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:05:12.2300971+07:00 0HLM6FB2VR8M7:00000022 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:05:12.2343498+07:00 0HLM6FB2VR8M7:00000022 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:05:12.2507231+07:00 0HLM6FB2VR8M7:00000022 [INF] Executed DbCommand ("8"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:05:12.2655100+07:00 0HLM6FB2VR8M7:00000022 [INF] Executed DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:05:12.2700459+07:00 0HLM6FB2VR8M7:00000022 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 35.769ms. (50a9e262)
2019-04-22T00:05:12.2761800+07:00 0HLM6FB2VR8M7:00000022 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:05:12.2828458+07:00 0HLM6FB2VR8M7:00000022 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 57.531ms (afa2e885)
2019-04-22T00:05:12.2870411+07:00 0HLM6FB2VR8M7:00000022 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:05:12.2917644+07:00 0HLM6FB2VR8M7:00000022 [INF] Request finished in 86.9001ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:05:26.1931896+07:00 0HLM6FB2VR8M7:00000023 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:05:26.1977267+07:00 0HLM6FB2VR8M7:00000023 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:05:26.2026354+07:00 0HLM6FB2VR8M7:00000023 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:05:26.2078875+07:00 0HLM6FB2VR8M7:00000023 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:05:26.2128701+07:00 0HLM6FB2VR8M7:00000023 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:05:26.2167539+07:00 0HLM6FB2VR8M7:00000023 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:05:26.2300713+07:00 0HLM6FB2VR8M7:00000023 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:05:26.2440007+07:00 0HLM6FB2VR8M7:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:05:26.2498871+07:00 0HLM6FB2VR8M7:00000023 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 31.2672ms. (50a9e262)
2019-04-22T00:05:26.2544734+07:00 0HLM6FB2VR8M7:00000023 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:05:26.2633636+07:00 0HLM6FB2VR8M7:00000023 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 52.2092ms (afa2e885)
2019-04-22T00:05:26.2684671+07:00 0HLM6FB2VR8M7:00000023 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:05:26.2742961+07:00 0HLM6FB2VR8M7:00000023 [INF] Request finished in 85.8703ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:06:28.5053484+07:00 0HLM6FB2VR8M7:00000024 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:06:28.5133796+07:00 0HLM6FB2VR8M7:00000024 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:06:28.5193968+07:00 0HLM6FB2VR8M7:00000024 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:06:28.5255190+07:00 0HLM6FB2VR8M7:00000024 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:06:28.5349193+07:00 0HLM6FB2VR8M7:00000024 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:06:28.5407827+07:00 0HLM6FB2VR8M7:00000024 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:06:28.5651052+07:00 0HLM6FB2VR8M7:00000024 [INF] Executed DbCommand ("12"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:06:28.5810739+07:00 0HLM6FB2VR8M7:00000024 [INF] Executed DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:06:28.5936967+07:00 0HLM6FB2VR8M7:00000024 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 46.7995ms. (50a9e262)
2019-04-22T00:06:28.6007408+07:00 0HLM6FB2VR8M7:00000024 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:06:28.6194658+07:00 0HLM6FB2VR8M7:00000024 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 82.0151ms (afa2e885)
2019-04-22T00:06:28.6244023+07:00 0HLM6FB2VR8M7:00000024 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:06:28.6311991+07:00 0HLM6FB2VR8M7:00000024 [INF] Request finished in 136.0644ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:06:32.8544241+07:00 0HLM6FB2VR8M7:00000025 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 133 (ca22a1cb)
2019-04-22T00:06:32.8590309+07:00 0HLM6FB2VR8M7:00000025 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:06:32.8633024+07:00 0HLM6FB2VR8M7:00000025 [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:06:32.8675634+07:00 0HLM6FB2VR8M7:00000025 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:06:32.8725279+07:00 0HLM6FB2VR8M7:00000025 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:06:37.7784024+07:00 0HLM6FB2VR8M7:00000025 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:06:37.7843453+07:00 0HLM6FB2VR8M7:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:06:37.8066091+07:00 0HLM6FB2VR8M7:00000025 [INF] Executed DbCommand ("16"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 250), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [ProductImages]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DECLARE @inserted2 TABLE ([Id] int, [_Position] [int]);
MERGE [ProductImages] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1)) AS i ([Caption], [Path], [ProductId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Caption], [Path], [ProductId])
VALUES (i.[Caption], i.[Path], i.[ProductId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted2;

SELECT [t].[Id] FROM [ProductImages] t
INNER JOIN @inserted2 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2019-04-22T00:06:37.8136270+07:00 0HLM6FB2VR8M7:00000025 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4936.6793ms. (50a9e262)
2019-04-22T00:06:37.8179391+07:00 0HLM6FB2VR8M7:00000025 [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:06:37.8235338+07:00 0HLM6FB2VR8M7:00000025 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 4954.7552ms (afa2e885)
2019-04-22T00:06:37.8271765+07:00 0HLM6FB2VR8M7:00000025 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:06:37.8383794+07:00 0HLM6FB2VR8M7:00000025 [INF] Request finished in 4977.3349ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:06:40.6823252+07:00 0HLM6FB2VR8M7:00000026 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:06:40.6867002+07:00 0HLM6FB2VR8M7:00000026 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:06:40.6930805+07:00 0HLM6FB2VR8M7:00000026 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:06:40.6979630+07:00 0HLM6FB2VR8M7:00000026 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:06:40.7026083+07:00 0HLM6FB2VR8M7:00000026 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:06:40.7075724+07:00 0HLM6FB2VR8M7:00000026 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:06:40.7165968+07:00 0HLM6FB2VR8M7:00000026 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:06:40.7256573+07:00 0HLM6FB2VR8M7:00000026 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:06:40.7312212+07:00 0HLM6FB2VR8M7:00000026 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 23.2656ms. (50a9e262)
2019-04-22T00:06:40.7369160+07:00 0HLM6FB2VR8M7:00000026 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:06:40.7442583+07:00 0HLM6FB2VR8M7:00000026 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 43.9273ms (afa2e885)
2019-04-22T00:06:40.7492187+07:00 0HLM6FB2VR8M7:00000026 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:06:40.7576754+07:00 0HLM6FB2VR8M7:00000026 [INF] Request finished in 73.5462ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:06:40.7650346+07:00 0HLM6FB2VR8M7:00000027 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190422/Untitled-1.png   (ca22a1cb)
2019-04-22T00:06:40.7712898+07:00 0HLM6FB2VR8M7:00000027 [INF] The file "/uploaded/images/20190422/Untitled-1.png" was not modified (f1f8d725)
2019-04-22T00:06:40.7791921+07:00 0HLM6FB2VR8M7:00000027 [INF] Request finished in 9.641ms 304 image/png (791a596a)
2019-04-22T00:06:43.6186612+07:00 0HLM6FB2VR8M7:00000028 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 133 (ca22a1cb)
2019-04-22T00:06:43.6227814+07:00 0HLM6FB2VR8M7:00000028 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:06:43.6276812+07:00 0HLM6FB2VR8M7:00000028 [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:06:43.6309377+07:00 0HLM6FB2VR8M7:00000028 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:06:43.6360143+07:00 0HLM6FB2VR8M7:00000028 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:06:53.1627244+07:00 0HLM6FB2VR8M7:00000028 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:06:53.1684680+07:00 0HLM6FB2VR8M7:00000028 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:06:53.1998218+07:00 0HLM6FB2VR8M7:00000028 [INF] Executed DbCommand ("26"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 250), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [ProductImages]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DECLARE @inserted2 TABLE ([Id] int, [_Position] [int]);
MERGE [ProductImages] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1)) AS i ([Caption], [Path], [ProductId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Caption], [Path], [ProductId])
VALUES (i.[Caption], i.[Path], i.[ProductId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted2;

SELECT [t].[Id] FROM [ProductImages] t
INNER JOIN @inserted2 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2019-04-22T00:06:53.2185078+07:00 0HLM6FB2VR8M7:00000028 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9578.0845ms. (50a9e262)
2019-04-22T00:06:53.2225694+07:00 0HLM6FB2VR8M7:00000028 [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:06:53.2317870+07:00 0HLM6FB2VR8M7:00000028 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 9595.1339ms (afa2e885)
2019-04-22T00:06:53.2623096+07:00 0HLM6FB2VR8M7:00000028 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:06:53.2729160+07:00 0HLM6FB2VR8M7:00000028 [INF] Request finished in 9647.5868ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:06:56.8126613+07:00 0HLM6FB2VR8M7:00000029 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:06:56.8184988+07:00 0HLM6FB2VR8M7:00000029 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:06:56.8223158+07:00 0HLM6FB2VR8M7:00000029 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:06:56.8277419+07:00 0HLM6FB2VR8M7:00000029 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:06:56.8319790+07:00 0HLM6FB2VR8M7:00000029 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:06:56.8369792+07:00 0HLM6FB2VR8M7:00000029 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:06:56.8458760+07:00 0HLM6FB2VR8M7:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:06:56.8541218+07:00 0HLM6FB2VR8M7:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:06:56.8604089+07:00 0HLM6FB2VR8M7:00000029 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 22.489ms. (50a9e262)
2019-04-22T00:06:56.8676064+07:00 0HLM6FB2VR8M7:00000029 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:06:56.8762940+07:00 0HLM6FB2VR8M7:00000029 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 46.4758ms (afa2e885)
2019-04-22T00:06:56.8815478+07:00 0HLM6FB2VR8M7:00000029 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:06:56.8889907+07:00 0HLM6FB2VR8M7:00000029 [INF] Request finished in 73.7862ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:07:00.7670867+07:00 0HLM6FB2VR8M7:0000002A [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 133 (ca22a1cb)
2019-04-22T00:07:00.7712315+07:00 0HLM6FB2VR8M7:0000002A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:07:00.7747429+07:00 0HLM6FB2VR8M7:0000002A [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:07:00.7820331+07:00 0HLM6FB2VR8M7:0000002A [INF] Authorization was successful. (0d575a54)
2019-04-22T00:07:00.7858588+07:00 0HLM6FB2VR8M7:0000002A [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:07:05.1070563+07:00 0HLM6FB2VR8M7:0000002A [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:07:05.1160319+07:00 0HLM6FB2VR8M7:0000002A [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:07:05.1895618+07:00 0HLM6FB2VR8M7:0000002A [INF] Executed DbCommand ("56"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 250), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [ProductImages]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DECLARE @inserted2 TABLE ([Id] int, [_Position] [int]);
MERGE [ProductImages] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1)) AS i ([Caption], [Path], [ProductId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Caption], [Path], [ProductId])
VALUES (i.[Caption], i.[Path], i.[ProductId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted2;

SELECT [t].[Id] FROM [ProductImages] t
INNER JOIN @inserted2 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2019-04-22T00:07:05.1958386+07:00 0HLM6FB2VR8M7:0000002A [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4404.4233ms. (50a9e262)
2019-04-22T00:07:05.1998424+07:00 0HLM6FB2VR8M7:0000002A [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:07:05.2073403+07:00 0HLM6FB2VR8M7:0000002A [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 4425.4859ms (afa2e885)
2019-04-22T00:07:05.2136352+07:00 0HLM6FB2VR8M7:0000002A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:07:05.2214678+07:00 0HLM6FB2VR8M7:0000002A [INF] Request finished in 4453.4539ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:07:08.3328914+07:00 0HLM6FB2VR8M7:0000002B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:07:08.3377267+07:00 0HLM6FB2VR8M7:0000002B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:07:08.3444126+07:00 0HLM6FB2VR8M7:0000002B [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:07:08.3541718+07:00 0HLM6FB2VR8M7:0000002B [INF] Authorization was successful. (0d575a54)
2019-04-22T00:07:08.3602699+07:00 0HLM6FB2VR8M7:0000002B [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:07:08.3678822+07:00 0HLM6FB2VR8M7:0000002B [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:07:08.3785201+07:00 0HLM6FB2VR8M7:0000002B [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:07:08.3865714+07:00 0HLM6FB2VR8M7:0000002B [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:07:08.3907437+07:00 0HLM6FB2VR8M7:0000002B [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 26.4968ms. (50a9e262)
2019-04-22T00:07:08.3963338+07:00 0HLM6FB2VR8M7:0000002B [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:07:08.4040528+07:00 0HLM6FB2VR8M7:0000002B [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 52.3729ms (afa2e885)
2019-04-22T00:07:08.4073394+07:00 0HLM6FB2VR8M7:0000002B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:07:08.4137722+07:00 0HLM6FB2VR8M7:0000002B [INF] Request finished in 79.9302ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:07:11.0793415+07:00 0HLM6FB2VR8M7:0000002C [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 133 (ca22a1cb)
2019-04-22T00:07:11.0830534+07:00 0HLM6FB2VR8M7:0000002C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:07:11.0868098+07:00 0HLM6FB2VR8M7:0000002C [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:07:11.0903450+07:00 0HLM6FB2VR8M7:0000002C [INF] Authorization was successful. (0d575a54)
2019-04-22T00:07:11.0954768+07:00 0HLM6FB2VR8M7:0000002C [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:07:18.4284536+07:00 0HLM6FB2VR8M7:0000002C [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:07:18.4529193+07:00 0HLM6FB2VR8M7:0000002C [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:07:18.5127811+07:00 0HLM6FB2VR8M7:0000002C [INF] Executed DbCommand ("42"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 250), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [ProductImages]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DECLARE @inserted2 TABLE ([Id] int, [_Position] [int]);
MERGE [ProductImages] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1)) AS i ([Caption], [Path], [ProductId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Caption], [Path], [ProductId])
VALUES (i.[Caption], i.[Path], i.[ProductId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted2;

SELECT [t].[Id] FROM [ProductImages] t
INNER JOIN @inserted2 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2019-04-22T00:07:18.5198149+07:00 0HLM6FB2VR8M7:0000002C [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7418.8914ms. (50a9e262)
2019-04-22T00:07:18.5261004+07:00 0HLM6FB2VR8M7:0000002C [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:07:18.5357308+07:00 0HLM6FB2VR8M7:0000002C [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 7439.6931ms (afa2e885)
2019-04-22T00:07:18.5390940+07:00 0HLM6FB2VR8M7:0000002C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:07:18.5517874+07:00 0HLM6FB2VR8M7:0000002C [INF] Request finished in 7463.234ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:08:22.9875888+07:00 0HLM6FB2VR8M7:0000002D [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/product/index   (ca22a1cb)
2019-04-22T00:08:22.9973619+07:00 0HLM6FB2VR8M7:0000002D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)"' (500cc934)
2019-04-22T00:08:23.0014920+07:00 0HLM6FB2VR8M7:0000002D [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)" (a44c0341)
2019-04-22T00:08:23.0065656+07:00 0HLM6FB2VR8M7:0000002D [INF] Authorization was successful. (0d575a54)
2019-04-22T00:08:23.0125989+07:00 0HLM6FB2VR8M7:0000002D [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:08:23.0201612+07:00 0HLM6FB2VR8M7:0000002D [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0393ms. (50a9e262)
2019-04-22T00:08:23.0293448+07:00 0HLM6FB2VR8M7:0000002D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-04-22T00:08:23.0342341+07:00 0HLM6FB2VR8M7:0000002D [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:08:23.0551691+07:00 0HLM6FB2VR8M7:0000002D [INF] Executed DbCommand ("13"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-04-22T00:08:23.0685328+07:00 0HLM6FB2VR8M7:0000002D [INF] Authorization was successful. (0d575a54)
2019-04-22T00:08:23.0924910+07:00 0HLM6FB2VR8M7:0000002D [INF] Executed DbCommand ("13"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-04-22T00:08:23.0993558+07:00 0HLM6FB2VR8M7:0000002D [INF] Authorization was successful. (0d575a54)
2019-04-22T00:08:23.1130736+07:00 0HLM6FB2VR8M7:0000002D [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-04-22T00:08:23.1181275+07:00 0HLM6FB2VR8M7:0000002D [INF] Authorization was successful. (0d575a54)
2019-04-22T00:08:23.1279585+07:00 0HLM6FB2VR8M7:0000002D [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-04-22T00:08:23.1461948+07:00 0HLM6FB2VR8M7:0000002D [INF] Executed ViewResult - view "Index" executed in 110.1706ms. (f66409e9)
2019-04-22T00:08:23.1870292+07:00 0HLM6FB2VR8M7:0000002D [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)" in 144.8016ms (afa2e885)
2019-04-22T00:08:23.2043966+07:00 0HLM6FB2VR8M7:0000002D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)"' (99874f2b)
2019-04-22T00:08:23.5100930+07:00 0HLM6FB2VR8M7:0000002D [INF] Request finished in 227.3136ms 200 text/html; charset=utf-8 (791a596a)
2019-04-22T00:08:23.6706075+07:00 0HLM6FB2VR8M7:0000002E [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/shared/common.js   (ca22a1cb)
2019-04-22T00:08:23.6857045+07:00 0HLM6FB2VR8M7:0000002E [INF] The file "/app/shared/common.js" was not modified (f1f8d725)
2019-04-22T00:08:23.7016491+07:00 0HLM6FB2VR8MC:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/product/index.js   (ca22a1cb)
2019-04-22T00:08:23.7148660+07:00 0HLM6FB2VR8M7:0000002E [INF] Request finished in 41.9675ms 304 application/javascript (791a596a)
2019-04-22T00:08:23.7159068+07:00 0HLM6FB2VR8MC:00000001 [INF] The file "/app/controllers/product/index.js" was not modified (f1f8d725)
2019-04-22T00:08:23.7323737+07:00 0HLM6FB2VR8MD:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/product/quantity-management.js   (ca22a1cb)
2019-04-22T00:08:23.7390034+07:00 0HLM6FB2VR8MC:00000001 [INF] Request finished in 39.0059ms 304 application/javascript (791a596a)
2019-04-22T00:08:23.7471429+07:00 0HLM6FB2VR8MD:00000001 [INF] The file "/app/controllers/product/quantity-management.js" was not modified (f1f8d725)
2019-04-22T00:08:23.7613013+07:00 0HLM6FB2VR8ME:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/product/image-management.js   (ca22a1cb)
2019-04-22T00:08:23.8316672+07:00 0HLM6FB2VR8MD:00000001 [INF] Request finished in 76.5944ms 304 application/javascript (791a596a)
2019-04-22T00:08:24.1217517+07:00 0HLM6FB2VR8MC:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Bill/GetColors   (ca22a1cb)
2019-04-22T00:08:24.3382305+07:00 0HLM6FB2VR8M7:0000002F [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Bill/GetSizes   (ca22a1cb)
2019-04-22T00:08:24.5884221+07:00 0HLM6FB2VR8MC:00000002 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)"' (500cc934)
2019-04-22T00:08:24.6509717+07:00 0HLM6FB2VR8M7:0000002F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)"' (500cc934)
2019-04-22T00:08:24.7245919+07:00 0HLM6FB2VR8MC:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetColors\", controller = \"Bill\"}". Executing action "Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)" (a44c0341)
2019-04-22T00:08:24.9693106+07:00 0HLM6FB2VR8M7:0000002F [INF] Route matched with "{area = \"Admin\", action = \"GetSizes\", controller = \"Bill\"}". Executing action "Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)" (a44c0341)
2019-04-22T00:08:25.2471010+07:00 0HLM6FB2VR8MC:00000002 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:08:25.2751986+07:00 0HLM6FB2VR8M7:0000002F [INF] Authorization was successful. (0d575a54)
2019-04-22T00:08:25.3005472+07:00 0HLM6FB2VR8MC:00000002 [INF] Executing action method "Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:08:25.3035322+07:00 0HLM6FB2VR8M7:0000002F [INF] Executing action method "Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:08:25.3218399+07:00 0HLM6FB2VR8MC:00000002 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:08:25.3229155+07:00 0HLM6FB2VR8M7:0000002F [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:08:25.3455137+07:00 0HLM6FB2VR8ME:00000001 [INF] Sending file. Request path: '"/app/controllers/product/image-management.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\product\image-management.js"' (27b0a520)
2019-04-22T00:08:25.3479302+07:00 0HLM6FB2VR8MC:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-04-22T00:08:25.3841193+07:00 0HLM6FB2VR8M7:0000002F [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-04-22T00:08:25.3963109+07:00 0HLM6FB2VR8MC:00000002 [INF] Executed action method "Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 47.4281ms. (50a9e262)
2019-04-22T00:08:25.5092303+07:00 0HLM6FB2VR8M7:0000002F [INF] Executed action method "Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 80.6744ms. (50a9e262)
2019-04-22T00:08:25.5898424+07:00 0HLM6FB2VR8MC:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:08:25.6201443+07:00 0HLM6FB2VR8M7:0000002F [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:08:25.6228565+07:00 0HLM6FB2VR8MC:00000002 [INF] Executed action "Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)" in 863.9273ms (afa2e885)
2019-04-22T00:08:25.6383921+07:00 0HLM6FB2VR8M7:0000002F [INF] Executed action "Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)" in 651.0802ms (afa2e885)
2019-04-22T00:08:25.6423199+07:00 0HLM6FB2VR8MC:00000002 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)"' (99874f2b)
2019-04-22T00:08:25.6867540+07:00 0HLM6FB2VR8M7:0000002F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)"' (99874f2b)
2019-04-22T00:08:25.6983154+07:00 0HLM6FB2VR8MC:00000002 [INF] Request finished in 1681.5872ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:08:25.7423716+07:00 0HLM6FB2VR8M7:0000002F [INF] Request finished in 1699.2299ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:08:25.7864508+07:00 0HLM6FB2VR8MD:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/product/GetAllPaging?categoryId=--Select+category--&keyword=&page=1&pageSize=10   (ca22a1cb)
2019-04-22T00:08:25.8292935+07:00 0HLM6FB2VR8MF:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-04-22T00:08:25.8312331+07:00 0HLM6FB2VR8MD:00000002 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)"' (500cc934)
2019-04-22T00:08:25.8331015+07:00 0HLM6FB2VR8ME:00000001 [INF] Request finished in 1677.8756ms 200 application/javascript (791a596a)
2019-04-22T00:08:25.8489386+07:00 0HLM6FB2VR8MD:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" (a44c0341)
2019-04-22T00:08:25.8529742+07:00 0HLM6FB2VR8MF:00000001 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-04-22T00:08:25.8588725+07:00 0HLM6FB2VR8MD:00000002 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:08:25.8629152+07:00 0HLM6FB2VR8MF:00000001 [INF] Request finished in 66.5378ms 200 image/x-icon (791a596a)
2019-04-22T00:08:25.8770333+07:00 0HLM6FB2VR8ME:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/product/GetAllCategories   (ca22a1cb)
2019-04-22T00:08:25.8798181+07:00 0HLM6FB2VR8MD:00000002 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" with arguments (["", "", "1", "10"]) - Validation state: Invalid (4e3479ed)
2019-04-22T00:08:25.8862785+07:00 0HLM6FB2VR8ME:00000002 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)"' (500cc934)
2019-04-22T00:08:25.8894929+07:00 0HLM6FB2VR8MD:00000002 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:08:25.8983125+07:00 0HLM6FB2VR8ME:00000002 [INF] Route matched with "{area = \"Admin\", action = \"GetAllCategories\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)" (a44c0341)
2019-04-22T00:08:25.9019655+07:00 0HLM6FB2VR8MD:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE ([x].[Status] = 1) OR ([x].[Status] = 0)" (0723d8ff)
2019-04-22T00:08:25.9150969+07:00 0HLM6FB2VR8ME:00000002 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:08:25.9178046+07:00 0HLM6FB2VR8MD:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) OR ([x].[Status] = 0)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-04-22T00:08:25.9337229+07:00 0HLM6FB2VR8ME:00000002 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:08:25.9517521+07:00 0HLM6FB2VR8MD:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) OR ([x0].[Status] = 0)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:08:25.9591527+07:00 0HLM6FB2VR8ME:00000002 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:08:25.9701611+07:00 0HLM6FB2VR8MD:00000002 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 72.9029ms. (50a9e262)
2019-04-22T00:08:25.9729275+07:00 0HLM6FB2VR8ME:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-04-22T00:08:25.9962945+07:00 0HLM6FB2VR8MD:00000002 [INF] Executing ObjectResult, writing value of type '"Shp3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.Products.ProductViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:08:26.0354001+07:00 0HLM6FB2VR8ME:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-04-22T00:08:26.1029267+07:00 0HLM6FB2VR8MD:00000002 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" in 149.4473ms (afa2e885)
2019-04-22T00:08:26.1128393+07:00 0HLM6FB2VR8ME:00000002 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 101.9811ms. (50a9e262)
2019-04-22T00:08:26.1409435+07:00 0HLM6FB2VR8MD:00000002 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)"' (99874f2b)
2019-04-22T00:08:26.1590764+07:00 0HLM6FB2VR8ME:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductCategoryViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:08:26.2196602+07:00 0HLM6FB2VR8MD:00000002 [INF] Request finished in 745.7419ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:08:26.2682748+07:00 0HLM6FB2VR8ME:00000002 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)" in 260.3409ms (afa2e885)
2019-04-22T00:08:26.3402001+07:00 0HLM6FB2VR8MC:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg   (ca22a1cb)
2019-04-22T00:08:26.3543018+07:00 0HLM6FB2VR8MF:00000002 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/admin-side/images/user.png   (ca22a1cb)
2019-04-22T00:08:26.3912076+07:00 0HLM6FB2VR8MC:00000003 [INF] Request finished in 57.3973ms 404  (791a596a)
2019-04-22T00:08:26.3921485+07:00 0HLM6FB2VR8MF:00000002 [INF] Request finished in 71.4863ms 404  (791a596a)
2019-04-22T00:08:26.4183629+07:00 0HLM6FB2VR8MD:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/product/GetAllPaging?categoryId=--Select+category--&keyword=&page=1&pageSize=10   (ca22a1cb)
2019-04-22T00:08:26.4191618+07:00 0HLM6FB2VR8ME:00000002 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)"' (99874f2b)
2019-04-22T00:08:26.4321066+07:00 0HLM6FB2VR8ME:00000002 [INF] Request finished in 574.866ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:08:26.4335978+07:00 0HLM6FB2VR8MD:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)"' (500cc934)
2019-04-22T00:08:26.4455933+07:00 0HLM6FB2VR8MD:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" (a44c0341)
2019-04-22T00:08:26.4508462+07:00 0HLM6FB2VR8MD:00000003 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:08:26.4558969+07:00 0HLM6FB2VR8MD:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" with arguments (["", "", "1", "10"]) - Validation state: Invalid (4e3479ed)
2019-04-22T00:08:26.4661853+07:00 0HLM6FB2VR8MD:00000003 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:08:26.4790978+07:00 0HLM6FB2VR8MD:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE ([x].[Status] = 1) OR ([x].[Status] = 0)" (0723d8ff)
2019-04-22T00:08:26.5173422+07:00 0HLM6FB2VR8MD:00000003 [INF] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) OR ([x].[Status] = 0)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-04-22T00:08:26.5592421+07:00 0HLM6FB2VR8MD:00000003 [INF] Executed DbCommand ("18"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) OR ([x0].[Status] = 0)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:08:26.5784471+07:00 0HLM6FB2VR8MD:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 104.0644ms. (50a9e262)
2019-04-22T00:08:26.6858272+07:00 0HLM6FB2VR8MD:00000003 [INF] Executing ObjectResult, writing value of type '"Shp3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.Products.ProductViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:08:26.9484951+07:00 0HLM6FB2VR8MD:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" in 241.2201ms (afa2e885)
2019-04-22T00:08:26.9927301+07:00 0HLM6FB2VR8MD:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)"' (99874f2b)
2019-04-22T00:08:27.1377619+07:00 0HLM6FB2VR8MD:00000003 [INF] Request finished in 696.2182ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:08:27.2283519+07:00 0HLM6FB2VR8ME:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg   (ca22a1cb)
2019-04-22T00:08:27.3001956+07:00 0HLM6FB2VR8ME:00000003 [INF] Request finished in 111.5007ms 404  (791a596a)
2019-04-22T00:08:27.3157587+07:00 0HLM6FB2VR8MD:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/admin-side/images/user.png   (ca22a1cb)
2019-04-22T00:08:27.3683199+07:00 0HLM6FB2VR8MD:00000004 [INF] Request finished in 65.0662ms 404  (791a596a)
2019-04-22T00:08:41.6255146+07:00 0HLM6FB2VR8MD:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:08:41.6561176+07:00 0HLM6FB2VR8MD:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:08:41.7002423+07:00 0HLM6FB2VR8MD:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:08:41.7508540+07:00 0HLM6FB2VR8MD:00000005 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:08:41.9403716+07:00 0HLM6FB2VR8MD:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:08:41.9560027+07:00 0HLM6FB2VR8MD:00000005 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:08:41.9823896+07:00 0HLM6FB2VR8MD:00000005 [INF] Executed DbCommand ("12"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:08:42.0009652+07:00 0HLM6FB2VR8MD:00000005 [INF] Executed DbCommand ("6"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:08:42.0288012+07:00 0HLM6FB2VR8MD:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 60.8598ms. (50a9e262)
2019-04-22T00:08:42.0576549+07:00 0HLM6FB2VR8MD:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:08:42.0707893+07:00 0HLM6FB2VR8MD:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 358.0734ms (afa2e885)
2019-04-22T00:08:42.0786657+07:00 0HLM6FB2VR8MD:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:08:42.1076947+07:00 0HLM6FB2VR8MD:00000005 [INF] Request finished in 540.2879ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:08:42.1124832+07:00 0HLM6FB2VR8ME:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190422/Capture.PNG   (ca22a1cb)
2019-04-22T00:08:42.1311872+07:00 0HLM6FB2VR8ME:00000004 [INF] The file "/uploaded/images/20190422/Capture.PNG" was not modified (f1f8d725)
2019-04-22T00:08:42.1367363+07:00 0HLM6FB2VR8MD:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190422/Untitled-1.png   (ca22a1cb)
2019-04-22T00:08:42.1519310+07:00 0HLM6FB2VR8ME:00000004 [INF] Request finished in 40.0664ms 304 image/png (791a596a)
2019-04-22T00:08:42.1533529+07:00 0HLM6FB2VR8MD:00000006 [INF] The file "/uploaded/images/20190422/Untitled-1.png" was not modified (f1f8d725)
2019-04-22T00:08:42.1721525+07:00 0HLM6FB2VR8MD:00000006 [INF] Request finished in 32.7597ms 304 image/png (791a596a)
2019-04-22T00:08:44.4163540+07:00 0HLM6FB2VR8MD:00000007 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 12 (ca22a1cb)
2019-04-22T00:08:44.4213812+07:00 0HLM6FB2VR8MD:00000007 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:08:44.4283224+07:00 0HLM6FB2VR8MD:00000007 [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:08:44.4341649+07:00 0HLM6FB2VR8MD:00000007 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:08:44.4410103+07:00 0HLM6FB2VR8MD:00000007 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:08:51.4562067+07:00 0HLM6FB2VR8MD:00000007 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:08:51.4670891+07:00 0HLM6FB2VR8MD:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:08:51.4790284+07:00 0HLM6FB2VR8MD:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-04-22T00:08:51.4952705+07:00 0HLM6FB2VR8MD:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-04-22T00:08:51.5092987+07:00 0HLM6FB2VR8MD:00000007 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7059.9491ms. (50a9e262)
2019-04-22T00:08:51.5175457+07:00 0HLM6FB2VR8MD:00000007 [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:08:51.5378140+07:00 0HLM6FB2VR8MD:00000007 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 7089.5405ms (afa2e885)
2019-04-22T00:08:51.5529697+07:00 0HLM6FB2VR8MD:00000007 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:08:51.5822526+07:00 0HLM6FB2VR8MD:00000007 [INF] Request finished in 7142.6375ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:08:54.7801140+07:00 0HLM6FB2VR8MD:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:08:54.7868967+07:00 0HLM6FB2VR8MD:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:08:54.7981739+07:00 0HLM6FB2VR8MD:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:08:54.8032496+07:00 0HLM6FB2VR8MD:00000008 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:08:54.8096262+07:00 0HLM6FB2VR8MD:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:08:54.8183662+07:00 0HLM6FB2VR8MD:00000008 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:08:54.8365853+07:00 0HLM6FB2VR8MD:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:08:54.8427753+07:00 0HLM6FB2VR8MD:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 26.9928ms. (50a9e262)
2019-04-22T00:08:54.8520840+07:00 0HLM6FB2VR8MD:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:08:54.8664717+07:00 0HLM6FB2VR8MD:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 54.0549ms (afa2e885)
2019-04-22T00:08:54.8717603+07:00 0HLM6FB2VR8MD:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:08:54.8830542+07:00 0HLM6FB2VR8MD:00000008 [INF] Request finished in 101.7866ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:08:57.6194260+07:00 0HLM6FB2VR8MD:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Upload/UploadImage multipart/form-data; boundary=----WebKitFormBoundaryFFyDm6xUMN7uG9Mt 89502 (ca22a1cb)
2019-04-22T00:08:57.6467532+07:00 0HLM6FB2VR8MD:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)"' (500cc934)
2019-04-22T00:08:57.6577115+07:00 0HLM6FB2VR8MD:00000009 [INF] Route matched with "{area = \"Admin\", action = \"UploadImage\", controller = \"Upload\"}". Executing action "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" (a44c0341)
2019-04-22T00:08:57.6671531+07:00 0HLM6FB2VR8MD:00000009 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:08:57.6721989+07:00 0HLM6FB2VR8MD:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:08:57.6978276+07:00 0HLM6FB2VR8MD:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 17.3694ms. (50a9e262)
2019-04-22T00:08:57.7045496+07:00 0HLM6FB2VR8MD:00000009 [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-04-22T00:08:57.7147724+07:00 0HLM6FB2VR8MD:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" in 46.9612ms (afa2e885)
2019-04-22T00:08:57.7209664+07:00 0HLM6FB2VR8MD:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)"' (99874f2b)
2019-04-22T00:08:57.7459823+07:00 0HLM6FB2VR8MD:00000009 [INF] Request finished in 138.5587ms 200 text/plain; charset=utf-8 (791a596a)
2019-04-22T00:08:59.7877193+07:00 0HLM6FB2VR8MD:0000000A [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 74 (ca22a1cb)
2019-04-22T00:08:59.7932943+07:00 0HLM6FB2VR8MD:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:08:59.7971293+07:00 0HLM6FB2VR8MD:0000000A [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:08:59.8016528+07:00 0HLM6FB2VR8MD:0000000A [INF] Authorization was successful. (0d575a54)
2019-04-22T00:08:59.8065817+07:00 0HLM6FB2VR8MD:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:09:03.8788225+07:00 0HLM6FB2VR8MD:0000000A [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:09:03.8854522+07:00 0HLM6FB2VR8MD:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:09:03.8987786+07:00 0HLM6FB2VR8MD:0000000A [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ProductImages] ([Caption], [Path], [ProductId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [ProductImages]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-04-22T00:09:03.9127072+07:00 0HLM6FB2VR8MD:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4100.05ms. (50a9e262)
2019-04-22T00:09:03.9167441+07:00 0HLM6FB2VR8MD:0000000A [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:09:03.9235055+07:00 0HLM6FB2VR8MD:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 4119.7238ms (afa2e885)
2019-04-22T00:09:03.9318768+07:00 0HLM6FB2VR8MD:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:09:03.9746325+07:00 0HLM6FB2VR8MD:0000000A [INF] Request finished in 4148.7638ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:09:06.4143716+07:00 0HLM6FB2VR8MD:0000000B [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:09:06.4227051+07:00 0HLM6FB2VR8MD:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:09:06.4326247+07:00 0HLM6FB2VR8MD:0000000B [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:09:06.4394141+07:00 0HLM6FB2VR8MD:0000000B [INF] Authorization was successful. (0d575a54)
2019-04-22T00:09:06.4471745+07:00 0HLM6FB2VR8MD:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:09:06.4526243+07:00 0HLM6FB2VR8MD:0000000B [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:09:06.4695088+07:00 0HLM6FB2VR8MD:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:09:06.4848922+07:00 0HLM6FB2VR8MD:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:09:06.4899215+07:00 0HLM6FB2VR8MD:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 37.8432ms. (50a9e262)
2019-04-22T00:09:06.4989078+07:00 0HLM6FB2VR8MD:0000000B [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:09:06.5056667+07:00 0HLM6FB2VR8MD:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 66.5087ms (afa2e885)
2019-04-22T00:09:06.5164574+07:00 0HLM6FB2VR8MD:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:09:06.5577730+07:00 0HLM6FB2VR8MD:0000000B [INF] Request finished in 114.1805ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:09:11.6621784+07:00 0HLM6FB2VR8MD:0000000C [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Upload/UploadImage multipart/form-data; boundary=----WebKitFormBoundaryULw8fwfeT8XpM9k7 136942 (ca22a1cb)
2019-04-22T00:09:11.6683006+07:00 0HLM6FB2VR8MD:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)"' (500cc934)
2019-04-22T00:09:11.6715486+07:00 0HLM6FB2VR8MD:0000000C [INF] Route matched with "{area = \"Admin\", action = \"UploadImage\", controller = \"Upload\"}". Executing action "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" (a44c0341)
2019-04-22T00:09:11.6771478+07:00 0HLM6FB2VR8MD:0000000C [INF] Authorization was successful. (0d575a54)
2019-04-22T00:09:11.6829320+07:00 0HLM6FB2VR8MD:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:09:11.7014518+07:00 0HLM6FB2VR8MD:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.6305ms. (50a9e262)
2019-04-22T00:09:11.7173127+07:00 0HLM6FB2VR8MD:0000000C [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-04-22T00:09:11.7244368+07:00 0HLM6FB2VR8MD:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" in 45.8793ms (afa2e885)
2019-04-22T00:09:11.7330464+07:00 0HLM6FB2VR8MD:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)"' (99874f2b)
2019-04-22T00:09:11.7415264+07:00 0HLM6FB2VR8MD:0000000C [INF] Request finished in 84.6613ms 200 text/plain; charset=utf-8 (791a596a)
2019-04-22T00:09:13.2443314+07:00 0HLM6FB2VR8MD:0000000D [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 133 (ca22a1cb)
2019-04-22T00:09:13.2486690+07:00 0HLM6FB2VR8MD:0000000D [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:09:13.2531707+07:00 0HLM6FB2VR8MD:0000000D [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:09:13.2570826+07:00 0HLM6FB2VR8MD:0000000D [INF] Authorization was successful. (0d575a54)
2019-04-22T00:09:13.2625267+07:00 0HLM6FB2VR8MD:0000000D [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:09:15.6805017+07:00 0HLM6FB2VR8MD:0000000D [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:09:15.6849656+07:00 0HLM6FB2VR8MD:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:09:15.6993324+07:00 0HLM6FB2VR8MD:0000000D [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-04-22T00:09:15.7041468+07:00 0HLM6FB2VR8MD:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ProductImages] ([Caption], [Path], [ProductId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [ProductImages]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-04-22T00:09:15.7135774+07:00 0HLM6FB2VR8MD:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ProductImages] ([Caption], [Path], [ProductId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [ProductImages]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-04-22T00:09:15.7680007+07:00 0HLM6FB2VR8MD:0000000D [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2468.0894ms. (50a9e262)
2019-04-22T00:09:15.7727588+07:00 0HLM6FB2VR8MD:0000000D [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:09:15.7832249+07:00 0HLM6FB2VR8MD:0000000D [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 2519.7066ms (afa2e885)
2019-04-22T00:09:15.7913755+07:00 0HLM6FB2VR8MD:0000000D [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:09:15.9401423+07:00 0HLM6FB2VR8MD:0000000D [INF] Request finished in 2552.0397ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:09:19.0129320+07:00 0HLM6FB2VR8MD:0000000E [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:09:19.0361386+07:00 0HLM6FB2VR8MD:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:09:19.0413989+07:00 0HLM6FB2VR8MD:0000000E [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:09:19.0499868+07:00 0HLM6FB2VR8MD:0000000E [INF] Authorization was successful. (0d575a54)
2019-04-22T00:09:19.0586440+07:00 0HLM6FB2VR8MD:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:09:19.0715334+07:00 0HLM6FB2VR8MD:0000000E [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:09:19.0868027+07:00 0HLM6FB2VR8MD:0000000E [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:09:19.1081020+07:00 0HLM6FB2VR8MD:0000000E [INF] Executed DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:09:19.1219580+07:00 0HLM6FB2VR8MD:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 56.1218ms. (50a9e262)
2019-04-22T00:09:19.1333287+07:00 0HLM6FB2VR8MD:0000000E [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:09:19.1439913+07:00 0HLM6FB2VR8MD:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 92.2953ms (afa2e885)
2019-04-22T00:09:19.1508725+07:00 0HLM6FB2VR8MD:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:09:19.1631794+07:00 0HLM6FB2VR8MD:0000000E [INF] Request finished in 143.8547ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:09:21.9827625+07:00 0HLM6FB2VR8MD:0000000F [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 133 (ca22a1cb)
2019-04-22T00:09:22.0068454+07:00 0HLM6FB2VR8MD:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:09:22.0420262+07:00 0HLM6FB2VR8MD:0000000F [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:09:22.0467577+07:00 0HLM6FB2VR8MD:0000000F [INF] Authorization was successful. (0d575a54)
2019-04-22T00:09:22.0545299+07:00 0HLM6FB2VR8MD:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:09:26.5134308+07:00 0HLM6FB2VR8MD:0000000F [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:09:26.7637529+07:00 0HLM6FB2VR8MD:0000000F [INF] Executed DbCommand ("11"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:09:27.2825677+07:00 0HLM6FB2VR8MD:0000000F [INF] Executed DbCommand ("190"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 250), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [ProductImages]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DECLARE @inserted2 TABLE ([Id] int, [_Position] [int]);
MERGE [ProductImages] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1)) AS i ([Caption], [Path], [ProductId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Caption], [Path], [ProductId])
VALUES (i.[Caption], i.[Path], i.[ProductId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted2;

SELECT [t].[Id] FROM [ProductImages] t
INNER JOIN @inserted2 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2019-04-22T00:09:27.3937345+07:00 0HLM6FB2VR8MD:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5275.5437ms. (50a9e262)
2019-04-22T00:09:27.4168996+07:00 0HLM6FB2VR8MD:0000000F [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:09:27.4435815+07:00 0HLM6FB2VR8MD:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 5374.9563ms (afa2e885)
2019-04-22T00:09:27.4523962+07:00 0HLM6FB2VR8MD:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:09:27.4987117+07:00 0HLM6FB2VR8MD:0000000F [INF] Request finished in 5491.6393ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:09:29.0677164+07:00 0HLM6FB2VR8MD:00000010 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:09:29.0856864+07:00 0HLM6FB2VR8MD:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:09:29.1318305+07:00 0HLM6FB2VR8MD:00000010 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:09:29.1488525+07:00 0HLM6FB2VR8MD:00000010 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:09:29.1534140+07:00 0HLM6FB2VR8MD:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:09:29.1626858+07:00 0HLM6FB2VR8MD:00000010 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:09:29.1841742+07:00 0HLM6FB2VR8MD:00000010 [INF] Executed DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:09:29.2048520+07:00 0HLM6FB2VR8MD:00000010 [INF] Executed DbCommand ("5"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:09:29.2176602+07:00 0HLM6FB2VR8MD:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 51.7858ms. (50a9e262)
2019-04-22T00:09:29.2243363+07:00 0HLM6FB2VR8MD:00000010 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:09:29.2347236+07:00 0HLM6FB2VR8MD:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 92.9132ms (afa2e885)
2019-04-22T00:09:29.2384668+07:00 0HLM6FB2VR8MD:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:09:29.2553311+07:00 0HLM6FB2VR8MD:00000010 [INF] Request finished in 208.2531ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:09:31.5684622+07:00 0HLM6FB2VR8MD:00000011 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 133 (ca22a1cb)
2019-04-22T00:09:31.5745377+07:00 0HLM6FB2VR8MD:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:09:31.5836849+07:00 0HLM6FB2VR8MD:00000011 [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:09:31.5894374+07:00 0HLM6FB2VR8MD:00000011 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:09:31.5998005+07:00 0HLM6FB2VR8MD:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:09:36.0727987+07:00 0HLM6FB2VR8MD:00000011 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:09:36.0947790+07:00 0HLM6FB2VR8MD:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:09:36.1939974+07:00 0HLM6FB2VR8MD:00000011 [INF] Executed DbCommand ("67"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 250), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [ProductImages]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DECLARE @inserted2 TABLE ([Id] int, [_Position] [int]);
MERGE [ProductImages] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1)) AS i ([Caption], [Path], [ProductId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Caption], [Path], [ProductId])
VALUES (i.[Caption], i.[Path], i.[ProductId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted2;

SELECT [t].[Id] FROM [ProductImages] t
INNER JOIN @inserted2 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2019-04-22T00:09:36.2364310+07:00 0HLM6FB2VR8MD:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4600.1731ms. (50a9e262)
2019-04-22T00:09:36.2883601+07:00 0HLM6FB2VR8MD:00000011 [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:09:36.3129209+07:00 0HLM6FB2VR8MD:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 4704.7958ms (afa2e885)
2019-04-22T00:09:36.3261936+07:00 0HLM6FB2VR8MD:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:09:36.3525681+07:00 0HLM6FB2VR8MD:00000011 [INF] Request finished in 4766.4106ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:10:59.4356307+07:00 0HLM6FB2VR8MD:00000012 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/product/index   (ca22a1cb)
2019-04-22T00:10:59.4469669+07:00 0HLM6FB2VR8MD:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)"' (500cc934)
2019-04-22T00:10:59.4513328+07:00 0HLM6FB2VR8MD:00000012 [INF] Route matched with "{area = \"Admin\", action = \"Index\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)" (a44c0341)
2019-04-22T00:10:59.4568991+07:00 0HLM6FB2VR8MD:00000012 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:10:59.4635937+07:00 0HLM6FB2VR8MD:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:10:59.4677230+07:00 0HLM6FB2VR8MD:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)", returned result "Microsoft.AspNetCore.Mvc.ViewResult" in 0.0385ms. (50a9e262)
2019-04-22T00:10:59.4721903+07:00 0HLM6FB2VR8MD:00000012 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2019-04-22T00:10:59.4807703+07:00 0HLM6FB2VR8MD:00000012 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:10:59.5245390+07:00 0HLM6FB2VR8MD:00000012 [INF] Executed DbCommand ("32"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-04-22T00:10:59.5311043+07:00 0HLM6FB2VR8MD:00000012 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:10:59.5507052+07:00 0HLM6FB2VR8MD:00000012 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-04-22T00:10:59.5547068+07:00 0HLM6FB2VR8MD:00000012 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:10:59.5712007+07:00 0HLM6FB2VR8MD:00000012 [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AspNetRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin', N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2019-04-22T00:10:59.5777103+07:00 0HLM6FB2VR8MD:00000012 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:10:59.5950066+07:00 0HLM6FB2VR8MD:00000012 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[IconCss], [x].[Id], [x].[Name], [x].[ParentId], [x].[SortOrder], [x].[Status], [x].[URL]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2019-04-22T00:10:59.6177759+07:00 0HLM6FB2VR8MD:00000012 [INF] Executed ViewResult - view "Index" executed in 128.8196ms. (f66409e9)
2019-04-22T00:10:59.6618584+07:00 0HLM6FB2VR8MD:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)" in 166.4709ms (afa2e885)
2019-04-22T00:10:59.6669028+07:00 0HLM6FB2VR8MD:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.Index (Shop3)"' (99874f2b)
2019-04-22T00:10:59.6812803+07:00 0HLM6FB2VR8MD:00000012 [INF] Request finished in 237.8834ms 200 text/html; charset=utf-8 (791a596a)
2019-04-22T00:10:59.8124220+07:00 0HLM6FB2VR8ME:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/product/index.js   (ca22a1cb)
2019-04-22T00:10:59.8206817+07:00 0HLM6FB2VR8MD:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/app/controllers/product/image-management.js   (ca22a1cb)
2019-04-22T00:10:59.8368536+07:00 0HLM6FB2VR8ME:00000005 [INF] The file "/app/controllers/product/index.js" was not modified (f1f8d725)
2019-04-22T00:10:59.8519125+07:00 0HLM6FB2VR8MD:00000013 [INF] Sending file. Request path: '"/app/controllers/product/image-management.js"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\app\controllers\product\image-management.js"' (27b0a520)
2019-04-22T00:10:59.8551843+07:00 0HLM6FB2VR8ME:00000005 [INF] Request finished in 49.3714ms 304 application/javascript (791a596a)
2019-04-22T00:10:59.8669373+07:00 0HLM6FB2VR8MD:00000013 [INF] Request finished in 54.009ms 200 application/javascript (791a596a)
2019-04-22T00:11:00.1058230+07:00 0HLM6FB2VR8MD:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/product/GetAllPaging?categoryId=--Select+category--&keyword=&page=1&pageSize=10   (ca22a1cb)
2019-04-22T00:11:00.1115847+07:00 0HLM6FB2VR8MF:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Bill/GetColors   (ca22a1cb)
2019-04-22T00:11:00.1309649+07:00 0HLM6FB2VR8MD:00000014 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)"' (500cc934)
2019-04-22T00:11:00.1319687+07:00 0HLM6FB2VR8MF:00000003 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)"' (500cc934)
2019-04-22T00:11:00.1536331+07:00 0HLM6FB2VR8MD:00000014 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" (a44c0341)
2019-04-22T00:11:00.1583790+07:00 0HLM6FB2VR8MF:00000003 [INF] Route matched with "{area = \"Admin\", action = \"GetColors\", controller = \"Bill\"}". Executing action "Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)" (a44c0341)
2019-04-22T00:11:00.1809455+07:00 0HLM6FB2VR8MD:00000014 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:11:00.1846793+07:00 0HLM6FB2VR8MF:00000003 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:11:00.1882510+07:00 0HLM6FB2VR8ME:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/product/GetAllCategories   (ca22a1cb)
2019-04-22T00:11:00.2165529+07:00 0HLM6FB2VR8MC:00000004 [INF] Request starting HTTP/1.1 GET https://localhost:5001/Admin/Bill/GetSizes   (ca22a1cb)
2019-04-22T00:11:00.2215183+07:00 0HLM6FB2VR8MF:00000003 [INF] Executing action method "Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:11:00.2243417+07:00 0HLM6FB2VR8MD:00000014 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" with arguments (["", "", "1", "10"]) - Validation state: Invalid (4e3479ed)
2019-04-22T00:11:00.2385152+07:00 0HLM6FB2VR8MD:00000014 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:11:00.2408323+07:00 0HLM6FB2VR8MF:00000003 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:11:00.2466071+07:00 0HLM6FB2VR8ME:00000006 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)"' (500cc934)
2019-04-22T00:11:00.2549037+07:00 0HLM6FB2VR8MD:00000014 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE ([x].[Status] = 1) OR ([x].[Status] = 0)" (0723d8ff)
2019-04-22T00:11:00.2576655+07:00 0HLM6FB2VR8MF:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoColor].[Code], [dtoColor].[Id], [dtoColor].[Name]
FROM [Colors] AS [dtoColor]" (0723d8ff)
2019-04-22T00:11:00.2779166+07:00 0HLM6FB2VR8MF:00000003 [INF] Executed action method "Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 35.2053ms. (50a9e262)
2019-04-22T00:11:00.3001316+07:00 0HLM6FB2VR8MD:00000014 [INF] Executed DbCommand ("10"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) OR ([x].[Status] = 0)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-04-22T00:11:00.3052606+07:00 0HLM6FB2VR8ME:00000006 [INF] Route matched with "{area = \"Admin\", action = \"GetAllCategories\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)" (a44c0341)
2019-04-22T00:11:00.3062887+07:00 0HLM6FB2VR8MF:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ColorViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:11:00.3183778+07:00 0HLM6FB2VR8ME:00000006 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:11:00.3237324+07:00 0HLM6FB2VR8MD:00000014 [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) OR ([x0].[Status] = 0)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:11:00.3316154+07:00 0HLM6FB2VR8MF:00000003 [INF] Executed action "Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)" in 151.6713ms (afa2e885)
2019-04-22T00:11:00.3366137+07:00 0HLM6FB2VR8MD:00000014 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 99.9503ms. (50a9e262)
2019-04-22T00:11:00.3414862+07:00 0HLM6FB2VR8MF:00000003 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.BillController.GetColors (Shop3)"' (99874f2b)
2019-04-22T00:11:00.3523117+07:00 0HLM6FB2VR8MD:00000014 [INF] Executing ObjectResult, writing value of type '"Shp3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.Products.ProductViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:11:00.3540331+07:00 0HLM6FB2VR8MF:00000003 [INF] Request finished in 253.1995ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:11:00.3571363+07:00 0HLM6FB2VR8ME:00000006 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:11:00.3703158+07:00 0HLM6FB2VR8MD:00000014 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" in 201.5597ms (afa2e885)
2019-04-22T00:11:00.3854227+07:00 0HLM6FB2VR8ME:00000006 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:11:00.3874784+07:00 0HLM6FB2VR8MD:00000014 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)"' (99874f2b)
2019-04-22T00:11:00.4004787+07:00 0HLM6FB2VR8MD:00000014 [INF] Request finished in 299.2648ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:11:00.4012910+07:00 0HLM6FB2VR8ME:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HomeOrder], [x].[Id], [x].[Image], [x].[Name], [x].[ParentId], [x].[SeoAlias], [x].[SeoDescription], [x].[SeoKeywords], [x].[SeoPageTitle], [x].[SortOrder], [x].[Status]
FROM [ProductCategories] AS [x]
ORDER BY [x].[ParentId], [x].[Id]" (0723d8ff)
2019-04-22T00:11:00.4053016+07:00 0HLM6FB2VR8MC:00000004 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)"' (500cc934)
2019-04-22T00:11:00.4165295+07:00 0HLM6FB2VR8MC:00000004 [INF] Route matched with "{area = \"Admin\", action = \"GetSizes\", controller = \"Bill\"}". Executing action "Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)" (a44c0341)
2019-04-22T00:11:00.4184529+07:00 0HLM6FB2VR8ME:00000006 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[ParentId], [t].[Id], [x.Products].[CategoryId], [x.Products].[Content], [x.Products].[DateCreated], [x.Products].[DateModified], [x.Products].[Description], [x.Products].[HomeFlag], [x.Products].[HotFlag], [x.Products].[Id] AS [Id0], [x.Products].[Image], [x.Products].[Name], [x.Products].[OriginalPrice], [x.Products].[Price], [x.Products].[PromotionPrice], [x.Products].[SeoAlias], [x.Products].[SeoDescription], [x.Products].[SeoKeywords], [x.Products].[SeoPageTitle], [x.Products].[Status], [x.Products].[Tags], [x.Products].[Unit], [x.Products].[ViewCount]
FROM [Products] AS [x.Products]
INNER JOIN (
    SELECT [x0].[ParentId], [x0].[Id]
    FROM [ProductCategories] AS [x0]
) AS [t] ON [x.Products].[CategoryId] = [t].[Id]
ORDER BY [t].[ParentId], [t].[Id]" (0723d8ff)
2019-04-22T00:11:00.4242485+07:00 0HLM6FB2VR8MC:00000004 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:11:00.4339786+07:00 0HLM6FB2VR8ME:00000006 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 64.1965ms. (50a9e262)
2019-04-22T00:11:00.4347761+07:00 0HLM6FB2VR8MC:00000004 [INF] Executing action method "Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:11:00.4402378+07:00 0HLM6FB2VR8ME:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductCategoryViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:11:00.4707814+07:00 0HLM6FB2VR8MC:00000004 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:11:00.4761710+07:00 0HLM6FB2VR8ME:00000006 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)" in 160.2826ms (afa2e885)
2019-04-22T00:11:00.4876200+07:00 0HLM6FB2VR8MC:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dtoSize].[Id], [dtoSize].[Name]
FROM [Sizes] AS [dtoSize]" (0723d8ff)
2019-04-22T00:11:00.4906100+07:00 0HLM6FB2VR8ME:00000006 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllCategories (Shop3)"' (99874f2b)
2019-04-22T00:11:00.5008462+07:00 0HLM6FB2VR8MC:00000004 [INF] Executed action method "Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 51.9913ms. (50a9e262)
2019-04-22T00:11:00.5051097+07:00 0HLM6FB2VR8ME:00000006 [INF] Request finished in 406.1435ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:11:00.5115974+07:00 0HLM6FB2VR8MC:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.SizeViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:11:00.5223949+07:00 0HLM6FB2VR8MC:00000004 [INF] Executed action "Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)" in 94.4582ms (afa2e885)
2019-04-22T00:11:00.5274013+07:00 0HLM6FB2VR8MC:00000004 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.BillController.GetSizes (Shop3)"' (99874f2b)
2019-04-22T00:11:00.5355044+07:00 0HLM6FB2VR8MC:00000004 [INF] Request finished in 381.9519ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:11:00.5877370+07:00 0HLM6FB2VR8MC:00000005 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/product/GetAllPaging?categoryId=--Select+category--&keyword=&page=1&pageSize=10   (ca22a1cb)
2019-04-22T00:11:00.6040356+07:00 0HLM6FB2VR8MC:00000005 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)"' (500cc934)
2019-04-22T00:11:00.6153037+07:00 0HLM6FB2VR8ME:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/admin-side/images/user.png   (ca22a1cb)
2019-04-22T00:11:00.6209891+07:00 0HLM6FB2VR8MD:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg   (ca22a1cb)
2019-04-22T00:11:00.6383498+07:00 0HLM6FB2VR8ME:00000007 [INF] Request finished in 15.1696ms 404  (791a596a)
2019-04-22T00:11:00.6493164+07:00 0HLM6FB2VR8MD:00000015 [INF] Request finished in 22.8996ms 404  (791a596a)
2019-04-22T00:11:00.6527757+07:00 0HLM6FB2VR8MC:00000005 [INF] Route matched with "{area = \"Admin\", action = \"GetAllPaging\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" (a44c0341)
2019-04-22T00:11:00.6829054+07:00 0HLM6FB2VR8MC:00000005 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:11:00.6987851+07:00 0HLM6FB2VR8MC:00000005 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" with arguments (["", "", "1", "10"]) - Validation state: Invalid (4e3479ed)
2019-04-22T00:11:00.7677123+07:00 0HLM6FB2VR8MC:00000005 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:11:00.7976738+07:00 0HLM6FB2VR8MC:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Products] AS [x]
WHERE ([x].[Status] = 1) OR ([x].[Status] = 0)" (0723d8ff)
2019-04-22T00:11:00.8247625+07:00 0HLM6FB2VR8MD:00000016 [INF] Request starting HTTP/1.1 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2019-04-22T00:11:00.8263170+07:00 0HLM6FB2VR8MC:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[CategoryId], [x].[Content], [x].[DateCreated], [x].[DateModified], [x].[Description], [x].[HomeFlag], [x].[HotFlag], [x].[Id], [x].[Image], [x].[Name], [x].[OriginalPrice], [x].[Price], CASE
    WHEN [x].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.ProductCategory].[DateCreated] AS [DateCreated0], [x.ProductCategory].[DateModified] AS [DateModified0], [x.ProductCategory].[Description] AS [Description0], [x.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.ProductCategory].[HomeOrder], [x.ProductCategory].[Image] AS [Image0], [x.ProductCategory].[Name] AS [Name0], [x.ProductCategory].[ParentId], [x.ProductCategory].[SeoAlias], [x.ProductCategory].[SeoDescription], [x.ProductCategory].[SeoKeywords], [x.ProductCategory].[SeoPageTitle], [x.ProductCategory].[SortOrder], [x.ProductCategory].[Status], [x].[PromotionPrice], [x].[SeoAlias] AS [SeoAlias0], [x].[SeoDescription] AS [SeoDescription0], [x].[SeoKeywords] AS [SeoKeywords0], [x].[SeoPageTitle] AS [SeoPageTitle0], [x].[Status] AS [Status0], [x].[Tags], [x].[Unit], [x].[ViewCount], [x.ProductCategory].[Id]
FROM [Products] AS [x]
INNER JOIN [ProductCategories] AS [x.ProductCategory] ON [x].[CategoryId] = [x.ProductCategory].[Id]
WHERE ([x].[Status] = 1) OR ([x].[Status] = 0)
ORDER BY [x].[DateCreated] DESC, [x].[Id], [x.ProductCategory].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2019-04-22T00:11:00.8460369+07:00 0HLM6FB2VR8MD:00000016 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\favicon.ico"' (27b0a520)
2019-04-22T00:11:00.8523384+07:00 0HLM6FB2VR8MC:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[DateCreated], [t].[Id], [t].[Id0], [x.ProductCategory.Products].[CategoryId], [x.ProductCategory.Products].[Content], [x.ProductCategory.Products].[DateCreated] AS [DateCreated0], [x.ProductCategory.Products].[DateModified], [x.ProductCategory.Products].[Description], [x.ProductCategory.Products].[HomeFlag], [x.ProductCategory.Products].[HotFlag], [x.ProductCategory.Products].[Id] AS [Id1], [x.ProductCategory.Products].[Image], [x.ProductCategory.Products].[Name], [x.ProductCategory.Products].[OriginalPrice], [x.ProductCategory.Products].[Price], [x.ProductCategory.Products].[PromotionPrice], [x.ProductCategory.Products].[SeoAlias], [x.ProductCategory.Products].[SeoDescription], [x.ProductCategory.Products].[SeoKeywords], [x.ProductCategory.Products].[SeoPageTitle], [x.ProductCategory.Products].[Status], [x.ProductCategory.Products].[Tags], [x.ProductCategory.Products].[Unit], [x.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[DateCreated], [x0].[Id], [x.ProductCategory0].[Id] AS [Id0]
    FROM [Products] AS [x0]
    INNER JOIN [ProductCategories] AS [x.ProductCategory0] ON [x0].[CategoryId] = [x.ProductCategory0].[Id]
    WHERE ([x0].[Status] = 1) OR ([x0].[Status] = 0)
    ORDER BY [x0].[DateCreated] DESC, [x0].[Id], [x.ProductCategory0].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t] ON [x.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[DateCreated] DESC, [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:11:00.8578280+07:00 0HLM6FB2VR8MD:00000016 [INF] Request finished in 49.3891ms 200 image/x-icon (791a596a)
2019-04-22T00:11:00.8693086+07:00 0HLM6FB2VR8MC:00000005 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 156.235ms. (50a9e262)
2019-04-22T00:11:00.8763285+07:00 0HLM6FB2VR8MC:00000005 [INF] Executing ObjectResult, writing value of type '"Shp3.Utilities.Dtos.PagedResult`1[[Shop3.Application.ViewModels.Products.ProductViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:11:00.8897041+07:00 0HLM6FB2VR8MC:00000005 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)" in 226.6383ms (afa2e885)
2019-04-22T00:11:00.8983859+07:00 0HLM6FB2VR8MC:00000005 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetAllPaging (Shop3)"' (99874f2b)
2019-04-22T00:11:00.9076500+07:00 0HLM6FB2VR8MC:00000005 [INF] Request finished in 329.0966ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:11:01.1714111+07:00 0HLM6FB2VR8MC:00000006 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/admin-side/images/user.png   (ca22a1cb)
2019-04-22T00:11:01.2002284+07:00 0HLM6FB2VR8MD:00000017 [INF] Request starting HTTP/1.1 GET https://localhost:5001/client-side/images/products/product-1.jpg   (ca22a1cb)
2019-04-22T00:11:01.2346227+07:00 0HLM6FB2VR8MC:00000006 [INF] Request finished in 122.7134ms 404  (791a596a)
2019-04-22T00:11:01.2377501+07:00 0HLM6FB2VR8MD:00000017 [INF] Request finished in 149.4674ms 404  (791a596a)
2019-04-22T00:11:16.4865414+07:00 0HLM6FB2VR8MD:00000018 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:11:16.4967186+07:00 0HLM6FB2VR8MD:00000018 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:11:16.5009632+07:00 0HLM6FB2VR8MD:00000018 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:11:16.5074756+07:00 0HLM6FB2VR8MD:00000018 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:11:16.5158490+07:00 0HLM6FB2VR8MD:00000018 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:11:16.5215585+07:00 0HLM6FB2VR8MD:00000018 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:11:16.5384627+07:00 0HLM6FB2VR8MD:00000018 [INF] Executed DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:11:16.5531527+07:00 0HLM6FB2VR8MD:00000018 [INF] Executed DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:11:16.5611728+07:00 0HLM6FB2VR8MD:00000018 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 37.8301ms. (50a9e262)
2019-04-22T00:11:16.5669025+07:00 0HLM6FB2VR8MD:00000018 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:11:16.5741247+07:00 0HLM6FB2VR8MD:00000018 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 66.29ms (afa2e885)
2019-04-22T00:11:16.5804795+07:00 0HLM6FB2VR8MD:00000018 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:11:16.5873476+07:00 0HLM6FB2VR8MD:00000018 [INF] Request finished in 103.6123ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:11:16.6000655+07:00 0HLM6FB2VR8MC:00000007 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190422/Capture.PNG   (ca22a1cb)
2019-04-22T00:11:16.6008693+07:00 0HLM6FB2VR8MD:00000019 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190422/Untitled-1.png   (ca22a1cb)
2019-04-22T00:11:16.6236430+07:00 0HLM6FB2VR8MD:00000019 [INF] Sending file. Request path: '"/uploaded/images/20190422/Untitled-1.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\uploaded\images\20190422\Untitled-1.png"' (27b0a520)
2019-04-22T00:11:16.6326350+07:00 0HLM6FB2VR8MC:00000007 [INF] Sending file. Request path: '"/uploaded/images/20190422/Capture.PNG"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\uploaded\images\20190422\Capture.PNG"' (27b0a520)
2019-04-22T00:11:16.6343946+07:00 0HLM6FB2VR8MD:00000019 [INF] Request finished in 31.0059ms 200 image/png (791a596a)
2019-04-22T00:11:16.6391465+07:00 0HLM6FB2VR8MC:00000007 [INF] Request finished in 44.5037ms 200 image/png (791a596a)
2019-04-22T00:11:24.7732475+07:00 0HLM6FB2VR8MC:00000008 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:11:24.7812991+07:00 0HLM6FB2VR8MC:00000008 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:11:24.7875457+07:00 0HLM6FB2VR8MC:00000008 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:11:24.7947556+07:00 0HLM6FB2VR8MC:00000008 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:11:24.8035310+07:00 0HLM6FB2VR8MC:00000008 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:11:24.8131909+07:00 0HLM6FB2VR8MC:00000008 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:11:24.8297247+07:00 0HLM6FB2VR8MC:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:11:24.8385131+07:00 0HLM6FB2VR8MC:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:11:24.8490739+07:00 0HLM6FB2VR8MC:00000008 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 35.193ms. (50a9e262)
2019-04-22T00:11:24.8585677+07:00 0HLM6FB2VR8MC:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:11:24.8775741+07:00 0HLM6FB2VR8MC:00000008 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 72.9657ms (afa2e885)
2019-04-22T00:11:24.8829188+07:00 0HLM6FB2VR8MC:00000008 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:11:24.8974514+07:00 0HLM6FB2VR8MC:00000008 [INF] Request finished in 119.3764ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:11:27.0152389+07:00 0HLM6FB2VR8MC:00000009 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 12 (ca22a1cb)
2019-04-22T00:11:27.0262190+07:00 0HLM6FB2VR8MC:00000009 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:11:27.0367088+07:00 0HLM6FB2VR8MC:00000009 [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:11:27.0425775+07:00 0HLM6FB2VR8MC:00000009 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:11:27.0487371+07:00 0HLM6FB2VR8MC:00000009 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:11:30.7638924+07:00 0HLM6FB2VR8MC:00000009 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:11:30.7736110+07:00 0HLM6FB2VR8MC:00000009 [INF] Executed DbCommand ("5"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:11:30.7864548+07:00 0HLM6FB2VR8MC:00000009 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-04-22T00:11:30.7944265+07:00 0HLM6FB2VR8MC:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2019-04-22T00:11:30.8051228+07:00 0HLM6FB2VR8MC:00000009 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3751.3431ms. (50a9e262)
2019-04-22T00:11:30.8136364+07:00 0HLM6FB2VR8MC:00000009 [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:11:30.8577065+07:00 0HLM6FB2VR8MC:00000009 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 3779.0055ms (afa2e885)
2019-04-22T00:11:30.8633193+07:00 0HLM6FB2VR8MC:00000009 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:11:30.9527425+07:00 0HLM6FB2VR8MC:00000009 [INF] Request finished in 3855.1729ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:11:33.9097398+07:00 0HLM6FB2VR8MC:0000000A [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:11:33.9179625+07:00 0HLM6FB2VR8MC:0000000A [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:11:33.9270702+07:00 0HLM6FB2VR8MC:0000000A [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:11:33.9347880+07:00 0HLM6FB2VR8MC:0000000A [INF] Authorization was successful. (0d575a54)
2019-04-22T00:11:33.9394867+07:00 0HLM6FB2VR8MC:0000000A [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:11:33.9474957+07:00 0HLM6FB2VR8MC:0000000A [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:11:33.9591261+07:00 0HLM6FB2VR8MC:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:11:33.9662789+07:00 0HLM6FB2VR8MC:0000000A [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 20.393ms. (50a9e262)
2019-04-22T00:11:33.9742998+07:00 0HLM6FB2VR8MC:0000000A [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:11:33.9839540+07:00 0HLM6FB2VR8MC:0000000A [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 47.449ms (afa2e885)
2019-04-22T00:11:33.9899580+07:00 0HLM6FB2VR8MC:0000000A [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:11:33.9977222+07:00 0HLM6FB2VR8MC:0000000A [INF] Request finished in 85.4346ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:11:36.5162563+07:00 0HLM6FB2VR8MC:0000000B [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Upload/UploadImage multipart/form-data; boundary=----WebKitFormBoundaryIYpOaEzqR15MB8R6 89502 (ca22a1cb)
2019-04-22T00:11:36.5228139+07:00 0HLM6FB2VR8MC:0000000B [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)"' (500cc934)
2019-04-22T00:11:36.5353784+07:00 0HLM6FB2VR8MC:0000000B [INF] Route matched with "{area = \"Admin\", action = \"UploadImage\", controller = \"Upload\"}". Executing action "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" (a44c0341)
2019-04-22T00:11:36.5449361+07:00 0HLM6FB2VR8MC:0000000B [INF] Authorization was successful. (0d575a54)
2019-04-22T00:11:36.5569402+07:00 0HLM6FB2VR8MC:0000000B [INF] Executing action method "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:11:36.5750990+07:00 0HLM6FB2VR8MC:0000000B [INF] Executed action method "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.2336ms. (50a9e262)
2019-04-22T00:11:36.5807671+07:00 0HLM6FB2VR8MC:0000000B [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-04-22T00:11:36.5869525+07:00 0HLM6FB2VR8MC:0000000B [INF] Executed action "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" in 45.6176ms (afa2e885)
2019-04-22T00:11:36.5955462+07:00 0HLM6FB2VR8MC:0000000B [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)"' (99874f2b)
2019-04-22T00:11:36.6118617+07:00 0HLM6FB2VR8MC:0000000B [INF] Request finished in 90.283ms 200 text/plain; charset=utf-8 (791a596a)
2019-04-22T00:11:38.6484545+07:00 0HLM6FB2VR8MC:0000000C [INF] Request starting HTTP/1.1 POST https://localhost:5001/Admin/Upload/UploadImage multipart/form-data; boundary=----WebKitFormBoundaryhtMJWrSShXmev3Dc 136942 (ca22a1cb)
2019-04-22T00:11:38.6580455+07:00 0HLM6FB2VR8MC:0000000C [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)"' (500cc934)
2019-04-22T00:11:38.6646702+07:00 0HLM6FB2VR8MC:0000000C [INF] Route matched with "{area = \"Admin\", action = \"UploadImage\", controller = \"Upload\"}". Executing action "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" (a44c0341)
2019-04-22T00:11:38.6709767+07:00 0HLM6FB2VR8MC:0000000C [INF] Authorization was successful. (0d575a54)
2019-04-22T00:11:38.6750178+07:00 0HLM6FB2VR8MC:0000000C [INF] Executing action method "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" - Validation state: Valid (dad538d7)
2019-04-22T00:11:38.6948057+07:00 0HLM6FB2VR8MC:0000000C [INF] Executed action method "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.0541ms. (50a9e262)
2019-04-22T00:11:38.7010535+07:00 0HLM6FB2VR8MC:0000000C [INF] Executing ObjectResult, writing value of type '"System.String"'. (8a1b66c8)
2019-04-22T00:11:38.7068898+07:00 0HLM6FB2VR8MC:0000000C [INF] Executed action "Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)" in 36.7552ms (afa2e885)
2019-04-22T00:11:38.7112369+07:00 0HLM6FB2VR8MC:0000000C [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.UploadController.UploadImage (Shop3)"' (99874f2b)
2019-04-22T00:11:38.7172409+07:00 0HLM6FB2VR8MC:0000000C [INF] Request finished in 113.0354ms 200 text/plain; charset=utf-8 (791a596a)
2019-04-22T00:11:38.7268545+07:00 0HLM6FB2VR8MC:0000000D [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190422/Capture.PNG   (ca22a1cb)
2019-04-22T00:11:38.7352545+07:00 0HLM6FB2VR8MC:0000000D [INF] Sending file. Request path: '"/uploaded/images/20190422/Capture.PNG"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\uploaded\images\20190422\Capture.PNG"' (27b0a520)
2019-04-22T00:11:38.7408323+07:00 0HLM6FB2VR8MC:0000000D [INF] Request finished in 13.2324ms 200 image/png (791a596a)
2019-04-22T00:11:39.3959285+07:00 0HLM6FB2VR8MC:0000000E [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 133 (ca22a1cb)
2019-04-22T00:11:39.4016988+07:00 0HLM6FB2VR8MC:0000000E [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:11:39.4115618+07:00 0HLM6FB2VR8MC:0000000E [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:11:39.4158239+07:00 0HLM6FB2VR8MC:0000000E [INF] Authorization was successful. (0d575a54)
2019-04-22T00:11:39.4232541+07:00 0HLM6FB2VR8MC:0000000E [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:11:43.8601718+07:00 0HLM6FB2VR8MC:0000000E [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:11:43.8715971+07:00 0HLM6FB2VR8MC:0000000E [INF] Executed DbCommand ("4"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:11:43.8850329+07:00 0HLM6FB2VR8MC:0000000E [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ProductImages] ([Caption], [Path], [ProductId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [ProductImages]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-04-22T00:11:43.8962181+07:00 0HLM6FB2VR8MC:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 250), @p1='?' (Size = 250), @p2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [ProductImages] ([Caption], [Path], [ProductId])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [ProductImages]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2019-04-22T00:11:43.9133443+07:00 0HLM6FB2VR8MC:0000000E [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4474.9501ms. (50a9e262)
2019-04-22T00:11:43.9674649+07:00 0HLM6FB2VR8MC:0000000E [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:11:43.9749566+07:00 0HLM6FB2VR8MC:0000000E [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 4556.21ms (afa2e885)
2019-04-22T00:11:43.9810468+07:00 0HLM6FB2VR8MC:0000000E [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:11:43.9857546+07:00 0HLM6FB2VR8MC:0000000E [INF] Request finished in 4635.4178ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:11:47.4070587+07:00 0HLM6FB2VR8MC:0000000F [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:11:47.4133578+07:00 0HLM6FB2VR8MC:0000000F [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:11:47.4184700+07:00 0HLM6FB2VR8MC:0000000F [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:11:47.4230974+07:00 0HLM6FB2VR8MC:0000000F [INF] Authorization was successful. (0d575a54)
2019-04-22T00:11:47.4305640+07:00 0HLM6FB2VR8MC:0000000F [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:11:47.4341529+07:00 0HLM6FB2VR8MC:0000000F [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:11:47.4495630+07:00 0HLM6FB2VR8MC:0000000F [INF] Executed DbCommand ("6"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:11:47.4641324+07:00 0HLM6FB2VR8MC:0000000F [INF] Executed DbCommand ("5"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:11:47.4688184+07:00 0HLM6FB2VR8MC:0000000F [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 34.1489ms. (50a9e262)
2019-04-22T00:11:47.4744294+07:00 0HLM6FB2VR8MC:0000000F [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:11:47.4818719+07:00 0HLM6FB2VR8MC:0000000F [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 56.4574ms (afa2e885)
2019-04-22T00:11:47.4858855+07:00 0HLM6FB2VR8MC:0000000F [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:11:47.4907367+07:00 0HLM6FB2VR8MC:0000000F [INF] Request finished in 92.3766ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:11:50.0771400+07:00 0HLM6FB2VR8MC:00000010 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 133 (ca22a1cb)
2019-04-22T00:11:50.0810017+07:00 0HLM6FB2VR8MC:00000010 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:11:50.0860992+07:00 0HLM6FB2VR8MC:00000010 [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:11:50.0918449+07:00 0HLM6FB2VR8MC:00000010 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:11:50.0972725+07:00 0HLM6FB2VR8MC:00000010 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:11:54.8462264+07:00 0HLM6FB2VR8MC:00000010 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:11:54.8524516+07:00 0HLM6FB2VR8MC:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:11:54.9480106+07:00 0HLM6FB2VR8MC:00000010 [INF] Executed DbCommand ("87"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 250), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [ProductImages]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DECLARE @inserted2 TABLE ([Id] int, [_Position] [int]);
MERGE [ProductImages] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1)) AS i ([Caption], [Path], [ProductId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Caption], [Path], [ProductId])
VALUES (i.[Caption], i.[Path], i.[ProductId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted2;

SELECT [t].[Id] FROM [ProductImages] t
INNER JOIN @inserted2 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2019-04-22T00:11:54.9580024+07:00 0HLM6FB2VR8MC:00000010 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4855.6631ms. (50a9e262)
2019-04-22T00:11:54.9616717+07:00 0HLM6FB2VR8MC:00000010 [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:11:54.9681508+07:00 0HLM6FB2VR8MC:00000010 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 4875.314ms (afa2e885)
2019-04-22T00:11:54.9730251+07:00 0HLM6FB2VR8MC:00000010 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:11:54.9843457+07:00 0HLM6FB2VR8MC:00000010 [INF] Request finished in 4901.1134ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:11:57.5162481+07:00 0HLM6FB2VR8MC:00000011 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:11:57.5240516+07:00 0HLM6FB2VR8MC:00000011 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:11:57.5296627+07:00 0HLM6FB2VR8MC:00000011 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:11:57.5351630+07:00 0HLM6FB2VR8MC:00000011 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:11:57.5404310+07:00 0HLM6FB2VR8MC:00000011 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:11:57.5472319+07:00 0HLM6FB2VR8MC:00000011 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:11:57.5570358+07:00 0HLM6FB2VR8MC:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:11:57.5706461+07:00 0HLM6FB2VR8MC:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:11:57.5871080+07:00 0HLM6FB2VR8MC:00000011 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 30.7491ms. (50a9e262)
2019-04-22T00:11:57.5917914+07:00 0HLM6FB2VR8MC:00000011 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:11:57.5998538+07:00 0HLM6FB2VR8MC:00000011 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 64.8237ms (afa2e885)
2019-04-22T00:11:57.6032680+07:00 0HLM6FB2VR8MC:00000011 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:11:57.6095670+07:00 0HLM6FB2VR8MC:00000011 [INF] Request finished in 91.5257ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:12:01.9567461+07:00 0HLM6FB2VR8MC:00000012 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 133 (ca22a1cb)
2019-04-22T00:12:01.9610891+07:00 0HLM6FB2VR8MC:00000012 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:12:01.9645980+07:00 0HLM6FB2VR8MC:00000012 [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:12:01.9683256+07:00 0HLM6FB2VR8MC:00000012 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:12:01.9723987+07:00 0HLM6FB2VR8MC:00000012 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:12:12.5109718+07:00 0HLM6FB2VR8MC:00000012 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:12:12.5187018+07:00 0HLM6FB2VR8MC:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:12:12.5291974+07:00 0HLM6FB2VR8MC:00000012 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 250), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [ProductImages]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DECLARE @inserted2 TABLE ([Id] int, [_Position] [int]);
MERGE [ProductImages] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1)) AS i ([Caption], [Path], [ProductId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Caption], [Path], [ProductId])
VALUES (i.[Caption], i.[Path], i.[ProductId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted2;

SELECT [t].[Id] FROM [ProductImages] t
INNER JOIN @inserted2 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2019-04-22T00:12:12.5519692+07:00 0HLM6FB2VR8MC:00000012 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10574.8923ms. (50a9e262)
2019-04-22T00:12:12.5577045+07:00 0HLM6FB2VR8MC:00000012 [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:12:12.5978969+07:00 0HLM6FB2VR8MC:00000012 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 10593.2656ms (afa2e885)
2019-04-22T00:12:12.6024704+07:00 0HLM6FB2VR8MC:00000012 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:12:12.6221706+07:00 0HLM6FB2VR8MC:00000012 [INF] Request finished in 10652.0976ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:12:35.0959297+07:00 0HLM6FB2VR8MC:00000013 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:12:35.1042969+07:00 0HLM6FB2VR8MC:00000013 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:12:35.1108614+07:00 0HLM6FB2VR8MC:00000013 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:12:35.1152011+07:00 0HLM6FB2VR8MC:00000013 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:12:35.1193484+07:00 0HLM6FB2VR8MC:00000013 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:12:35.1232307+07:00 0HLM6FB2VR8MC:00000013 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:12:35.1327716+07:00 0HLM6FB2VR8MC:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:12:35.1406875+07:00 0HLM6FB2VR8MC:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:12:35.1459543+07:00 0HLM6FB2VR8MC:00000013 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 21.6077ms. (50a9e262)
2019-04-22T00:12:35.1505927+07:00 0HLM6FB2VR8MC:00000013 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:12:35.1583301+07:00 0HLM6FB2VR8MC:00000013 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 40.1115ms (afa2e885)
2019-04-22T00:12:35.1631306+07:00 0HLM6FB2VR8MC:00000013 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:12:35.1720368+07:00 0HLM6FB2VR8MC:00000013 [INF] Request finished in 74.4582ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:12:35.1845796+07:00 0HLM6FB2VR8MC:00000014 [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190422/Untitled-1.png   (ca22a1cb)
2019-04-22T00:12:35.1855622+07:00 0HLM6FB2VR8MD:0000001A [INF] Request starting HTTP/1.1 GET https://localhost:5001/uploaded/images/20190422/Capture.PNG   (ca22a1cb)
2019-04-22T00:12:35.1992676+07:00 0HLM6FB2VR8MD:0000001A [INF] The file "/uploaded/images/20190422/Capture.PNG" was not modified (f1f8d725)
2019-04-22T00:12:35.2152766+07:00 0HLM6FB2VR8MC:00000014 [INF] Sending file. Request path: '"/uploaded/images/20190422/Untitled-1.png"'. Physical path: '"E:\project\shop3\Shop3\wwwroot\uploaded\images\20190422\Untitled-1.png"' (27b0a520)
2019-04-22T00:12:35.2173131+07:00 0HLM6FB2VR8MD:0000001A [INF] Request finished in 21.682ms 304 image/png (791a596a)
2019-04-22T00:12:35.2233488+07:00 0HLM6FB2VR8MC:00000014 [INF] Request finished in 38.6855ms 200 image/png (791a596a)
2019-04-22T00:12:46.8415396+07:00 0HLM6FB2VR8MC:00000015 [INF] Request starting HTTP/1.1 GET https://localhost:5001/admin/Product/GetImages?productId=29   (ca22a1cb)
2019-04-22T00:12:46.8492340+07:00 0HLM6FB2VR8MC:00000015 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (500cc934)
2019-04-22T00:12:46.8554941+07:00 0HLM6FB2VR8MC:00000015 [INF] Route matched with "{area = \"Admin\", action = \"GetImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" (a44c0341)
2019-04-22T00:12:46.8615199+07:00 0HLM6FB2VR8MC:00000015 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:12:46.8655990+07:00 0HLM6FB2VR8MC:00000015 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" with arguments (["29"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:12:46.8712007+07:00 0HLM6FB2VR8MC:00000015 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:12:46.8883126+07:00 0HLM6FB2VR8MC:00000015 [INF] Executed DbCommand ("7"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Caption], [x].[Id], [x].[Path], CASE
    WHEN [x].[ProductId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product].[CategoryId], [x.Product].[Content], [x.Product].[DateCreated], [x.Product].[DateModified], [x.Product].[Description], [x.Product].[HomeFlag], [x.Product].[HotFlag], [x].[ProductId], [x.Product].[Image], [x.Product].[Name], [x.Product].[OriginalPrice], [x.Product].[Price], CASE
    WHEN [x.Product].[CategoryId] IS NULL
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END, [x.Product.ProductCategory].[DateCreated] AS [DateCreated0], [x.Product.ProductCategory].[DateModified] AS [DateModified0], [x.Product.ProductCategory].[Description] AS [Description0], [x.Product.ProductCategory].[HomeFlag] AS [HomeFlag0], [x.Product.ProductCategory].[HomeOrder], [x.Product.ProductCategory].[Id] AS [Id0], [x.Product.ProductCategory].[Image] AS [Image0], [x.Product.ProductCategory].[Name] AS [Name0], [x.Product.ProductCategory].[ParentId], [x.Product.ProductCategory].[SeoAlias], [x.Product.ProductCategory].[SeoDescription], [x.Product.ProductCategory].[SeoKeywords], [x.Product.ProductCategory].[SeoPageTitle], [x.Product.ProductCategory].[SortOrder], [x.Product.ProductCategory].[Status], [x.Product].[PromotionPrice], [x.Product].[SeoAlias] AS [SeoAlias0], [x.Product].[SeoDescription] AS [SeoDescription0], [x.Product].[SeoKeywords] AS [SeoKeywords0], [x.Product].[SeoPageTitle] AS [SeoPageTitle0], [x.Product].[Status] AS [Status0], [x.Product].[Tags], [x.Product].[Unit], [x.Product].[ViewCount]
FROM [ProductImages] AS [x]
INNER JOIN [Products] AS [x.Product] ON [x].[ProductId] = [x.Product].[Id]
INNER JOIN [ProductCategories] AS [x.Product.ProductCategory] ON [x.Product].[CategoryId] = [x.Product.ProductCategory].[Id]
WHERE [x].[ProductId] = @__productId_0
ORDER BY [x].[Id], [x.Product.ProductCategory].[Id]" (0723d8ff)
2019-04-22T00:12:46.9047158+07:00 0HLM6FB2VR8MC:00000015 [INF] Executed DbCommand ("8"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Id0], [x.Product.ProductCategory.Products].[CategoryId], [x.Product.ProductCategory.Products].[Content], [x.Product.ProductCategory.Products].[DateCreated], [x.Product.ProductCategory.Products].[DateModified], [x.Product.ProductCategory.Products].[Description], [x.Product.ProductCategory.Products].[HomeFlag], [x.Product.ProductCategory.Products].[HotFlag], [x.Product.ProductCategory.Products].[Id] AS [Id1], [x.Product.ProductCategory.Products].[Image], [x.Product.ProductCategory.Products].[Name], [x.Product.ProductCategory.Products].[OriginalPrice], [x.Product.ProductCategory.Products].[Price], [x.Product.ProductCategory.Products].[PromotionPrice], [x.Product.ProductCategory.Products].[SeoAlias], [x.Product.ProductCategory.Products].[SeoDescription], [x.Product.ProductCategory.Products].[SeoKeywords], [x.Product.ProductCategory.Products].[SeoPageTitle], [x.Product.ProductCategory.Products].[Status], [x.Product.ProductCategory.Products].[Tags], [x.Product.ProductCategory.Products].[Unit], [x.Product.ProductCategory.Products].[ViewCount]
FROM [Products] AS [x.Product.ProductCategory.Products]
INNER JOIN (
    SELECT [x0].[Id], [x.Product.ProductCategory0].[Id] AS [Id0]
    FROM [ProductImages] AS [x0]
    INNER JOIN [Products] AS [x.Product0] ON [x0].[ProductId] = [x.Product0].[Id]
    INNER JOIN [ProductCategories] AS [x.Product.ProductCategory0] ON [x.Product0].[CategoryId] = [x.Product.ProductCategory0].[Id]
    WHERE [x0].[ProductId] = @__productId_0
) AS [t] ON [x.Product.ProductCategory.Products].[CategoryId] = [t].[Id0]
ORDER BY [t].[Id], [t].[Id0]" (0723d8ff)
2019-04-22T00:12:46.9129611+07:00 0HLM6FB2VR8MC:00000015 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 39.7534ms. (50a9e262)
2019-04-22T00:12:46.9176775+07:00 0HLM6FB2VR8MC:00000015 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[Shop3.Application.ViewModels.Products.ProductImageViewModel, Shop3.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2019-04-22T00:12:46.9323350+07:00 0HLM6FB2VR8MC:00000015 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)" in 62.5993ms (afa2e885)
2019-04-22T00:12:46.9444442+07:00 0HLM6FB2VR8MC:00000015 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.GetImages (Shop3)"' (99874f2b)
2019-04-22T00:12:46.9510387+07:00 0HLM6FB2VR8MC:00000015 [INF] Request finished in 111.4637ms 200 application/json; charset=utf-8 (791a596a)
2019-04-22T00:13:07.4407560+07:00 0HLM6FB2VR8MC:00000016 [INF] Request starting HTTP/1.1 POST https://localhost:5001/admin/Product/SaveImages application/x-www-form-urlencoded; charset=UTF-8 133 (ca22a1cb)
2019-04-22T00:13:07.4457000+07:00 0HLM6FB2VR8MC:00000016 [INF] Executing endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (500cc934)
2019-04-22T00:13:07.4498788+07:00 0HLM6FB2VR8MC:00000016 [INF] Route matched with "{area = \"Admin\", action = \"SaveImages\", controller = \"Product\"}". Executing action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" (a44c0341)
2019-04-22T00:13:07.4556614+07:00 0HLM6FB2VR8MC:00000016 [INF] Authorization was successful. (0d575a54)
2019-04-22T00:13:07.4618243+07:00 0HLM6FB2VR8MC:00000016 [INF] Executing action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" with arguments (["29", "System.String[]"]) - Validation state: Valid (4e3479ed)
2019-04-22T00:13:13.3525143+07:00 0HLM6FB2VR8MC:00000016 [INF] Entity Framework Core "2.2.3-servicing-35854" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=Shop3.Data.EF " (9958f5bb)
2019-04-22T00:13:13.3584975+07:00 0HLM6FB2VR8MC:00000016 [INF] Executed DbCommand ("2"ms) [Parameters=["@__productId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Caption], [x].[Path], [x].[ProductId]
FROM [ProductImages] AS [x]
WHERE [x].[ProductId] = @__productId_0" (0723d8ff)
2019-04-22T00:13:13.4421024+07:00 0HLM6FB2VR8MC:00000016 [INF] Executed DbCommand ("77"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 250), @p3='?' (Size = 250), @p4='?' (DbType = Int32), @p5='?' (Size = 250), @p6='?' (Size = 250), @p7='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [ProductImages]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [ProductImages]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DECLARE @inserted2 TABLE ([Id] int, [_Position] [int]);
MERGE [ProductImages] USING (
VALUES (@p2, @p3, @p4, 0),
(@p5, @p6, @p7, 1)) AS i ([Caption], [Path], [ProductId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Caption], [Path], [ProductId])
VALUES (i.[Caption], i.[Path], i.[ProductId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted2;

SELECT [t].[Id] FROM [ProductImages] t
INNER JOIN @inserted2 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2019-04-22T00:13:13.4488651+07:00 0HLM6FB2VR8MC:00000016 [INF] Executed action method "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5981.9585ms. (50a9e262)
2019-04-22T00:13:13.4532947+07:00 0HLM6FB2VR8MC:00000016 [INF] Executing ObjectResult, writing value of type '"System.String[]"'. (8a1b66c8)
2019-04-22T00:13:13.4607856+07:00 0HLM6FB2VR8MC:00000016 [INF] Executed action "Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)" in 6003.7764ms (afa2e885)
2019-04-22T00:13:13.4654670+07:00 0HLM6FB2VR8MC:00000016 [INF] Executed endpoint '"Shop3.Areas.Admin.Controllers.ProductController.SaveImages (Shop3)"' (99874f2b)
2019-04-22T00:13:13.4701813+07:00 0HLM6FB2VR8MC:00000016 [INF] Request finished in 6031.1794ms 200 application/json; charset=utf-8 (791a596a)
